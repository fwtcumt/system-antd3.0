{"version":3,"sources":["../node_modules/antd/es/card/Grid.js","../node_modules/antd/es/card/Meta.js","../node_modules/antd/es/row/index.js","../node_modules/antd/es/col/index.js","../node_modules/antd/es/card/index.js","../node_modules/@antv/g2plot/esm/interface/config.js","../node_modules/@antv/g2plot/esm/util/event.js","../node_modules/@antv/g2plot/esm/base/layer.js","../node_modules/@antv/g2/esm/theme/default.js","../node_modules/@antv/g2/esm/theme/factory.js","../node_modules/@antv/g2/esm/theme/index.js","../node_modules/@antv/g2/esm/global.js","../node_modules/@antv/g2/esm/base.js","../node_modules/@antv/matrix-util/esm/mat3.js","../node_modules/@antv/matrix-util/esm/vec2.js","../node_modules/@antv/matrix-util/esm/vec3.js","../node_modules/@antv/path-util/esm/catmull-rom-2-bezier.js","../node_modules/@antv/path-util/esm/parse-path-string.js","../node_modules/@antv/path-util/esm/path-2-absolute.js","../node_modules/@antv/path-util/esm/path-2-curve.js","../node_modules/@antv/g2/esm/animate/util.js","../node_modules/@antv/g2/esm/animate/action.js","../node_modules/@antv/g2/esm/animate/animate.js","../node_modules/@antv/g2/esm/animate/index.js","../node_modules/@antv/scale/esm/tick-method/register.js","../node_modules/@antv/scale/esm/base.js","../node_modules/@antv/scale/esm/category/base.js","../node_modules/fecha/src/fecha.js","../node_modules/@antv/scale/esm/util/time.js","../node_modules/@antv/scale/esm/util/bisector.js","../node_modules/@antv/scale/esm/category/time.js","../node_modules/@antv/scale/esm/continuous/base.js","../node_modules/@antv/scale/esm/continuous/linear.js","../node_modules/@antv/scale/esm/util/math.js","../node_modules/@antv/scale/esm/continuous/log.js","../node_modules/@antv/scale/esm/continuous/pow.js","../node_modules/@antv/scale/esm/continuous/time.js","../node_modules/@antv/scale/esm/continuous/quantize.js","../node_modules/@antv/scale/esm/continuous/quantile.js","../node_modules/@antv/scale/esm/factory.js","../node_modules/@antv/scale/esm/identity/index.js","../node_modules/@antv/scale/esm/util/extended.js","../node_modules/@antv/scale/esm/tick-method/cat.js","../node_modules/@antv/scale/esm/util/interval.js","../node_modules/@antv/scale/esm/util/pretty.js","../node_modules/@antv/scale/esm/tick-method/quantile.js","../node_modules/@antv/scale/esm/tick-method/time-pretty.js","../node_modules/@antv/scale/esm/tick-method/index.js","../node_modules/@antv/scale/esm/tick-method/time-cat.js","../node_modules/@antv/scale/esm/tick-method/linear.js","../node_modules/@antv/scale/esm/tick-method/r-prettry.js","../node_modules/@antv/scale/esm/tick-method/time.js","../node_modules/@antv/scale/esm/tick-method/log.js","../node_modules/@antv/scale/esm/tick-method/pow.js","../node_modules/@antv/scale/esm/index.js","../node_modules/@antv/adjust/esm/constant.js","../node_modules/@antv/adjust/esm/adjusts/adjust.js","../node_modules/@antv/adjust/esm/factory.js","../node_modules/@antv/adjust/esm/adjusts/dodge.js","../node_modules/@antv/adjust/esm/adjusts/jitter.js","../node_modules/@antv/adjust/esm/adjusts/stack.js","../node_modules/@antv/adjust/esm/adjusts/symmetric.js","../node_modules/@antv/adjust/esm/index.js","../node_modules/@antv/coord/esm/coord/base.js","../node_modules/@antv/coord/esm/coord/cartesian.js","../node_modules/@antv/coord/esm/coord/helix.js","../node_modules/@antv/coord/esm/coord/polar.js","../node_modules/@antv/coord/esm/factory.js","../node_modules/@antv/coord/esm/index.js","../node_modules/@antv/attr/esm/attributes/base.js","../node_modules/@antv/attr/esm/attributes/color.js","../node_modules/@antv/attr/esm/attributes/opacity.js","../node_modules/@antv/attr/esm/attributes/position.js","../node_modules/@antv/attr/esm/attributes/shape.js","../node_modules/@antv/attr/esm/attributes/size.js","../node_modules/@antv/attr/esm/factory.js","../node_modules/@antv/attr/esm/index.js","../node_modules/@antv/g2/esm/plot/controller/scale.js","../node_modules/@antv/g2/esm/plot/controller/coordinate.js","../node_modules/@antv/component/esm/base.js","../node_modules/@antv/component/esm/label/adjust/util/greedy.js","../node_modules/@antv/component/esm/label/adjust/position.js","../node_modules/@antv/component/esm/label/adjust/spiral.js","../node_modules/@antv/component/esm/tooltip/theme.js","../node_modules/@antv/component/esm/label/base.js","../node_modules/@antv/component/esm/label/adjust/bbox.js","../node_modules/@antv/component/esm/label/index.js","../node_modules/@antv/component/esm/tooltip/base.js","../node_modules/@antv/component/esm/tooltip/crosshair.js","../node_modules/@antv/component/esm/const.js","../node_modules/@antv/component/esm/tooltip/util/position.js","../node_modules/@antv/component/esm/tooltip/html.js","../node_modules/@antv/component/esm/tooltip/canvas.js","../node_modules/@antv/matrix-util/esm/transform.js","../node_modules/@antv/component/esm/axis/theme.js","../node_modules/@antv/component/esm/axis/base.js","../node_modules/@antv/component/esm/axis/circle.js","../node_modules/@antv/component/esm/axis/helix.js","../node_modules/@antv/component/esm/axis/line.js","../node_modules/@antv/component/esm/legend/base.js","../node_modules/@antv/component/esm/legend/continuous/constant/index.js","../node_modules/@antv/component/esm/legend/continuous/components/slider.js","../node_modules/@antv/component/esm/legend/continuous/base.js","../node_modules/@antv/component/esm/legend/continuous/size.js","../node_modules/@antv/component/esm/legend/continuous/color.js","../node_modules/@antv/component/esm/legend/category/arrow/index.js","../node_modules/@antv/component/esm/legend/category/base.js","../node_modules/@antv/component/esm/legend/category/canvas.js","../node_modules/@antv/component/esm/legend/category/html.js","../node_modules/@antv/component/esm/annotation/base.js","../node_modules/@antv/component/esm/annotation/line.js","../node_modules/@antv/component/esm/annotation/text.js","../node_modules/@antv/component/esm/annotation/arc.js","../node_modules/@antv/component/esm/annotation/region.js","../node_modules/@antv/component/esm/annotation/image.js","../node_modules/@antv/component/esm/annotation/html.js","../node_modules/@antv/component/esm/annotation/data-marker.js","../node_modules/@antv/component/esm/annotation/data-region.js","../node_modules/@antv/g2/esm/plot/controller/annotation.js","../node_modules/@antv/g2/esm/element/util/path.js","../node_modules/@antv/g2/esm/element/shape/base.js","../node_modules/@antv/g2/esm/plot/controller/legend.js","../node_modules/@antv/g2/esm/plot/controller/axis.js","../node_modules/@antv/g2/esm/plot/controller/tooltip.js","../node_modules/@antv/g2/esm/plot/controller/shape-state.js","../node_modules/@antv/g2/esm/plot/controller/event.js","../node_modules/@antv/g2/esm/facet/base.js","../node_modules/@antv/g2/esm/facet/index.js","../node_modules/@antv/g2/esm/element/factory.js","../node_modules/@antv/g2/esm/element/controller/tooltip.js","../node_modules/@antv/g2/esm/element/controller/label/components/base.js","../node_modules/@antv/g2/esm/element/controller/label/components/interval.js","../node_modules/@antv/g2/esm/element/controller/label/components/polar.js","../node_modules/@antv/g2/esm/element/controller/label/components/pie.js","../node_modules/@antv/g2/esm/element/controller/label/components/factory.js","../node_modules/@antv/g2/esm/element/controller/label/index.js","../node_modules/@antv/g2/esm/element/controller/state.js","../node_modules/@antv/g2/esm/element/util/parse-fields.js","../node_modules/@antv/g2/esm/element/base.js","../node_modules/@antv/g2/esm/interaction/base.js","../node_modules/@antv/g2/esm/interaction/factory.js","../node_modules/@antv/g2/esm/plot/view.js","../node_modules/@antv/g2/esm/util.js","../node_modules/@antv/g2/esm/plot/plot.js","../node_modules/@antv/g2/esm/element/util/shape.js","../node_modules/@antv/g2/esm/element/shape/area.js","../node_modules/@antv/g2/esm/element/util/split-data.js","../node_modules/@antv/g2/esm/element/area.js","../node_modules/@antv/g2/esm/element/controller/size.js","../node_modules/@antv/g2/esm/element/shape/box.js","../node_modules/@antv/g2/esm/element/box.js","../node_modules/@antv/g2/esm/element/shape/edge.js","../node_modules/@antv/g2/esm/element/edge.js","../node_modules/@antv/g2/esm/element/heatmap.js","../node_modules/@antv/g2/esm/element/util/symbol.js","../node_modules/@antv/g2/esm/element/shape/interval.js","../node_modules/@antv/g2/esm/element/interval.js","../node_modules/@antv/g2/esm/element/shape/k-line.js","../node_modules/@antv/g2/esm/element/k-line.js","../node_modules/@antv/g2/esm/element/shape/line.js","../node_modules/@antv/g2/esm/element/path.js","../node_modules/@antv/g2/esm/element/line.js","../node_modules/@antv/g2/esm/element/shape/point.js","../node_modules/@antv/g2/esm/element/point.js","../node_modules/@antv/g2/esm/element/shape/polygon.js","../node_modules/@antv/g2/esm/element/polygon.js","../node_modules/@antv/g2/esm/element/shape/text.js","../node_modules/@antv/g2/esm/element/text.js","../node_modules/@antv/g2/esm/facet/rect.js","../node_modules/@antv/g2plot/esm/util/common.js","../node_modules/@antv/g2/esm/index.js","../node_modules/@antv/g2plot/esm/components/description.js","../node_modules/@antv/g2plot/esm/util/formatter.js","../node_modules/@antv/g2plot/esm/components/axis/parser.js","../node_modules/@antv/g2plot/esm/util/math.js","../node_modules/@antv/g2plot/esm/components/guide-line.js","../node_modules/@antv/g2plot/esm/components/axis/state.js","../node_modules/@antv/g2plot/esm/components/label/parser.js","../node_modules/@antv/g2plot/esm/util/state-manager.js","../node_modules/@antv/g2plot/esm/base/controller/state.js","../node_modules/@antv/g2plot/esm/components/label/state.js","../node_modules/@antv/g2plot/esm/components/factory.js","../node_modules/@antv/g2plot/esm/components/tooltip/state.js","../node_modules/@antv/g2plot/esm/interaction/base.js","../node_modules/@antv/gui/esm/scroll-bar/style.js","../node_modules/@antv/gui/esm/scroll-bar/index.js","../node_modules/@antv/gui/esm/arrow/index.js","../node_modules/@antv/gui/esm/icon/index.js","../node_modules/@antv/gui/esm/trend/constant.js","../node_modules/@antv/gui/esm/trend/path.js","../node_modules/@antv/gui/esm/trend/index.js","../node_modules/@antv/gui/esm/slider/constant.js","../node_modules/@antv/gui/esm/slider/handler.js","../node_modules/@antv/gui/esm/slider/index.js","../node_modules/@antv/g2plot/esm/interaction/helper/data-range.js","../node_modules/@antv/g2plot/esm/interaction/scrollbar.js","../node_modules/@antv/g2plot/esm/interaction/slider.js","../node_modules/@antv/g2plot/esm/interaction/index.js","../node_modules/@antv/g2plot/esm/base/controller/padding.js","../node_modules/@antv/g2plot/esm/theme/default.js","../node_modules/@antv/g2plot/esm/theme/global.js","../node_modules/@antv/g2plot/esm/theme/dark.js","../node_modules/@antv/g2plot/esm/theme/theme.js","../node_modules/@antv/g2plot/esm/util/axis.js","../node_modules/@antv/g2plot/esm/util/responsive/default.js","../node_modules/@antv/g2plot/esm/util/responsive/theme.js","../node_modules/@antv/g2plot/esm/base/controller/theme.js","../node_modules/@antv/g2plot/esm/theme/utils.js","../node_modules/@antv/g2plot/esm/base/view-layer.js","../node_modules/@antv/g2plot/esm/base/controller/canvas.js","../node_modules/@antv/g2plot/esm/base/controller/event.js","../node_modules/@antv/g2plot/esm/base/global.js","../node_modules/@antv/g2plot/esm/base/plot.js","../node_modules/@antv/g2plot/esm/geoms/base.js","../node_modules/@antv/g2plot/esm/geoms/area/main.js","../node_modules/@antv/g2plot/esm/util/path.js","../node_modules/@antv/g2plot/esm/geoms/area/mini.js","../node_modules/@antv/g2plot/esm/geoms/area/index.js","../node_modules/@antv/g2plot/esm/geoms/interval/main.js","../node_modules/@antv/g2plot/esm/geoms/interval/index.js","../node_modules/@antv/g2plot/esm/geoms/line/main.js","../node_modules/@antv/g2plot/esm/geoms/line/guide.js","../node_modules/@antv/g2plot/esm/geoms/line/mini.js","../node_modules/@antv/g2plot/esm/geoms/line/index.js","../node_modules/@antv/g2plot/esm/geoms/point/circle.js","../node_modules/@antv/g2plot/esm/geoms/point/guide.js","../node_modules/@antv/g2plot/esm/geoms/factory.js","../node_modules/@antv/g2plot/esm/geoms/point/index.js","../node_modules/@antv/g2plot/esm/util/scale.js","../node_modules/@antv/g2plot/esm/plots/line/animation/clipIn-with-data.js","../node_modules/@antv/g2plot/esm/util/responsive/node/shape-nodes.js","../node_modules/@antv/g2plot/esm/util/responsive/constraints/ring-thickness.js","../node_modules/@antv/g2plot/esm/util/responsive/constraints/index.js","../node_modules/@antv/g2plot/esm/util/responsive/constraints/element-dist.js","../node_modules/@antv/g2plot/esm/util/responsive/constraints/element-dist-vertical.js","../node_modules/@antv/g2plot/esm/util/responsive/constraints/element-collision.js","../node_modules/@antv/g2plot/esm/util/responsive/constraints/element-width.js","../node_modules/@antv/g2plot/esm/util/responsive/constraints/column-width.js","../node_modules/@antv/g2plot/esm/util/responsive/constraints/min-ring-thickness.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/text-hide.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/clear-overlapping.js","../node_modules/@antv/g2plot/node_modules/fecha/lib/fecha.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/datetime-string-abbrevaite.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/digits-abbreviate.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/nodes-resampling.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/nodes-resampling-by-state.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/text-abbreviate.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/index.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/text-wrapper.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/text-rotation.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/robust-abbrevaite.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/nodes-resampling-by-abbrevate.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/nodes-resampling-by-change.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/node-jitter.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/node-jitter-upward.js","../node_modules/@antv/g2plot/esm/util/responsive/responsive.js","../node_modules/@antv/g2plot/esm/util/responsive/apply/base.js","../node_modules/@antv/g2plot/esm/util/responsive/apply/axis.js","../node_modules/@antv/g2plot/esm/util/responsive/apply/label.js","../node_modules/@antv/g2plot/esm/plots/line/apply-responsive/label.js","../node_modules/@antv/g2plot/esm/plots/line/apply-responsive/index.js","../node_modules/@antv/g2plot/esm/plots/line/apply-responsive/axis.js","../node_modules/@antv/g2plot/esm/plots/line/apply-responsive/theme.js","../node_modules/@antv/g2plot/esm/plots/line/component/label/line-label.js","../node_modules/@antv/g2plot/esm/plots/line/component/label/point-label.js","../node_modules/@antv/g2plot/esm/plots/line/event.js","../node_modules/@antv/g2plot/esm/plots/line/interaction/line-active.js","../node_modules/@antv/g2plot/esm/plots/line/interaction/line-select.js","../node_modules/@antv/g2plot/esm/plots/line/theme.js","../node_modules/@antv/g2plot/esm/plots/line/layer.js","../node_modules/@antv/g2plot/esm/plots/line/index.js","../node_modules/@antv/g2plot/esm/plots/area/apply-responsive/index.js","../node_modules/@antv/g2plot/esm/plots/area/apply-responsive/axis.js","../node_modules/@antv/g2plot/esm/plots/area/event.js","../node_modules/@antv/g2plot/esm/plots/area/theme.js","../node_modules/@antv/g2plot/esm/plots/area/layer.js","../node_modules/@antv/g2plot/esm/plots/density/layer.js","../node_modules/@antv/g2plot/esm/plots/density/index.js","../node_modules/@antv/g2plot/esm/plots/column/apply-responsive/label.js","../node_modules/@antv/g2plot/esm/plots/column/apply-responsive/index.js","../node_modules/@antv/g2plot/esm/plots/column/apply-responsive/axis.js","../node_modules/@antv/g2plot/esm/util/color.js","../node_modules/@antv/g2plot/esm/plots/column/apply-responsive/theme.js","../node_modules/@antv/g2plot/esm/plots/column/component/label/column-label.js","../node_modules/@antv/g2plot/esm/plots/column/event.js","../node_modules/@antv/g2plot/esm/plots/column/theme.js","../node_modules/@antv/g2plot/esm/plots/column/layer.js","../node_modules/@antv/g2plot/esm/plots/column/index.js","../node_modules/@antv/g2plot/esm/plots/scatter/components/label/scatter-label.js","../node_modules/@antv/g2plot/esm/plots/scatter/event.js","../node_modules/@antv/g2plot/esm/plots/scatter/components/quadrant.js","../node_modules/d3-regression/src/utils/points.js","../node_modules/d3-regression/src/utils/determination.js","../node_modules/d3-regression/src/utils/geometry.js","../node_modules/d3-regression/src/utils/interpose.js","../node_modules/d3-regression/src/utils/ols.js","../node_modules/d3-regression/src/exponential.js","../node_modules/d3-regression/src/linear.js","../node_modules/d3-regression/src/utils/median.js","../node_modules/d3-regression/src/loess.js","../node_modules/d3-regression/src/logarithmic.js","../node_modules/d3-regression/src/quadratic.js","../node_modules/d3-regression/src/power.js","../node_modules/@antv/g2plot/esm/plots/scatter/components/trendline.js","../node_modules/d3-regression/src/polynomial.js","../node_modules/@antv/g2plot/esm/plots/scatter/layer.js","../node_modules/@antv/g2plot/esm/plots/bubble/layer.js","../node_modules/@antv/g2plot/esm/plots/bubble/index.js","../node_modules/@antv/g2plot/esm/plots/scatter/index.js","../node_modules/@antv/g2plot/esm/plots/group-column/layer.js","../node_modules/@antv/g2plot/esm/plots/group-column/index.js","../node_modules/@antv/g2plot/esm/components/connected-area.js","../node_modules/@antv/g2plot/esm/plots/stack-column/component/label/stack-column-label.js","../node_modules/@antv/g2plot/esm/plots/stack-column/layer.js","../node_modules/@antv/g2plot/esm/plots/stack-column/index.js","../node_modules/@antv/g2plot/esm/util/data.js","../node_modules/@antv/g2plot/esm/plots/percentage-stack-column/layer.js","../node_modules/@antv/g2plot/esm/plots/percentage-stack-column/index.js","../node_modules/@antv/g2plot/esm/plots/histogram/layer.js","../node_modules/@antv/g2plot/esm/plots/histogram/index.js","../node_modules/@antv/g2plot/esm/plots/bar/apply-responsive/index.js","../node_modules/@antv/g2plot/esm/plots/bar/apply-responsive/axis.js","../node_modules/@antv/g2plot/esm/plots/bar/component/label/bar-label.js","../node_modules/@antv/g2plot/esm/plots/bar/event.js","../node_modules/@antv/g2plot/esm/plots/bar/theme.js","../node_modules/@antv/g2plot/esm/plots/bar/layer.js","../node_modules/@antv/g2plot/esm/plots/bar/index.js","../node_modules/@antv/g2plot/esm/plots/stack-bar/component/label/stack-bar-label.js","../node_modules/@antv/g2plot/esm/plots/stack-bar/layer.js","../node_modules/@antv/g2plot/esm/plots/stack-bar/index.js","../node_modules/@antv/g2plot/esm/plots/percentage-stack-bar/layer.js","../node_modules/@antv/g2plot/esm/plots/percentage-stack-bar/index.js","../node_modules/@antv/g2plot/esm/plots/group-bar/layer.js","../node_modules/@antv/g2plot/esm/plots/group-bar/index.js","../node_modules/@antv/g2plot/esm/plots/pie/component/label/spider-label.js","../node_modules/@antv/g2plot/esm/plots/pie/component/label/utils/index.js","../node_modules/@antv/g2plot/esm/plots/pie/component/label/utils/text.js","../node_modules/@antv/g2plot/esm/plots/pie/component/label/base-label.js","../node_modules/@antv/g2plot/esm/plots/pie/component/label/inner-label.js","../node_modules/@antv/g2plot/esm/plots/pie/component/label/outer-label.js","../node_modules/@antv/g2plot/esm/plots/pie/component/label/outer-center-label.js","../node_modules/@antv/g2plot/esm/plots/pie/event.js","../node_modules/@antv/g2plot/esm/plots/pie/theme.js","../node_modules/@antv/g2plot/esm/plots/pie/layer.js","../node_modules/@antv/g2plot/esm/plots/pie/index.js","../node_modules/@antv/g2plot/esm/util/responsive/node/variable-node.js","../node_modules/@antv/g2plot/esm/plots/ring/apply-responsive/index.js","../node_modules/@antv/g2plot/esm/plots/ring/apply-responsive/geometry.js","../node_modules/@antv/g2plot/esm/plots/ring/apply-responsive/theme.js","../node_modules/@antv/g2plot/esm/plots/ring/component/statistic-template.js","../node_modules/@antv/g2plot/esm/plots/ring/event.js","../node_modules/@antv/g2plot/esm/plots/ring/layer.js","../node_modules/@antv/g2plot/esm/plots/ring/index.js","../node_modules/@antv/g2plot/esm/plots/radar/event.js","../node_modules/@antv/g2plot/esm/plots/radar/layer.js","../node_modules/@antv/g2plot/esm/plots/radar/index.js","../node_modules/@antv/g2plot/esm/plots/liquid/geometry/shape/liquid.js","../node_modules/@antv/g2plot/esm/plots/liquid/animation/liquid-move-in.js","../node_modules/@antv/g2plot/esm/plots/liquid/layer.js","../node_modules/@antv/g2plot/esm/plots/liquid/index.js","../node_modules/@antv/g2plot/esm/plots/gauge/geometry/shape/pointer.js","../node_modules/@antv/g2plot/esm/plots/gauge/theme.js","../node_modules/@antv/g2plot/esm/plots/gauge/layer.js","../node_modules/@antv/g2plot/esm/plots/gauge/index.js","../node_modules/@antv/g2plot/esm/plots/area/index.js","../node_modules/@antv/g2plot/esm/plots/stack-area/component/label/area-label.js","../node_modules/@antv/g2plot/esm/plots/stack-area/component/label/line-label.js","../node_modules/@antv/g2plot/esm/plots/stack-area/layer.js","../node_modules/@antv/g2plot/esm/plots/stack-area/index.js","../node_modules/@antv/g2plot/esm/plots/percentage-stack-area/layer.js","../node_modules/@antv/g2plot/esm/plots/percentage-stack-area/index.js","../node_modules/@antv/g2plot/esm/plots/funnel/component/label/funnel-label.js","../node_modules/@antv/g2plot/esm/plots/funnel/animation/funnel-scale-in-x.js","../node_modules/@antv/g2plot/esm/plots/funnel/animation/funnel-scale-in-y.js","../node_modules/@antv/g2plot/esm/plots/funnel/theme.js","../node_modules/@antv/g2plot/esm/plots/funnel/geometry/shape/funnel-dynamic-rect.js","../node_modules/@antv/g2plot/esm/plots/funnel/geometry/shape/funnel-basic-rect.js","../node_modules/@antv/g2plot/esm/plots/funnel/component/label/funnel-label-parser.js","../node_modules/@antv/g2plot/esm/plots/funnel/layer.js","../node_modules/@antv/g2plot/esm/plots/funnel/index.js","../node_modules/@antv/g2plot/esm/geoms/heatmap/linear.js","../node_modules/@antv/g2plot/esm/plots/heatmap/components/legend.js","../node_modules/@antv/g2plot/esm/plots/heatmap/components/background.js","../node_modules/@antv/g2plot/esm/plots/heatmap/layer.js","../node_modules/@antv/g2plot/esm/plots/heatmap/index.js","../node_modules/@antv/g2plot/esm/plots/matrix/component/legend.js","../node_modules/@antv/g2plot/esm/plots/matrix/shape.js","../node_modules/@antv/g2plot/esm/plots/matrix/component/label.js","../node_modules/@antv/g2plot/esm/plots/matrix/layer.js","../node_modules/@antv/g2plot/esm/plots/matrix/index.js","../node_modules/@antv/g2plot/esm/plots/waterfall/geometry/shape/waterfall.js","../node_modules/@antv/g2plot/esm/plots/waterfall/component/label/waterfall-label.js","../node_modules/@antv/g2plot/esm/plots/waterfall/component/label/diff-label.js","../node_modules/@antv/g2plot/esm/plots/waterfall/layer.js","../node_modules/@antv/g2plot/esm/plots/waterfall/index.js","../node_modules/@antv/g2plot/esm/plots/treemap/layout/dice.js","../node_modules/@antv/g2plot/esm/plots/treemap/layout/slice.js","../node_modules/@antv/g2plot/esm/plots/treemap/layout/squarify.js","../node_modules/@antv/g2plot/esm/components/base.js","../node_modules/@antv/g2plot/esm/components/breadcrumb.js","../node_modules/@antv/g2plot/esm/plots/treemap/interaction/animation.js","../node_modules/@antv/g2plot/esm/plots/treemap/interaction/drillDown.js","../node_modules/@antv/g2plot/esm/plots/treemap/interaction/index.js","../node_modules/@antv/g2plot/esm/plots/treemap/event.js","../node_modules/@antv/g2plot/esm/plots/treemap/components/label.js","../node_modules/@antv/g2plot/esm/plots/treemap/layer.js","../node_modules/@antv/g2plot/esm/plots/treemap/index.js","../node_modules/@antv/g2plot/esm/plots/step-line/layer.js","../node_modules/@antv/g2plot/esm/plots/step-line/index.js","../node_modules/@antv/g2plot/esm/plots/word-cloud/word-cloud-tooltips.js","../node_modules/@antv/g2plot/esm/plots/word-cloud/wordcloud2.js","../node_modules/@antv/g2plot/esm/plots/word-cloud/layer.js","../node_modules/@antv/g2plot/esm/plots/word-cloud/index.js","../node_modules/@antv/g2plot/esm/plots/rose/component/label/utils/index.js","../node_modules/@antv/g2plot/esm/plots/rose/component/label/rose-label.js","../node_modules/@antv/g2plot/esm/plots/rose/layer.js","../node_modules/@antv/g2plot/esm/plots/rose/index.js","../node_modules/@antv/g2plot/esm/sparkline/tiny-layer.js","../node_modules/@antv/g2plot/esm/sparkline/progress/component/marker.js","../node_modules/@antv/g2plot/esm/sparkline/progress/event.js","../node_modules/@antv/g2plot/esm/sparkline/progress/layer.js","../node_modules/@antv/g2plot/esm/sparkline/progress/index.js","../node_modules/@antv/g2plot/esm/sparkline/ring-progress/animation/index.js","../node_modules/@antv/g2plot/esm/sparkline/ring-progress/event.js","../node_modules/@antv/g2plot/esm/sparkline/ring-progress/layer.js","../node_modules/@antv/g2plot/esm/sparkline/ring-progress/index.js","../node_modules/@antv/g2plot/esm/sparkline/tiny-column/event.js","../node_modules/@antv/g2plot/esm/sparkline/tiny-column/layer.js","../node_modules/@antv/g2plot/esm/sparkline/tiny-column/index.js","../node_modules/@antv/g2plot/esm/sparkline/tiny-area/event.js","../node_modules/@antv/g2plot/esm/sparkline/tiny-area/layer.js","../node_modules/@antv/g2plot/esm/sparkline/tiny-area/index.js","../node_modules/@antv/g2plot/esm/sparkline/tiny-line/event.js","../node_modules/@antv/g2plot/esm/sparkline/tiny-line/layer.js","../node_modules/@antv/g2plot/esm/sparkline/tiny-line/index.js","../node_modules/@antv/g2plot/esm/combo-plots/base.js","../node_modules/@antv/g2plot/esm/combo-plots/util/adjustColorConfig.js","../node_modules/@antv/g2plot/esm/combo-plots/util/globalLegend.js","../node_modules/@antv/g2plot/esm/combo-plots/util/padding.js","../node_modules/@antv/g2plot/esm/combo-plots/util/globalAxis.js","../node_modules/@antv/g2plot/esm/combo-plots/util/globalTooltip.js","../node_modules/@antv/g2plot/esm/combo-plots/overlapped.js","pages/datastat/index.js","../node_modules/@antv/util/esm/is-array-like.js","../node_modules/@antv/util/esm/contains.js","../node_modules/@antv/util/esm/is-type.js","../node_modules/@antv/util/esm/is-array.js","../node_modules/@antv/util/esm/is-object.js","../node_modules/@antv/util/esm/each.js","../node_modules/@antv/util/esm/filter.js","../node_modules/@antv/util/esm/difference.js","../node_modules/@antv/util/esm/is-function.js","../node_modules/@antv/util/esm/is-nil.js","../node_modules/@antv/util/esm/keys.js","../node_modules/@antv/util/esm/is-match.js","../node_modules/@antv/util/esm/is-object-like.js","../node_modules/@antv/util/esm/is-plain-object.js","../node_modules/@antv/util/esm/find.js","../node_modules/@antv/util/esm/find-index.js","../node_modules/@antv/util/esm/first-value.js","../node_modules/@antv/util/esm/flatten.js","../node_modules/@antv/util/esm/flatten-deep.js","../node_modules/@antv/util/esm/get-range.js","../node_modules/@antv/util/esm/pull.js","../node_modules/@antv/util/esm/pull-at.js","../node_modules/@antv/util/esm/reduce.js","../node_modules/@antv/util/esm/remove.js","../node_modules/@antv/util/esm/is-string.js","../node_modules/@antv/util/esm/sort-by.js","../node_modules/@antv/util/esm/uniq.js","../node_modules/@antv/util/esm/union.js","../node_modules/@antv/util/esm/values-of-key.js","../node_modules/@antv/util/esm/head.js","../node_modules/@antv/util/esm/last.js","../node_modules/@antv/util/esm/starts-with.js","../node_modules/@antv/util/esm/ends-with.js","../node_modules/@antv/util/esm/every.js","../node_modules/@antv/util/esm/some.js","../node_modules/@antv/util/esm/group-by.js","../node_modules/@antv/util/esm/group-to-map.js","../node_modules/@antv/util/esm/group.js","../node_modules/@antv/util/esm/get-wrap-behavior.js","../node_modules/@antv/util/esm/wrap-behavior.js","../node_modules/@antv/util/esm/number2color.js","../node_modules/@antv/util/esm/parse-radius.js","../node_modules/@antv/util/esm/clamp.js","../node_modules/@antv/util/esm/fixed-base.js","../node_modules/@antv/util/esm/is-number.js","../node_modules/@antv/util/esm/is-decimal.js","../node_modules/@antv/util/esm/is-even.js","../node_modules/@antv/util/esm/is-integer.js","../node_modules/@antv/util/esm/is-negative.js","../node_modules/@antv/util/esm/is-number-equal.js","../node_modules/@antv/util/esm/is-odd.js","../node_modules/@antv/util/esm/is-positive.js","../node_modules/@antv/util/esm/max-by.js","../node_modules/@antv/util/esm/min-by.js","../node_modules/@antv/util/esm/mod.js","../node_modules/@antv/util/esm/to-degree.js","../node_modules/@antv/util/esm/to-integer.js","../node_modules/@antv/util/esm/to-radian.js","../node_modules/@antv/util/esm/for-in.js","../node_modules/@antv/util/esm/has.js","../node_modules/@antv/util/esm/has-key.js","../node_modules/@antv/util/esm/values.js","../node_modules/@antv/util/esm/has-value.js","../node_modules/@antv/util/esm/to-string.js","../node_modules/@antv/util/esm/lower-case.js","../node_modules/@antv/util/esm/lower-first.js","../node_modules/@antv/util/esm/substitute.js","../node_modules/@antv/util/esm/upper-case.js","../node_modules/@antv/util/esm/upper-first.js","../node_modules/@antv/util/esm/get-type.js","../node_modules/@antv/util/esm/is-arguments.js","../node_modules/@antv/util/esm/is-boolean.js","../node_modules/@antv/util/esm/is-date.js","../node_modules/@antv/util/esm/is-error.js","../node_modules/@antv/util/esm/is-finite.js","../node_modules/@antv/util/esm/is-null.js","../node_modules/@antv/util/esm/is-prototype.js","../node_modules/@antv/util/esm/is-reg-exp.js","../node_modules/@antv/util/esm/is-undefined.js","../node_modules/@antv/util/esm/is-element.js","../node_modules/@antv/util/esm/request-animation-frame.js","../node_modules/@antv/util/esm/clear-animation-frame.js","../node_modules/@antv/util/esm/mix.js","../node_modules/@antv/util/esm/augment.js","../node_modules/@antv/util/esm/clone.js","../node_modules/@antv/util/esm/debounce.js","../node_modules/@antv/util/esm/memoize.js","../node_modules/@antv/util/esm/deep-mix.js","../node_modules/@antv/util/esm/extend.js","../node_modules/@antv/util/esm/index-of.js","../node_modules/@antv/util/esm/is-empty.js","../node_modules/@antv/util/esm/is-equal.js","../node_modules/@antv/util/esm/is-equal-with.js","../node_modules/@antv/util/esm/map.js","../node_modules/@antv/util/esm/map-values.js","../node_modules/@antv/util/esm/get.js","../node_modules/@antv/util/esm/set.js","../node_modules/@antv/util/esm/pick.js","../node_modules/@antv/util/esm/throttle.js","../node_modules/@antv/util/esm/to-array.js","../node_modules/@antv/util/esm/unique-id.js","../node_modules/@antv/util/esm/noop.js","../node_modules/@antv/util/esm/identity.js","../node_modules/@antv/util/esm/size.js","../node_modules/@antv/util/esm/cache.js","../node_modules/@antv/util/esm/index.js","../node_modules/tslib/tslib.es6.js","../node_modules/@antv/g/dist/g.min.js","../node_modules/@antv/dom-util/lib/index.js","config/domain.js","utils/getFetch.js","utils/handleObject.js","../node_modules/rc-util/es/createChainedFunction.js","../node_modules/rc-util/es/Dom/addEventListener.js","../node_modules/@antv/event-emitter/lib/index.js","../node_modules/rc-util/es/Dom/contains.js","../node_modules/rc-util/es/ContainerRender.js","../node_modules/rc-util/es/Portal.js","../node_modules/add-dom-event-listener/lib/index.js","../node_modules/@antv/dom-util/lib/get-style.js","../node_modules/@antv/color-util/esm/index.js","../node_modules/@antv/util/lib/is-array.js","../node_modules/add-dom-event-listener/lib/EventObject.js","../node_modules/add-dom-event-listener/lib/EventBaseObject.js","../node_modules/@antv/gl-matrix/lib/gl-matrix/common.js","../node_modules/@antv/component/lib/legend/base.js","../node_modules/@antv/component/lib/base.js","../node_modules/@antv/component/lib/legend/continuous/constant/index.js","../node_modules/@antv/dom-util/lib/get-height.js","../node_modules/@antv/dom-util/lib/get-width.js","../node_modules/@antv/util/lib/each.js","../node_modules/@antv/util/lib/is-type.js","../node_modules/@antv/util/lib/is-string.js","../node_modules/@antv/component/lib/legend/continuous/base.js","../node_modules/@antv/component/lib/const.js","../node_modules/@antv/component/lib/legend/category/base.js","../node_modules/@antv/gui/node_modules/@antv/scale/lib/base.js","../node_modules/@antv/gui/node_modules/@antv/scale/lib/util/extended.js","../node_modules/@antv/component/lib/tooltip/theme.js","../node_modules/@antv/g2/lib/element/util/shape.js","../node_modules/@antv/dom-util/lib/add-event-listener.js","../node_modules/@antv/dom-util/lib/create-dom.js","../node_modules/@antv/dom-util/lib/get-outer-height.js","../node_modules/@antv/dom-util/lib/get-outer-width.js","../node_modules/@antv/dom-util/lib/get-ratio.js","../node_modules/@antv/dom-util/lib/modify-css.js","../node_modules/@antv/gl-matrix/lib/gl-matrix/mat3.js","../node_modules/@antv/gl-matrix/lib/gl-matrix/vec2.js","../node_modules/@antv/gl-matrix/lib/gl-matrix/vec3.js","../node_modules/@antv/util/lib/is-object.js","../node_modules/@antv/util/lib/is-equal.js","../node_modules/@antv/util/lib/is-object-like.js","../node_modules/@antv/util/lib/is-array-like.js","../node_modules/@antv/component/lib/legend/index.js","../node_modules/@antv/component/lib/legend/continuous/index.js","../node_modules/@antv/component/lib/legend/continuous/size.js","../node_modules/@antv/component/lib/legend/continuous/components/slider.js","../node_modules/@antv/component/lib/legend/continuous/color.js","../node_modules/@antv/component/lib/legend/category/index.js","../node_modules/@antv/component/lib/legend/category/canvas.js","../node_modules/@antv/component/lib/legend/category/arrow/index.js","../node_modules/@antv/component/lib/legend/category/html.js","../node_modules/@antv/gui/node_modules/@antv/scale/lib/category.js","../node_modules/@antv/gui/node_modules/@antv/scale/lib/linear.js","../node_modules/@antv/util/lib/clone.js","../node_modules/lodash/lodash.js","../node_modules/@antv/component/lib/tooltip/html.js","../node_modules/@antv/component/lib/tooltip/base.js","../node_modules/@antv/component/lib/tooltip/crosshair.js","../node_modules/@antv/component/lib/tooltip/util/position.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","__rest","s","e","t","p","indexOf","getOwnPropertySymbols","propertyIsEnumerable","props","_ref","obj","value","getPrefixCls","customizePrefixCls","prefixCls","className","_props$hoverable","hoverable","others","classString","concat","defineProperty","enumerable","configurable","writable","avatar","title","description","avatarDom","titleDom","descriptionDom","MetaDetail","_typeof","Symbol","iterator","constructor","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","getAction","actions","map","action","index","style","width","_React$Component","Card","_this","onTabChange","renderCard","_classNames","_extraProps","head","_a","extra","_a$headStyle","headStyle","_a$bodyStyle","bodyStyle","loading","_a$bordered","bordered","_a$size","size","type","cover","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","getCompatibleHoverable","isContainGrid","loadingBlockStyle","padding","undefined","loadingBlock","gutter","span","hasActiveTabKey","extraProps","tabs","onChange","item","TabPane","tab","disabled","coverDom","body","actionDom","divProps","protoProps","staticProps","subClass","superClass","create","_inherits","warning","noHovering","_this$props","containGrid","forEach","element","Grid","Meta","timeIntervals","second","format","miniute","hour","day","week","DAY","month","year","EVENT_MAP","onViewClick","onViewDblClick","onViewMousemove","onViewMousedown","onViewMouseup","onViewMouseenter","onViewMouseleave","onViewContextmenu","onAxisClick","onAxisDblClick","onAxisMousemove","onAxisMousedown","onAxisMouseup","onAxisMouseenter","onAxisMouseleave","onAxisContextmenu","onLabelClick","onLabelDblClick","onLabelMousemove","onLabelMouseup","onLabelMousedown","onLabelMouseenter","onLabelMouseleave","onLabelContextmenu","onLegendClick","onLegendDblClick","onLegendMouseMove","onLegendMouseDown","onLegendMouseUp","onLegendMouseLeave","onLegendMouseEnter","onLegendContextmenu","CANVAS_EVENT_MAP","onPlotClick","onPlotDblClick","onPlotMousemove","onPlotMousedown","onPlotMouseup","onPlotMouseenter","onPlotMouseleave","onPlotContextmenu","onTitleClick","onTitleDblClick","onTitleMousemove","onTitleMousedown","onTitleMouseup","onTitleMouseenter","onTitleMouseleave","onTitleContextmenu","onDescriptionClick","onDescriptionDblClick","onDescriptionMousemove","onDescriptionMousedown","onDescriptionMouseup","onDescriptionMouseenter","onDescriptionMouseleave","onDescriptionContextmenu","onBreadcrumbClick","onBreadcrumbDblClick","onBreadcrumbMousemove","onBreadcrumbMousedown","onBreadcrumbMouseup","onBreadcrumbMouseenter","onBreadcrumbMouseleave","onBreadcrumbContextmenu","LAYER_EVENT_MAP","onLayerClick","onLayerDblClick","onLayerMousemove","onLayerMousedown","onLayerMouseup","onLayerMouseenter","onLayerMouseleave","onLayerContextmenu","onEvent","layer","eventName","handler","view","on","_super","Layer","layers","destroyed","visibility","rendered","eventHandlers","options","getOptions","processOptions","container","id","x","y","height","canvas","parent","updateConfig","cfg","beforeInit","init","layerBBox","getLayerBBox","layerRegion","getLayerRegion","eachLayer","afterInit","render","add","transform","draw","clear","destroy","h","off","remove","show","set","hide","addLayer","push","removeLayer","idx","splice","updateBBox","recursive","originRange","newRange","updateBBoxByParent","region","start","end","getGlobalPosition","globalX","globalY","getGlobalBBox","globalPosition","parentWidth","parentHeight","defaultOptions","cb","parseEvents","eventParser","eventsName","k","name","parentX","parentY","THEME_MAP","getTheme","toLowerCase","FONT_FAMILY","SHAPE_STYLE","area","lineWidth","fill","fillOpacity","hollowArea","stroke","box","edge","interval","hollowInterval","kline","line","polygon","hollowPolygon","point","radius","hollowPoint","text","textAlign","textBaseline","opacity","strokeOpacity","LINEWIDTH_ACTIVE_STYLE","POINT_ACTIVE_STYLE","color","fillStyle","shadowBlur","shadowColor","HOLLOW_POINT_ACTIVE_STYLE","strokeStyle","DEFAULT_AXIS_CONFIG","autoRotateLabel","autoHideLabel","autoRotateTitle","showTitle","gridType","textStyle","fontSize","fontFamily","offset","label","lineHeight","tickLine","alignWithLabel","grid","lineDash","DEFAULT_LEGEND_CONFIG","unSelectedColor","titleStyle","flipPage","theme","Error","registerTheme","pixelRatio","defaultColor","colors","colors_20","shapes","sizes","opacities","backgroundStyle","axis","top","position","bottom","left","right","circle","helix","treemapLabels","fontStyle","innerLabels","thetaLabels","labelHeight","labelLine","defaultLegendPosition","legend","layout","itemMarginBottom","itemDistance","html","overflow","marginBottom","listStyle","listStyleType","margin","itemStyle","cursor","marginRight","markerStyle","borderRadius","display","verticalAlign","legendMargin","tooltip","useHtml","zIndex","transition","backgroundColor","boxShadow","marginTop","marginLeft","float","tooltipMarker","symbol","r","shadowOffsetX","shadowOffSetY","tooltipCrosshairsRect","rectStyle","tooltipCrosshairsLine","lineStyle","annotation","autoRotate","alignX","alignY","dataRegion","dataMarker","direction","autoAdjust","lineLength","shape","default","active","smooth","smoothLine","vhv","arc","rect","tick","funnel","pyramid","dot","dash","hv","vh","hvh","hollow","square","bowtie","diamond","hexagon","triangle","triangleDown","hollowCircle","hollowSquare","hollowBowtie","hollowDiamond","hollowHexagon","hollowTriangle","hollowTriangleDown","cross","plus","hyphen","image","path","Global","version","renderer","animate","widthRatio","column","rose","multiplePie","setTheme","newTheme","Base","visible","get","changeVisible","mat3","out","a","v","transMat","Array","rad","rotateMat","scaleMat","m","len","vec2","v1","v2","theta","Math","acos","direct","angle","angleLargeThanPI","PI","flag","catmullRom2Bezier","crp","z","d","iLen","SPACES","PATH_COMMAND","RegExp","PATH_VALUES","parsePathString","pathString","paramCounts","c","l","q","u","data","String","replace","b","params","REGEX_MD","toSymmetry","pathToAbsolute","pathArray","needProcess","cmd","test","res","mx","my","first","ii","pa","preParams","upCmd","toUpperCase","j","jj","symetricT","length_1","symetricS","a2c","x1","y1","rx","ry","large_arc_flag","sweep_flag","x2","y2","xy","f1","f2","cx","cy","_120","rotate","cos","sin","sqrt","rx2","ry2","abs","asin","Number","toFixed","df","f2old","x2old","y2old","c1","s1","c2","s2","tan","hx","hy","m1","m2","m3","m4","newres","join","split","l2c","q2c","ax","ay","pathTocurve","path2","p2","attrs","bx","by","X","Y","qx","qy","attrs2","pcoms1","pcoms2","pfirst","pcom","processPath","nx","ny","T","Q","slice","fixArc","pp","shift","pi","max","fixM","path1","a1","a2","seg","seg2","seglen","seg2len","parseFloat","getClip","coord","clip","isPolar","startAngle","endAngle","center","getCenter","getRadius","Fan","rs","re","endState","Rect","isTransposed","getScaledMatrix","scaledMatrix","matrix","getMatrix","doAnimation","animateCfg","delay","easing","duration","callback","getAnimateParam","doGroupScaleIn","zeroY","getWidth","getCoordRange","endMatrix","attr","getAngle","points","minX","maxX","minY","maxY","centerX","centerY","getPointsBox","coordStartAngle","diffAngle","scaleInY","getBBox","scaleInX","zoomIn","pathIn","clipIn","setSilent","fadeIn","fanIn","Action","enter","leave","lineWidthOut","zoomOut","pathOut","fadeOut","appear","groupWaveIn","groupScaleInX","groupScaleInY","groupScaleInXY","update","animationName","defaultAnimationCfg","Animate","result","isRect","heatmap","defaultCfg","getAnimation","elementType","animationType","elementAnimateCfg","animation","getAnimateCfg","registerAnimation","animationFun","getShapes","viewId","child","isGroup","isShape","getAnimate","execAnimation","isUpdate","newIsUpdate","panelGroup","backgroundGroup","caches","drawn","axisShapes","cacheShapes","rst","shapeCache","canvasDrawn","updateShapes","newShapes","deletedShape","tempShape","addShape","tempShapeMatrix","finalMatrix","multiply","setMatrix","updateShape","cacheAttrs","newShape","addAnimate","animateCfg_1","animate_1","elements","coord_1","elementAnimateOption","yScale","getYScale","convertPoint","scale","getYMinValue","shapeArr","methodCache","registerTickMethod","method","Scale","isCategory","isLinear","isContinuous","isIdentity","values","range","ticks","__cfg__","initCfg","translate","change","clone","getTicks","getText","tickValue","formatter","toString","getConfig","setDomain","calculateTicks","tickMethod","rangeMin","rangeMax","calcPercent","min","NaN","calcValue","percent","Category","order","invert","scaledValue","domainRange","round","args","_i","includes","fecha","token","word","literal","noop","shorten","arr","sLen","newArr","substr","monthUpdate","arrName","i18n","charAt","pad","val","dayNames","monthNames","monthNamesShort","dayNamesShort","amPm","DoFn","D","formatFlags","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","A","ZZ","getTimezoneOffset","floor","parseFlags","parseInt","cent","Date","minute","millisecond","isPm","minutes","parts","match","timezoneOffset","masks","shortDate","mediumDate","longDate","fullDate","shortTime","mediumTime","longTime","mask","i18nSettings","isNaN","getTime","literals","$0","$1","parse","dateStr","dateInfo","parseInfo","str","newFormat","info","matches","date","today","UTC","timeFormat","time","toTimeStamp","getTickInterval","tickCount","_lo","_hi","lo","hi","mid","getter","TimeCat","tickIndex","sort","Continuous","getScalePercent","firstTick","lastTick","nice","getInvertPercent","Linear","calBase","E","pow","log","getLogPositiveMin","base","positiveMin","Log","appendPercent","tmp","Pow","exponent","factor","Time","numberValue","minConfig","maxConfig","timeStamps_1","min_1","Infinity","secondMin_1","max_1","timeStamp","minTickInterval","Quantize","minIndex","minTick","minIndexPercent","unshift","Quantile","getClass","registerClass","cls","Identity","DEFAULT_Q","eps","EPSILON","simplicity","lmin","lmax","lstep","n","mod","simplicityMax","density","dmin","dmax","rt","densityMax","coverage","coverageMax","half","extended","onlyLoose","w","best","score","Q_1","sm","dm","delta","ceil","log10","step","cm","minStart","maxStart","g","isInteger","calculateCatTicks","tickInterval","__","ticks_1","snapMultiple","snapType","intervalTicks","maxTick","pretty","unit","nu","ns","quantileSorted","getYear","createYear","creatMonth","lastValue","ratio","minYear","maxYear","yearInterval","monthInterval","mmMoth","dMonths","minMonth","diffMonth","mday","ddays","diffDay","hours","dHours","diffHour","dMinus","diffMinus","minSecond","dSeconds","seconds","count","avg","sorted","Adjust","xField","yField","adjustNames","isAdjust","dim","getAdjustRange","dimValue","pre","next","adjustData","groupedDataArray","mergedData","dimValuesMap","getDimValues","dataArray","adjustDim","groupData","record","dims","ADJUST_MAP","getAdjust","registerAdjust","ctor","Dodge","cacheMap","adjustDataArray","mergeData","marginRatio","_b","dodgeRatio","dodgeBy","process","groupDataArray","frameIndex","getDistribution","group","valueArr","valIndex","getDodgeOffset","tickLength","Jitter","adjustGroup","getAdjustOffset","random","Cache","Stack","_c","_d","reverseOrder","processStack","processOneDimStack","reverse","positive","negative","xKey","cache","has","xValue","newXValue","stackHeight","stackValue","Symmetric","getXValuesMaxMap","keys","yValue","off_1","getDimMaxValue","dimValues","flattenValues","Coordinate","isHelix","isReflectX","isReflectY","initial","convertDim","isReflect","invertDim","applyMatrix","tag","vector","transformMat3","invertMatrix","inverted","convert","invertPoint","radian","reflect","transpose","getHeight","Cartesian","Helix","innerRadius","maxRadius","thi","newY","subtract","angleTo","rMin","Polar","oneBox","getOneBox","oneWidth","oneHeight","circleCenter","polarRadius","vPoint","vStart","xPercent","yPercent","xs","ys","COORDINATE_MAP","getCoordinate","registerCoordinate","Attribute","names","scales","linear","_parseCfg","mapping","param","_toOriginParam","getLinearValue","steps","leftPercent","getNames","getFields","field","getScale","defaultCallback","_getAttributeValue","ret","Color","gradient","Opacity","Position","scaleX","scaleY","xi","yi","Shape","Size","ATTRIBUTE_MAP","getAttribute","registerAttribute","Types","dateRegex","ScaleController","defs","createScale","def","firstValue","_getDefaultType","_getScaleCfg","Cat","CoordController","option","reset","createCoord","C","coordCfg","_hasAction","_execActions","_angle","sx","sy","actionName","Guide","capture","offsetX","offsetY","Greedy","bitmap","xGap","yGap","hasGap","bbox","fillGap","adjustLabelPosition","spiralFill","greedy","maxTimes","dxdy","maxDelta","dx","dy","f","nt","canFill","times","accessedCache","LAYOUTS","scatter","toBeRemoved","labels","i_1","treemap","labelBBox","shapeBBox","Label","containerTpl","itemTpl","items","lineGroup","_init","emit","canvasDraw","_dryDraw","innerHTML","changeLabel","oldLabel","newLabel","tagName","node","_createDom","_setCustomPosition","resetMatrix","rotateAtStart","drawLines","addGroup","_lineToLabel","lineShape","_adjustLabels","getLabels","childNodes","_createText","oldcfg","labelShape","htmlTemplate","name_1","origin_1","origin","_initHtmlContainer","appendChild","wrapper","parentNode","htmlDom","Tooltip","titleContent","panelRange","inPanel","crosshairs","isContentChange","lastItems","isChanged","preItem","some","setContent","setPosition","setMarkers","markerItems","markerCfg","markerGroup","frontgroundGroup","clearMarkers","Crosshair","plot","_init_","_addLineShape","_renderHorizontalLine","bl","br","_renderVerticalLine","tl","_renderBackground","_updateRectShape","crosshairsRectShape","firstItem","lastItem","startDim","crossLineShapeX","crossLineShapeY","move","defaultPosition","containerWidth","containerHeight","newx","newy","rectWidth","rectHeight","gap","constraintPositionInBoundary","viewWidth","viewHeight","constraintPositionInPanel","onlyHorizontal","tr","dom","getElementsByClassName","HtmlTooltip","htmlContent","follow","enterable","styles","crosshair","crosshairGroup","outterNode","_getHtmlContent","document","getElementById","_renderTpl","listDom","_addItem","removeChild","itemDiv","itemDOM","markerDom","valueDom","oldx","oldy","clientWidth","clientHeight","endx","endy","prePosition","panelClip","CanvasTooltip","nameStyle","valueStyle","itemGap","animationDuration","board","titleShape","itemsGroup","itemGroup","itemHeight","_alignToRight","mat","ts","stopAnimate","markerRadius","marker","markerAttrs","groups","valueText","Axis","subTickCount","subTickLine","labelItems","gridPoints","_processTicks","_renderGrid","_renderLine","_renderTicks","_renderLabels","renderTitle","gridGroup","labelRenderer","parseTick","addLabel","labelCfg","executedLabel","getSideVector","newPoint","getTextAnchor","getMaxLabelWidthOrHeight","property","autoRotateLabels","autoHideLabels","getLinePath","lineCfg","tickLineCfg","tickItems","subTickItems","_addTickLine","subTickLineCfg","appendInfo","class","preItem_1","gridCfg","subPoints","executedGrid","path_1","gridLineShape","_drawAlternativeBg","_parseTicks","tickPoint","getTickPoint","_addTickItem","subTickLineCfg_1","diff","subTick","subTickLength","ticksLength","getTickEnd","tickShape","oddColor","evenColor","alternateColor","_getBackItem","bgColor","subItem","endSubItem","Circle","_getCirclePoint","vecLen","getSidePoint","align","inner","startPoint","endPoint","large","sweep","innerStartVector","innerEndVector","innerStartPoint","innerEndPoint","startAngle_1","totalAngle_1","avgAngle","avgWidth_1","maxLength_1","mode","axisStart","_getHelixPoint","AUTO_ROTATE_DEGREES","Line","isVertical","axisVector","getAxisVector","normal","normalize","verticalVector","vertical","offsetVector","rangeX","rangeY","offsetPoint","titleOffset","labelLength","getAutoRotateAngle","getOffsetByRotateAngle","sideVector","angle_1","offsetY_1","textAlign_1","labelSpace","tickStep","labels_1","maxHeight","avgHeight","_getAvgLabelHeightSpace","maxWidth","avgWidth","_getAvgLabelLength","ratio_1","visibleTicks","getAutoRotateAngleByAvgWidth","degrees_1","Legend","bindEvents","renderItems","moveTo","formatterValue","SliderBtnStyle","SliderTextStyle","SliderMiddleBackgroundStyle","SliderMiddleFrontendStyle","DefaultTitleStyle","Slider","onMouseMove","clientX","clientY","updateSliderStatus","onMouseUp","clearAllEvents","currentTarget","sliderType","sliderSize","operational","SLIDER_WIDTH","initialSlider","setBackground","bg","frontend","background","rangeSliderShape","isHorizontal","createRangeSliderShape","minSliderGroup","createMinSliderGroup","maxSliderGroup","createMaxSliderGroup","renderUIWithRange","bindEvent","getSliderCursor","minSliderShape","createSliderButton","minTextShape","createSliderText","maxSliderShape","maxTextShape","getRectButtonAttribute","isMin","sliderWidth","sliderHeight","getCircleButtonAttribute","SLIDER_CIRCLE_MAX_SIZE","buttonAttr","buttonAttribute","getRectTextAttribute","getCircleTextAttribute","textAttribute","textAttr","onMouseDown","ev","originEvent","event","stopPropagation","preventDefault","pos","bindCanvasEvents","containerDOM","e1","e2","e3","isDragMin","isDragMax","isDragAll","totalLength","sign","currentPosition","getNewRange","getValue","minRatio","maxRatio","otherCfg","defaultSize","titleDistance","handleIcon","legendGroup","isShowTitle","renderSlider","isOperational","getSliderConfig","sliderStyle","slider","createBackgroundGroup","itemFiltered","getBackgroundShapeAttr","halfWidth","halfHeight","shapeAttribute","calculatePercent","percentage","isSegment","getOperationalGroup","rgbColor","toRGB","getUnOperationalGroup","isize","preRgbColor","dir_mapper","up","down","Arrow","transformMatrix","DEFAULT_THEME","wordSpacing","backgroundPadding","CategoryBase","clickable","selectedMode","allowAllCanceled","reversed","autoWrap","CanvasLegend","isFlipped","_adjustItems","_getMaxItemSize","maxItemWidth","maxItemHeight","isNeedFlip","_adjustPositionOffset","_renderBack","itemsBBox","paginationCfg","_getPaginationCfg","pageNumber","_getHorizontalPaginationHeight","flipUI","flipPageUI","currentIndex","arrow1","arrows","arrow2","dist","la","arrow","ra","ua","da","GAP","getCheckedCount","fliperContainer","_mergeBBox","_getNextX","_getNextY","checked","wordSpace","startX","markerShape","textAttrs","textShape","itemWidth","wrapperShape","nextX","nextY","_adjustHorizontal","maxLength","row","rowLength","_adjustVertical","titleDisatance","titleHeight","colLength","backAttrs","renderBack","_onMousemove","_getLegendItem","itemMouseover","_findItem","_onMouseleave","itemMouseleave","_onClick","clickedItem","item_1","itemClick","markerItem_1","textItem_1","legendItem_1","unSelectedColor_1","checkColor_1","_findShapeByName","refer","findBy","bboxes","userSelect","activeColor","inactiveColor","arrowSize","_findParentNode","nodeClass","_findNodeByClass","HTMLLegend","prefixClassName","pagination","highlight","legendContainer","titleContainer","itemGroupContainer","clipContainer","itemMap","itemDom","originColor","domStr","setAttribute","_renderHorizontalPagination","_renderPagination","onclick","onmousemove","onmouseout","_onMouseout","_updateStatus","LIST_ITEM_CLASS","LIST_ITEM_MARKER_CLASS","targetClassName","clickedItemDom","itemNodes","markerDom_1","isCurrentChecked","count_1","lastActiveItem","LIST_CLASS","hoveredItemDom","hoveredItem","itemNode","scrollHeight","offsetHeight","paginationDom","itemGroupContainerHeight","itemGroupContainerOffsetHeight","pageSize_1","deltaHeight_1","currentPageNum_1","totalPageNum","prePageButton_1","nextPageButton_1","activeStyle_1","border","borderWidth","inactiveStyle_1","currentPage_1","translateY_1","scrollWidth","offsetWidth","itemGroupContainerWidth","itemGroupContainerOffsetWidth","pageSize_2","deltaWidth_1","currentPageNum_2","prePageButton_2","nextPageButton_2","activeStyle_2","inactiveStyle_2","currentPage_2","translateX_1","Annotation","xScales","yScales","el","HTMLElement","parsePoint","_position","parsePercentPoint","getNormalizedValue","scaled","topLeft","fontWeight","guideLineGroup","content","drawText","textCfg","Text","guideText","Arc","originStart","originEnd","coordCenter","console","warn","largeArc","arcShape","Region","getPath","regionGroup","Image","src","img","imgGuide","Html","wrapperNode","htmlNode","setDomPosition","parentDom","childDom","domWidth","domHeight","DataMarker","positions","getElementPosition","pointCfg","lineData","drawLine","textPosition","pointPoisition","drawPoint","dir","linePath","pointStyle","DataRegion","regionCfg","regionData","getRegionData","regionBBox","startIndex","startXValue","endXValue","xRange","yRange","fromRange","AnnotationController","acfg","annotations","annConfig","typeName","error","viewData","createAnnotations","ann","repaint","viewData_1","_getPointRadius","_convertArr","catmullRom2bezier","constraint","isLoop","pointList","cp1","cp2","controlPointList","prevPoint","nextPoint","cps","hasConstraint","sub","d0","distance","d1","sum","cp0","isInCircle","command","_points2path","getSplinePath","constaint","prePoint","splinePath","getPointAngle","atan2","convertPolarPath","cur","transposed","subPath","curPoint","xDim","angleRange","middlePoint","middleConvertPoint","_convertPolarPath","_filterFullCirleLine","ShapeBase","_coord","getCoord","parsePath","islineToArc","parsedPath","convertNormalPath","parsePoints","ShapeFactoryBase","_theme","_getShapeStyleByState","shapeName","shapeState","elementName","defaultShapeType","setCoord","getShape","getShapePoints","pointInfo","getPoints","getDefaultPoints","getMarkerStyle","getInactiveStyle","inactiveCfg","getActiveStyle","activeCfg","getSelectedStyle","selectedCfg","drawShape","defaultShapeStyle","gShape","yIndex","ShapeFactoryMap","registerShapeFactory","factoryName","geomObj","registerShape","shapeType","factory","shapeObj","getShapeFactory","STROKE_MARKERS","LegendController","legends","legendOptions","custom","addCustomLegend","getElements","scales_1","getAttrsForLegend","compareScale","scaleValues","compareScaleValues","filteredValues","getFilteredOutValues","addLegend","alignLegends","getLegendOptions","viewRange","fieldOption","fields","getFieldLegendConfig","adjustPosition","addContinuousLegend","addCategoryLegend","bindHoverEvent","originalValue","containsMinValue","containsMaxValue","attrValue","positionArr","legendCfg","getFieldLegendOption","bindFilterEvent","isByAttr","getDefaultValue","viewTheme","panelGroupClip","panelGroupClipBox","posArray","scaleValue","isFiltered","colorAttr","getAttr","shapeAttr","restArgs","dataValue","defaultLegendCfg","alias","bindClickEvent","onClick","totalRegion","getRegion","groupLegendByPosition","legendItems","subs","alignLegend","backPlot","legendHeight","legendWidth","borderMargin","innerMargin","legendNum","tempoRegion","getXAlign","getYAlignVertical","getYAlignHorizontal","preWidth","totalWidth","canvasHeight","totalHeight","isSingeSelected_1","clickedValue_1","isFieldInView","filter","onMouseover","onMouseleave","subRegion","getSubRegion","filterVals","fieldScale","filed","defaultValue","filterShape","eachShape","filterLabels","labelOptions","xField_1","getXScale","yField_1","shapeData_1","_origin","labelData","getDefaultValueFromPosition","AxisController","axes","createAxis","xScale","xAxis_1","coordType","_isHide","_drawAxis","_getAxisOptionByField","_getMiddleValue","curValue","nextValue","_getLineRange","dimType","_getLineCfg","_getCircleCfg","startVector","normalVector","_getRadiusCfg","_getHelixCfg","_getAxisPosition","_getAxisDefaultCfg","pop","_getAxisCfg","verticalScale","gridPoints_1","verticalTicks_1","last","formatTicks","gridCentering","fillAxisTicks","gridAlign","rangeX_1","rangeY_1","verticalTick","xAxis","appendCfg","Vector2","TYPE_SHOW_MARKERS","TYPE_SHOW_CROSSHAIRS","IGNORE_TOOLTIP_ITEM_PROPERTIES","isEqual","TooltipController","lastTimeStamp","showTooltip","onMouseOut","hideTooltip","renderTooltip","_getCanvas","_getDefaultTooltipOptions","triggerEvent_1","_getTriggerEvent","tooltipContainer","eventObj","_normalizeEvent","Canvas","_bindEvent","getPointByClient","setActive","markersItems","isShareTooltip","tmpPoint","findPoint","subItems","getTooltipItems","showMarker","itemMarker","_getItemMarker","shapeContainer","first_1","every","nearestItem_1","nearestDistance_1","shared","snapItem_1","aItem","_setTooltip","_offEvent","triggerOn","crosshairsCfg","triggerEvent","_items","showTooltipMarkers","ShapeStateController","_states","_stateStack","setState","exp","_onUpdate","getState","getAllStates","_changeTimer","clearTimeout","stateStack","setTimeout","state","_triggerEvent","isBackgroundShape","backgroundBkShape","panelBkShape","registerData","isSameShape","shape1","shape2","isInView","isShapeInView","isInPanel","EventController","_panelGroup","_eventHandlers","_pixelRatio","_getEventObj","_triggerShapeEvent","_addEvent","eventType","canvasDom","_canvasDomLeaveHandler","addEventListener","_onEvents","targetParent","parentName","_onMove","isbkTarget","lastShape","_lastShape","isbklastShape","enterObj","isTargetInPanel","isLastShapeInPanel","_onCanvasMove","targetInView","lastTargetInView","_lastCanvasTarget","_onCanvasDomLeave","clearEvents","eh","removeEventListener","Facet","_createContainer","facets","generateFacets","_renderViews","renderAxis","_clearFacetViews","_createFacetViews","facet","facetToView","removeView","createView","beforeProcessView","eachView","afterProcessView","getFieldValues","rows","cols","xIndex","xWidth","yWidth","Facets","ELEMENT_MAP","getElement","registerViewPrototype","_snapEqual","value1","value2","_getScaleName","_xDistance","xValue_1","yValue_1","originData","_getXValueByPoint","firstXValue","firstYValue","lastXValue","isYArray","_filterYValue","next_1","firstIdx","lastIdx","middleIdx","_getXDistance","titleField","tooltipTitle","_getTooltipTitle","tooltipOptions","_getSize","addItem","itemName","itemValue","callbackParams","itemCfg","valueScale","_getTooltipValueScale","_getTooltipValue","_getTooltipName","xScale_1","min_2","numericValue","_getTooltipTitleScale","titleScale","tmpScale","eachValue","nameScale","groupScales","getGroupScales","getSize","IGNORE_ARR","ElementLabels","_renderUI","labelsGroup","labelsRenderer","showLabels","originShapes","getLabelsItems","adjustItems","lineToLabel","setLabelPosition","transLabelPoint","getOffsetVector","getDefaultOffset","getLabelOffset","total","_getlabelOptions","subIndex","getLabelPoint","getLabelAlign","getShapeId","getDimValue","centroid","former","current","getCentroid","nextPoints","maxX_1","p1","_getLabelValue","originScales","tmp_1","subVal","cfgs","originText","originValues","IntervalElementLabels","originPoint","originPosition","point0","point1","PolarElementLabels","arcPoint","_isToMiddle","_getMiddlePoint","getArcPoint","middleAngle","isLabelEmit","labelEmit","labelPoint","getCirclePoint","getLabelRotate","originAngle","outerPoint","getEndPoint","PieElementLabels","originItems","_distribute","orignAngle","isLabelLimit","plotRange","halves","maxLabelsCountForOneSide","isRight","overlapping","startY","MIN_VALUE","boxes","targets","previousBox","posInCompositeBox","rPow2","dyPow2","antiCollision","ELEMENT_LABELS_MAP","getElementLabels","registerElementLabels","LabelController","labelsContainer","_createLabelsContainer","Ctor","_getElementLabelsConstructor","labelType","addLabels","isChange","preShapes","shape1Origin","shape2Origin","_isSameShape","getOriginAttrs","modifiedAttrs","originAttrs","originValue","StateController","_activeShapes","_selectedShapes","_inactiveShapes","bind","unbind","_onActive","activeObject","activeShapes","_filterShapes","preActiveShapes","_clearActiveShapes","_clearInactiveShapes","activeShape","_setShapeActive","_draw","setZIndex","obj1","obj2","_INDEX","activeStyle","_onSelected","selectedObj","selectedShapes","preSelectedShapes","_clearSelectedShapes","_setShapeSelected","selectedStyle","_applyShapeStyle","_onInactive","inactiveObj","inactiveShapes","preinactiveShapes","_setShapeInactive","inactiveStyle","shapeData","shapeFactory","shapeStyle","activeOptions","defaultActiveStyle","selectedOptions","defaultSelectedStyle","inactiveOptions","defaultInactiveStyle","drawTimer","parseFields","GROUP_ATTRS","Element","attrOptions","generatePoints","sortable","shareTooltip","adjustOptions","styleOptions","statOptions","animateOptions","_initContainer","_initController","_setAttrOptions","_createAttrOption","adjust","adjustCfg","adjusts","callback_1","selected","inactive","_initAttrs","_processData","_adjustData","bindStates","stateController","unbindStates","paint","mappedArray","_getShapeFactory","_beforeMapping","_mapping","_sort","clearInner","attrName","stopDraw","labelController","appendShapeInfo","hasAdjust","adjustType","adjustOption","getAttrValues","sizeController","getNormalizedSize","groupAttrs","getLegendFields","attrOption","attrFields","dataObj","keyFields","yVal","xVal","groupScale","getOriginDataByPoint","createShapePointsCfg","_normalizeValues","y0","getDrawCfg","geomShape","_getStyleCfg","attrCfg","tooltipController","_initScale","geomType","valuesLen","attrCtor","_updateStackRange","mergeArray","tmpMin","tmpMax","_groupData","_saveOrigin","_numeric","groupedArray","subData","tempData","yScale_1","adjustInstance","_generatePoints","xScale_2","field_1","nextData","mappedData","newRecord","_convertPoint","mappedRecord","rstX","rstY","xLen","yLen","itemArr","EVENT_TYPES","Interaction","_getDefaultCfg","_bindEvents","startEvent","processEvent","endEvent","resetEvent","_start","preStart","afterStart","_process","preProcess","afterProcess","_end","preEnd","afterEnd","_reset","preReset","afterReset","_unbindEvents","INTERACTION_MAP","getInteraction","View","guideController","scaleController","views","interactions","changeData","_initData","scaleDefs","condition","filters","coordinate","coordController","newCfg","_getSharedOptions","preFacet","enable","stopDrawing","_clearInner","_beforeRender","_drawGuides","_drawElements","_renderFacet","_addBackShape","_canvasDraw","annotationController","axisController","shapeViewId","parent_1","isPointInView","getYScales","getXY","_getScales","_initTheme","_initLayers","initRegion","_initOptions","_initControllers","_clearEvents","clearAllInteractions","_destroyViewGroups","_destroyElements","fn","getFilteredValues","_getFilters","setSelected","setInactive","interaction","clearInteraction","_setInteraction","endX","endY","parsePadding","_createElement","_renderLegend","_renderAnnotations","_renderAxes","_renderTooltip","eventController","shapeStateController","legendController","_data","legendFields","_getLegendFields","elementCfg","ElementCtor","_addElement","_clearElements","_initView","_execFilters","_initCoord","_initElements","_adjustScales","filteredData","_adjustCategoryScalesRange","inFullCircle","isFullCircle","backShapeAttrs","backgroundBackShape","panelBackShape","isUpdate_1","elementFields","Plot","containerId","forceFit","_initCanvas","_initEvents","changeSize","autoRender","window","_getContainerDOM","_initForceFitEvent","timer","oldWidth","yItem","setFillStyle","setStrokeStyle","lineAttrs","areaAttrs","pointsArr","topLinePoints","bottomLinePoints","pointsData","AreaShapeFactory","showSinglePoint","drawPointShape","splitedIndex","_getMarkerAttr","connectNulls","splitData","Area","splitArray","SizeController","_getSizeValue","_getDefaultSize","_toCoordinateSize","_toNormalizedSize","_defaultSize","sizeAttr","_getDodgeCount","xValues","sourceArr","findMinDistance","normalizedSize","wr","_getCoordinateWidth","_parseValue","oldValue","min1","max1","median","_getBoxPoints","pointX","pointY","pointsArray","from","to","subArr","BoxShapeFactory","getAttrs","Box","_getAttrs","_getCPath","_getQPath","EdgeShapeFactory","_getMarkerAttrs","_createRectPath","_createSmoothPath","_createArcPath","arc1","arc2","_createArcWeightPath","Edge","Heatmap","paletteCache","_prepareRange","colorField","_prepareSize","getDefaultSize","blur","_colorize","pixels","alpha","palette","rgb2arr","_prepareGreyScaleBlurredCircle","circleCanvas","createElement","r2","ctx","getContext","clearRect","shadowOffsetY","beginPath","closePath","_drawGrayScaleBlurredCircle","globalAlpha","drawImage","_getShadowCanvasCtx","_clearShadowCanvasCtx","_getImageShape","imageShape","drawWithRange","valueField","colored","getImageData","putImageData","toDataURL","SQRT_3","LineSymbols","PointSymbols","diffX","diffY","_getFillAttrs","_getLineAttrs","_getRectPoints","isPyramid","yMin","yMax","xMin","xMax","_getRectPath","firstPoint","_getFunnelPath","isFunnel","func","symbolsFactory","register","IntervalShapeFactory","_getLinePoints","_getTickPoints","rectPath","rectShape","topLinePath","Interval","_getPoints","yValues","_sortValue","KLineShapeFactory","KLine","DOT_LINEDASH","DASH_LINEDASH","_getSinglePath","isStack","topPoints","bottomPoints","topPath","bottomPath","_getRangePath","_getInterPointShapeCfg","_getInterPath","tmpPoints","_interpPoints","LineShapeFactory","_drawPointShape","middleX","middleY","Path","drawCfg","pointAttrs","PointShapeFactory","rectAttrs","getRectPath","pathMetaParser","segments","nums","num","pathMeta","Point","hasStackAdjust_1","getMarkerAttrs","PolygonShapeFactory","subX","subY","getHollowAttrs","Polygon","temp","xOffset","yOffset","TextShapeFactory","_getContent","contentOptions","autoSetAxis","columnField","rowField","columnValuesLength","rowValuesLength","columnValues","rowValues","conditions","facetData","columnValue","rowValue","columnIndex","rowIndex","isTextUsable","trim","breakText","breaks","TextDescription","padding_1","it","_textWrapper","leftMargin","topMargin","wrapperWidth","textContent","tShape","wrappedTextArr","wrappedText","chars","breakIndex","combineFormatter","formatters","reduce","curText","precision","suffix","propertyMapping","AxisParser","config","getPlotTheme","themeConfig","_needDraw","_styleParser","localProps","_isVisible","_lineParser","_gridParser","_tickLineParser","_labelParser","_titleParser","propos","propsConfig","applyThemeConfig","restLabelProps","labelConfig","parseFormatter","titleConfig","dotProduct2D","va","vb","isPointInPolygon","inside","xj","yj","sqr","distBetweenPoints","distBetweenPointLine","l2","distSquare","minDistBetweenPointPolygon","minDistBetweenConvexPolygon","polyA","polyB","polyA_1","isPolygonIntersection","minA","minB","localMin","lineSimplification","DouglasPeucker","threshold","endIndex","list1","list2","getMedian","array","list","sturges","LN2","GuideLine","defaultStyle","getDefaultStyle","baseConfig","stateValue","_getState","minValue","maxValue","_extractValues","getMean","getDefaultTextAlign","textConfig","LabelParser","rest","originConfig","parseCallBack","labelProps","parseOffset","onActive","getAllAxisLabels","beforeCompare","con","disableStyle","labelArr","scaleField","labelShapes","disable","originAttr","StateManager","shapeContainers","createStateManager","stateManager","bindStateManager","manager","_updateStateProcess","onStateChange","_stateChangeProcess","defaultStates","states","related","_getShapes","_getOriginAttrs","shapeOrigin","stateStyle","_getDefaultStateStyle","_parserRelated","setStateCfg","_eventParser","onChangeCfg","geoms","geom","eventCfg","geometryParser","styleField","STATE_MAPPER","getComponentStateMethod","stateType","resetZIndex","getAllLabels","geomLabels","POSITION_MAPPER","getPositionField","shouldActive","processState","inverse","expected","COMPONENT_MAPPER","guideLine","getComponent","Components","BaseInteraction","viewLayer","interactionRange","interactionConfig","registerInteraction","GLOBAL_INTERACTION_MAP","registerPlotInteraction","plotType","PLOT_INTERACTION_MAP","getInteractionRange","layerRange","getViewLayer","getRange","getInteractionConfig","trackColor","thumbColor","lineCap","hover","ScrollBar","scrollBarCfg","_isMobile","_onStartEvent","isMobile","_startPos","_bindLaterEvent","_onTrackClick","getBoundingClientRect","thumbLen","newOffset","_validateRange","updateThumbOffset","_onMouseMove","endPos","thumbOffset","_onMouseUp","_onTrackMouseOver","thumbShape","_onTrackMouseOut","trackLen","minThumbLen","_initScrollBar","thumbRate","updateTrackLen","newTrackLen","newThumbLen","trackShape","updateThumbLen","_renderNewScrollBar","updateScrollBarPos","newPos","scrollBarGroup","updateTheme","_createScrollBarGroup","_createTrackShape","_createThumbShape","events","DIR_MAPPER","Icon","icon","spacing","iconStyle","interactive","_initIcon","fromCharCode","iconShape","iconBBox","BACKGROUND_STYLE","_e","shapeAttrs","LINE_STYLE","AREA_STYLE","pointsToPath","dataToPath","getSmoothLinePath","Trend","_f","isArea","_g","areaStyle","_initial","backgroundShape","areaPath","linePathToAreaPath","areaShape","FOREGROUND_STYLE","HANDLER_STYLE","TEXT_STYLE","highLightFill","Handler","setX","setXY","setY","_updateXY","prevX","prevY","currentHandler","pageX","pageY","offsetXRange","adjustOffsetRange","updateStartEnd","_updateUI","trendCfg","foregroundStyle","handlerStyle","_h","_j","_k","_l","minText","_m","maxText","trendShape","silent","foregroundShape","handlerHeight","minHandlerShape","maxHandlerShape","offsetRange","handlerWidth","_dodgeText","minAttrs","maxAttrs","minBBox","maxBBox","groupedData","newValues","_cfg","categorySize","ScrollBarInteraction","onChangeFn","leading","paddingTop","paddingRight","paddingBottom","paddingLeft","renderScrollbar","measureScrollBar","changeViewData","getScrollRange","scrollBar","cnt","xScaleCfg","yScalesCfg","startIdx","endIdx","meta","origData","getData","newData","metaCfg","origAnimation","foregroundColor","SliderInteraction","curStart","curEnd","getSliderData","getSliderMinMaxText","getSliderTrendData","PaddingController","innerPaddingComponents","outerPaddingComponents","registerPadding","component","checkIfExist","find","afterRender","clearOuterComponents","getPadding","processAutoPadding","_getInnerAutoPadding","processOuterPadding","viewMinX","viewMaxX","viewMinY","viewMaxY","bleeding","components_bbox","_getAxis","_getLegend","components","adjustAxisPadding","panelPadding","_getPanel","_adjustLegend","legendBBox","innerPadding","_getLegendInnerPadding","_mergeBleeding","labelContainer","rightDist","leftDist","topDist","bottomDist","curOffset","curTotalWidth","curAvgWidth","newAvgWidth","DESCRIPTION_BOTTOM_MARGIN","legendPosition","TOP_BLEEDING","titleVisible","descriptionVisible","DEFAULT_GLOBAL_THEME","alignWithAxis","GLOBAL_THEME_MAP","dark","getGlobalTheme","PLOT_THEME_MAP","processAxisVisible","axisCfg","DEFAULT_RESPONSIVE_THEME","category","constraints","rules","elementDist","lineNumber","degree","abbreviateBy","keep","decimal","dateTime","elementDistVertical","elementWidth","RESPONSIVE_THEME_MAP","registerResponsiveTheme","getResponsiveTheme","G2DefaultTheme","ThemeController","plotG2Theme","plotTheme","g2Theme","convertToG2Theme","_processVisible","ViewLayer","initialOptions","paddingController","themeController","getDefaultOptions","yAxis","drawTitle","drawDescription","addGeometry","getViewRange","processData","applyInteractions","defaultState","addGeomCliper","doDestroy","getPlot","setDisable","setNormal","scaleTypes","scaleConfig","setConfig","xAxis_parser","yAxis_parser","axesConfig","flipOption","inst","eventmap_1","titleBBox","doDestroyInteractions","cliper","cliperContainer","preCliper","CanvasController","onResize","getCanvasSize","getCanvasDOM","updateCanvasSize","updateCanvasTheme","globalTheme","updateCanvasStyle","resizeObserver","unobserve","disconnect","bindForceFit","observe","initGCanvas","addEvent","onEvents","getEventObj","getLayers","onLayerEvent","onMove","groupName","isPointInBBox","subLayers","GLOBAL_PLOT_MAP","registerPlotType","ctr","getPlotType","BasePlot","canvasController","createLayers","all","getLayer","getCanvas","ElementParser","positionFields","AreaParser","_getColorMappingField","parseColor","parseStyle","colorMappingField","styleProps","seriesField","colorMapper_1","vector2","isSmooth","getStraightPath","parseGradient","lineJoin","main","mini","MiniAreaParser","parseShape","COLOR_MAPPER","IntervalParser","_needParserColor","sizeProps","_getSizeProps","parseSize","_getStyleProps","sizeMapper_1","sizeMapper_2","COLOR_MAPPER_1","COLOR_MAPPER_2","LineParser","lineSize","GuideLineParser","_needParseAttribute","guide","MiniLineParser","CircleParser","_parseColor","sizeField","pointSize","GEOMETRY_MAP","GuidePointParser","mappingField","_parseColorByField","getValuesByField","getGeom","Geom","extractScale","desScale","axisConfig","intervals","intervalArr","basicInterval","intervalCount","adjustTimeTickInterval","getPositionByRatio","dataPoints","currentX","getLineLabel","onFrame","yText","yRatio","getDataByPosition","ShapeNodes","nodes","_parserNodes","origion_nodes","measure","bboxWidth","bboxHeight","ulMatrix","top_left","top_right","bottom_left","bottom_right","tops","bottoms","topRight","bottomLeft","bottomRight","measureNodes","constraintsLib","usage","expression","elementCollision","columnWidth","ringThickness","minRingThickness","minThickness","textHide","isNodeOverlap","nodeA","nodeB","origObj","args_1","defaultI18n","dayOfMonth","globalI18n","monthParse","emptyDigits","emptyWord","twoDigitsOptional","globalMasks","combinedI18nSettings","specifiedFields","requiredFields","regex","requiredField","parser","dateWithoutTZ","validateFields","setGlobalDateI18n","setGlobalDateMasks","datetimeStringAbbrevaite","campareText","compare","startText","endText","timeDuration","getDateTimeMode","timeCycle","previousText","previous","currentStamp","previousStamp","needAbbrevaite","cycle","getAbbrevaiteFormatter","sameSectionFormatter","mapper","unitMapper","number","digitsAbbreviate","abbravateDigitsByUnit","unitname","getUnitByNumber","numbers","extractNumbers","unitNumber","unitBit","intervalBit","remainder","remainderBit","getDigitsDecimal","getLinearNodesInterval","isKeep","keepCfg","conditions_1","getNodeByNumber","nodes_1","textAbbreviate","abbravateText","rulesLib","textWrapper","wrapperText","textRotation","robustAbbrevaite","string","nodesResampling","oddKeep","isOdd","nodesResamplingByAbbrevate","nodesResamplingByChange","tolerance","nodesClone","getGlobalTolerance","findPrevious","distX","distY","nodesResamplingByState","stateNodes","extract_data","min_node","max_node","median_node","getStateNodes","initialProps","isState","origin_position","nodeJitter","mag","vector_horizontal","mag_horizontal","adjustAngle","alignDirection","nodeJitterUpward","shapeBbox","shapeId","getShapeById","originX","originY","clearOverlapping","overlapped","_shape","Responsive","iterationTime","iterationIndex","rulesLocker","constraintIndex","currentConstraint","_run","onStart","_iteration","_applyRules","onIteration","onEnd","constraintPassed","_constraintsTest","constraintOption","_constraintCompare","_constraintAssignment","_chainConstraintCompare","_paddingConstraintCompare","_groupConstraintCompare","_chainConstraintAssign","_paddingConstraintAssign","nodes_2","ruleCfg","rule","_applyRule","ApplyResponsive","getType","shouldApply","SCALE_MAPPER","cat","timeCat","ApplyResponsiveAxis","axisInstance","getAxisInstance","responsiveTheme","rawLabels","shapeNodes","tickTexts","pathes","tickItem","updateTicks","scaleType","axisIndex","ApplyResponsiveLabel","ApplyResponsiveLineLabel","preRender","LineElementLabels","labelPoints","lastPoint","_adjustColor","LinePointLabels","onLineClick","onLineDoubleclick","onLineMousemove","onLineMouseenter","onLineMouseleave","onLineMousedown","onLineMouseup","onLineContextmenu","onPointClick","onPointDblclick","onPointMousemove","onPointMouseenter","onPointMouseleave","onPointMousedown","onPointMouseup","onPointContextmenu","LineActive","data_1","LineSelect","GEOM_MAP","LineLayer","responsive","applyResponsive","validData","trySetScaleMinToZero","addLine","addPoint","singleLineLabelCheck","lineActive","lineSelect","stage","methods","layerProps","onAreaClick","onAreaDblclick","onAreaMousemove","onAreaMouseenter","onAreaMouseleave","onAreaMousedown","onAreaMouseup","onAreaContextmenu","onLineDblclick","AreaLayer","adjustArea","adjustLine","adjustPoint","lineConfig","kernels","epanechnikov","gaussian","uniform","quartic","triweight","cosinus","DensityLayer","originXAxisConfig","binField","binWidth","binNumber","kernel","kernelFunc","originDataCopy","rangeWidth","_binNumber","_binWidth","samples","densities","kernelDensityEstimator","Density","ApplyResponsiveColumnLabel","ColumnLabels","adjustOffset","_getShape","adjustColor","labelRange","shapeRange","yPosition","shapeColor","shapeOpacity","rgb","gray","_mappingColor","labelTextColor","band","onColumnClick","onColumnDblclick","onColumnMousemove","onColumnMouseenter","onColumnMouseleave","onColumnMousedown","onColumnMouseup","onColumnContextmenu","columnStyle","G2_GEOM_MAP","PLOT_GEOM_MAP","BaseColumnLayer","adjustColumn","extractLabel","getLabelOptionsByPosition","Column","ScatterLabels","Quadrant","xBaseline","yBaseline","quadrantGroups","xRegion","plotOptions","verticalLineData","horizontalLineData","lastName","upper","lower","defaultStyle_1","regionStyle_1","getRegionStyle","getLabelConfig","lineStyle_1","region_2","region_4","regionNum","regionStyle","regionStyle_2","isFinite","xv","yv","Float64Array","ux","uy","visitPoints","iterations","determination","uY","predict","SSE","SST","sse","sst","interpose","xmin","xmax","LOG10E","px","iter","found","p0","mp","a0","ols","uX","uXY","uX2","slope","domain","XY","X2","_ols","_ols2","intercept","rSquared","tricube","updateInterval","quadratic","_points","_points2","X3","X4","X2Y","n0","X2X2","REGRESSION_MAP","exponential","YL","XYL","ly","loess","bandwidth","bw","yhat","residuals","robustWeights","i0","i1","W","denom","xk","yk","xkw","medianResidual","arg","_w","prev","output","logarithmic","lx","poly","polynomial","coefficients","_o","lhs","rhs","coef","gaussianElimination","uncenter","power","YS","quad","showConfidence","confidenceStyle","reg","xscale_view","yscale_view","trendlineData","LinearScale","adjustScale","confidencePath","getConfidencePath","getTrendlinePoints","trendline","confidence","conf","confidenceData","xRatio","upperPoints","lowerPoints","y0Ratio","y1Ratio","viewScale","dataMin","dataMax","trendMin","trendMax","ScatterLayer","quadrant","extractTooltip","BubbleLayer","Bubble","Scatter","GroupColumnLayer","GroupColumn","parsedPoints","ConnectedArea","areas","lines","_areaStyle","_lineStyle","groupedShapes","_getGroupedShapes","_drawConnection","_addInteraction","_initialAnimation","destory","_onDisabled","_getShapeStyle","styleName","mappedStyle","clipRect","StackColumnLabels","StackColumnLayer","connectedArea","stackField","StackColumn","groupField","measures","chain","vals","groupTotals","itemIdx","fieldIdx","PercentageStackColumnLayer","metaConfig","minLimit","maxLimit","PercentageStackColumn","HistogramLayer","originData_copy","_defaultBinNumber","bins","bin","getBin","binName","plotData","Histogram","BarLabels","xPosition","onBarClick","onBarDblclick","onBarMousemove","onBarMouseenter","onBarMouseleave","onBarMousedown","onBarMouseup","onBarContextmenu","bar","BaseBarLayer","adjustBar","Bar","StackBarLabels","StackBarLayer","StackBar","PercentageStackBarLayer","PercentageStackBar","GroupBarLayer","origin_items","defaultMeta","GroupBar","SpiderLabel","lineStroke","sidePadding","_adjustConfig","angleField","_loop_1","angleValue","targetAngle","anchorPoint","inflectionPoint","this_1","colorIndex","shapeIndex","_anchor","_inflection","textGroup","_side","texts","formatted","lowerText","lowerTextAttrs","maxCountForOneSide","_antiCollision","totalH","maxLabelWidth","labelY","labelWidth","drawnLabels","_drawLabel","_drawLabelLine","x_dir","leftPoint","rightPoint","point2","point3","starter","measureTextWidth","font","fontVariant","measureText","default_1","panel","getLabelOptions","dataItem","anchors","anchorRadius","getOffsetOfLabel","labelLines","adjustTexts","adjustOverlap","adjustLines","anchor","adjustLabelText","font_1","EllipsisTextArr","priority","leftText","DOT_WIDTH","currentText","currentWidth","leftWidth","allowOverlap","overlapArea","prevBox","currBox","getOverlapArea","near","checkInPanel","percent2Number","endsWith","InnerLabel","newX","prevLabel","resolveCollision","prevBBox","pos1","pos2","xOverlap","yOverlap","getOverlapInfo","yMover","actualPos","OuterPieLabel","_adjustLabelPosition","leftHalf","isLeft","_getLinePath","CROOK_DISTANCE","getLabelHeight","totalR","maxLabelsCount","labelBox","topLabels","bottomLabels","adjustLabels","isBottom","getCrookDistance","rxPow2","ryPow2","boxCenter","distance_offset","xPos","k1","k2","atan","breakAt","smoothPath","straightPath","OuterCenterPieLabel","onPieClick","onPieDblclick","onPieMousemove","onPieMouseenter","onPieMouseleave","onPieMousedown","onPieMouseup","onPieContextmenu","pie","PieLayer","pieStyle","adjustLabelDefaultOptions","spiderLabel","coordConfig","showLabel","labelStyleConfig","Pie","VariableNodes","ring","containerStyle","onRingClick","onRingDblclick","onRingMousemove","onRingMouseenter","onRingMouseleave","onRingMousedown","onRingMouseup","onRingContextmenu","RingLayer","statistic","triggerOff","centralId","statisticClass","triggerOnEvent","displayData","parseStatisticData","htmlString","getStatisticHtmlString","triggerOffEvent","totalValue","getTotalValue","annotationConfigs","drawStatistic","getStatisticTemplate","getStatisticSize","classId","_displayData","triggerOnConfig","Ring","RadarLayer","angleAxis","radiusAxis","radiusField","Radar","ShapeUtil","ValueUtil","defaultAttrs","getWaterWavePositions","waveLength","amplitude","getWaterWavePath","waterLevel","phase","curves","_phase","waveRight","liquidMoveIn","wrap","wrapTargetOpacity","waves","wavesTargetMatrix","sumX","cp","minP","clipCircle","level","waveCount","wave","repeat","addWaterWave","LiquidLayer","shouldFadeInAnnotation","liquidStyle","adjustLiquid","liquid","statisticConfig","extractStatistic","fadeInAnnotation","_","changeValue","annotationEl","colorStyle","calcAnnotationColorStyle","darkColorStyle","getChildByIndex","Liquid","dir_vec","angle1","x_1","y_1","angle2","x_2","y_2","POINTER_LINE_WIDTH","stripWidth","stripBackColor","tickLabelPos","tickLabelSize","tickLabelColor","tickLineColor","labelPos","labelColor","labelSize","GaugeLayer","gaugeStyle","pointerColor","statisticPos","rangeSorted","styleMix","getStyleMix","statisticSize","1","labelAutoRotate","pointer","statistics","renderStatistic","strips","renderArcs","allArcs","arcSize","Arcs","Bks","countArray","calGapAngle","statisticHtml","statisticColor","Gauge","interpolateY","getXIndex","AreaLabel","scaleFactor","groupedPoints","_groupPoints","pointArray","autoScale","_adjuestLabelSize","resolution","interpolatedPoints","_getInterpolatedPoints","_getLabelBbox","fitOption","aspect","justTest","_bisection","_testFit","fit","testOption","maxIteration","middle","passesTest","x0","x1_index","ceiling","ceilingFloor","top_1","labelStyle","AreaLineElementLabels","StackAreaLayer","getLabelType","getLabelField","ele","areaLine","StackArea","PercentageStackAreaLayer","PercentageStackArea","lerp","funnelScaleInY","clipTargetMatrix","shapeTargetFillOpacity","FunnelLabel","shapeStartX","shapeStartY","shapeEndX","shapeEndY","shapeMinX","shapeMaxX","shapeMinY","shapeMaxY","shapeContainsLabel","yValuesMax","yValuesNext","yValueTotal_1","yRatios","yValueTotalNext_1","yRatiosNext","yValueNext","ratioUpper","ratioLower","firstPointX","FunnelLabelParser","preformatter","plotProps","proc","yValueTop","yValueFormatted","compareField","yValues_1","yValuesTop_1","FunnelLayer","legendsListenerAttached","shouldShowLabels","shouldResetPercentages","shouldResetCompareTexts","_onLegendContainerMouseDown","refreshPercentages","dynamicHeight","_findCheckedDataByMouseDownLegendItem","_genCustomFieldForDynamicHeight","_updateDataForCompare","refreshCompareTexts","adjustProps","_reduceDataForCompare","yValueUpper","yValueLower","compareText","adjustFunnel","isArray","funnelStyle","clss","elMarker","elRoot","elTitle","elList_1","pairs","compareValues","compareValue","elListItem","appearDuration","appearDurationEach_1","animationAppearTimeoutHandler","_teardownAnimationMask","fadeInPercentages","fadeInCompareTexts","resetPercentages","resetCompareTexts","percentageContainer","_findPercentageContainer","compareTextContainer","_findCompareTextContainer","_setupAnimationMask","checkedData","_findCheckedDataInNewData","_refreshAnimationMaskForPercentageRefresh","datumUpper","percentageLine","percentageText","percentageValue","adjustTimestamp","now","datumLower","_findPercentageMembersInContainerByShape","line_1","text_1","value_1","eachProcs_1","textWidth","valueWidth","textProc","valueProc","eachProc","lastBBox","datum","members","currBBox","eachCalc","member","eachShow_1","fadeOutPercentages","_calcRefreshFadeDurations","fadeOutDuration","fadeInDuration_1","fadeInDuration","updateDuration","enterDuration","createIfNotFound","lineId","textId","valueId","datumIndex","dataLength","shapeParentBBox","targetDatum","_findCheckedData","container_1","yValuesMax_1","compareValues_1","pStart","pEnd","minX_1","minY_1","maxY_1","compareTexts_1","compareTexts_2","fadeOutCompareTexts","compareTexts_3","fadeInDuration_2","compareValueFirstVisited","newDatum","yTotal","legendValues","findAll","uncheckedValues","oldDatum","legendItem","legendItemOrigin","brotherValues","animationMask","Funnel","LinearHeatmap","intensity","circleRadius","context","globalCompositeOperation","HeatmapLegend","dataSlides","getDarkOptions","getLayout","getDefaultWidth","getDefaultHeight","plotContainer","colorScale","renderHorizontal","renderVertical","legendLayout","addInteraction","origin_bbox","gridWidth","gridHeight","gridLineContainer","gridColors","valueStep","dataSlide","getDataSlide","gridlineStyle","plotWidth","plotHeight","targetInfo","relativeData","getFilteredData","slide","HeatmapBackground","renderColorBackground","renderImageBackground","callbackCfg","HeatmapLayer","heatmapLegend","defaultConfig","MatrixLegend","colorStep","gradientColor","ticklineStyle","tri_path","tri_height","anchorStyle","tri_width","labelEventName","moveAnchor","getCirclePath","getCircleCurve","MatrixLabels","mappingColor","MatrixLayer","gridSize","forceSquare","xCount","yCount","matrixLegend","changeShape","circleToRect","rectToCircle","mappingSize","rectSizeMapping","circleSizeMapping","disableMappingSize","rectDisableSizeMapping","circleDisableSizeMapping","getGridSize","addRect","addCircle","shapeSize","sizeRatio","curvePath","ps","offsetRatio","circlePath","Matrix","fillAttrs","leaderLine","linkPath","WaterfallLabels","shapeBox","VALUE_FIELD","yPos","DiffLabel","IS_TOTAL","formattedText","waterfall","WaterfallLayer","diffLabel","showTotal","waterfallStyle","adjustLegendOptions","_parseStyle","prevValue","risingColor_1","fallingColor_1","totalColor_1","rising","falling","Waterfall","dice","root","node_x","node_y","squarify","sumValue","beta","newRatio","nodeValue","Breadcrumb","listeners","onItemGroupToggleActive","itemActiveBackgroundStyle","itemBackgroundStyle","offEvents","itemPadding","separator","separatorStyle","renderInner","topPadding","rightPadding","bottomPadding","leftPadding","backgroundRect","textShapeBBox","backgroundRectAttr","sepShape","itemGroups","emitEventName","clickCallback","dblclickCallback","mouseEnterCallback","mouseLeaveCallback","BaseComponent","getGroup","getTemShapes","geometry","tem_shapes","rollingUp","hideLabel","tem_container","getRect","findShapeByName","containerParent","shrinkTemp","DrillDownInteraction","startNode","currentNode","depth","currentDepth","tem_cliper","drillingDown","tempoData","getTreemapData","breadcrumb","getItems","initGeometry","saveOriginMapping","startNodeName","onInteraction","rootItem","getRootItem","parents","findParent","updateRoot","previousDepth","rootData","mappingInfo","originMapping","mappingCfg","drilldown","onRectClick","onRectDblclick","onRectMousemove","onRectMouseenter","onRectMouseleave","onRectMousedown","onRectMouseup","onRectContextmenu","tailWidth","abbreviateWidth","TreemapLabels","maxLevel","isLeafNode","isLeaf","LEAF_LABEL_OFFSET","leafText","labelText","sizeOffset","TreemapLayer","isDrilldown","treemapData","getAllNodes","beforInit","interactionCfg","inter","Ctr","cliperHeight","parentLabelOffset","c_rows","fillColorField","fieldName","PARENT_NODE_OFFSET","Treemap","StepLineLayer","StepLine","WordCloudTooltips","setImmediate","msSetImmediate","webkitSetImmediate","mozSetImmediate","oSetImmediate","postMessage","callbacks","message","evt","stopImmediatePropagation","clearImmediate","msClearImmediate","webkitClearImmediate","mozClearImmediate","oClearImmediate","isSupported","fillText","minFontSize","hanWidth","mWidth","shuffleArray","settings","maxFontSize","clearCanvas","drawOutOfBound","drawMask","maskColor","maskGapWidth","wait","abortThreshold","abort","minRotation","maxRotation","rotateRatio","rotationSteps","shuffle","ellipticity","classes","onWordCloudHover","onWordCloudClick","interactionItems","fontKey","maxWeight","weight","isCardioid","thetaPrime","ngx","ngy","escapeTime","getTextColor","maskRectWidth","rotationRange","random_hsl_color","getTextClasses","hovered","infoGrid","getInfoGridFromMouseTouchEvent","touches","eventX","eventY","defaultHoverAction","dimension","wordcloudhover","wordcloudclick","pointsAtRadius","getPointsAtRadius","exceedTime","getTextInfo","rotateDeg","getRealFontSize","mu","fcanvas","fctx","willReadFrequently","fw","fh","boxWidth","boxHeight","fgw","fgh","imageData","fillTextOffsetX","fillTextOffsetY","cgh","cgw","gy","occupied","gx","bounds","singleGridLoop","gw","gh","fillTextWidth","fillTextHeight","attributes","refresh","getInteractionItemById","save","transX","transY","restore","transformRule","styleRules","whiteSpace","webkitTransform","msTransform","transformOrigin","webkitTransformOrigin","msTransformOrigin","cssProp","attribute","fillGridAt","fillRect","tryToPutWordAtPoint","gxy","py","canFitText","updateGrid","rot","putWord","sendEvent","cancelable","detail","createEvent","initCustomEvent","dispatchEvent","loopingFunction","stoppingFunction","bctx","bgPixel","webkitTapHighlightColor","stopInteraction","listener","anotherWordCloudStart","loop","canceled","WordCloudLayer","_toolTipsAction","_toolTips","layerX","layerY","_configHoverAction","_enableToolTips","enableToolTips","_initToolTips","_render","_targetCanvas","maskImage","_handleMaskImage","crossOrigin","onload","naturalHeight","naturalWidth","_startWithMaskImage","onerror","_handleG2PlotConfig","wordStyle","rotation","_scaleMaskImageCanvas","_transformWhite2BlackPixels","maskImageCanvas","maskImageContext","newImageData","createImageData","maskCanvasScaled","imageSmoothingEnabled","WordCloud","autoAdjustColor","RoseLabels","categoryField","adjustField","labelAnchor","adjustTextAlign","RoseLayer","sectorStyle","adjustColorFieldMapping","adjustRoseAdjust","adjustLabelOptions","Rose","TinyLayer","defaultGuidelineCfg","Marker","updateCfg","origin_attr","progressSize","onProgressClick","onProgressDblclick","onProgressMousemove","onProgressMousedown","onProgressMouseup","onProgressMouseenter","onProgressMouseleave","onProgressContextmenu","progress","ProgressLayer","isEntered","processProps","barSize","barStyle","progressStyle","parseColorProps","styleUpdateAnimation","updateColorConfigByStyle","updateMarkers","markers","progressContainer","colorOption","markerLength","animationOptions","getUpdateAnimationOptions","progressShapes","Progress","preShapeInfo","setShapeInfo","prePath","createClip","getShapeInfo","getAnchor","direction_1","getDirection","onRingProgressClick","onRingProgressDblclick","onRingProgressMousemove","onRingProgressMousedown","onRingProgressMouseup","onRingProgressMouseenter","onRingProgressMouseleave","onRingProgressContextmenu","RingProgressLayer","getThickness","RingProgress","TinyColumnLayer","columnSize","columnNumber","getColumnNum","TinyColumn","TinyAreaLayer","TinyArea","TinyLineLayer","TinyLine","ComboPlot","getGlobalOptions","createComboLayers","globalOptions","SINGLE_TYPE","isSingleGraph","createLegend","legendTheme","maxSize","CanvasCategory","filteredValue","isSingle","addLegendInteraction","paddingBbox","getOverlappingPadding","top_padding","mergeAxisScale","axisInfo","axisOptions","sameScaleTest","axisInfo_2","getCatScale","getLinearScale","mergeXAxis","synchroTick","isSameScale","calValues","linearScale","mergeYAxis","scaleMin","scaleMax","axisInfo_1","sampleDataSource","originalData","sampleField","axisInfo_3","tickValues","getAxisTicks","toAxisStyle","axesLayout","xAxisScale","paddingComponents","xAxisHeight","yAxisScale","leftAxis","leftContainer","leftBbox","temp_width","axisLayout","axisPadding","ypos_1","tooltipCfg","tooltipTheme","tooltipItems","shapeObject","getItemMarker","getShapeByX","ks","getDataByTitle","indexOfArray","getUniqueItems","OverlappedComboPlot","colorMapping","legendInfo","globalComponents","singleGeomCount","backLayer","layerCfg","overlapConfig","getOverlappedConfig","viewLayerCtr","viewLayerProps","scalesInfo","singleGraph","scaleInfo","markerColor","markerValue","markerItem","topLayer","colorCfg","single","overlappingLegend","legendPadding","axisComponents","containerLayer","clearComponents","DataStat","http","post","then","commonNavs","renderColumnPlot","columnPlot","sales","renderRingPlot","ringPlot","renderLiquidPlot","liquidPlot","showValue","React","Component","_keys","proto","predicate","_predicate","fromIndex","flattenDeep","arrPrototype","indexes","comparer","keys_1","prop","resultArr","sources","tmpMap","0","paramsCondition_1","unique","numColorCache","r1","r3","r4","isNumberEqual","maxData","minData","DEGREE","RADIAN","substring","objectProto","HTMLDocument","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","_mix","mix","src1","src2","src3","immediate","timeout","later","callNow","memoized","resolver","Map","_deepMix","subclass","superclass","overrides","staticOverrides","Tmp","superObj","other","valueKeys","otherKeys","identity","object","keyArr","throttled","remaining","trailing","cancel","prefix","delete","_extendStatics","__extends","_assign","__decorate","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","rejected","done","__generator","sent","trys","ops","verb","op","__exportStar","exports","__values","__read","ar","__spread","__spreadArrays","il","jl","__await","__asyncGenerator","asyncIterator","resume","fulfill","settle","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","__esModule","__importDefault","module","toStringTag","setMatrixArrayType","ARRAY_TYPE","toRadian","equals","Float32Array","RANDOM","fromTranslation","fromRotation","fromScaling","parsePathArray","O","I","N","L","B","R","F","DOMUtil","DomUtil","MatrixUtil","PathUtil","arrayUtil","domUtil","eventUtil","formatUtil","mathUtil","matrixUtil","objectUtil","stringUtil","pathUtil","typeUtil","augment","debounce","deepMix","each","extend","groupBy","groupToMap","isEmpty","isEqualWith","pick","throttle","toArray","uniqueId","createDom","getOuterHeight","getOuterWidth","getRatio","getStyle","modifyCSS","attachEvent","detachEvent","tbody","thead","tfoot","td","th","documentElement","clientTop","clientLeft","devicePixelRatio","getComputedStyle","currentStyle","contains","difference","flatten","merge","pull","pullAt","sortBy","union","uniq","valuesOfKey","_n","getWrapBehavior","wrapBehavior","_n2","number2color","numberToColor","parseRadius","clamp","fixedBase","isDecimal","isEven","isNegative","isPositive","maxBy","minBy","snapEqual","toDegree","toInt","toInteger","vec3","mul","fromMat4","copy","fromValues","adjoint","determinant","fromMat2d","fromQuat","normalFromMat4","projection","frob","multiplyScalar","multiplyScalarAndAdd","exactEquals","sqrLen","sqrDist","div","divide","scaleAndAdd","squaredDistance","squaredLength","negate","transformMat2","transformMat2d","transformMat4","hermite","bezier","transformQuat","rotateX","rotateY","rotateZ","forIn","hasKey","hasValue","isMatch","catmullRomToBezier","fillPath","fillPathByDiff","formatPath","intersection","pathIntersection","path2absolute","path2curve","_s","r0","t1","t2","segment1","segment2","bez1","bez2","lc","lowerCase","lowerFirst","substitute","uc","upperCase","upperFirst","isArrayLike","isBoolean","isFunction","isNil","isNull","isNumber","isObject","isObjectLike","isPlainObject","isPrototype","isType","isUndefined","isString","isRegExp","isDate","isArguments","isError","_r","throw","return","createPath","afterPath","isPointInPath","drawInner","hasFill","hasStroke","isHitBox","isHit","calculateBox","getHitLineWidth","lineAppendWidth","clearTotalMatrix","totalMatrix","clearBBox","pointDistance","polyline","cubicline","quadraticline","arcline","nearAngle","projectPoint","preSegment","isLast","subStart","endTangent","startTangent","isInside","lineTo","quadraticCurveTo","bezierCurveTo","extrema","at","xExtrema","xAt","yExtrema","yAt","arrowLength","arrowAngle","startArrow","endArrow","setTransform","addStartArrow","addEndArrow","initTransform","initAnimate","initTimer","fromAttrs","toAttrs","fromMatrix","toMatrix","startTime","addAnimator","isPaused","pauseAnimate","pauseTime","resumeAnimate","_paused","_pauseTime","bubbles","defaultPrevented","propagationStopped","removed","derivativeAt","Dom","Ellipse","Polyline","canStroke","getDefaultAttrs","_getPath","hasUpdate","_beforeRenderUI","_bindUI","contain","_setCfgProperty","timeline","getFirst","getLast","getCount","_t2","findById","findAllBy","BBox","Event","Group","PathSegment","Shapes","__assign","eventEnable","widthCanvas","heightCanvas","widthStyle","heightStyle","canvasDOM","_setGlobalParam","_setContainer","_initPainter","_scale","registerEvent","renderType","exec","painter","_resize","getClientByPoint","getRenderer","_drawSync","drawSync","stop","targetTouches","changedTouches","_getEmitter","getEvents","_getClientXY","_emitEvent","svg","beforeDraw","animateHandler","toDraw","_drawGroup","setContext","_drawShape","restoreContext","resetTransform","resetContext","setLineDash","addColorStop","createLinearGradient","createRadialGradient","createPattern","complete","ellipse","fan","lineDashOffset","miterLimit","preserveAspectRatio","alphabetic","hanging","_drawChildren","tobeRemoved","_updateShape","hasAttribute","removeAttribute","_setClip","_setShadow","_updateFan","_assembleMarker","_assembleRect","_setAttribute","_updateText","_setTransform","getDefaultArrow","addArrow","_setColor","_setImage","_formatPath","createElementNS","insertBefore","nodeName","ImageData","_setFont","_setText","detect","addClip","addGradient","addPattern","addShadow","os","BrowserInfo","platform","NodeInfo","bot","BotInfo","navigator","userAgent","parseUserAgent","detectOS","getNodeVersion","run","fun","nextTick","browser","env","argv","versions","addListener","once","removeListener","removeAllListeners","prependListener","prependOnceListener","binding","cwd","chdir","umask","defaultArrow","shadowOpacity","_parseShadow","_setDefaultPath","_setMarker","cloneNode","_setAttr","_afterSetAttrPath","_getMatrixByRoot","getTotalMatrix","getDefaultCfg","_beforeSetZIndex","_beforeSetLoading","getParent","toFront","toBack","firstChild","_events","getAll","foreignObject","srcElement","pathFormatted","interpolate","interpolateArray","animators","removeAnimator","isAnimating","stopAllAnimations","clockwise","getStartTangent","getEndTangent","swidth","sheight","_setAttrImg","_drawImage","HTMLImageElement","getPoint","_setTcache","curve","tCache","_calculateCurve","lineCount","textArr","_assembleFont","_setAttrText","_getTextHeight","_getSpaceingY","_drawTextArr","strokeText","JSON","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","formatHex","formatRgb","displayable","hex","formatHsl","brighter","darker","gamma","$","K","J","tt","U","setTime","V","Z","G","et","lastIndex","valueOf","translateX","translateY","skewX","ot","st","ut","defaultView","getPropertyValue","ct","baseVal","consolidate","lt","SQRT2","ht","ft","pt","dt","vt","yt","gt","mt","bt","wt","It","Tt","St","_t","Mt","At","Pt","kt","Ot","Ct","Et","Nt","jt","qt","Bt","Rt","Ft","Dt","Wt","Yt","Ht","Ut","Xt","zt","Qt","Vt","Zt","overshoot","period","performance","_call","_time","_next","restart","clearInterval","setInterval","add_event_listener_1","create_dom_1","get_height_1","get_outer_height_1","get_outer_width_1","get_ratio_1","get_style_1","get_width_1","modify_css_1","api","cms","gms","axios","defaults","baseURL","withCredentials","CancelToken","onFetchFail","err","onFetchSuccess","status","destroyAll","confirm","onOk","location","href","url","cancelToken","cleanData","handleObject","clean","catch","upload","headers","includeEmptyString","newObj","createChainedFunction","addEventListenerWrap","unstable_batchedUpdates","EventEmitter","wildcardEvents","doEmit","es","ContainerRender","_getPrototypeOf2","_len","_key","removeContainer","unmountComponentAtNode","renderComponent","ready","forceRender","getContainer","_component","unstable_renderSubtreeIntoContainer","autoMount","autoDestroy","propTypes","bool","any","isRequired","defaultProps","Portal","createContainer","prevProps","didUpdate","_container","forceUpdate","createPortal","wrapCallback","ne","_EventObject2","_ret","useCapture","_EventObject","RGB_REG","arr2rgb","toHex","iEl","x16Value","createTmp","colorArray","fixedPercent","calColor","is_type_1","_interopRequireDefault","_EventBaseObject2","_objectAssign2","commonProps","isNullOrUndefined","eventNormalizers","fix","nativeEvent","which","charCode","keyCode","metaKey","ctrlKey","deltaX","deltaY","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","VERTICAL_AXIS","eventDoc","doc","button","ownerDocument","scrollLeft","scrollTop","relatedTarget","fromElement","toElement","retTrue","retFalse","DomEventObject","isNative","cancelBubble","isDefaultPrevented","getPreventDefault","returnValue","fixFns","normalizer","nodeType","fixFn","EventBaseObjectProto","returnFalse","returnTrue","EventBaseObject","isEventObject","isPropagationStopped","isImmediatePropagationStopped","halt","tslib_1","const_1","SLIDER_HEIGHT","TEXT_OFFSET","is_array_1","is_object_1","g_1","base_1","slider_1","constant_1","_initDefaultCfg","_calcPercent","_calcValue","ALL_Q","splitPoints","TABLE","TABLE_TR","FRAGMENT_REG","CONTAINERS","bTop","pTop","pBottom","bLeft","pLeft","pRight","bRight","mRight","css","glMatrix","m00","m01","m02","m10","m11","m12","m20","m21","m22","a01","a02","a12","a00","a10","a11","a20","a21","a22","b01","b11","b21","det","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","a03","a13","a23","a30","a31","a32","a33","b00","b02","b03","b04","b05","b06","b07","b08","b09","b10","a3","a4","a5","a6","a7","a8","b0","b1","b2","b3","b4","b5","b6","b7","b8","_interopRequireWildcard","b12","b20","b22","sinC","cosC","len1","len2","cosine","vec","stride","az","bz","factorTimes2","factor1","factor2","factor3","factor4","inverseFactor","inverseFactorTimesTwo","zScale","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","tempA","tempB","is_object_like_1","is_array_like_1","is_string_1","continuous_1","category_1","HtmlCategory","size_1","color_1","color_util_1","canvas_1","html_1","util_1","arrow_1","Util","extended_1","_setTicks","_value","_transform","range0","range1","maxTickCount","_setDomain","tickMin","tickMax","_getAlgoParams","adjustTicks","tickCnt","algoParam","_Q","FUNC_ERROR_TEXT","PLACEHOLDER","wrapFlags","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChar","reHasRegExpChar","reTrim","reTrimStart","reTrimEnd","reWrapComment","reWrapDetails","reSplitDetails","reAsciiWord","reEscapeChar","reEsTemplate","reFlags","reIsBadHex","reIsBinary","reIsHostCtor","reIsOctal","reIsUint","reLatin","reNoMatch","reUnescapedString","rsComboRange","rsComboMarksRange","rsBreakRange","rsMathOpRange","rsAstral","rsBreak","rsCombo","rsDigits","rsDingbat","rsLower","rsMisc","rsFitz","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsMiscLower","rsMiscUpper","reOptMod","rsSeq","rsEmoji","rsSymbol","reApos","reComboMark","reUnicode","reUnicodeWord","reHasUnicode","reHasUnicodeWord","contextProps","templateCounter","typedArrayTags","cloneableTags","stringEscapes","freeParseFloat","freeParseInt","freeGlobal","global","freeSelf","Function","freeExports","freeModule","moduleExports","freeProcess","nodeUtil","types","require","nodeIsArrayBuffer","isArrayBuffer","nodeIsDate","nodeIsMap","isMap","nodeIsRegExp","nodeIsSet","isSet","nodeIsTypedArray","isTypedArray","arrayAggregator","setter","iteratee","accumulator","arrayEach","arrayEachRight","arrayEvery","arrayFilter","resIndex","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayMap","arrayPush","arrayReduce","initAccum","arrayReduceRight","arraySome","asciiSize","baseProperty","baseFindKey","collection","eachFunc","baseFindIndex","fromRight","strictIndexOf","baseIsNaN","baseIndexOfWith","baseMean","baseSum","basePropertyOf","baseReduce","baseTimes","baseUnary","baseValues","cacheHas","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","countHolders","placeholder","deburrLetter","escapeHtmlChar","escapeStringChar","chr","hasUnicode","mapToArray","overArg","replaceHolders","setToArray","setToPairs","stringSize","unicodeSize","stringToArray","unicodeToArray","asciiToArray","unescapeHtmlChar","runInContext","arrayProto","funcProto","coreJsData","funcToString","idCounter","maskSrcKey","uid","IE_PROTO","nativeObjectToString","objectCtorString","oldDash","reIsNative","Buffer","Uint8Array","allocUnsafe","getPrototype","objectCreate","spreadableSymbol","isConcatSpreadable","symIterator","symToStringTag","getNative","ctxClearTimeout","ctxNow","ctxSetTimeout","nativeCeil","nativeFloor","nativeGetSymbols","nativeIsBuffer","isBuffer","nativeIsFinite","nativeJoin","nativeKeys","nativeMax","nativeMin","nativeNow","nativeParseInt","nativeRandom","nativeReverse","DataView","Set","WeakMap","nativeCreate","metaMap","realNames","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","symbolToString","lodash","LazyWrapper","LodashWrapper","wrapperClone","baseCreate","baseLodash","chainAll","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","Hash","entries","entry","ListCache","MapCache","SetCache","__data__","arrayLikeKeys","inherited","isArr","isArg","isBuff","skipIndexes","isIndex","arraySample","baseRandom","arraySampleSize","shuffleSelf","copyArray","baseClamp","arrayShuffle","assignMergeValue","eq","baseAssignValue","assignValue","objValue","assocIndexOf","baseAggregator","baseEach","baseAssign","copyObject","baseAt","paths","skip","baseClone","bitmask","customizer","stack","isDeep","isFlat","isFull","input","initCloneArray","getTag","isFunc","cloneBuffer","initCloneObject","getSymbolsIn","copySymbolsIn","keysIn","baseAssignIn","getSymbols","copySymbols","cloneArrayBuffer","dataView","buffer","byteOffset","byteLength","cloneDataView","cloneTypedArray","regexp","cloneRegExp","initCloneByTag","stacked","subValue","getAllKeysIn","getAllKeys","baseConformsTo","baseDelay","baseDifference","isCommon","valuesLength","outer","computed","valuesIndex","templateSettings","getMapData","LARGE_ARRAY_SIZE","createBaseEach","baseForOwn","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","isSymbol","baseFilter","baseFlatten","isStrict","isFlattenable","baseFor","createBaseFor","baseForRight","baseFunctions","baseGet","castPath","toKey","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","isOwn","unmasked","getRawTag","objectToString","baseGt","baseHas","baseHasIn","baseIntersection","arrays","othLength","othIndex","seen","baseInvoke","baseIsArguments","baseIsEqual","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","isPartial","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","skipCtor","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsMatch","matchData","noCustomizer","srcValue","COMPARE_PARTIAL_FLAG","baseIsNative","baseIteratee","baseMatchesProperty","baseMatches","baseKeys","baseKeysIn","nativeKeysIn","isProto","baseLt","baseMap","getMatchData","matchesStrictComparable","isKey","isStrictComparable","hasIn","baseMerge","srcIndex","mergeFunc","safeGet","newValue","isTyped","isArrayLikeObject","toPlainObject","baseMergeDeep","baseNth","baseOrderBy","iteratees","orders","getIteratee","baseSortBy","objCriteria","criteria","othCriteria","ordersLength","compareAscending","compareMultiple","basePickBy","baseSet","basePullAll","basePullAt","baseUnset","baseRepeat","baseRest","setToString","overRest","baseSample","baseSampleSize","nested","baseSetData","baseSetToString","constant","baseShuffle","baseSlice","baseSome","baseSortedIndex","retHighest","low","high","MAX_ARRAY_LENGTH","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","baseSortedUniq","baseToNumber","baseToString","baseUniq","createSet","seenIndex","baseUpdate","updater","baseWhile","isDrop","baseWrapperValue","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","stringToPath","castRest","castSlice","arrayBuffer","typedArray","valIsDefined","valIsReflexive","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","isNew","createAggregator","initializer","createAssigner","assigner","guard","isIterateeCall","iterable","createCaseFirst","methodName","createCompounder","words","deburr","createCtor","thisBinding","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","getFuncName","funcName","isLaziable","plant","createHybrid","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isFlip","getHolder","holdersCount","newHolders","createRecurry","reorder","createInverter","toIteratee","baseInverter","createMathOperation","operator","createOver","arrayFunc","createPadding","charsLength","createRange","toFinite","baseRange","createRelationalOperation","toNumber","wrapFunc","isCurry","setData","setWrapToString","createRound","pair","createToPairs","baseToPairs","createWrap","srcBitmask","newBitmask","isCombo","createCurry","createPartial","createBind","customDefaultsAssignIn","customDefaultsMerge","customOmitClone","arrLength","arrValue","otherFunc","isKeyable","stubArray","hasPath","hasFunc","isLength","ArrayBuffer","ctorString","isMaskable","stubFalse","otherArgs","oldArray","shortOut","reference","details","insertWrapDetails","updateWrapDetails","getWrapDetails","lastCalled","stamp","rand","memoize","memoizeCapped","charCodeAt","quote","subString","differenceBy","differenceWith","findIndex","findLastIndex","mapped","intersectionBy","intersectionWith","pullAll","unionBy","unionWith","unzip","unzipWith","without","xor","xorBy","xorWith","zip","zipWith","interceptor","wrapperAt","countBy","findLast","forEachRight","invokeMap","keyBy","partition","before","bindKey","WRAP_BIND_FLAG","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","maxing","invokeFunc","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","flush","defer","overArgs","transforms","funcsLength","partial","partialRight","rearg","gte","lte","iteratorToArray","toLength","isBinary","assignIn","assignInWith","assignWith","propsIndex","propsLength","defaultsDeep","mergeWith","invertBy","invoke","omit","CLONE_DEEP_FLAG","basePick","pickBy","toPairs","toPairsIn","camelCase","capitalize","kebabCase","snakeCase","startCase","pattern","hasUnicodeWord","unicodeWords","asciiWords","attempt","bindAll","methodNames","flow","flowRight","methodOf","mixin","over","overEvery","overSome","basePropertyDeep","rangeRight","augend","addend","dividend","divisor","multiplier","multiplicand","minuend","subtrahend","after","castArray","chunk","compact","cond","conforms","baseConforms","properties","curry","curryRight","drop","dropRight","dropRightWhile","dropWhile","baseFill","flatMap","flatMapDeep","flatMapDepth","flattenDepth","flip","fromPairs","functions","functionsIn","mapKeys","mapValues","matchesProperty","nthArg","omitBy","orderBy","propertyOf","pullAllBy","pullAllWith","sampleSize","setWith","sortedUniq","sortedUniqBy","limit","spread","tail","take","takeRight","takeRightWhile","takeWhile","tap","toPath","isArrLike","unary","uniqBy","uniqWith","unset","updateWith","valuesIn","zipObject","zipObjectDeep","entriesIn","extendWith","cloneDeep","cloneDeepWith","cloneWith","conformsTo","defaultTo","escape","escapeRegExp","findKey","findLastKey","forInRight","forOwn","forOwnRight","inRange","baseInRange","isElement","isMatchWith","isSafeInteger","isWeakMap","isWeakSet","lastIndexOf","strictLastIndexOf","mean","meanBy","stubObject","stubString","stubTrue","nth","noConflict","strLength","padEnd","padStart","radix","floating","reduceRight","sample","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","startsWith","sumBy","template","isEscaping","isEvaluating","imports","importsKeys","importsValues","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","variable","toLower","toSafeInteger","toUpper","trimEnd","trimStart","truncate","omission","search","newEnd","unescape","eachRight","VERSION","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","getView","iterLength","takeCount","iterIndex","commit","wrapped","toJSON","crosshair_1","theme_1","position_1","mergeStyles"],"mappings":"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","file":"static/js/13.9b211a76.chunk.js","sourcesContent":["function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Grid = function Grid(props) {\n  return React.createElement(ConfigConsumer, null, function (_ref) {\n    var getPrefixCls = _ref.getPrefixCls;\n\n    var customizePrefixCls = props.prefixCls,\n        className = props.className,\n        _props$hoverable = props.hoverable,\n        hoverable = _props$hoverable === void 0 ? true : _props$hoverable,\n        others = __rest(props, [\"prefixCls\", \"className\", \"hoverable\"]);\n\n    var prefixCls = getPrefixCls('card', customizePrefixCls);\n    var classString = classNames(\"\".concat(prefixCls, \"-grid\"), className, _defineProperty({}, \"\".concat(prefixCls, \"-grid-hoverable\"), hoverable));\n    return React.createElement(\"div\", _extends({}, others, {\n      className: classString\n    }));\n  });\n};\n\nexport default Grid;","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Meta = function Meta(props) {\n  return React.createElement(ConfigConsumer, null, function (_ref) {\n    var getPrefixCls = _ref.getPrefixCls;\n\n    var customizePrefixCls = props.prefixCls,\n        className = props.className,\n        avatar = props.avatar,\n        title = props.title,\n        description = props.description,\n        others = __rest(props, [\"prefixCls\", \"className\", \"avatar\", \"title\", \"description\"]);\n\n    var prefixCls = getPrefixCls('card', customizePrefixCls);\n    var classString = classNames(\"\".concat(prefixCls, \"-meta\"), className);\n    var avatarDom = avatar ? React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-avatar\")\n    }, avatar) : null;\n    var titleDom = title ? React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-title\")\n    }, title) : null;\n    var descriptionDom = description ? React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-description\")\n    }, description) : null;\n    var MetaDetail = titleDom || descriptionDom ? React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-detail\")\n    }, titleDom, descriptionDom) : null;\n    return React.createElement(\"div\", _extends({}, others, {\n      className: classString\n    }), avatarDom, MetaDetail);\n  });\n};\n\nexport default Meta;","import { Row } from '../grid';\nexport default Row;","import { Col } from '../grid';\nexport default Col;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport Grid from './Grid';\nimport Meta from './Meta';\nimport Tabs from '../tabs';\nimport Row from '../row';\nimport Col from '../col';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\n\nfunction getAction(actions) {\n  var actionList = actions.map(function (action, index) {\n    return (// eslint-disable-next-line react/no-array-index-key\n      React.createElement(\"li\", {\n        style: {\n          width: \"\".concat(100 / actions.length, \"%\")\n        },\n        key: \"action-\".concat(index)\n      }, React.createElement(\"span\", null, action))\n    );\n  });\n  return actionList;\n}\n\nvar Card =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Card, _React$Component);\n\n  function Card() {\n    var _this;\n\n    _classCallCheck(this, Card);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Card).apply(this, arguments));\n\n    _this.onTabChange = function (key) {\n      if (_this.props.onTabChange) {\n        _this.props.onTabChange(key);\n      }\n    };\n\n    _this.renderCard = function (_ref) {\n      var _classNames, _extraProps;\n\n      var getPrefixCls = _ref.getPrefixCls;\n\n      var _a = _this.props,\n          customizePrefixCls = _a.prefixCls,\n          className = _a.className,\n          extra = _a.extra,\n          _a$headStyle = _a.headStyle,\n          headStyle = _a$headStyle === void 0 ? {} : _a$headStyle,\n          _a$bodyStyle = _a.bodyStyle,\n          bodyStyle = _a$bodyStyle === void 0 ? {} : _a$bodyStyle,\n          title = _a.title,\n          loading = _a.loading,\n          _a$bordered = _a.bordered,\n          bordered = _a$bordered === void 0 ? true : _a$bordered,\n          _a$size = _a.size,\n          size = _a$size === void 0 ? 'default' : _a$size,\n          type = _a.type,\n          cover = _a.cover,\n          actions = _a.actions,\n          tabList = _a.tabList,\n          children = _a.children,\n          activeTabKey = _a.activeTabKey,\n          defaultActiveTabKey = _a.defaultActiveTabKey,\n          tabBarExtraContent = _a.tabBarExtraContent,\n          others = __rest(_a, [\"prefixCls\", \"className\", \"extra\", \"headStyle\", \"bodyStyle\", \"title\", \"loading\", \"bordered\", \"size\", \"type\", \"cover\", \"actions\", \"tabList\", \"children\", \"activeTabKey\", \"defaultActiveTabKey\", \"tabBarExtraContent\"]);\n\n      var prefixCls = getPrefixCls('card', customizePrefixCls);\n      var classString = classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-loading\"), loading), _defineProperty(_classNames, \"\".concat(prefixCls, \"-bordered\"), bordered), _defineProperty(_classNames, \"\".concat(prefixCls, \"-hoverable\"), _this.getCompatibleHoverable()), _defineProperty(_classNames, \"\".concat(prefixCls, \"-contain-grid\"), _this.isContainGrid()), _defineProperty(_classNames, \"\".concat(prefixCls, \"-contain-tabs\"), tabList && tabList.length), _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(size), size !== 'default'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-type-\").concat(type), !!type), _classNames));\n      var loadingBlockStyle = bodyStyle.padding === 0 || bodyStyle.padding === '0px' ? {\n        padding: 24\n      } : undefined;\n      var loadingBlock = React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-content\"),\n        style: loadingBlockStyle\n      }, React.createElement(Row, {\n        gutter: 8\n      }, React.createElement(Col, {\n        span: 22\n      }, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-block\")\n      }))), React.createElement(Row, {\n        gutter: 8\n      }, React.createElement(Col, {\n        span: 8\n      }, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-block\")\n      })), React.createElement(Col, {\n        span: 15\n      }, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-block\")\n      }))), React.createElement(Row, {\n        gutter: 8\n      }, React.createElement(Col, {\n        span: 6\n      }, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-block\")\n      })), React.createElement(Col, {\n        span: 18\n      }, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-block\")\n      }))), React.createElement(Row, {\n        gutter: 8\n      }, React.createElement(Col, {\n        span: 13\n      }, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-block\")\n      })), React.createElement(Col, {\n        span: 9\n      }, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-block\")\n      }))), React.createElement(Row, {\n        gutter: 8\n      }, React.createElement(Col, {\n        span: 4\n      }, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-block\")\n      })), React.createElement(Col, {\n        span: 3\n      }, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-block\")\n      })), React.createElement(Col, {\n        span: 16\n      }, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-block\")\n      }))));\n      var hasActiveTabKey = activeTabKey !== undefined;\n      var extraProps = (_extraProps = {}, _defineProperty(_extraProps, hasActiveTabKey ? 'activeKey' : 'defaultActiveKey', hasActiveTabKey ? activeTabKey : defaultActiveTabKey), _defineProperty(_extraProps, \"tabBarExtraContent\", tabBarExtraContent), _extraProps);\n      var head;\n      var tabs = tabList && tabList.length ? React.createElement(Tabs, _extends({}, extraProps, {\n        className: \"\".concat(prefixCls, \"-head-tabs\"),\n        size: \"large\",\n        onChange: _this.onTabChange\n      }), tabList.map(function (item) {\n        return React.createElement(Tabs.TabPane, {\n          tab: item.tab,\n          disabled: item.disabled,\n          key: item.key\n        });\n      })) : null;\n\n      if (title || extra || tabs) {\n        head = React.createElement(\"div\", {\n          className: \"\".concat(prefixCls, \"-head\"),\n          style: headStyle\n        }, React.createElement(\"div\", {\n          className: \"\".concat(prefixCls, \"-head-wrapper\")\n        }, title && React.createElement(\"div\", {\n          className: \"\".concat(prefixCls, \"-head-title\")\n        }, title), extra && React.createElement(\"div\", {\n          className: \"\".concat(prefixCls, \"-extra\")\n        }, extra)), tabs);\n      }\n\n      var coverDom = cover ? React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-cover\")\n      }, cover) : null;\n      var body = React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-body\"),\n        style: bodyStyle\n      }, loading ? loadingBlock : children);\n      var actionDom = actions && actions.length ? React.createElement(\"ul\", {\n        className: \"\".concat(prefixCls, \"-actions\")\n      }, getAction(actions)) : null;\n      var divProps = omit(others, ['onTabChange', 'noHovering', 'hoverable']);\n      return React.createElement(\"div\", _extends({}, divProps, {\n        className: classString\n      }), head, coverDom, body, actionDom);\n    };\n\n    return _this;\n  }\n\n  _createClass(Card, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if ('noHovering' in this.props) {\n        warning(!this.props.noHovering, 'Card', '`noHovering` is deprecated, you can remove it safely or use `hoverable` instead.');\n        warning(!!this.props.noHovering, 'Card', '`noHovering={false}` is deprecated, use `hoverable` instead.');\n      }\n    } // For 2.x compatible\n\n  }, {\n    key: \"getCompatibleHoverable\",\n    value: function getCompatibleHoverable() {\n      var _this$props = this.props,\n          noHovering = _this$props.noHovering,\n          hoverable = _this$props.hoverable;\n\n      if ('noHovering' in this.props) {\n        return !noHovering || hoverable;\n      }\n\n      return !!hoverable;\n    }\n  }, {\n    key: \"isContainGrid\",\n    value: function isContainGrid() {\n      var containGrid;\n      React.Children.forEach(this.props.children, function (element) {\n        if (element && element.type && element.type === Grid) {\n          containGrid = true;\n        }\n      });\n      return containGrid;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderCard);\n    }\n  }]);\n\n  return Card;\n}(React.Component);\n\nexport { Card as default };\nCard.Grid = Grid;\nCard.Meta = Meta;","var SECOND = 1000;\nvar MINUTE = 60 * SECOND;\nvar HOUR = 60 * MINUTE;\nvar DAY = 24 * HOUR;\nvar WEEK = DAY * 7;\nvar MONTH = DAY * 30;\nvar YEAR = DAY * 365;\nexport var timeIntervals = {\n  second: {\n    value: SECOND,\n    format: 'HH:mm:ss'\n  },\n  miniute: {\n    value: MINUTE,\n    format: 'HH:mm'\n  },\n  hour: {\n    value: HOUR,\n    format: 'HH'\n  },\n  day: {\n    value: DAY,\n    format: 'YYYY-MM-DD'\n  },\n  week: {\n    value: WEEK,\n    format: 'YYYY-MM-DD'\n  },\n  month: {\n    value: MONTH,\n    format: 'YYYY-MM'\n  },\n  year: {\n    value: YEAR,\n    format: 'YYYY'\n  }\n};","var EVENT_MAP = {\n  onViewClick: 'click',\n  onViewDblClick: 'dblclick',\n  onViewMousemove: 'mousemove',\n  onViewMousedown: 'mousedown',\n  onViewMouseup: 'mouseup',\n  onViewMouseenter: 'mouseenter',\n  onViewMouseleave: 'mouseleave',\n  onViewContextmenu: 'contextmenu',\n  onAxisClick: 'axis-label:click',\n  onAxisDblClick: 'axis-label:dblclick',\n  onAxisMousemove: 'axis-label:mousemove',\n  onAxisMousedown: 'axis-label:mousedown',\n  onAxisMouseup: 'axis-label:mouseup',\n  onAxisMouseenter: 'axis-label:mouseenter',\n  onAxisMouseleave: 'axis-label:mouseleave',\n  onAxisContextmenu: 'axis-label:contextmenu',\n  onLabelClick: 'label:click',\n  onLabelDblClick: 'label:dblclick',\n  onLabelMousemove: 'label:mousemove',\n  onLabelMouseup: 'label:mouseup',\n  onLabelMousedown: 'label:mousedown',\n  onLabelMouseenter: 'label:mouseenter',\n  onLabelMouseleave: 'label:mouseleave',\n  onLabelContextmenu: 'label:contextmenu',\n  onLegendClick: 'legend-item:click',\n  onLegendDblClick: 'legend-item:dblclick',\n  onLegendMouseMove: 'legend-item:mousemove',\n  onLegendMouseDown: 'legend-item:mousedown',\n  onLegendMouseUp: 'legend-item:mouseup',\n  onLegendMouseLeave: 'legend-item:mouseleave',\n  onLegendMouseEnter: 'legend-item:mouseenter',\n  onLegendContextmenu: 'legend-item:contextmenu'\n};\nvar CANVAS_EVENT_MAP = {\n  onPlotClick: 'click',\n  onPlotDblClick: 'dblclick',\n  onPlotMousemove: 'mousemove',\n  onPlotMousedown: 'mousedown',\n  onPlotMouseup: 'mouseup',\n  onPlotMouseenter: 'mouseenter',\n  onPlotMouseleave: 'mouseleave',\n  onPlotContextmenu: 'contextmenu',\n  onTitleClick: 'title:click',\n  onTitleDblClick: 'title:dblclick',\n  onTitleMousemove: 'title:mousemove',\n  onTitleMousedown: 'title:mousedown',\n  onTitleMouseup: 'title:mouseup',\n  onTitleMouseenter: 'title:mouseenter',\n  onTitleMouseleave: 'title:mouseleave',\n  onTitleContextmenu: 'title:contextmenu',\n  onDescriptionClick: 'description:click',\n  onDescriptionDblClick: 'description:dblclick',\n  onDescriptionMousemove: 'description:mousemove',\n  onDescriptionMousedown: 'description:mousedown',\n  onDescriptionMouseup: 'description:mouseup',\n  onDescriptionMouseenter: 'description:mouseenter',\n  onDescriptionMouseleave: 'description:mouseleave',\n  onDescriptionContextmenu: 'description:contextmenu',\n  onBreadcrumbClick: 'breadcrumb:click',\n  onBreadcrumbDblClick: 'breadcrumb:dblclick',\n  onBreadcrumbMousemove: 'breadcrumb:mousemove',\n  onBreadcrumbMousedown: 'breadcrumb:mousedown',\n  onBreadcrumbMouseup: 'breadcrumb:mouseup',\n  onBreadcrumbMouseenter: 'breadcrumb:mouseenter',\n  onBreadcrumbMouseleave: 'breadcrumb:mouseleave',\n  onBreadcrumbContextmenu: 'breadcrumb:contextmenu'\n};\nvar LAYER_EVENT_MAP = {\n  onLayerClick: 'click',\n  onLayerDblClick: 'dblclick',\n  onLayerMousemove: 'mousemove',\n  onLayerMousedown: 'mousedown',\n  onLayerMouseup: 'mouseup',\n  onLayerMouseenter: 'mouseenter',\n  onLayerMouseleave: 'mouseleave',\n  onLayerContextmenu: 'contextmenu'\n};\n\nfunction onEvent(layer, eventName, handler) {\n  layer.view.on(eventName, handler);\n}\n\nexport { EVENT_MAP, CANVAS_EVENT_MAP, LAYER_EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport EventEmitter from '@antv/event-emitter';\nimport * as G from '@antv/g';\nimport * as _ from '@antv/util';\nimport { LAYER_EVENT_MAP } from '../util/event';\n\nvar Layer =\n/** @class */\nfunction (_super) {\n  __extends(Layer, _super);\n  /**\n   * layer base for g2plot\n   */\n\n\n  function Layer(props) {\n    var _this = _super.call(this) || this;\n\n    _this.layers = [];\n    _this.destroyed = false;\n    _this.visibility = true;\n    _this.rendered = false;\n    _this.eventHandlers = [];\n    _this.options = _this.getOptions(props);\n\n    _this.processOptions(_this.options);\n\n    _this.container = new G.Group();\n    return _this;\n  }\n\n  Layer.prototype.processOptions = function (options) {\n    this.id = options.id;\n    this.x = options.x;\n    this.y = options.y;\n    this.width = options.width;\n    this.height = options.height;\n    this.canvas = options.canvas;\n    this.parent = options.parent;\n  };\n\n  Layer.prototype.updateConfig = function (cfg) {\n    this.options = _.deepMix({}, this.options, cfg);\n    this.processOptions(this.options);\n  };\n\n  Layer.prototype.beforeInit = function () {};\n  /**\n   * init life cycle\n   */\n\n\n  Layer.prototype.init = function () {\n    this.layerBBox = this.getLayerBBox();\n    this.layerRegion = this.getLayerRegion();\n    this.eachLayer(function (layer) {\n      layer.init();\n    });\n  };\n\n  Layer.prototype.afterInit = function () {};\n  /**\n   * render layer recursively\n   */\n\n\n  Layer.prototype.render = function () {\n    // fixme: 等plot不再继承layer，这个就可以挪到构造函数里去，不需要再加是否render过的判断了\n    if (!this.rendered) {\n      if (this.parent) {\n        this.parent.container.add(this.container);\n      } else {\n        this.canvas.add(this.container);\n      }\n    }\n\n    this.rendered = true;\n    this.beforeInit();\n    this.init();\n    this.afterInit();\n    this.container.transform([['t', this.x, this.y]]);\n    this.eachLayer(function (layer) {\n      layer.render();\n    });\n    this.canvas.draw();\n  };\n  /**\n   * clear layer content\n   */\n\n\n  Layer.prototype.clear = function () {\n    this.eachLayer(function (layer) {\n      layer.destroy();\n    });\n    this.layers = [];\n    this.container.clear();\n  };\n  /**\n   * destroy layer recursively, remove the container of layer\n   */\n\n\n  Layer.prototype.destroy = function () {\n    var _this = this;\n\n    this.eachLayer(function (layer) {\n      layer.destroy();\n    });\n\n    _.each(this.eventHandlers, function (h) {\n      _this.off(h.eventName, h.handler);\n    });\n\n    this.container.remove(true);\n    this.destroyed = true;\n  };\n  /**\n   * display layer\n   */\n\n\n  Layer.prototype.show = function () {\n    this.container.set('visible', true);\n    this.visibility = true;\n  };\n  /**\n   * hide layer\n   */\n\n\n  Layer.prototype.hide = function () {\n    this.container.set('visible', false);\n    this.visibility = false;\n  };\n  /**\n   * add children layer\n   * @param layer\n   */\n\n\n  Layer.prototype.addLayer = function (layer) {\n    var idx = _.findIndex(this.layers, function (item) {\n      return item === layer;\n    });\n\n    if (idx < 0) {\n      if (layer.parent !== this) {\n        layer.parent = this;\n        layer.init();\n      }\n\n      this.layers.push(layer);\n    }\n  };\n  /**\n   * remove children layer\n   * @param layer\n   */\n\n\n  Layer.prototype.removeLayer = function (layer) {\n    var idx = _.findIndex(this.layers, function (item) {\n      return item === layer;\n    });\n\n    if (idx >= 0) {\n      this.layers.splice(idx, 1);\n    }\n  };\n  /**\n   * update layer's display range\n   * @param props\n   * @param recursive whether update children layers or not\n   */\n\n\n  Layer.prototype.updateBBox = function (props, recursive) {\n    if (recursive === void 0) {\n      recursive = false;\n    }\n\n    var originRange = {\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height\n    };\n\n    var newRange = _.deepMix({}, originRange, props);\n\n    this.x = newRange.x;\n    this.y = newRange.y;\n    this.width = newRange.width;\n    this.height = newRange.height;\n    this.layerBBox = this.getLayerBBox();\n    this.layerRegion = this.getLayerRegion();\n    this.render();\n\n    if (recursive) {\n      this.eachLayer(function (layer) {\n        layer.updateBBoxByParent();\n        layer.render();\n      });\n    }\n\n    this.canvas.draw();\n  };\n  /**\n   * update display range according to parent layer's range\n   */\n\n\n  Layer.prototype.updateBBoxByParent = function () {\n    var region = this.layerRegion;\n    this.x = this.parent.x + this.parent.width * region.start.x;\n    this.y = this.parent.y + this.parent.height * region.start.y;\n    this.width = this.parent.width * (region.end.x - region.start.x);\n    this.height = this.parent.height * (region.end.y - region.start.y);\n    this.layerBBox = this.getLayerBBox();\n  };\n  /**\n   * get global position of layer\n   */\n\n\n  Layer.prototype.getGlobalPosition = function () {\n    var globalX = this.x;\n    var globalY = this.y;\n    var parent = this.parent;\n\n    while (parent) {\n      globalX += parent.x;\n      globalY += parent.y;\n      parent = parent.parent;\n    }\n\n    return {\n      x: globalX,\n      y: globalY\n    };\n  };\n\n  Layer.prototype.getGlobalBBox = function () {\n    var globalPosition = this.getGlobalPosition();\n    return new G.BBox(globalPosition.x, globalPosition.y, this.width, this.height);\n  };\n\n  Layer.prototype.getOptions = function (props) {\n    var parentWidth = 0;\n    var parentHeight = 0;\n\n    if (props.parent) {\n      parentWidth = props.parent.width;\n      parentHeight = props.parent.height;\n    }\n\n    var defaultOptions = {\n      x: 0,\n      y: 0,\n      width: parentWidth,\n      height: parentHeight\n    };\n    return _.deepMix({}, defaultOptions, props);\n  };\n\n  Layer.prototype.eachLayer = function (cb) {\n    _.each(this.layers, cb);\n  };\n\n  Layer.prototype.parseEvents = function (eventParser) {\n    var _this = this;\n\n    var eventsName = _.keys(LAYER_EVENT_MAP);\n\n    _.each(eventParser, function (e, k) {\n      if (_.contains(eventsName, k) && _.isFunction(e)) {\n        var eventName = LAYER_EVENT_MAP[k] || k;\n        var handler = e;\n\n        _this.on(eventName, handler);\n\n        _this.eventHandlers.push({\n          name: eventName,\n          handler: handler\n        });\n      }\n    });\n  };\n\n  Layer.prototype.getLayerBBox = function () {\n    return new G.BBox(this.x, this.y, this.width, this.height);\n  };\n\n  Layer.prototype.getLayerRegion = function () {\n    if (this.parent) {\n      var parentWidth = this.parent.width;\n      var parentHeight = this.parent.height;\n      var parentX = this.parent.x;\n      var parentY = this.parent.y;\n      var startX = (this.x - parentX) / parentWidth;\n      var startY = (this.y - parentY) / parentHeight;\n      var endX = (this.x + this.width - parentX) / parentWidth;\n      var endY = (this.y + this.height - parentY) / parentHeight;\n      return {\n        start: {\n          x: startX,\n          y: startY\n        },\n        end: {\n          x: endX,\n          y: endY\n        }\n      };\n    }\n\n    return {\n      start: {\n        x: 0,\n        y: 0\n      },\n      end: {\n        x: 1,\n        y: 1\n      }\n    };\n  };\n\n  return Layer;\n}(EventEmitter);\n\nexport default Layer;","var _a;\n/**\n * @description 图表默认主题\n */\n\n\nimport * as _ from '@antv/util';\nvar DEFAULT_COLOR = '#1890FF';\nvar COLOR_PLATE_10 = ['#5B8FF9', '#5AD8A6', '#5D7092', '#F6BD16', '#E8684A', '#6DC8EC', '#9270CA', '#FF9D4D', '#269A99', '#FF99C3'];\nvar COLOR_PLATE_20 = ['#5B8FF9', '#BDD2FD', '#5AD8A6', '#BDEFDB', '#5D7092', '#C2C8D5', '#F6BD16', '#FBE5A2', '#E8684A', '#F6C3B7', '#6DC8EC', '#B6E3F5', '#9270CA', '#D3C6EA', '#FF9D4D', '#FFD8B8', '#269A99', '#AAD8D8', '#FF99C3', '#FFD6E7']; // tslint:disable-next-line\n\nvar FONT_FAMILY = '\"-apple-system\", BlinkMacSystemFont, \"Segoe UI\", Roboto,\"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\",SimSun, \"sans-serif\"'; // tooltip 相关 dom 的 css 类名\n\nvar TOOLTIP_CONTAINER_CLASS = 'g2-tooltip';\nvar TOOLTIP_TITLE_CLASS = 'g2-tooltip-title';\nvar TOOLTIP_LIST_CLASS = 'g2-tooltip-list';\nvar TOOLTIP_LIST_ITEM_CLASS = 'g2-tooltip-list-item';\nvar TOOLTIP_MARKER_CLASS = 'g2-tooltip-marker';\nvar TOOLTIP_VALUE_CLASS = 'g2-tooltip-value';\nvar SHAPE_STYLE = {\n  area: {\n    lineWidth: 0,\n    fill: DEFAULT_COLOR,\n    fillOpacity: 0.6\n  },\n  hollowArea: {\n    fill: '#fff',\n    stroke: DEFAULT_COLOR,\n    fillOpacity: 0,\n    lineWidth: 2\n  },\n  box: {\n    stroke: DEFAULT_COLOR,\n    lineWidth: 1,\n    fill: null\n  },\n  edge: {\n    stroke: DEFAULT_COLOR,\n    lineWidth: 1,\n    fill: null\n  },\n  interval: {\n    lineWidth: 0,\n    fill: DEFAULT_COLOR,\n    fillOpacity: 0.85\n  },\n  hollowInterval: {\n    fill: '#fff',\n    stroke: DEFAULT_COLOR,\n    fillOpacity: 0,\n    lineWidth: 2\n  },\n  kline: {\n    fill: DEFAULT_COLOR,\n    lineWidth: 1,\n    stroke: DEFAULT_COLOR\n  },\n  line: {\n    stroke: DEFAULT_COLOR,\n    lineWidth: 2,\n    fill: null\n  },\n  polygon: {\n    lineWidth: 0,\n    fill: DEFAULT_COLOR,\n    fillOpacity: 1\n  },\n  hollowPolygon: {\n    fill: '#fff',\n    stroke: DEFAULT_COLOR,\n    fillOpacity: 0,\n    lineWidth: 2\n  },\n  point: {\n    lineWidth: 1,\n    fill: DEFAULT_COLOR,\n    radius: 4\n  },\n  hollowPoint: {\n    fill: '#fff',\n    lineWidth: 1,\n    stroke: DEFAULT_COLOR,\n    radius: 3\n  },\n  text: {\n    fill: DEFAULT_COLOR,\n    textAlign: 'center',\n    textBaseline: 'middle'\n  }\n};\n\nvar OPACITY_ACTIVE_STYLE = function OPACITY_ACTIVE_STYLE(style) {\n  var opacity = style.fillOpacity || style.opacity || 1;\n  return {\n    fillOpacity: _.clamp(opacity - 0.15, 0.1, 1),\n    strokeOpacity: _.clamp(opacity - 0.15, 0.1, 1)\n  };\n};\n\nvar LINEWIDTH_ACTIVE_STYLE = function LINEWIDTH_ACTIVE_STYLE(style) {\n  var lineWidth = style.lineWidth || 1;\n  return {\n    lineWidth: lineWidth + 1\n  };\n};\n\nvar FILLOPACITY_ACTIVE_STYLE = function FILLOPACITY_ACTIVE_STYLE(style) {\n  var fillOpacity = style.fillOpacity || style.opacity || 1;\n  return {\n    fillOpacity: _.clamp(fillOpacity - 0.15, 0.1, 1)\n  };\n};\n\nvar POINT_ACTIVE_STYLE = function POINT_ACTIVE_STYLE(style) {\n  var color = style.fill || style.fillStyle;\n  var radius = style.size || style.radius;\n  return {\n    radius: radius + 1,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 1\n  };\n};\n\nvar HOLLOW_POINT_ACTIVE_STYLE = function HOLLOW_POINT_ACTIVE_STYLE(style) {\n  var color = style.stroke || style.strokeStyle;\n  var radius = style.size || style.radius;\n  return {\n    radius: radius + 1,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 1\n  };\n};\n\nvar TEXT_ACTIVE_STYLE = function TEXT_ACTIVE_STYLE(style) {\n  var color = style.fill || style.fillStyle;\n  return {\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 1\n  };\n}; // 坐标轴的通用配置\n\n\nvar DEFAULT_AXIS_CONFIG = {\n  autoRotateLabel: true,\n  autoHideLabel: false,\n  autoRotateTitle: true,\n  showTitle: false,\n  gridType: 'line',\n  title: {\n    textStyle: {\n      fontSize: 12,\n      fill: '#ccc',\n      textBaseline: 'middle',\n      fontFamily: FONT_FAMILY,\n      textAlign: 'center'\n    },\n    offset: 20\n  },\n  label: {\n    offset: 16,\n    textStyle: {\n      fill: '#545454',\n      fontSize: 12,\n      lineHeight: 16,\n      textBaseline: 'middle',\n      fontFamily: FONT_FAMILY\n    }\n  },\n  line: {\n    lineWidth: 1,\n    stroke: '#BFBFBF'\n  },\n  tickLine: {\n    lineWidth: 1,\n    stroke: '#BFBFBF',\n    length: 4,\n    alignWithLabel: true\n  },\n  grid: {\n    stroke: '#E9E9E9',\n    lineWidth: 1,\n    lineDash: [3, 3]\n  }\n}; // 图例的通用配置\n\nvar DEFAULT_LEGEND_CONFIG = {\n  showTitle: false,\n  textStyle: {\n    fill: '#8C8C8C',\n    fontSize: 12,\n    textAlign: 'start',\n    textBaseline: 'middle',\n    lineHeight: 20,\n    fontFamily: FONT_FAMILY\n  },\n  unSelectedColor: '#bfbfbf',\n  titleStyle: {\n    fill: '#333',\n    textBaseline: 'top',\n    textAlign: 'start',\n    fontFamily: FONT_FAMILY\n  },\n  flipPage: true\n};\nvar Theme = {\n  pixelRatio: null,\n  defaultColor: DEFAULT_COLOR,\n  padding: [20, 20, 95, 80],\n  fontFamily: FONT_FAMILY,\n  colors: COLOR_PLATE_10,\n  colors_20: COLOR_PLATE_20,\n  shapes: {\n    point: ['hollowCircle', 'hollowSquare', 'hollowDiamond', 'hollowBowtie', 'hollowTriangle', 'hollowHexagon', 'cross', 'tick', 'plus', 'hyphen', 'line'],\n    line: ['line', 'dash', 'dot'],\n    area: ['area']\n  },\n  sizes: [1, 10],\n  opacities: [0.1, 0.9],\n  backgroundStyle: {\n    fill: 'rgba(255,255,255,0)'\n  },\n  axis: {\n    top: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      position: 'top',\n      grid: null\n    }),\n    bottom: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      position: 'bottom',\n      grid: null\n    }),\n    left: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      position: 'left',\n      label: {\n        offset: 8\n      },\n      line: null,\n      tickLine: null\n    }),\n    right: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      position: 'right',\n      label: {\n        offset: 8\n      },\n      line: null,\n      tickLine: null\n    }),\n    circle: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      label: {\n        offset: 8,\n        textStyle: {\n          textBaseline: 'alphabetic'\n        }\n      }\n    }),\n    radius: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      label: {\n        offset: 12\n      },\n      gridType: 'arc'\n    }),\n    helix: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      label: null,\n      grid: null\n    })\n  },\n  label: {\n    offset: 20,\n    textStyle: {\n      fill: '#545454',\n      fontSize: 12,\n      textBaseline: 'middle',\n      fontFamily: FONT_FAMILY\n    }\n  },\n  treemapLabels: {\n    offset: 10,\n    textStyle: {\n      fill: '#fff',\n      fontSize: 12,\n      textBaseline: 'top',\n      fontStyle: 'bold',\n      fontFamily: FONT_FAMILY\n    }\n  },\n  innerLabels: {\n    textStyle: {\n      fill: '#fff',\n      fontSize: 12,\n      textBaseline: 'middle',\n      fontFamily: FONT_FAMILY\n    }\n  },\n  // 在theta坐标系下的饼图文本内部的样式\n  thetaLabels: {\n    labelHeight: 14,\n    offset: 30,\n    labelLine: {\n      lineWidth: 1\n    }\n  },\n  defaultLegendPosition: 'bottom',\n  legend: {\n    right: _.deepMix({}, DEFAULT_LEGEND_CONFIG, {\n      position: 'right',\n      layout: 'vertical',\n      itemMarginBottom: 8,\n      textStyle: {\n        lineHeight: 0\n      }\n    }),\n    left: _.deepMix({}, DEFAULT_LEGEND_CONFIG, {\n      position: 'left',\n      layout: 'vertical',\n      itemMarginBottom: 8\n    }),\n    top: _.deepMix({}, DEFAULT_LEGEND_CONFIG, {\n      position: 'top',\n      layout: 'horizontal',\n      itemDistance: 10\n    }),\n    bottom: _.deepMix({}, DEFAULT_LEGEND_CONFIG, {\n      position: 'bottom',\n      layout: 'horizontal',\n      itemDistance: 10\n    }),\n    // 定义 html 渲染图例的样式\n    html: {\n      position: 'bottom',\n      layout: 'horizontal',\n      showTitle: false,\n      unSelectedColor: '#bfbfbf',\n      backgroundStyle: {\n        height: 'auto',\n        width: 'auto',\n        position: 'absolute',\n        overflow: 'auto',\n        fontSize: '12px',\n        fontFamily: FONT_FAMILY,\n        lineHeight: '20px',\n        color: '#8C8C8C'\n      },\n      titleStyle: {\n        marginBottom: '4px'\n      },\n      listStyle: {\n        listStyleType: 'none',\n        margin: 0,\n        padding: 0\n      },\n      itemStyle: {\n        cursor: 'pointer',\n        marginBottom: '5px',\n        marginRight: '24px'\n      },\n      markerStyle: {\n        width: '9px',\n        height: '9px',\n        borderRadius: '50%',\n        display: 'inline-block',\n        marginRight: '8px',\n        verticalAlign: 'middle'\n      }\n    },\n    margin: [0, 24, 24, 24],\n    legendMargin: 24\n  },\n  tooltip: (_a = {\n    useHtml: true\n  }, // css style for tooltip\n  _a[\"\" + TOOLTIP_CONTAINER_CLASS] = {\n    position: 'absolute',\n    display: 'none',\n    // @2018-07-25 by blue.lb 这里去掉浮动，火狐上存在样式错位\n    // whiteSpace: 'nowrap',\n    zIndex: 8,\n    // tslint:disable-next-line\n    transition: 'visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)',\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    boxShadow: '0px 0px 10px #aeaeae',\n    borderRadius: '3px',\n    color: 'rgb(87, 87, 87)',\n    fontSize: '12px',\n    fontFamily: FONT_FAMILY,\n    lineHeight: '20px',\n    padding: '10px 10px 6px 10px'\n  }, _a[\"\" + TOOLTIP_TITLE_CLASS] = {\n    marginBottom: '4px'\n  }, _a[\"\" + TOOLTIP_LIST_CLASS] = {\n    margin: 0,\n    listStyleType: 'none',\n    padding: 0\n  }, _a[\"\" + TOOLTIP_LIST_ITEM_CLASS] = {\n    marginBottom: '4px',\n    listStyleType: 'none',\n    padding: 0,\n    marginTop: 0,\n    marginLeft: 0,\n    marginRight: 0\n  }, _a[\"\" + TOOLTIP_MARKER_CLASS] = {\n    width: '5px',\n    height: '5px',\n    borderRadius: '50%',\n    display: 'inline-block',\n    marginRight: '8px'\n  }, _a[\"\" + TOOLTIP_VALUE_CLASS] = {\n    display: 'inline-block',\n    float: 'right',\n    marginLeft: '30px'\n  }, _a),\n  tooltipMarker: {\n    symbol: function symbol(x, y, r) {\n      return [['M', x, y], ['m', -r, 0], ['a', r, r, 0, 1, 0, r * 2, 0], ['a', r, r, 0, 1, 0, -r * 2, 0]];\n    },\n    stroke: '#fff',\n    shadowBlur: 10,\n    shadowOffsetX: 0,\n    shadowOffSetY: 0,\n    shadowColor: 'rgba(0,0,0,0.09)',\n    lineWidth: 2,\n    radius: 4\n  },\n  tooltipCrosshairsRect: {\n    type: 'rect',\n    rectStyle: {\n      fill: '#CCD6EC',\n      opacity: 0.3\n    }\n  },\n  tooltipCrosshairsLine: {\n    lineStyle: {\n      stroke: 'rgba(0, 0, 0, 0.25)',\n      lineWidth: 1\n    }\n  },\n  annotation: {\n    line: {\n      line: {\n        style: {\n          stroke: 'rgba(0, 0, 0, .65)',\n          lineDash: [2, 2],\n          lineWidth: 1\n        }\n      },\n      text: {\n        position: 'start',\n        autoRotate: true,\n        style: {\n          fill: 'rgba(0, 0, 0, .45)',\n          fontSize: 12,\n          textAlign: 'start',\n          fontFamily: FONT_FAMILY,\n          textBaseline: 'bottom'\n        }\n      }\n    },\n    text: {\n      top: true,\n      style: {\n        fill: 'rgba(0,0,0,.5)',\n        fontSize: 12,\n        textBaseline: 'middle',\n        textAlign: 'start',\n        fontFamily: FONT_FAMILY\n      }\n    },\n    region: {\n      top: false,\n      style: {\n        lineWidth: 0,\n        fill: '#000',\n        fillOpacity: 0.04\n      }\n    },\n    html: {\n      alignX: 'middle',\n      alignY: 'middle'\n    },\n    dataRegion: {\n      region: {\n        style: {\n          lineWidth: 0,\n          fill: '#000000',\n          opacity: 0.04\n        }\n      },\n      text: {\n        style: {\n          textAlign: 'center',\n          textBaseline: 'bottom',\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, .65)'\n        }\n      }\n    },\n    dataMarker: {\n      top: true,\n      direction: 'upward',\n      autoAdjust: true,\n      text: {\n        display: true,\n        style: {\n          fill: 'rgba(0, 0, 0, .65)',\n          opacity: 1,\n          fontSize: 12,\n          textAlign: 'start'\n        }\n      },\n      line: {\n        display: true,\n        lineLength: 20,\n        style: {\n          stroke: '#A3B1BF',\n          lineWidth: 1\n        }\n      },\n      point: {\n        display: true,\n        style: {\n          r: 3,\n          fill: '#FFFFFF',\n          stroke: '#1890FF',\n          lineWidth: 2\n        }\n      }\n    }\n  },\n  shape: {\n    area: {\n      area: {\n        default: SHAPE_STYLE.area,\n        active: OPACITY_ACTIVE_STYLE\n      },\n      smooth: {\n        default: SHAPE_STYLE.area,\n        active: OPACITY_ACTIVE_STYLE\n      },\n      line: {\n        default: SHAPE_STYLE.hollowArea,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      smoothLine: {\n        default: SHAPE_STYLE.hollowArea,\n        active: LINEWIDTH_ACTIVE_STYLE\n      }\n    },\n    box: {\n      box: {\n        default: SHAPE_STYLE.box,\n        active: LINEWIDTH_ACTIVE_STYLE\n      }\n    },\n    edge: {\n      line: {\n        default: SHAPE_STYLE.edge,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      vhv: {\n        default: SHAPE_STYLE.edge,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      smooth: {\n        default: SHAPE_STYLE.edge,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      arc: {\n        default: SHAPE_STYLE.edge,\n        active: LINEWIDTH_ACTIVE_STYLE\n      }\n    },\n    interval: {\n      rect: {\n        default: SHAPE_STYLE.interval,\n        active: FILLOPACITY_ACTIVE_STYLE\n      },\n      hollowInterval: {\n        default: SHAPE_STYLE.hollowInterval,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      line: {\n        default: SHAPE_STYLE.hollowInterval,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      tick: {\n        default: SHAPE_STYLE.hollowInterval,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      funnel: {\n        default: SHAPE_STYLE.interval,\n        active: FILLOPACITY_ACTIVE_STYLE\n      },\n      pyramid: {\n        default: SHAPE_STYLE.interval,\n        active: FILLOPACITY_ACTIVE_STYLE\n      },\n      'top-line': {\n        default: SHAPE_STYLE.interval,\n        active: FILLOPACITY_ACTIVE_STYLE\n      }\n    },\n    kline: {\n      kline: {\n        default: SHAPE_STYLE.kline,\n        active: OPACITY_ACTIVE_STYLE\n      }\n    },\n    line: {\n      line: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      dot: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      dash: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      smooth: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      hv: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      vh: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      hvh: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      vhv: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      }\n    },\n    polygon: {\n      polygon: {\n        default: SHAPE_STYLE.polygon,\n        active: FILLOPACITY_ACTIVE_STYLE\n      },\n      hollow: {\n        default: SHAPE_STYLE.hollowPolygon,\n        active: LINEWIDTH_ACTIVE_STYLE\n      }\n    },\n    point: {\n      circle: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      square: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      bowtie: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      diamond: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      hexagon: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      triangle: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      triangleDown: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      hollowCircle: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hollowSquare: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hollowBowtie: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hollowDiamond: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hollowHexagon: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hollowTriangle: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hollowTriangleDown: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      cross: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      tick: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      plus: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hyphen: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      line: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      rect: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      image: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      path: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      }\n    },\n    text: {\n      text: {\n        default: SHAPE_STYLE.text,\n        active: TEXT_ACTIVE_STYLE\n      }\n    }\n  }\n};\nexport default Theme;","var THEME_MAP = {}; // 主题映射\n\n/**\n * 获取对应的主题\n * @param type\n */\n\nexport var getTheme = function getTheme(type) {\n  return THEME_MAP[type.toLowerCase()];\n};\n/**\n * 注册主题\n * @param type\n * @param theme\n */\n\nexport var registerTheme = function registerTheme(type, theme) {\n  if (getTheme(type)) {\n    throw new Error(\"Theme type '\" + type + \"' existed.\");\n  }\n\n  THEME_MAP[type.toLowerCase()] = theme;\n};","import { registerTheme } from './factory';\nimport DefaultTheme from './default';\nregisterTheme('default', DefaultTheme); // 注册默认的主题\n\nexport * from './factory';","/**\n * @description 全局变量\n */\nimport * as _ from '@antv/util'; // @ts-ignore\n\nimport * as pkg from '../package.json';\nimport { getTheme } from './theme';\nvar Global = {\n  version: pkg.version,\n  renderer: 'canvas',\n  width: 640,\n  height: 480,\n  pixelRatio: null,\n  animate: true,\n  widthRatio: {\n    // 宽度所占的分类的比例\n    column: 1 / 2,\n    rose: 0.9999999,\n    multiplePie: 1 / 1.3\n  },\n  theme: getTheme('default'),\n  setTheme: function setTheme(type) {\n    var newTheme = {};\n\n    if (_.isObject(type)) {\n      newTheme = type;\n    } else if (getTheme(type)) {\n      newTheme = getTheme(type);\n    } else {\n      newTheme = getTheme('default');\n    } // @ts-ignore\n\n\n    _.deepMix(Global.theme, newTheme);\n  }\n};\nexport default Global;\nexport var setTheme = Global.setTheme;\nexport var version = Global.version;","import { __assign, __extends } from \"tslib\";\n/**\n * @description 基础基类\n */\n\nimport EventEmitter from '@antv/event-emitter';\n\nvar Base =\n/** @class */\nfunction (_super) {\n  __extends(Base, _super);\n\n  function Base(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.cfg = {};\n    _this.destroyed = false;\n    _this.cfg = __assign({\n      visible: true\n    }, cfg);\n    return _this;\n  }\n\n  Base.prototype.get = function (name) {\n    return this.cfg[name];\n  };\n\n  Base.prototype.set = function (name, value) {\n    this.cfg[name] = value;\n    return this;\n  };\n\n  Base.prototype.show = function () {\n    var visible = this.get('visible');\n\n    if (!visible) {\n      this.set('visible', true);\n      this.changeVisible(true);\n    }\n  };\n\n  Base.prototype.hide = function () {\n    var visible = this.get('visible');\n\n    if (visible) {\n      this.set('visible', false);\n      this.changeVisible(false);\n    }\n  };\n\n  Base.prototype.destroy = function () {\n    this.cfg = {};\n    this.off(); // 接触所有的事件绑定\n\n    this.destroyed = true;\n  };\n\n  return Base;\n}(EventEmitter);\n\nexport default Base;","import * as mat3 from '@antv/gl-matrix/lib/gl-matrix/mat3';\n\nmat3.translate = function (out, a, v) {\n  var transMat = new Array(9);\n  mat3.fromTranslation(transMat, v);\n  return mat3.multiply(out, transMat, a);\n};\n\nmat3.rotate = function (out, a, rad) {\n  var rotateMat = new Array(9);\n  mat3.fromRotation(rotateMat, rad);\n  return mat3.multiply(out, rotateMat, a);\n};\n\nmat3.scale = function (out, a, v) {\n  var scaleMat = new Array(9);\n  mat3.fromScaling(scaleMat, v);\n  return mat3.multiply(out, scaleMat, a);\n};\n\nmat3.transform = function (m, actions) {\n  var out = [].concat(m);\n\n  for (var i = 0, len = actions.length; i < len; i++) {\n    var action = actions[i];\n\n    switch (action[0]) {\n      case 't':\n        mat3.translate(out, out, [action[1], action[2]]);\n        break;\n\n      case 's':\n        mat3.scale(out, out, [action[1], action[2]]);\n        break;\n\n      case 'r':\n        mat3.rotate(out, out, action[1]);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  return out;\n};\n\nexport default mat3;","import * as vec2 from '@antv/gl-matrix/lib/gl-matrix/vec2';\nimport { clamp } from '@antv/util';\n\nvec2.angle = function (v1, v2) {\n  var theta = vec2.dot(v1, v2) / (vec2.length(v1) * vec2.length(v2));\n  return Math.acos(clamp(theta, -1, 1));\n};\n/**\n * 向量 v1 到 向量 v2 夹角的方向\n * @param  {Array} v1 向量\n * @param  {Array} v2 向量\n * @return {Boolean} >= 0 顺时针 < 0 逆时针\n */\n\n\nvec2.direction = function (v1, v2) {\n  return v1[0] * v2[1] - v2[0] * v1[1];\n};\n\nvec2.angleTo = function (v1, v2, direct) {\n  var angle = vec2.angle(v1, v2);\n  var angleLargeThanPI = vec2.direction(v1, v2) >= 0;\n\n  if (direct) {\n    if (angleLargeThanPI) {\n      return Math.PI * 2 - angle;\n    }\n\n    return angle;\n  }\n\n  if (angleLargeThanPI) {\n    return angle;\n  }\n\n  return Math.PI * 2 - angle;\n};\n\nvec2.vertical = function (out, v, flag) {\n  if (flag) {\n    out[0] = v[1];\n    out[1] = -1 * v[0];\n  } else {\n    out[0] = -1 * v[1];\n    out[1] = v[0];\n  }\n\n  return out;\n};\n\nexport default vec2;","import * as vec3 from '@antv/gl-matrix/lib/gl-matrix/vec3';\nexport default vec3;","// http://schepers.cc/getting-to-the-point\nexport default function catmullRom2Bezier(crp, z) {\n  var d = []; // @ts-ignore\n\n  for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n    var p = [{\n      x: +crp[i - 2],\n      y: +crp[i - 1]\n    }, {\n      x: +crp[i],\n      y: +crp[i + 1]\n    }, {\n      x: +crp[i + 2],\n      y: +crp[i + 3]\n    }, {\n      x: +crp[i + 4],\n      y: +crp[i + 5]\n    }];\n\n    if (z) {\n      if (!i) {\n        p[0] = {\n          x: +crp[iLen - 2],\n          y: +crp[iLen - 1]\n        };\n      } else if (iLen - 4 === i) {\n        p[3] = {\n          x: +crp[0],\n          y: +crp[1]\n        };\n      } else if (iLen - 2 === i) {\n        p[2] = {\n          x: +crp[0],\n          y: +crp[1]\n        };\n        p[3] = {\n          x: +crp[2],\n          y: +crp[3]\n        };\n      }\n    } else {\n      if (iLen - 4 === i) {\n        p[3] = p[2];\n      } else if (!i) {\n        p[0] = {\n          x: +crp[i],\n          y: +crp[i + 1]\n        };\n      }\n    }\n\n    d.push(['C', (-p[0].x + 6 * p[1].x + p[2].x) / 6, (-p[0].y + 6 * p[1].y + p[2].y) / 6, (p[1].x + 6 * p[2].x - p[3].x) / 6, (p[1].y + 6 * p[2].y - p[3].y) / 6, p[2].x, p[2].y]);\n  }\n\n  return d;\n}","import isArray from '@antv/util/lib/is-array';\nvar SPACES = \"\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\";\nvar PATH_COMMAND = new RegExp('([a-z])[' + SPACES + ',]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[' + SPACES + ']*,?[' + SPACES + ']*)+)', 'ig');\nvar PATH_VALUES = new RegExp('(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[' + SPACES + ']*,?[' + SPACES + ']*', 'ig'); // Parses given path string into an array of arrays of path segments\n\nexport default function parsePathString(pathString) {\n  if (!pathString) {\n    return null;\n  }\n\n  if (isArray(pathString)) {\n    return pathString;\n  }\n\n  var paramCounts = {\n    a: 7,\n    c: 6,\n    o: 2,\n    h: 1,\n    l: 2,\n    m: 2,\n    r: 4,\n    q: 4,\n    s: 4,\n    t: 2,\n    v: 1,\n    u: 3,\n    z: 0\n  };\n  var data = [];\n  String(pathString).replace(PATH_COMMAND, function (a, b, c) {\n    var params = [];\n    var name = b.toLowerCase();\n    c.replace(PATH_VALUES, function (a, b) {\n      b && params.push(+b);\n    });\n\n    if (name === 'm' && params.length > 2) {\n      data.push([b].concat(params.splice(0, 2)));\n      name = 'l';\n      b = b === 'm' ? 'l' : 'L';\n    }\n\n    if (name === 'o' && params.length === 1) {\n      data.push([b, params[0]]);\n    }\n\n    if (name === 'r') {\n      data.push([b].concat(params));\n    } else {\n      while (params.length >= paramCounts[name]) {\n        data.push([b].concat(params.splice(0, paramCounts[name])));\n\n        if (!paramCounts[name]) {\n          break;\n        }\n      }\n    }\n\n    return '';\n  });\n  return data;\n}","import parsePathString from './parse-path-string';\nvar REGEX_MD = /[a-z]/;\n\nfunction toSymmetry(p, c) {\n  return [c[0] + (c[0] - p[0]), c[1] + (c[1] - p[1])];\n}\n\nexport default function pathToAbsolute(pathString) {\n  var pathArray = parsePathString(pathString);\n\n  if (!pathArray || !pathArray.length) {\n    return [['M', 0, 0]];\n  }\n\n  var needProcess = false; // 如果存在小写的命令或者 V,H,T,S 则需要处理\n\n  for (var i = 0; i < pathArray.length; i++) {\n    var cmd = pathArray[i][0]; // 如果存在相对位置的命令，则中断返回\n\n    if (REGEX_MD.test(cmd) || ['V', 'H', 'T', 'S'].indexOf(cmd) >= 0) {\n      needProcess = true;\n      break;\n    }\n  } // 如果不存在相对命令，则直接返回\n  // 如果在业务上都写绝对路径，这种方式最快，仅做了一次检测\n\n\n  if (!needProcess) {\n    return pathArray;\n  }\n\n  var res = [];\n  var x = 0;\n  var y = 0;\n  var mx = 0;\n  var my = 0;\n  var start = 0;\n  var pa0;\n  var dots;\n  var first = pathArray[0];\n\n  if (first[0] === 'M' || first[0] === 'm') {\n    x = +first[1];\n    y = +first[2];\n    mx = x;\n    my = y;\n    start++;\n    res[0] = ['M', x, y];\n  }\n\n  for (var i = start, ii = pathArray.length; i < ii; i++) {\n    var pa = pathArray[i];\n    var preParams = res[i - 1]; // 取前一个已经处理后的节点，否则会出现问题\n\n    var r = [];\n    var cmd = pa[0];\n    var upCmd = cmd.toUpperCase();\n\n    if (cmd !== upCmd) {\n      r[0] = upCmd;\n\n      switch (upCmd) {\n        case 'A':\n          r[1] = pa[1];\n          r[2] = pa[2];\n          r[3] = pa[3];\n          r[4] = pa[4];\n          r[5] = pa[5];\n          r[6] = +pa[6] + x;\n          r[7] = +pa[7] + y;\n          break;\n\n        case 'V':\n          r[1] = +pa[1] + y;\n          break;\n\n        case 'H':\n          r[1] = +pa[1] + x;\n          break;\n\n        case 'M':\n          mx = +pa[1] + x;\n          my = +pa[2] + y;\n          break;\n        // for lint\n\n        default:\n          for (var j = 1, jj = pa.length; j < jj; j++) {\n            r[j] = +pa[j] + (j % 2 ? x : y);\n          }\n\n      }\n    } else {\n      // 如果本来已经大写，则不处理\n      r = pathArray[i];\n    } // 需要在外面统一做，同时处理 V,H,S,T 等特殊指令\n\n\n    switch (upCmd) {\n      case 'Z':\n        x = +mx;\n        y = +my;\n        break;\n\n      case 'H':\n        x = r[1];\n        r = ['L', x, y];\n        break;\n\n      case 'V':\n        y = r[1];\n        r = ['L', x, y];\n        break;\n\n      case 'T':\n        x = r[1];\n        y = r[2]; // 以 x, y 为中心的，上一个控制点的对称点\n        // 需要假设上一个节点的命令为 Q\n\n        var symetricT = toSymmetry([preParams[1], preParams[2]], [preParams[3], preParams[4]]);\n        r = ['Q', symetricT[0], symetricT[1], x, y];\n        break;\n\n      case 'S':\n        x = r[r.length - 2];\n        y = r[r.length - 1]; // 以 x,y 为中心，取上一个控制点，\n        // 需要假设上一个线段为 C 或者 S\n\n        var length_1 = preParams.length;\n        var symetricS = toSymmetry([preParams[length_1 - 4], preParams[length_1 - 3]], [preParams[length_1 - 2], preParams[length_1 - 1]]);\n        r = ['C', symetricS[0], symetricS[1], r[1], r[2], x, y];\n        break;\n\n      case 'M':\n        mx = r[r.length - 2];\n        my = r[r.length - 1];\n        break;\n      // for lint\n\n      default:\n        x = r[r.length - 2];\n        y = r[r.length - 1];\n    }\n\n    res.push(r);\n  }\n\n  return res;\n}","import path2Absolute from './path-2-absolute';\n\nvar a2c = function a2c(x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n  // for more information of where this math came from visit:\n  // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n  if (rx === ry) {\n    rx += 1;\n  }\n\n  var _120 = Math.PI * 120 / 180;\n\n  var rad = Math.PI / 180 * (+angle || 0);\n  var res = [];\n  var xy;\n  var f1;\n  var f2;\n  var cx;\n  var cy;\n\n  var rotate = function rotate(x, y, rad) {\n    var X = x * Math.cos(rad) - y * Math.sin(rad);\n    var Y = x * Math.sin(rad) + y * Math.cos(rad);\n    return {\n      x: X,\n      y: Y\n    };\n  };\n\n  if (!recursive) {\n    xy = rotate(x1, y1, -rad);\n    x1 = xy.x;\n    y1 = xy.y;\n    xy = rotate(x2, y2, -rad);\n    x2 = xy.x;\n    y2 = xy.y;\n\n    if (x1 === x2 && y1 === y2) {\n      // 若弧的起始点和终点重叠则错开一点\n      x2 += 1;\n      y2 += 1;\n    } // const cos = Math.cos(Math.PI / 180 * angle);\n    // const sin = Math.sin(Math.PI / 180 * angle);\n\n\n    var x = (x1 - x2) / 2;\n    var y = (y1 - y2) / 2;\n    var h = x * x / (rx * rx) + y * y / (ry * ry);\n\n    if (h > 1) {\n      h = Math.sqrt(h);\n      rx = h * rx;\n      ry = h * ry;\n    }\n\n    var rx2 = rx * rx;\n    var ry2 = ry * ry;\n    var k = (large_arc_flag === sweep_flag ? -1 : 1) * Math.sqrt(Math.abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x)));\n    cx = k * rx * y / ry + (x1 + x2) / 2;\n    cy = k * -ry * x / rx + (y1 + y2) / 2;\n    f1 = Math.asin(Number(((y1 - cy) / ry).toFixed(9)));\n    f2 = Math.asin(Number(((y2 - cy) / ry).toFixed(9)));\n    f1 = x1 < cx ? Math.PI - f1 : f1;\n    f2 = x2 < cx ? Math.PI - f2 : f2;\n    f1 < 0 && (f1 = Math.PI * 2 + f1);\n    f2 < 0 && (f2 = Math.PI * 2 + f2);\n\n    if (sweep_flag && f1 > f2) {\n      f1 = f1 - Math.PI * 2;\n    }\n\n    if (!sweep_flag && f2 > f1) {\n      f2 = f2 - Math.PI * 2;\n    }\n  } else {\n    f1 = recursive[0];\n    f2 = recursive[1];\n    cx = recursive[2];\n    cy = recursive[3];\n  }\n\n  var df = f2 - f1;\n\n  if (Math.abs(df) > _120) {\n    var f2old = f2;\n    var x2old = x2;\n    var y2old = y2;\n    f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n    x2 = cx + rx * Math.cos(f2);\n    y2 = cy + ry * Math.sin(f2);\n    res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n  }\n\n  df = f2 - f1;\n  var c1 = Math.cos(f1);\n  var s1 = Math.sin(f1);\n  var c2 = Math.cos(f2);\n  var s2 = Math.sin(f2);\n  var t = Math.tan(df / 4);\n  var hx = 4 / 3 * rx * t;\n  var hy = 4 / 3 * ry * t;\n  var m1 = [x1, y1];\n  var m2 = [x1 + hx * s1, y1 - hy * c1];\n  var m3 = [x2 + hx * s2, y2 - hy * c2];\n  var m4 = [x2, y2];\n  m2[0] = 2 * m1[0] - m2[0];\n  m2[1] = 2 * m1[1] - m2[1];\n\n  if (recursive) {\n    return [m2, m3, m4].concat(res);\n  }\n\n  res = [m2, m3, m4].concat(res).join().split(',');\n  var newres = [];\n\n  for (var i = 0, ii = res.length; i < ii; i++) {\n    newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n  }\n\n  return newres;\n};\n\nvar l2c = function l2c(x1, y1, x2, y2) {\n  return [x1, y1, x2, y2, x2, y2];\n};\n\nvar q2c = function q2c(x1, y1, ax, ay, x2, y2) {\n  var _13 = 1 / 3;\n\n  var _23 = 2 / 3;\n\n  return [_13 * x1 + _23 * ax, _13 * y1 + _23 * ay, _13 * x2 + _23 * ax, _13 * y2 + _23 * ay, x2, y2];\n};\n\nexport default function pathTocurve(path, path2) {\n  var p = path2Absolute(path);\n  var p2 = path2 && path2Absolute(path2);\n  var attrs = {\n    x: 0,\n    y: 0,\n    bx: 0,\n    by: 0,\n    X: 0,\n    Y: 0,\n    qx: null,\n    qy: null\n  };\n  var attrs2 = {\n    x: 0,\n    y: 0,\n    bx: 0,\n    by: 0,\n    X: 0,\n    Y: 0,\n    qx: null,\n    qy: null\n  };\n  var pcoms1 = []; // path commands of original path p\n\n  var pcoms2 = []; // path commands of original path p2\n\n  var pfirst = ''; // temporary holder for original path command\n\n  var pcom = ''; // holder for previous path command of original path\n\n  var ii;\n\n  var processPath = function processPath(path, d, pcom) {\n    var nx, ny;\n\n    if (!path) {\n      return ['C', d.x, d.y, d.x, d.y, d.x, d.y];\n    }\n\n    !(path[0] in {\n      T: 1,\n      Q: 1\n    }) && (d.qx = d.qy = null);\n\n    switch (path[0]) {\n      case 'M':\n        d.X = path[1];\n        d.Y = path[2];\n        break;\n\n      case 'A':\n        path = ['C'].concat(a2c.apply(0, [d.x, d.y].concat(path.slice(1))));\n        break;\n\n      case 'S':\n        if (pcom === 'C' || pcom === 'S') {\n          // In \"S\" case we have to take into account, if the previous command is C/S.\n          nx = d.x * 2 - d.bx; // And reflect the previous\n\n          ny = d.y * 2 - d.by; // command's control point relative to the current point.\n        } else {\n          // or some else or nothing\n          nx = d.x;\n          ny = d.y;\n        }\n\n        path = ['C', nx, ny].concat(path.slice(1));\n        break;\n\n      case 'T':\n        if (pcom === 'Q' || pcom === 'T') {\n          // In \"T\" case we have to take into account, if the previous command is Q/T.\n          d.qx = d.x * 2 - d.qx; // And make a reflection similar\n\n          d.qy = d.y * 2 - d.qy; // to case \"S\".\n        } else {\n          // or something else or nothing\n          d.qx = d.x;\n          d.qy = d.y;\n        }\n\n        path = ['C'].concat(q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n        break;\n\n      case 'Q':\n        d.qx = path[1];\n        d.qy = path[2];\n        path = ['C'].concat(q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n        break;\n\n      case 'L':\n        path = ['C'].concat(l2c(d.x, d.y, path[1], path[2]));\n        break;\n\n      case 'H':\n        path = ['C'].concat(l2c(d.x, d.y, path[1], d.y));\n        break;\n\n      case 'V':\n        path = ['C'].concat(l2c(d.x, d.y, d.x, path[1]));\n        break;\n\n      case 'Z':\n        path = ['C'].concat(l2c(d.x, d.y, d.X, d.Y));\n        break;\n\n      default:\n        break;\n    }\n\n    return path;\n  };\n\n  var fixArc = function fixArc(pp, i) {\n    if (pp[i].length > 7) {\n      pp[i].shift();\n      var pi = pp[i];\n\n      while (pi.length) {\n        pcoms1[i] = 'A'; // if created multiple C:s, their original seg is saved\n\n        p2 && (pcoms2[i] = 'A'); // the same as above\n\n        pp.splice(i++, 0, ['C'].concat(pi.splice(0, 6)));\n      }\n\n      pp.splice(i, 1);\n      ii = Math.max(p.length, p2 && p2.length || 0);\n    }\n  };\n\n  var fixM = function fixM(path1, path2, a1, a2, i) {\n    if (path1 && path2 && path1[i][0] === 'M' && path2[i][0] !== 'M') {\n      path2.splice(i, 0, ['M', a2.x, a2.y]);\n      a1.bx = 0;\n      a1.by = 0;\n      a1.x = path1[i][1];\n      a1.y = path1[i][2];\n      ii = Math.max(p.length, p2 && p2.length || 0);\n    }\n  };\n\n  ii = Math.max(p.length, p2 && p2.length || 0);\n\n  for (var i = 0; i < ii; i++) {\n    p[i] && (pfirst = p[i][0]); // save current path command\n\n    if (pfirst !== 'C') {\n      // C is not saved yet, because it may be result of conversion\n      pcoms1[i] = pfirst; // Save current path command\n\n      i && (pcom = pcoms1[i - 1]); // Get previous path command pcom\n    }\n\n    p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\n\n    if (pcoms1[i] !== 'A' && pfirst === 'C') pcoms1[i] = 'C'; // A is the only command\n    // which may produce multiple C:s\n    // so we have to make sure that C is also C in original path\n\n    fixArc(p, i); // fixArc adds also the right amount of A:s to pcoms1\n\n    if (p2) {\n      // the same procedures is done to p2\n      p2[i] && (pfirst = p2[i][0]);\n\n      if (pfirst !== 'C') {\n        pcoms2[i] = pfirst;\n        i && (pcom = pcoms2[i - 1]);\n      }\n\n      p2[i] = processPath(p2[i], attrs2, pcom);\n\n      if (pcoms2[i] !== 'A' && pfirst === 'C') {\n        pcoms2[i] = 'C';\n      }\n\n      fixArc(p2, i);\n    }\n\n    fixM(p, p2, attrs, attrs2, i);\n    fixM(p2, p, attrs2, attrs, i);\n    var seg = p[i];\n    var seg2 = p2 && p2[i];\n    var seglen = seg.length;\n    var seg2len = p2 && seg2.length;\n    attrs.x = seg[seglen - 2];\n    attrs.y = seg[seglen - 1];\n    attrs.bx = parseFloat(seg[seglen - 4]) || attrs.x;\n    attrs.by = parseFloat(seg[seglen - 3]) || attrs.y;\n    attrs2.bx = p2 && (parseFloat(seg2[seg2len - 4]) || attrs2.x);\n    attrs2.by = p2 && (parseFloat(seg2[seg2len - 3]) || attrs2.y);\n    attrs2.x = p2 && seg2[seg2len - 2];\n    attrs2.y = p2 && seg2[seg2len - 1];\n  }\n\n  return p2 ? [p, p2] : p;\n}","import * as _ from '@antv/util';\nimport { mat3 } from '@antv/matrix-util';\nimport { Shapes } from '@antv/g';\nexport function getAnimateParam(animateCfg, index, id) {\n  return {\n    delay: _.isFunction(animateCfg.delay) ? animateCfg.delay(index, id) : animateCfg.delay,\n    easing: _.isFunction(animateCfg.easing) ? animateCfg.easing(index, id) : animateCfg.easing,\n    duration: _.isFunction(animateCfg.duration) ? animateCfg.duration(index, id) : animateCfg.duration,\n    callback: animateCfg.callback\n  };\n}\nexport function getCoordRange(coord) {\n  var start = coord.start,\n      end = coord.end;\n  return {\n    start: start,\n    end: end,\n    width: coord.getWidth(),\n    height: coord.getWidth()\n  };\n}\nexport function getClip(coord) {\n  var start = coord.start,\n      end = coord.end,\n      width = coord.width,\n      height = coord.height;\n  var margin = 200;\n  var clip;\n\n  if (coord.isPolar) {\n    var startAngle = coord.startAngle,\n        endAngle = coord.endAngle;\n    var center = coord.getCenter();\n    var radius = coord.getRadius();\n    clip = new Shapes.Fan({\n      attrs: {\n        x: center.x,\n        y: center.y,\n        rs: 0,\n        re: radius + margin,\n        startAngle: startAngle,\n        endAngle: startAngle\n      }\n    });\n    clip.endState = {\n      endAngle: endAngle\n    };\n  } else {\n    clip = new Shapes.Rect({\n      attrs: {\n        x: start.x - margin,\n        y: end.y - margin,\n        width: coord.isTransposed ? width + margin * 2 : 0,\n        height: coord.isTransposed ? 0 : height + margin * 2\n      }\n    });\n\n    if (coord.isTransposed) {\n      clip.endState = {\n        height: height + margin * 2\n      };\n    } else {\n      clip.endState = {\n        width: width + margin * 2\n      };\n    }\n  }\n\n  clip.set('isClip', true);\n  return clip;\n}\nexport function getScaledMatrix(shape, v, direct) {\n  var scaledMatrix;\n  shape.apply(v);\n  var x = v[0];\n  var y = v[1];\n\n  if (direct === 'x') {\n    shape.transform([['t', -x, -y], ['s', 0.01, 1], ['t', x, y]]);\n    var matrix = shape.getMatrix();\n    scaledMatrix = mat3.transform(matrix, [['t', -x, -y], ['s', 100, 1], ['t', x, y]]);\n  } else if (direct === 'y') {\n    shape.transform([['t', -x, -y], ['s', 1, 0.01], ['t', x, y]]);\n    var matrix = shape.getMatrix();\n    scaledMatrix = mat3.transform(matrix, [['t', -x, -y], ['s', 1, 100], ['t', x, y]]);\n  } else if (direct === 'xy') {\n    shape.transform([['t', -x, -y], ['s', 0.01, 0.01], ['t', x, y]]);\n    var matrix = shape.getMatrix();\n    scaledMatrix = mat3.transform(matrix, [['t', -x, -y], ['s', 100, 100], ['t', x, y]]);\n  }\n\n  return scaledMatrix;\n}\nexport function doAnimation(shape, endState, animateCfg) {\n  var id = shape.id;\n  var index = shape.get('index');\n\n  var _a = getAnimateParam(animateCfg, index, id),\n      easing = _a.easing,\n      delay = _a.delay,\n      duration = _a.duration,\n      callback = _a.callback;\n\n  shape.animate(endState, duration, easing, callback, delay);\n}\nexport function doGroupScaleIn(container, animateCfg, coord, zeroY, type) {\n  var _a = getCoordRange(coord),\n      start = _a.start,\n      end = _a.end,\n      width = _a.width,\n      height = _a.height;\n\n  var x;\n  var y;\n  var clip = new Shapes.Rect({\n    attrs: {\n      x: start.x,\n      y: end.y,\n      width: width,\n      height: height\n    }\n  });\n\n  if (type === 'y') {\n    x = start.x + width / 2;\n    y = zeroY.y < start.y ? zeroY.y : start.y;\n  } else if (type === 'x') {\n    x = zeroY.x > start.x ? zeroY.x : start.x;\n    y = start.y + height / 2;\n  } else if (type === 'xy') {\n    if (coord.isPolar) {\n      x = coord.getCenter().x;\n      y = coord.getCenter().y;\n    } else {\n      x = (start.x + end.x) / 2;\n      y = (start.y + end.y) / 2;\n    }\n  }\n\n  var endMatrix = getScaledMatrix(clip, [x, y, 1], type);\n  clip.set('isClip', true);\n  clip.set('canvas', container.get('canvas'));\n  container.attr('clip', clip);\n\n  animateCfg.callback = function () {\n    container.attr('clip', null);\n    clip.remove();\n  };\n\n  doAnimation(clip, {\n    matrix: endMatrix\n  }, animateCfg);\n}","/**\n * @fileOverview Default animation funciton\n */\nimport * as pathUtil from '@antv/path-util';\nimport * as _ from '@antv/util';\nimport { doAnimation, doGroupScaleIn, getClip, getScaledMatrix } from './util'; // 获取图形的包围盒\n\nfunction getPointsBox(points) {\n  if (_.isEmpty(points)) {\n    return null;\n  }\n\n  var minX = points[0].x;\n  var maxX = points[0].x;\n  var minY = points[0].y;\n  var maxY = points[0].y;\n\n  _.each(points, function (point) {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX: minX,\n    maxX: maxX,\n    minY: minY,\n    maxY: maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2\n  };\n}\n\nfunction getAngle(shape, coord) {\n  var points = shape.points || shape.get('origin').points;\n  var box = getPointsBox(points);\n  var endAngle;\n  var startAngle;\n  var coordStartAngle = coord.startAngle;\n  var coordEndAngle = coord.endAngle;\n  var diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coord.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle: startAngle,\n    endAngle: endAngle\n  };\n}\n\nfunction scaleInY(shape, animateCfg) {\n  var box = shape.getBBox();\n  var points = shape.get('origin').points;\n  var x = (box.minX + box.maxX) / 2;\n  var y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n  var endState = {\n    matrix: getScaledMatrix(shape, [x, y, 1], 'y')\n  };\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction scaleInX(shape, animateCfg) {\n  var box = shape.getBBox();\n  var points = shape.get('origin').points;\n  var x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  var y = (box.minY + box.maxY) / 2;\n  var endState = {\n    matrix: getScaledMatrix(shape, [x, y, 1], 'x')\n  };\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction lineWidthOut(shape, animateCfg) {\n  var endState = {\n    lineWidth: 0,\n    opacity: 0\n  };\n\n  animateCfg.callback = function () {\n    return shape.remove();\n  };\n\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction zoomIn(shape, animateCfg, coord) {\n  var x;\n  var y;\n\n  if (coord.isPolar && shape.name !== 'point') {\n    x = coord.getCenter().x;\n    y = coord.getCenter().y;\n  } else {\n    var box = shape.getBBox();\n    x = (box.minX + box.maxX) / 2;\n    y = (box.minY + box.maxY) / 2;\n  }\n\n  var endState = {\n    matrix: getScaledMatrix(shape, [x, y, 1], 'xy')\n  };\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction zoomOut(shape, animateCfg, coord) {\n  var x;\n  var y;\n\n  if (coord.isPolar && shape.name !== 'point') {\n    x = coord.getCenter().x;\n    y = coord.getCenter().y;\n  } else {\n    var box = shape.getBBox();\n    x = (box.minX + box.maxX) / 2;\n    y = (box.minY + box.maxY) / 2;\n  }\n\n  var v = [x, y, 1];\n  shape.apply(v);\n  var endState = {\n    transform: [['t', -x, -y], ['s', 0.01, 0.01], ['t', x, y]]\n  };\n\n  animateCfg.callback = function () {\n    return shape.remove();\n  };\n\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction pathIn(shape, animateCfg) {\n  if (shape.get('type') !== 'path') {\n    return;\n  }\n\n  var path = pathUtil.path2Curve(shape.attr('path'));\n  shape.attr('path', [path[0]]);\n  var endState = {\n    path: path\n  };\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction pathOut(shape, animateCfg) {\n  if (shape.get('type') !== 'path') {\n    return;\n  }\n\n  var path = pathUtil.path2Curve(shape.attr('path'));\n  var endState = {\n    path: [path[0]]\n  };\n\n  animateCfg.callback = function () {\n    return shape.remove();\n  };\n\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction clipIn(shape, animateCfg, coord, startAngle, endAngle) {\n  var clip = getClip(coord);\n  var canvas = shape.get('canvas');\n  var endState;\n\n  if (startAngle) {\n    // 指定了 startAngle 和 endAngle\n    clip.attr('startAngle', startAngle);\n    clip.attr('endAngle', startAngle);\n    endState = {\n      endAngle: endAngle\n    };\n  } else {\n    endState = clip.endState;\n  }\n\n  clip.set('canvas', canvas);\n  shape.attr('clip', clip);\n  shape.setSilent('animating', true);\n\n  animateCfg.callback = function () {\n    if (shape && !shape.get('destroyed')) {\n      shape.attr('clip', null);\n      shape.setSilent('cacheShape', null);\n      shape.setSilent('animating', false);\n      clip.remove();\n    }\n  };\n\n  doAnimation(clip, endState, animateCfg);\n}\n\nfunction fadeIn(shape, animateCfg) {\n  var fillOpacity = _.isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity');\n  var strokeOpacity = _.isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity');\n  shape.attr('fillOpacity', 0);\n  shape.attr('strokeOpacity', 0);\n  var endState = {\n    fillOpacity: fillOpacity,\n    strokeOpacity: strokeOpacity\n  };\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction fadeOut(shape, animateCfg) {\n  var endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0\n  };\n\n  animateCfg.callback = function () {\n    return shape.remove();\n  };\n\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction fanIn(shape, animateCfg, coord) {\n  var _a = getAngle(shape, coord),\n      startAngle = _a.startAngle,\n      endAngle = _a.endAngle;\n\n  clipIn(shape, animateCfg, coord, startAngle, endAngle);\n}\n\nfunction groupScaleInX(container, animateCfg, coord, zeroY) {\n  doGroupScaleIn(container, animateCfg, coord, zeroY, 'x');\n}\n\nfunction groupScaleInY(container, animateCfg, coord, zeroY) {\n  doGroupScaleIn(container, animateCfg, coord, zeroY, 'y');\n}\n\nfunction groupScaleInXY(container, animateCfg, coord, zeroY) {\n  doGroupScaleIn(container, animateCfg, coord, zeroY, 'xy');\n}\n\nfunction groupWaveIn(container, animateCfg, coord) {\n  var clip = getClip(coord);\n  clip.set('canvas', container.get('canvas'));\n  container.attr('clip', clip);\n\n  animateCfg.callback = function () {\n    container.attr('clip', null);\n    clip.remove();\n  };\n\n  var endState = clip.endState;\n  doAnimation(clip, endState, animateCfg);\n} // 默认动画库\n\n\nvar Action = {\n  enter: {\n    clipIn: clipIn,\n    zoomIn: zoomIn,\n    pathIn: pathIn,\n    scaleInY: scaleInY,\n    scaleInX: scaleInX,\n    fanIn: fanIn,\n    fadeIn: fadeIn\n  },\n  leave: {\n    lineWidthOut: lineWidthOut,\n    zoomOut: zoomOut,\n    pathOut: pathOut,\n    fadeOut: fadeOut,\n    fadeIn: fadeIn\n  },\n  appear: {\n    clipIn: clipIn,\n    zoomIn: zoomIn,\n    pathIn: pathIn,\n    scaleInY: scaleInY,\n    scaleInX: scaleInX,\n    fanIn: fanIn,\n    fadeIn: fadeIn,\n    groupWaveIn: groupWaveIn,\n    groupScaleInX: groupScaleInX,\n    groupScaleInY: groupScaleInY,\n    groupScaleInXY: groupScaleInXY\n  },\n  update: {\n    fadeIn: fadeIn,\n    fanIn: fanIn\n  }\n}; // 给每一个方法增加 name 属性，防止 function name 被 uglify 改掉。\n\n_.each(Action, function (v) {\n  _.each(v, function (animate, name) {\n    // @ts-ignore\n    animate.animationName = name;\n  });\n});\n\nexport default Action;","/**\n * @fileOverview Default animation configuration for elements\n */\nimport * as _ from '@antv/util';\nimport Action from './action';\nvar defaultAnimationCfg = {\n  appear: {\n    duration: 450,\n    easing: 'easeQuadOut'\n  },\n  update: {\n    duration: 450,\n    easing: 'easeQuadInOut'\n  },\n  enter: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n    delay: 100\n  },\n  leave: {\n    duration: 350,\n    easing: 'easeQuadIn'\n  }\n};\nvar Animate = {\n  line: {\n    appear: function appear() {\n      return Action.appear.groupWaveIn;\n    },\n    enter: function enter() {\n      return Action.enter.clipIn;\n    },\n    leave: function leave() {\n      return Action.leave.lineWidthOut;\n    }\n  },\n  path: {\n    appear: function appear() {\n      return Action.appear.groupWaveIn;\n    },\n    enter: function enter() {\n      return Action.enter.clipIn;\n    },\n    leave: function leave() {\n      return Action.leave.lineWidthOut;\n    }\n  },\n  area: {\n    appear: function appear() {\n      return Action.appear.groupWaveIn;\n    },\n    enter: function enter() {\n      return Action.enter.fadeIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    cfg: {\n      appear: {\n        duration: 500,\n        easing: 'easeQuadOut'\n      },\n      update: {\n        duration: 450,\n        easing: 'easeQuadInOut'\n      },\n      enter: {\n        duration: 600,\n        delay: 150,\n        easing: 'easeQuadInOut'\n      },\n      leave: {\n        easing: 'easeQuadOut',\n        duration: 350\n      }\n    }\n  },\n  polygon: {\n    appear: function appear() {\n      return Action.appear.fadeIn;\n    },\n    enter: function enter() {\n      return Action.enter.zoomIn;\n    },\n    leave: function leave() {\n      return Action.leave.zoomOut;\n    }\n  },\n  edge: {\n    appear: function appear() {\n      return Action.appear.pathIn;\n    },\n    enter: function enter() {\n      return Action.enter.pathIn;\n    },\n    leave: function leave() {\n      return Action.leave.pathOut;\n    }\n  },\n  interval: {\n    appear: function appear(coord) {\n      var result;\n\n      if (coord.isPolar) {\n        // polar coordinate\n        result = Action.appear.groupScaleInXY;\n\n        if (coord.isTransposed) {\n          // pie chart\n          result = Action.appear.groupWaveIn;\n        }\n      } else {\n        result = coord.isTransposed ? Action.appear.groupScaleInX : Action.appear.groupScaleInY;\n      }\n\n      return result;\n    },\n    enter: function enter(coord) {\n      if (coord.isRect || coord.isTransposed || coord.type === 'theta') {\n        return Action.enter.fadeIn;\n      }\n\n      return Action.enter.zoomIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    update: function update(coord) {\n      if (coord.type === 'theta') {\n        return Action.update.fanIn; // TODO: G animate 接口支持 onFrame 属性之后可以改进饼图的更新动画\n      }\n    }\n  },\n  point: {\n    appear: function appear() {\n      return Action.appear.zoomIn;\n    },\n    enter: function enter() {\n      return Action.enter.zoomIn;\n    },\n    leave: function leave() {\n      return Action.leave.zoomOut;\n    }\n  },\n  text: {\n    appear: function appear() {\n      return Action.appear.zoomIn;\n    },\n    enter: function enter() {\n      return Action.enter.zoomIn;\n    },\n    leave: function leave() {\n      return Action.leave.zoomOut;\n    }\n  },\n  kline: {\n    appear: function appear() {\n      return Action.appear.groupWaveIn;\n    },\n    enter: function enter() {\n      return Action.enter.clipIn;\n    },\n    leave: function leave() {\n      return Action.leave.lineWidthOut;\n    }\n  },\n  box: {\n    appear: function appear() {\n      return Action.appear.groupWaveIn;\n    },\n    enter: function enter() {\n      return Action.enter.clipIn;\n    },\n    leave: function leave() {\n      return Action.leave.lineWidthOut;\n    }\n  },\n  heatmap: null,\n  label: {\n    appear: function appear() {\n      return Action.appear.fadeIn;\n    },\n    enter: function enter() {\n      return Action.enter.fadeIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    cfg: {\n      appear: {\n        duration: 900\n      }\n    }\n  },\n  'axis-label': {\n    enter: function enter() {\n      return Action.appear.fadeIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    update: function update(coord) {\n      if (coord.isPolar) {\n        return Action.appear.fadeIn;\n      }\n    }\n  },\n  'axis-ticks': {\n    enter: function enter() {\n      return Action.appear.fadeIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    update: function update(coord) {\n      if (coord.isPolar) {\n        return Action.appear.fadeIn;\n      }\n    }\n  },\n  'axis-grid': {\n    enter: function enter() {\n      return Action.appear.fadeIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    update: function update(coord) {\n      if (coord.isPolar) {\n        return Action.appear.fadeIn;\n      }\n    }\n  },\n  'axis-grid-rect': {\n    enter: function enter() {\n      return Action.appear.fadeIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    update: function update() {\n      return Action.leave.fadeIn;\n    }\n  }\n};\nAnimate.Action = Action;\nAnimate.defaultCfg = defaultAnimationCfg; // 获取动画\n\nAnimate.getAnimation = function (elementType, coord, animationType) {\n  var elementAnimateCfg = this[elementType];\n\n  if (elementAnimateCfg) {\n    var animation = elementAnimateCfg[animationType];\n\n    if (_.isFunction(animation)) {\n      return animation(coord);\n    }\n  }\n\n  return false;\n}; // 获取动画配置\n\n\nAnimate.getAnimateCfg = function (elementType, animationType) {\n  var defaultCfg = defaultAnimationCfg[animationType];\n\n  if (this[elementType] && this[elementType].cfg && this[elementType].cfg[animationType]) {\n    return _.deepMix({}, defaultCfg, this[elementType].cfg[animationType]);\n  }\n\n  return defaultCfg;\n}; // 注册动画\n\n\nAnimate.registerAnimation = function (animationType, animationName, animationFun) {\n  if (!this.Action[animationType]) {\n    this.Action[animationType] = {};\n  }\n\n  this.Action[animationType][animationName] = animationFun;\n};\n\nexport default Animate;","import { mat3 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nimport Animate from './animate';\n/*\n * 获取图组内所有的shapes\n */\n\nfunction getShapes(container, viewId) {\n  var shapes = [];\n\n  if (container.get('animate') === false) {\n    return [];\n  }\n\n  var children = container.get('children');\n\n  _.each(children, function (child) {\n    // 这里child定义为Group|Shape后，tslint会报错。根源解决需要在g -> element类增加isGroup/isShape/id属性。这里暂时忽略tslint\n    // @ts-ignore\n    if (child.isGroup) {\n      // @ts-ignore\n      shapes = shapes.concat(getShapes(child, viewId)); // @ts-ignore\n    } else if (child.isShape && child.id) {\n      // @ts-ignore\n      var id = child.id;\n      id = id.split('-')[0];\n\n      if (id === viewId) {\n        shapes.push(child);\n      }\n    }\n  });\n\n  return shapes;\n}\n/**\n * collect shape info.\n * @param shapes\n */\n\n\nfunction cache(shapes) {\n  var rst = {};\n\n  _.each(shapes, function (shape) {\n    if (!shape.id || shape.get('isClip')) {\n      return;\n    }\n\n    var id = shape.id;\n    rst[id] = {\n      id: id,\n      type: shape.get('type'),\n      attrs: _.clone(shape.attr()),\n      // 原始属性\n      name: shape.name,\n      index: shape.get('index'),\n      animateCfg: shape.get('animateOptions'),\n      coord: shape.get('coord')\n    };\n  });\n\n  return rst;\n}\n\nfunction getAnimate(elementType, coord, animationType, animationName) {\n  var result = {};\n\n  if (animationName) {\n    result = Animate.Action[animationType][animationName];\n  } else {\n    result = Animate.getAnimation(elementType, coord, animationType);\n  }\n\n  return result;\n}\n\nfunction getAnimateCfg(elementType, animationType, animateCfg) {\n  // .animate(false) 或者 .animate({ appear: false });\n  if (animateCfg === false || _.isObject(animateCfg) && animateCfg[animationType] === false) {\n    return null;\n  }\n\n  var defaultCfg = Animate.getAnimateCfg(elementType, animationType);\n\n  if (animateCfg && animateCfg[animationType]) {\n    return _.deepMix({}, defaultCfg, animateCfg[animationType]);\n  }\n\n  return defaultCfg;\n}\n/**\n * canvas draw之前将动画配置添加到动画队列中。\n * @return canvasDrawn(boolean) 是否添加绘制成功\n */\n\n\nfunction addAnimate(shapeCache, shapes, canvas) {\n  var animate;\n  var animateCfg;\n  var canvasDrawn = false; // Step: leave -> update -> enter\n\n  var updateShapes = []; // 存储的是 shapes\n\n  var newShapes = []; // 存储的是 shapes\n\n  _.each(shapes, function (shape) {\n    var result = shapeCache[shape.id];\n\n    if (!result) {\n      newShapes.push(shape);\n    } else {\n      shape.setSilent('cacheShape', result);\n      updateShapes.push(shape);\n      delete shapeCache[shape.id];\n    }\n  });\n\n  _.each(shapeCache, function (deletedShape) {\n    var name = deletedShape.name,\n        coord = deletedShape.coord,\n        id = deletedShape.id,\n        attrs = deletedShape.attrs,\n        index = deletedShape.index,\n        type = deletedShape.type;\n    animateCfg = getAnimateCfg(name, 'leave', deletedShape.animateCfg);\n\n    if (!animateCfg) {\n      return true;\n    } // 用户关闭动画\n\n\n    animate = getAnimate(name, coord, 'leave', animateCfg.animation);\n\n    if (_.isFunction(animate)) {\n      var tempShape = canvas.addShape(type, {\n        attrs: attrs,\n        index: index\n      });\n      tempShape.id = id;\n      tempShape.name = name;\n\n      if (coord && name !== 'label') {\n        var tempShapeMatrix = tempShape.getMatrix();\n        var finalMatrix = mat3.multiply([], tempShapeMatrix, coord.matrix);\n        tempShape.setMatrix(finalMatrix);\n      }\n\n      canvasDrawn = true;\n      animate(tempShape, animateCfg, coord);\n    }\n  });\n\n  _.each(updateShapes, function (updateShape) {\n    var name = updateShape.name;\n    animateCfg = getAnimateCfg(name, 'update', updateShape.get('animateOptions'));\n\n    if (!animateCfg) {\n      return true;\n    } // 用户关闭动画\n\n\n    var coord = updateShape.get('coord');\n    var cacheAttrs = updateShape.get('cacheShape').attrs; // 判断如果属性相同的话就不进行变换\n\n    if (!_.isEqual(cacheAttrs, updateShape.attr())) {\n      animate = getAnimate(name, coord, 'update', animateCfg.animation);\n\n      if (_.isFunction(animate)) {\n        animate(updateShape, animateCfg, coord);\n      } else {\n        var endState = _.clone(updateShape.attr());\n\n        updateShape.attr(cacheAttrs);\n        updateShape.animate(endState, animateCfg.duration, animateCfg.easing, function () {\n          updateShape.setSilent('cacheShape', null);\n        });\n      }\n\n      canvasDrawn = true;\n    }\n  });\n\n  _.each(newShapes, function (newShape) {\n    var name = newShape.name;\n    var coord = newShape.get('coord');\n    animateCfg = getAnimateCfg(name, 'enter', newShape.get('animateOptions'));\n\n    if (!animateCfg) {\n      return true;\n    } // 用户关闭动画\n\n\n    animate = getAnimate(name, coord, 'enter', animateCfg.animation);\n\n    if (_.isFunction(animate)) {\n      animate(newShape, animateCfg, coord);\n      canvasDrawn = true;\n    }\n  });\n\n  return canvasDrawn;\n}\n/**\n * 动画模块唯一对外暴露接口\n * @param view\n * @param isUpdate\n */\n\n\nfunction execAnimation(view, isUpdate) {\n  var newIsUpdate = isUpdate; // eslint: no-param-reassign\n\n  var panelGroup = view.get('panelGroup');\n  var backgroundGroup = view.get('backgroundGroup');\n  var viewId = view.get('id');\n  var canvas = view.get('canvas');\n  var caches = canvas.get(viewId + \"caches\") || [];\n\n  if (caches.length === 0) {\n    newIsUpdate = false;\n  }\n\n  var shapes = getShapes(panelGroup, viewId);\n  var axisShapes = getShapes(backgroundGroup, viewId);\n  var cacheShapes = shapes.concat(axisShapes);\n  canvas.setSilent(viewId + \"caches\", cache(cacheShapes));\n  var drawn;\n\n  if (newIsUpdate) {\n    // 执行更新动画\n    drawn = addAnimate(caches, cacheShapes, canvas);\n  } else {\n    // 初入场动画\n    // drawn = addAnimate(caches, shapes, canvas, newIsUpdate);\n    var animateCfg_1;\n    var animate_1;\n    var elements = view.get('elements');\n    var coord_1 = view.get('coord');\n\n    _.each(elements, function (element) {\n      var type = element.get('type');\n      var elementAnimateOption = element.get('animateOptions');\n\n      if (elementAnimateOption !== false) {\n        // 用户为关闭动画\n        animateCfg_1 = getAnimateCfg(type, 'appear', elementAnimateOption);\n\n        if (!animateCfg_1) {\n          return true;\n        } // 用户关闭了初始动画\n\n\n        animate_1 = getAnimate(type, coord_1, 'appear', animateCfg_1.animation);\n\n        if (_.isFunction(animate_1)) {\n          if (animate_1.animationName.indexOf('group') === 0) {\n            // 执行全局动画\n            var yScale = element.getYScale();\n            var zeroY = coord_1.convertPoint({\n              x: 0,\n              y: yScale.scale(element.getYMinValue())\n            });\n            var container = element.get('container');\n            animate_1 && animate_1(container, animateCfg_1, coord_1, zeroY);\n          } else {\n            var shapeArr = getShapes(element.get('container'), viewId);\n\n            _.each(shapeArr, function (shape) {\n              if (shape.name === type) {\n                // element shapes 上的动画\n                animate_1(shape, animateCfg_1, coord_1);\n              } else if (shape.name === 'label') {\n                animateCfg_1 = getAnimateCfg('label', 'appear', null);\n                animate_1 = getAnimate(shape.name, coord_1, 'appear', animateCfg_1.animation);\n\n                if (_.isFunction(animate_1)) {\n                  animate_1(shape, animateCfg_1, coord_1);\n                }\n              }\n            });\n          }\n        }\n      }\n    });\n\n    drawn = true;\n  }\n\n  if (!drawn) {\n    canvas.draw();\n  }\n}\n\nexport default {\n  execAnimation: execAnimation\n};","var methodCache = {};\n/**\n * 获取计算 ticks 的方法\n * @param key 键值\n * @returns 计算 ticks 的方法\n */\n\nexport function getTickMethod(key) {\n  return methodCache[key];\n}\n/**\n * 注册计算 ticks 的方法\n * @param key 键值\n * @param method 方法\n */\n\nexport function registerTickMethod(key, method) {\n  methodCache[key] = method;\n}","import { assign, head, isEmpty, isFunction, isNil, isNumber, isObject, isString, last, map } from '@antv/util';\nimport { getTickMethod } from './tick-method/register';\n\nvar Scale =\n/** @class */\nfunction () {\n  function Scale(cfg) {\n    /**\n     * 度量的类型\n     */\n    this.type = 'base';\n    /**\n     * 是否分类类型的度量\n     */\n\n    this.isCategory = false;\n    /**\n     * 是否线性度量，有linear, time 度量\n     */\n\n    this.isLinear = false;\n    /**\n     * 是否连续类型的度量，linear,time,log, pow, quantile, quantize 都支持\n     */\n\n    this.isContinuous = false;\n    /**\n     * 是否是常量的度量，传入和传出一致\n     */\n\n    this.isIdentity = false;\n    this.values = [];\n    this.range = [0, 1];\n    this.ticks = [];\n    this.__cfg__ = cfg;\n    this.initCfg();\n    this.init();\n  } // 对于原始值的必要转换，如分类、时间字段需转换成数值，用transform/map命名可能更好\n\n\n  Scale.prototype.translate = function (v) {\n    return v;\n  };\n  /** 重新初始化 */\n\n\n  Scale.prototype.change = function (cfg) {\n    // 覆盖配置项，而不替代\n    assign(this.__cfg__, cfg);\n    this.init();\n  };\n\n  Scale.prototype.clone = function () {\n    return this.constructor(this.__cfg__);\n  };\n  /** 获取坐标轴需要的ticks */\n\n\n  Scale.prototype.getTicks = function () {\n    var _this = this;\n\n    return map(this.ticks, function (tick, idx) {\n      if (isObject(tick)) {\n        // 仅当符合Tick类型时才有意义\n        return tick;\n      }\n\n      return {\n        text: _this.getText(tick, idx),\n        tickValue: tick,\n        value: _this.scale(tick)\n      };\n    });\n  };\n  /** 获取Tick的格式化结果 */\n\n\n  Scale.prototype.getText = function (value, key) {\n    var formatter = this.formatter;\n    var res = formatter ? formatter(value, key) : value;\n\n    if (isNil(res) || !isFunction(res.toString)) {\n      return '';\n    }\n\n    return res.toString();\n  }; // 获取配置项中的值，当前 scale 上的值可能会被修改\n\n\n  Scale.prototype.getConfig = function (key) {\n    return this.__cfg__[key];\n  }; // scale初始化\n\n\n  Scale.prototype.init = function () {\n    assign(this, this.__cfg__);\n    this.setDomain();\n\n    if (isEmpty(this.getConfig('ticks'))) {\n      this.ticks = this.calculateTicks();\n    }\n  }; // 子类上覆盖某些属性，不能直接在类上声明，否则会被覆盖\n\n\n  Scale.prototype.initCfg = function () {};\n\n  Scale.prototype.setDomain = function () {};\n\n  Scale.prototype.calculateTicks = function () {\n    var tickMethod = this.tickMethod;\n    var ticks = [];\n\n    if (isString(tickMethod)) {\n      var method = getTickMethod(tickMethod);\n\n      if (!method) {\n        throw new Error('There is no method to to calculate ticks!');\n      }\n\n      ticks = method(this);\n    } else if (isFunction(tickMethod)) {\n      ticks = tickMethod(this);\n    }\n\n    return ticks;\n  }; // range 的最小值\n\n\n  Scale.prototype.rangeMin = function () {\n    return head(this.range);\n  }; // range 的最大值\n\n\n  Scale.prototype.rangeMax = function () {\n    return last(this.range);\n  };\n  /** 定义域转 0~1 */\n\n\n  Scale.prototype.calcPercent = function (value, min, max) {\n    if (isNumber(value)) {\n      return (value - min) / (max - min);\n    }\n\n    return NaN;\n  };\n  /** 0~1转定义域 */\n\n\n  Scale.prototype.calcValue = function (percent, min, max) {\n    return min + percent * (max - min);\n  };\n\n  return Scale;\n}();\n\nexport default Scale;","import { __extends, __spreadArrays } from \"tslib\";\nimport { indexOf, isNil, isNumber } from '@antv/util';\nimport Base from '../base';\n/**\n * 分类度量\n * @class\n */\n\nvar Category =\n/** @class */\nfunction (_super) {\n  __extends(Category, _super);\n\n  function Category() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'cat';\n    _this.isCategory = true;\n    return _this;\n  }\n\n  Category.prototype.translate = function (value) {\n    var index = indexOf(this.values, value);\n\n    if (index === -1) {\n      return isNumber(value) ? value : NaN;\n    }\n\n    return index;\n  };\n\n  Category.prototype.scale = function (value) {\n    var order = this.translate(value); // 分类数据允许 0.5 范围内调整\n\n    if (order < this.min - 0.5 || order > this.max + 0.5) {\n      return NaN;\n    }\n\n    var percent = this.calcPercent(order, this.min, this.max);\n    return this.calcValue(percent, this.rangeMin(), this.rangeMax());\n  };\n\n  Category.prototype.invert = function (scaledValue) {\n    var domainRange = this.max - this.min;\n    var percent = this.calcPercent(scaledValue, this.rangeMin(), this.rangeMax());\n    var idx = Math.round(domainRange * percent) + this.min;\n\n    if (idx < this.min || idx > this.max) {\n      return NaN;\n    }\n\n    return this.values[idx];\n  };\n\n  Category.prototype.getText = function (value) {\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    var v = value; // value为index\n\n    if (isNumber(value) && !this.values.includes(value)) {\n      v = this.values[v];\n    }\n\n    return _super.prototype.getText.apply(this, __spreadArrays([v], args));\n  }; // 复写属性\n\n\n  Category.prototype.initCfg = function () {\n    this.tickMethod = 'cat';\n  }; // 设置 min, max\n\n\n  Category.prototype.setDomain = function () {\n    // 用户有可能设置 min\n    if (isNil(this.getConfig('min'))) {\n      this.min = 0;\n    }\n\n    if (isNil(this.getConfig('max'))) {\n      var size = this.values.length;\n      this.max = size > 1 ? size - 1 : size;\n    }\n  };\n\n  return Category;\n}(Base);\n\nexport default Category;","/**\n * Parse or format dates\n * @class fecha\n */\nvar fecha = {};\nvar token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nvar twoDigits = '\\\\d\\\\d?';\nvar threeDigits = '\\\\d{3}';\nvar fourDigits = '\\\\d{4}';\nvar word = '[^\\\\s]+';\nvar literal = /\\[([^]*?)\\]/gm;\n\nvar noop = function noop() {};\n\nfunction regexEscape(str) {\n  return str.replace(/[|\\\\{()[^$+*?.-]/g, '\\\\$&');\n}\n\nfunction shorten(arr, sLen) {\n  var newArr = [];\n\n  for (var i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n\n  return newArr;\n}\n\nfunction monthUpdate(arrName) {\n  return function (d, v, i18n) {\n    var index = i18n[arrName].indexOf(v.charAt(0).toUpperCase() + v.substr(1).toLowerCase());\n\n    if (~index) {\n      d.month = index;\n    }\n  };\n}\n\nfunction pad(val, len) {\n  val = String(val);\n  len = len || 2;\n\n  while (val.length < len) {\n    val = '0' + val;\n  }\n\n  return val;\n}\n\nvar dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\nvar monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\nvar monthNamesShort = shorten(monthNames, 3);\nvar dayNamesShort = shorten(dayNames, 3);\nfecha.i18n = {\n  dayNamesShort: dayNamesShort,\n  dayNames: dayNames,\n  monthNamesShort: monthNamesShort,\n  monthNames: monthNames,\n  amPm: ['am', 'pm'],\n  DoFn: function DoFn(D) {\n    return D + ['th', 'st', 'nd', 'rd'][D % 10 > 3 ? 0 : (D - D % 10 !== 10) * D % 10];\n  }\n};\nvar formatFlags = {\n  D: function D(dateObj) {\n    return dateObj.getDate();\n  },\n  DD: function DD(dateObj) {\n    return pad(dateObj.getDate());\n  },\n  Do: function Do(dateObj, i18n) {\n    return i18n.DoFn(dateObj.getDate());\n  },\n  d: function d(dateObj) {\n    return dateObj.getDay();\n  },\n  dd: function dd(dateObj) {\n    return pad(dateObj.getDay());\n  },\n  ddd: function ddd(dateObj, i18n) {\n    return i18n.dayNamesShort[dateObj.getDay()];\n  },\n  dddd: function dddd(dateObj, i18n) {\n    return i18n.dayNames[dateObj.getDay()];\n  },\n  M: function M(dateObj) {\n    return dateObj.getMonth() + 1;\n  },\n  MM: function MM(dateObj) {\n    return pad(dateObj.getMonth() + 1);\n  },\n  MMM: function MMM(dateObj, i18n) {\n    return i18n.monthNamesShort[dateObj.getMonth()];\n  },\n  MMMM: function MMMM(dateObj, i18n) {\n    return i18n.monthNames[dateObj.getMonth()];\n  },\n  YY: function YY(dateObj) {\n    return pad(String(dateObj.getFullYear()), 4).substr(2);\n  },\n  YYYY: function YYYY(dateObj) {\n    return pad(dateObj.getFullYear(), 4);\n  },\n  h: function h(dateObj) {\n    return dateObj.getHours() % 12 || 12;\n  },\n  hh: function hh(dateObj) {\n    return pad(dateObj.getHours() % 12 || 12);\n  },\n  H: function H(dateObj) {\n    return dateObj.getHours();\n  },\n  HH: function HH(dateObj) {\n    return pad(dateObj.getHours());\n  },\n  m: function m(dateObj) {\n    return dateObj.getMinutes();\n  },\n  mm: function mm(dateObj) {\n    return pad(dateObj.getMinutes());\n  },\n  s: function s(dateObj) {\n    return dateObj.getSeconds();\n  },\n  ss: function ss(dateObj) {\n    return pad(dateObj.getSeconds());\n  },\n  S: function S(dateObj) {\n    return Math.round(dateObj.getMilliseconds() / 100);\n  },\n  SS: function SS(dateObj) {\n    return pad(Math.round(dateObj.getMilliseconds() / 10), 2);\n  },\n  SSS: function SSS(dateObj) {\n    return pad(dateObj.getMilliseconds(), 3);\n  },\n  a: function a(dateObj, i18n) {\n    return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1];\n  },\n  A: function A(dateObj, i18n) {\n    return dateObj.getHours() < 12 ? i18n.amPm[0].toUpperCase() : i18n.amPm[1].toUpperCase();\n  },\n  ZZ: function ZZ(dateObj) {\n    var o = dateObj.getTimezoneOffset();\n    return (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4);\n  }\n};\nvar parseFlags = {\n  D: [twoDigits, function (d, v) {\n    d.day = v;\n  }],\n  Do: [twoDigits + word, function (d, v) {\n    d.day = parseInt(v, 10);\n  }],\n  M: [twoDigits, function (d, v) {\n    d.month = v - 1;\n  }],\n  YY: [twoDigits, function (d, v) {\n    var da = new Date(),\n        cent = +('' + da.getFullYear()).substr(0, 2);\n    d.year = '' + (v > 68 ? cent - 1 : cent) + v;\n  }],\n  h: [twoDigits, function (d, v) {\n    d.hour = v;\n  }],\n  m: [twoDigits, function (d, v) {\n    d.minute = v;\n  }],\n  s: [twoDigits, function (d, v) {\n    d.second = v;\n  }],\n  YYYY: [fourDigits, function (d, v) {\n    d.year = v;\n  }],\n  S: ['\\\\d', function (d, v) {\n    d.millisecond = v * 100;\n  }],\n  SS: ['\\\\d{2}', function (d, v) {\n    d.millisecond = v * 10;\n  }],\n  SSS: [threeDigits, function (d, v) {\n    d.millisecond = v;\n  }],\n  d: [twoDigits, noop],\n  ddd: [word, noop],\n  MMM: [word, monthUpdate('monthNamesShort')],\n  MMMM: [word, monthUpdate('monthNames')],\n  a: [word, function (d, v, i18n) {\n    var val = v.toLowerCase();\n\n    if (val === i18n.amPm[0]) {\n      d.isPm = false;\n    } else if (val === i18n.amPm[1]) {\n      d.isPm = true;\n    }\n  }],\n  ZZ: ['[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z', function (d, v) {\n    var parts = (v + '').match(/([+-]|\\d\\d)/gi),\n        minutes;\n\n    if (parts) {\n      minutes = +(parts[1] * 60) + parseInt(parts[2], 10);\n      d.timezoneOffset = parts[0] === '+' ? minutes : -minutes;\n    }\n  }]\n};\nparseFlags.dd = parseFlags.d;\nparseFlags.dddd = parseFlags.ddd;\nparseFlags.DD = parseFlags.D;\nparseFlags.mm = parseFlags.m;\nparseFlags.hh = parseFlags.H = parseFlags.HH = parseFlags.h;\nparseFlags.MM = parseFlags.M;\nparseFlags.ss = parseFlags.s;\nparseFlags.A = parseFlags.a; // Some common format strings\n\nfecha.masks = {\n  default: 'ddd MMM DD YYYY HH:mm:ss',\n  shortDate: 'M/D/YY',\n  mediumDate: 'MMM D, YYYY',\n  longDate: 'MMMM D, YYYY',\n  fullDate: 'dddd, MMMM D, YYYY',\n  shortTime: 'HH:mm',\n  mediumTime: 'HH:mm:ss',\n  longTime: 'HH:mm:ss.SSS'\n};\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n */\n\nfecha.format = function (dateObj, mask, i18nSettings) {\n  var i18n = i18nSettings || fecha.i18n;\n\n  if (typeof dateObj === 'number') {\n    dateObj = new Date(dateObj);\n  }\n\n  if (Object.prototype.toString.call(dateObj) !== '[object Date]' || isNaN(dateObj.getTime())) {\n    throw new Error('Invalid Date in fecha.format');\n  }\n\n  mask = fecha.masks[mask] || mask || fecha.masks['default'];\n  var literals = []; // Make literals inactive by replacing them with ??\n\n  mask = mask.replace(literal, function ($0, $1) {\n    literals.push($1);\n    return '@@@';\n  }); // Apply formatting rules\n\n  mask = mask.replace(token, function ($0) {\n    return $0 in formatFlags ? formatFlags[$0](dateObj, i18n) : $0.slice(1, $0.length - 1);\n  }); // Inline literal values back into the formatted value\n\n  return mask.replace(/@@@/g, function () {\n    return literals.shift();\n  });\n};\n/**\n * Parse a date string into an object, changes - into /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @returns {Date|boolean}\n */\n\n\nfecha.parse = function (dateStr, format, i18nSettings) {\n  var i18n = i18nSettings || fecha.i18n;\n\n  if (typeof format !== 'string') {\n    throw new Error('Invalid format in fecha.parse');\n  }\n\n  format = fecha.masks[format] || format; // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  var dateInfo = {};\n  var parseInfo = [];\n  var literals = [];\n  format = format.replace(literal, function ($0, $1) {\n    literals.push($1);\n    return '@@@';\n  });\n  var newFormat = regexEscape(format).replace(token, function ($0) {\n    if (parseFlags[$0]) {\n      var info = parseFlags[$0];\n      parseInfo.push(info[1]);\n      return '(' + info[0] + ')';\n    }\n\n    return $0;\n  });\n  newFormat = newFormat.replace(/@@@/g, function () {\n    return literals.shift();\n  });\n  var matches = dateStr.match(new RegExp(newFormat, 'i'));\n\n  if (!matches) {\n    return null;\n  }\n\n  for (var i = 1; i < matches.length; i++) {\n    parseInfo[i - 1](dateInfo, matches[i], i18n);\n  }\n\n  var today = new Date();\n\n  if (dateInfo.isPm === true && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === false && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  var date;\n\n  if (dateInfo.timezoneOffset != null) {\n    dateInfo.minute = +(dateInfo.minute || 0) - +dateInfo.timezoneOffset;\n    date = new Date(Date.UTC(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1, dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0));\n  } else {\n    date = new Date(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1, dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0);\n  }\n\n  return date;\n};\n\nexport default fecha;","import { isDate, isString, last } from '@antv/util';\nimport fecha from 'fecha';\nimport * as fecha1 from 'fecha';\nimport bisector from './bisector';\nvar FORMAT_METHOD = 'format';\nexport function timeFormat(time, mask) {\n  var method = fecha1[FORMAT_METHOD] || fecha[FORMAT_METHOD];\n  return method(time, mask);\n}\n/**\n * 转换成时间戳\n * @param value 时间值\n */\n\nexport function toTimeStamp(value) {\n  if (isString(value)) {\n    if (value.indexOf('T') > 0) {\n      value = new Date(value).getTime();\n    } else {\n      // new Date('2010/01/10') 和 new Date('2010-01-10') 的差别在于:\n      // 如果仅有年月日时，前者是带有时区的: Fri Jan 10 2020 02:40:13 GMT+0800 (中国标准时间)\n      // 后者会格式化成 Sun Jan 10 2010 08:00:00 GMT+0800 (中国标准时间)\n      value = new Date(value.replace(/-/gi, '/')).getTime();\n    }\n  }\n\n  if (isDate(value)) {\n    value = value.getTime();\n  }\n\n  return value;\n}\nvar SECOND = 1000;\nvar MINUTE = 60 * SECOND;\nvar HOUR = 60 * MINUTE;\nvar DAY = 24 * HOUR;\nvar MONTH = DAY * 31;\nvar YEAR = DAY * 365;\nexport { SECOND, MINUTE, HOUR, DAY, MONTH, YEAR };\nvar intervals = [['HH:mm:ss', SECOND], ['HH:mm:ss', SECOND * 10], ['HH:mm:ss', SECOND * 30], ['HH:mm', MINUTE], ['HH:mm', MINUTE * 10], ['HH:mm', MINUTE * 30], ['HH', HOUR], ['HH', HOUR * 6], ['HH', HOUR * 12], ['YYYY-MM-DD', DAY], ['YYYY-MM-DD', DAY * 4], ['YYYY-WW', DAY * 7], ['YYYY-MM', MONTH], ['YYYY-MM', MONTH * 4], ['YYYY-MM', MONTH * 6], ['YYYY', DAY * 380]];\nexport function getTickInterval(min, max, tickCount) {\n  var target = (max - min) / tickCount;\n  var idx = bisector(function (o) {\n    return o[1];\n  })(intervals, target) - 1;\n  var interval = intervals[idx];\n\n  if (idx < 0) {\n    interval = intervals[0];\n  } else if (idx >= intervals.length) {\n    interval = last(intervals);\n  }\n\n  return interval;\n}","import { isNil } from '@antv/util';\n/**\n * 二分右侧查找\n * https://github.com/d3/d3-array/blob/master/src/bisector.js\n */\n\nexport default function (getter) {\n  /**\n   * x: 目标值\n   * lo: 起始位置\n   * hi: 结束位置\n   */\n  return function (a, x, _lo, _hi) {\n    var lo = isNil(_lo) ? 0 : _lo;\n    var hi = isNil(_hi) ? a.length : _hi;\n\n    while (lo < hi) {\n      var mid = lo + hi >>> 1;\n\n      if (getter(a[mid]) > x) {\n        hi = mid;\n      } else {\n        lo = mid + 1;\n      }\n    }\n\n    return lo;\n  };\n}","import { __extends } from \"tslib\";\nimport { each, isNumber } from '@antv/util';\nimport { timeFormat, toTimeStamp } from '../util/time';\nimport Category from './base';\n/**\n * 时间分类度量\n * @class\n */\n\nvar TimeCat =\n/** @class */\nfunction (_super) {\n  __extends(TimeCat, _super);\n\n  function TimeCat() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @override\n   */\n\n\n  TimeCat.prototype.translate = function (value) {\n    value = toTimeStamp(value);\n    var index = this.values.indexOf(value);\n\n    if (index === -1) {\n      if (isNumber(value) && value < this.values.length) {\n        index = value;\n      } else {\n        index = NaN;\n      }\n    }\n\n    return index;\n  };\n  /**\n   * 由于时间类型数据需要转换一下，所以复写 getText\n   * @override\n   */\n\n\n  TimeCat.prototype.getText = function (value, tickIndex) {\n    var index = this.translate(value);\n\n    if (index > -1) {\n      var result = this.values[index];\n      var formatter = this.formatter;\n      result = formatter ? formatter(result, tickIndex) : timeFormat(result, this.mask);\n      return result;\n    }\n\n    return value;\n  };\n\n  TimeCat.prototype.initCfg = function () {\n    this.tickMethod = 'time-cat';\n    this.mask = 'YYYY-MM-DD';\n    this.tickCount = 7; // 一般时间数据会显示 7， 14， 30 天的数字\n  };\n\n  TimeCat.prototype.setDomain = function () {\n    var values = this.values; // 针对时间分类类型，会将时间统一转换为时间戳\n\n    each(values, function (v, i) {\n      values[i] = toTimeStamp(v);\n    });\n    values.sort(function (v1, v2) {\n      return v1 - v2;\n    });\n\n    _super.prototype.setDomain.call(this);\n  };\n\n  return TimeCat;\n}(Category);\n\nexport default TimeCat;","import { __extends } from \"tslib\";\nimport { filter, getRange, head, isNil, last } from '@antv/util';\nimport Base from '../base';\n/**\n * 连续度量的基类\n * @class\n */\n\nvar Continuous =\n/** @class */\nfunction (_super) {\n  __extends(Continuous, _super);\n\n  function Continuous() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.isContinuous = true;\n    return _this;\n  }\n\n  Continuous.prototype.scale = function (value) {\n    if (isNil(value)) {\n      return NaN;\n    }\n\n    var rangeMin = this.rangeMin();\n    var rangeMax = this.rangeMax();\n    var max = this.max;\n    var min = this.min;\n\n    if (max === min) {\n      return rangeMin;\n    }\n\n    var percent = this.getScalePercent(value);\n    return rangeMin + percent * (rangeMax - rangeMin);\n  };\n\n  Continuous.prototype.init = function () {\n    _super.prototype.init.call(this); // init 完成后保证 min, max 包含 ticks 的范围\n\n\n    var ticks = this.ticks;\n    var firstTick = head(ticks);\n    var lastTick = last(ticks);\n\n    if (firstTick < this.min) {\n      this.min = firstTick;\n    }\n\n    if (lastTick > this.max) {\n      this.max = lastTick;\n    }\n  };\n\n  Continuous.prototype.setDomain = function () {\n    var _a = getRange(this.values),\n        min = _a.min,\n        max = _a.max;\n\n    if (isNil(this.min)) {\n      this.min = min;\n    }\n\n    if (isNil(this.max)) {\n      this.max = max;\n    }\n\n    if (this.min > this.max) {\n      this.min = min;\n      this.max = max;\n    }\n  };\n\n  Continuous.prototype.calculateTicks = function () {\n    var _this = this;\n\n    var ticks = _super.prototype.calculateTicks.call(this);\n\n    if (!this.nice) {\n      ticks = filter(ticks, function (tick) {\n        return tick >= _this.min && tick <= _this.max;\n      });\n    }\n\n    return ticks;\n  }; // 计算原始值值占的百分比\n\n\n  Continuous.prototype.getScalePercent = function (value) {\n    var max = this.max;\n    var min = this.min;\n    return (value - min) / (max - min);\n  };\n\n  Continuous.prototype.getInvertPercent = function (value) {\n    return (value - this.rangeMin()) / (this.rangeMax() - this.rangeMin());\n  };\n\n  return Continuous;\n}(Base);\n\nexport default Continuous;","import { __extends } from \"tslib\";\nimport Continuous from './base';\n/**\n * 线性度量\n * @class\n */\n\nvar Linear =\n/** @class */\nfunction (_super) {\n  __extends(Linear, _super);\n\n  function Linear() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'linear';\n    _this.isLinear = true;\n    return _this;\n  }\n\n  Linear.prototype.invert = function (value) {\n    var percent = this.getInvertPercent(value);\n    return this.min + percent * (this.max - this.min);\n  };\n\n  Linear.prototype.initCfg = function () {\n    this.tickMethod = 'wilkinson-extended';\n    this.nice = false;\n  };\n\n  return Linear;\n}(Continuous);\n\nexport default Linear;","import { each, isNil } from '@antv/util'; // 求以a为次幂，结果为b的基数，如 x^^a = b;求x\n// 虽然数学上 b 不支持负数，但是这里需要支持 负数\n\nexport function calBase(a, b) {\n  var e = Math.E;\n  var value;\n\n  if (b >= 0) {\n    value = Math.pow(e, Math.log(b) / a); // 使用换底公式求底\n  } else {\n    value = Math.pow(e, Math.log(-b) / a) * -1; // 使用换底公式求底\n  }\n\n  return value;\n}\nexport function log(a, b) {\n  if (a === 1) {\n    return 1;\n  }\n\n  return Math.log(b) / Math.log(a);\n}\nexport function getLogPositiveMin(values, base, max) {\n  if (isNil(max)) {\n    max = Math.max.apply(null, values);\n  }\n\n  var positiveMin = max;\n  each(values, function (value) {\n    if (value > 0 && value < positiveMin) {\n      positiveMin = value;\n    }\n  });\n\n  if (positiveMin === max) {\n    positiveMin = max / base;\n  }\n\n  if (positiveMin > 1) {\n    positiveMin = 1;\n  }\n\n  return positiveMin;\n}","import { __extends } from \"tslib\";\nimport { getLogPositiveMin, log } from '../util/math';\nimport Continuous from './base';\n/**\n * Log 度量，处理非均匀分布\n */\n\nvar Log =\n/** @class */\nfunction (_super) {\n  __extends(Log, _super);\n\n  function Log() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'log';\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  Log.prototype.invert = function (value) {\n    var base = this.base;\n    var max = log(base, this.max);\n    var rangeMin = this.rangeMin();\n    var range = this.rangeMax() - rangeMin;\n    var min;\n    var positiveMin = this.positiveMin;\n\n    if (positiveMin) {\n      if (value === 0) {\n        return 0;\n      }\n\n      min = log(base, positiveMin / base);\n      var appendPercent = 1 / (max - min) * range; // 0 到 positiveMin的占比\n\n      if (value < appendPercent) {\n        // 落到 0 - positiveMin 之间\n        return value / appendPercent * positiveMin;\n      }\n    } else {\n      min = log(base, this.min);\n    }\n\n    var percent = (value - rangeMin) / range;\n    var tmp = percent * (max - min) + min;\n    return Math.pow(base, tmp);\n  };\n\n  Log.prototype.initCfg = function () {\n    this.tickMethod = 'log';\n    this.base = 10;\n    this.tickCount = 6;\n    this.nice = true;\n  }; // 设置\n\n\n  Log.prototype.setDomain = function () {\n    _super.prototype.setDomain.call(this);\n\n    var min = this.min;\n\n    if (min < 0) {\n      throw new Error('When you use log scale, the minimum value must be greater than zero!');\n    }\n\n    if (min === 0) {\n      this.positiveMin = getLogPositiveMin(this.values, this.base, this.max);\n    }\n  }; // 根据当前值获取占比\n\n\n  Log.prototype.getScalePercent = function (value) {\n    var max = this.max;\n    var min = this.min;\n\n    if (max === min) {\n      return 0;\n    } // 如果值小于等于0，则按照0处理\n\n\n    if (value <= 0) {\n      return 0;\n    }\n\n    var base = this.base;\n    var positiveMin = this.positiveMin; // 如果min == 0, 则根据比0大的最小值，计算比例关系。这个最小值作为坐标轴上的第二个tick，第一个是0但是不显示\n\n    if (positiveMin) {\n      min = positiveMin * 1 / base;\n    }\n\n    var percent; // 如果数值小于次小值，那么就计算 value / 次小值 占整体的比例\n\n    if (value < positiveMin) {\n      percent = value / positiveMin / (log(base, max) - log(base, min));\n    } else {\n      percent = (log(base, value) - log(base, min)) / (log(base, max) - log(base, min));\n    }\n\n    return percent;\n  };\n\n  return Log;\n}(Continuous);\n\nexport default Log;","import { __extends } from \"tslib\";\nimport { calBase } from '../util/math';\nimport Continuous from './base';\n/**\n * Pow 度量，处理非均匀分布\n */\n\nvar Pow =\n/** @class */\nfunction (_super) {\n  __extends(Pow, _super);\n\n  function Pow() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'pow';\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  Pow.prototype.invert = function (value) {\n    var percent = this.getInvertPercent(value);\n    var exponent = this.exponent;\n    var max = calBase(exponent, this.max);\n    var min = calBase(exponent, this.min);\n    var tmp = percent * (max - min) + min;\n    var factor = tmp >= 0 ? 1 : -1;\n    return Math.pow(tmp, exponent) * factor;\n  };\n\n  Pow.prototype.initCfg = function () {\n    this.tickMethod = 'pow';\n    this.exponent = 2;\n    this.tickCount = 5;\n    this.nice = true;\n  }; // 获取度量计算时，value占的定义域百分比\n\n\n  Pow.prototype.getScalePercent = function (value) {\n    var max = this.max;\n    var min = this.min;\n\n    if (max === min) {\n      return 0;\n    }\n\n    var exponent = this.exponent;\n    var percent = (calBase(exponent, value) - calBase(exponent, min)) / (calBase(exponent, max) - calBase(exponent, min));\n    return percent;\n  };\n\n  return Pow;\n}(Continuous);\n\nexport default Pow;","import { __extends } from \"tslib\";\nimport { each, isDate, isNil, isNumber, isString } from '@antv/util';\nimport { timeFormat, toTimeStamp } from '../util/time';\nimport Linear from './linear';\n/**\n * 时间度量\n * @class\n */\n\nvar Time =\n/** @class */\nfunction (_super) {\n  __extends(Time, _super);\n\n  function Time() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'time';\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  Time.prototype.getText = function (value, index) {\n    var numberValue = this.translate(value);\n    var formatter = this.formatter;\n    return formatter ? formatter(numberValue, index) : timeFormat(numberValue, this.mask);\n  };\n  /**\n   * @override\n   */\n\n\n  Time.prototype.scale = function (value) {\n    var v = value;\n\n    if (isString(v) || isDate(v)) {\n      v = this.translate(v);\n    }\n\n    return _super.prototype.scale.call(this, v);\n  };\n  /**\n   * 将时间转换成数字\n   * @override\n   */\n\n\n  Time.prototype.translate = function (v) {\n    return toTimeStamp(v);\n  };\n\n  Time.prototype.initCfg = function () {\n    this.tickMethod = 'time-pretty';\n    this.mask = 'YYYY-MM-DD';\n    this.tickCount = 7;\n    this.nice = false;\n  };\n\n  Time.prototype.setDomain = function () {\n    var values = this.values; // 是否设置了 min, max，而不是直接取 this.min, this.max\n\n    var minConfig = this.getConfig('min');\n    var maxConfig = this.getConfig('max'); // 如果设置了 min,max 则转换成时间戳\n\n    if (!isNil(minConfig) || !isNumber(minConfig)) {\n      this.min = this.translate(this.min);\n    }\n\n    if (!isNil(maxConfig) || !isNumber(maxConfig)) {\n      this.max = this.translate(this.max);\n    } // 没有设置 min, max 时\n\n\n    if (values && values.length) {\n      // 重新计算最大最小值\n      var timeStamps_1 = [];\n      var min_1 = Infinity; // 最小值\n\n      var secondMin_1 = min_1; // 次小值\n\n      var max_1 = 0; // 使用一个循环，计算min,max,secondMin\n\n      each(values, function (v) {\n        var timeStamp = toTimeStamp(v);\n\n        if (isNaN(timeStamp)) {\n          throw new TypeError(\"Invalid Time: \" + v + \" in time scale!\");\n        }\n\n        if (min_1 > timeStamp) {\n          secondMin_1 = min_1;\n          min_1 = timeStamp;\n        } else if (secondMin_1 > timeStamp) {\n          secondMin_1 = timeStamp;\n        }\n\n        if (max_1 < timeStamp) {\n          max_1 = timeStamp;\n        }\n\n        timeStamps_1.push(timeStamp);\n      }); // 存在多个值时，设置最小间距\n\n      if (values.length > 1) {\n        this.minTickInterval = secondMin_1 - min_1;\n      }\n\n      if (isNil(minConfig)) {\n        this.min = min_1;\n      }\n\n      if (isNil(maxConfig)) {\n        this.max = max_1;\n      }\n    }\n  };\n\n  return Time;\n}(Linear);\n\nexport default Time;","import { __extends } from \"tslib\";\nimport { each, head, last } from '@antv/util';\nimport Continuous from './base';\n/**\n * 分段度量\n */\n\nvar Quantize =\n/** @class */\nfunction (_super) {\n  __extends(Quantize, _super);\n\n  function Quantize() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'quantize';\n    return _this;\n  }\n\n  Quantize.prototype.invert = function (value) {\n    var ticks = this.ticks;\n    var length = ticks.length;\n    var percent = this.getInvertPercent(value);\n    var minIndex = Math.floor(percent * (length - 1)); // 最后一个\n\n    if (minIndex >= length - 1) {\n      return last(ticks);\n    } // 超出左边界， 则取第一个\n\n\n    if (minIndex < 0) {\n      return head(ticks);\n    }\n\n    var minTick = ticks[minIndex];\n    var nextTick = ticks[minIndex + 1]; // 比当前值小的 tick 在度量上的占比\n\n    var minIndexPercent = minIndex / (length - 1);\n    var maxIndexPercent = (minIndex + 1) / (length - 1);\n    return minTick + (percent - minIndexPercent) / (maxIndexPercent - minIndexPercent) * (nextTick - minTick);\n  };\n\n  Quantize.prototype.initCfg = function () {\n    this.tickMethod = 'r-pretty';\n    this.tickCount = 5;\n    this.nice = true;\n  };\n\n  Quantize.prototype.calculateTicks = function () {\n    var ticks = _super.prototype.calculateTicks.call(this);\n\n    if (!this.nice) {\n      // 如果 nice = false ,补充 min, max\n      if (last(ticks) !== this.max) {\n        ticks.push(this.max);\n      }\n\n      if (head(ticks) !== this.min) {\n        ticks.unshift(this.min);\n      }\n    }\n\n    return ticks;\n  }; // 计算当前值在刻度中的占比\n\n\n  Quantize.prototype.getScalePercent = function (value) {\n    var ticks = this.ticks; // 超出左边界\n\n    if (value < head(ticks)) {\n      return 0;\n    } // 超出右边界\n\n\n    if (value > last(ticks)) {\n      return 1;\n    }\n\n    var minIndex = 0;\n    each(ticks, function (tick, index) {\n      if (value >= tick) {\n        minIndex = index;\n      } else {\n        return false;\n      }\n    });\n    return minIndex / (ticks.length - 1);\n  };\n\n  return Quantize;\n}(Continuous);\n\nexport default Quantize;","import { __extends } from \"tslib\";\nimport Quantize from './quantize';\n\nvar Quantile =\n/** @class */\nfunction (_super) {\n  __extends(Quantile, _super);\n\n  function Quantile() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'quantile';\n    return _this;\n  }\n\n  Quantile.prototype.initCfg = function () {\n    this.tickMethod = 'quantile';\n    this.tickCount = 5;\n    this.nice = true;\n  };\n\n  return Quantile;\n}(Quantize);\n\nexport default Quantile;","import Scale from './base';\nvar map = {};\n\nfunction getClass(key) {\n  return map[key];\n}\n\nfunction registerClass(key, cls) {\n  if (getClass(key)) {\n    throw new Error(\"type '\" + key + \"' existed.\");\n  }\n\n  map[key] = cls;\n}\n\nexport { Scale, getClass as getScale, registerClass as registerScale };","import { __extends } from \"tslib\";\nimport { isNumber } from '@antv/util';\nimport Base from '../base';\n/**\n * identity scale原则上是定义域和值域一致，scale/invert方法也是一致的\n * 参考R的实现：https://github.com/r-lib/scales/blob/master/R/pal-identity.r\n * 参考d3的实现（做了下转型）：https://github.com/d3/d3-scale/blob/master/src/identity.js\n */\n\nvar Identity =\n/** @class */\nfunction (_super) {\n  __extends(Identity, _super);\n\n  function Identity() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'identity';\n    _this.isIdentity = true;\n    return _this;\n  }\n\n  Identity.prototype.calculateTicks = function () {\n    return this.values;\n  };\n\n  Identity.prototype.scale = function (value) {\n    // 如果传入的值不等于 identity 的值，则直接返回，用于一维图时的 dodge\n    if (this.values[0] !== value && isNumber(value)) {\n      return value;\n    }\n\n    return this.range[0];\n  };\n\n  Identity.prototype.invert = function (value) {\n    var range = this.range;\n\n    if (value < range[0] || value > range[1]) {\n      return NaN;\n    }\n\n    return this.values[0];\n  };\n\n  return Identity;\n}(Base);\n\nexport default Identity;","import { head, indexOf, last, map, size } from '@antv/util';\nexport var DEFAULT_Q = [1, 5, 2, 2.5, 4, 3];\nexport var ALL_Q = [1, 5, 2, 2.5, 4, 3, 1.5, 7, 6, 8, 9];\nvar eps = Number.EPSILON * 100; // https://stackoverflow.com/questions/4467539/javascript-modulo-gives-a-negative-result-for-negative-numbers\n\nfunction mod(n, m) {\n  return (n % m + m) % m;\n}\n\nfunction simplicity(q, Q, j, lmin, lmax, lstep) {\n  var n = size(Q);\n  var i = indexOf(Q, q);\n  var v = 0;\n  var m = mod(lmin, lstep);\n\n  if ((m < eps || lstep - m < eps) && lmin <= 0 && lmax >= 0) {\n    v = 1;\n  }\n\n  return 1 - i / (n - 1) - j + v;\n}\n\nfunction simplicityMax(q, Q, j) {\n  var n = size(Q);\n  var i = indexOf(Q, q);\n  var v = 1;\n  return 1 - i / (n - 1) - j + v;\n}\n\nfunction density(k, m, dmin, dmax, lmin, lmax) {\n  var r = (k - 1) / (lmax - lmin);\n  var rt = (m - 1) / (Math.max(lmax, dmax) - Math.min(dmin, lmin));\n  return 2 - Math.max(r / rt, rt / r);\n}\n\nfunction densityMax(k, m) {\n  if (k >= m) {\n    return 2 - (k - 1) / (m - 1);\n  }\n\n  return 1;\n}\n\nfunction coverage(dmin, dmax, lmin, lmax) {\n  var range = dmax - dmin;\n  return 1 - 0.5 * (Math.pow(dmax - lmax, 2) + Math.pow(dmin - lmin, 2)) / Math.pow(0.1 * range, 2);\n}\n\nfunction coverageMax(dmin, dmax, span) {\n  var range = dmax - dmin;\n\n  if (span > range) {\n    var half = (span - range) / 2;\n    return 1 - Math.pow(half, 2) / Math.pow(0.1 * range, 2);\n  }\n\n  return 1;\n}\n\nfunction legibility() {\n  return 1;\n}\n/**\n * An Extension of Wilkinson's Algorithm for Position Tick Labels on Axes\n * https://www.yuque.com/preview/yuque/0/2019/pdf/185317/1546999150858-45c3b9c2-4e86-4223-bf1a-8a732e8195ed.pdf\n * @param dmin 最小值\n * @param dmax 最大值\n * @param m tick个数\n * @param onlyLoose 是否允许扩展min、max，不绝对强制，例如[3, 97]\n * @param Q nice numbers集合\n * @param w 四个优化组件的权重\n */\n\n\nexport default function extended(dmin, dmax, m, onlyLoose, Q, w) {\n  if (m === void 0) {\n    m = 5;\n  }\n\n  if (onlyLoose === void 0) {\n    onlyLoose = true;\n  }\n\n  if (Q === void 0) {\n    Q = DEFAULT_Q;\n  }\n\n  if (w === void 0) {\n    w = [0.25, 0.2, 0.5, 0.05];\n  }\n\n  if (dmin === dmax || m === 1) {\n    return {\n      min: dmin,\n      max: dmax,\n      ticks: [dmin]\n    };\n  }\n\n  var best = {\n    score: -2,\n    lmin: 0,\n    lmax: 0,\n    lstep: 0\n  };\n  var j = 1;\n\n  while (j < Infinity) {\n    for (var _i = 0, Q_1 = Q; _i < Q_1.length; _i++) {\n      var q = Q_1[_i];\n      var sm = simplicityMax(q, Q, j);\n\n      if (Number.isNaN(sm)) {\n        throw new Error('NaN');\n      }\n\n      if (w[0] * sm + w[1] + w[2] + w[3] < best.score) {\n        j = Infinity;\n        break;\n      }\n\n      var k = 2;\n\n      while (k < Infinity) {\n        var dm = densityMax(k, m);\n\n        if (w[0] * sm + w[1] + w[2] * dm + w[3] < best.score) {\n          break;\n        }\n\n        var delta = (dmax - dmin) / (k + 1) / j / q;\n        var z = Math.ceil(Math.log10(delta));\n\n        while (z < Infinity) {\n          var step = j * q * Math.pow(10, z);\n          var cm = coverageMax(dmin, dmax, step * (k - 1));\n\n          if (w[0] * sm + w[1] * cm + w[2] * dm + w[3] < best.score) {\n            break;\n          }\n\n          var minStart = Math.floor(dmax / step) * j - (k - 1) * j;\n          var maxStart = Math.ceil(dmin / step) * j;\n\n          if (minStart > maxStart) {\n            z = z + 1;\n            continue;\n          }\n\n          for (var start = minStart; start <= maxStart; start = start + 1) {\n            var lmin = start * (step / j);\n            var lmax = lmin + step * (k - 1);\n            var lstep = step;\n            var s = simplicity(q, Q, j, lmin, lmax, lstep);\n            var c = coverage(dmin, dmax, lmin, lmax);\n            var g = density(k, m, dmin, dmax, lmin, lmax);\n            var l = legibility();\n            var score = w[0] * s + w[1] * c + w[2] * g + w[3] * l;\n\n            if (score > best.score && (!onlyLoose || lmin <= dmin && lmax >= dmax)) {\n              best.lmin = lmin;\n              best.lmax = lmax;\n              best.lstep = lstep;\n              best.score = score;\n            }\n          }\n\n          z = z + 1;\n        }\n\n        k = k + 1;\n      }\n    }\n\n    j = j + 1;\n  } // 步长为浮点数时处理精度\n\n\n  var toFixed = Number.isInteger(best.lstep) ? 0 : Math.ceil(Math.abs(Math.log10(best.lstep)));\n  var range = [];\n\n  for (var tick = best.lmin; tick <= best.lmax; tick += best.lstep) {\n    range.push(tick);\n  }\n\n  var ticks = toFixed ? map(range, function (x) {\n    return Number.parseFloat(x.toFixed(toFixed));\n  }) : range;\n  return {\n    min: Math.min(dmin, head(ticks)),\n    max: Math.max(dmax, last(ticks)),\n    ticks: ticks\n  };\n}","import { filter, isNil, isNumber } from '@antv/util';\nimport extended from '../util/extended';\n/**\n * 计算分类 ticks\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\n\nexport default function calculateCatTicks(cfg) {\n  var values = cfg.values,\n      tickInterval = cfg.tickInterval,\n      tickCount = cfg.tickCount;\n  var ticks = values;\n\n  if (isNumber(tickInterval)) {\n    return filter(ticks, function (__, i) {\n      return i % tickInterval === 0;\n    });\n  }\n\n  var min = cfg.min,\n      max = cfg.max;\n\n  if (isNil(min)) {\n    min = 0;\n  }\n\n  if (isNil(max)) {\n    max = values.length - 1;\n  }\n\n  if (isNumber(tickCount) && tickCount < max - min) {\n    // 简单过滤，部分情况下小数的倍数也可以是整数\n    // tslint:disable-next-line: no-shadowed-variable\n    var ticks_1 = extended(min, max, tickCount, false, [1, 2, 5, 3, 4, 7, 6, 8, 9]).ticks;\n    var valid = filter(ticks_1, function (tick) {\n      return tick >= min && tick <= max;\n    });\n    return valid.map(function (index) {\n      return values[index];\n    });\n  }\n\n  return values.slice(min, max + 1);\n}","import { fixedBase } from '@antv/util';\n\nfunction snapMultiple(v, base, snapType) {\n  var div;\n\n  if (snapType === 'ceil') {\n    div = Math.ceil(v / base);\n  } else if (snapType === 'floor') {\n    div = Math.floor(v / base);\n  } else {\n    div = Math.round(v / base);\n  }\n\n  return div * base;\n}\n\nexport default function intervalTicks(min, max, interval) {\n  // 变成 interval 的倍数\n  var minTick = snapMultiple(min, interval, 'floor');\n  var maxTick = snapMultiple(max, interval, 'ceil'); // 统一小数位数\n\n  minTick = fixedBase(minTick, interval);\n  maxTick = fixedBase(maxTick, interval);\n  var ticks = [];\n\n  for (var i = minTick; i <= maxTick; i = i + interval) {\n    var tickValue = fixedBase(i, interval); // 防止浮点数加法出现问题\n\n    ticks.push(tickValue);\n  }\n\n  return {\n    min: minTick,\n    max: maxTick,\n    ticks: ticks\n  };\n}","export default function pretty(min, max, n) {\n  if (n === void 0) {\n    n = 5;\n  }\n\n  var res = {\n    max: 0,\n    min: 0,\n    ticks: []\n  };\n  /*\n    R pretty:\n    https://svn.r-project.org/R/trunk/src/appl/pretty.c\n    https://www.rdocumentation.org/packages/base/versions/3.5.2/topics/pretty\n    */\n\n  var h = 1.5; // high.u.bias\n\n  var h5 = 0.5 + 1.5 * h; // u5.bias\n  // 反正我也不会调参，跳过所有判断步骤\n\n  var d = max - min;\n  var c = d / n; // 当d非常小的时候触发，但似乎没什么用\n  // const min_n = Math.floor(n / 3);\n  // const shrink_sml = Math.pow(2, 5);\n  // if (Math.log10(d) < -2) {\n  //   c = (_.max([ Math.abs(max), Math.abs(min) ]) * shrink_sml) / min_n;\n  // }\n\n  var base = Math.pow(10, Math.floor(Math.log10(c)));\n  var toFixed = base < 1 ? Math.ceil(Math.abs(Math.log10(base))) : 0;\n  var unit = base;\n\n  if (2 * base - c < h * (c - unit)) {\n    unit = 2 * base;\n\n    if (5 * base - c < h5 * (c - unit)) {\n      unit = 5 * base;\n\n      if (10 * base - c < h * (c - unit)) {\n        unit = 10 * base;\n      }\n    }\n  }\n\n  var nu = Math.ceil(max / unit);\n  var ns = Math.floor(min / unit);\n  res.max = Math.max(nu * unit, max);\n  res.min = Math.min(ns * unit, min);\n  var x = Number.parseFloat((ns * unit).toFixed(toFixed));\n\n  while (x < max) {\n    res.ticks.push(x);\n    x += unit;\n\n    if (toFixed) {\n      x = Number.parseFloat(x.toFixed(toFixed));\n    }\n  }\n\n  res.ticks.push(x);\n  return res;\n}","/**\n * 计算几分位 https://github.com/simple-statistics/simple-statistics/blob/master/src/quantile_sorted.js\n * @param x  数组\n * @param p  百分比\n */\nfunction quantileSorted(x, p) {\n  var idx = x.length * p;\n  /*if (x.length === 0) { // 当前场景这些条件不可能命中\n    throw new Error('quantile requires at least one value.');\n  } else if (p < 0 || p > 1) {\n    throw new Error('quantiles must be between 0 and 1');\n  } else */\n\n  if (p === 1) {\n    // If p is 1, directly return the last element\n    return x[x.length - 1];\n  } else if (p === 0) {\n    // If p is 0, directly return the first element\n    return x[0];\n  } else if (idx % 1 !== 0) {\n    // If p is not integer, return the next element in array\n    return x[Math.ceil(idx) - 1];\n  } else if (x.length % 2 === 0) {\n    // If the list has even-length, we'll take the average of this number\n    // and the next value, if there is one\n    return (x[idx - 1] + x[idx]) / 2;\n  } else {\n    // Finally, in the simple case of an integer value\n    // with an odd-length list, return the x value at the index.\n    return x[idx];\n  }\n}\n\nexport default function calculateTicks(cfg) {\n  var tickCount = cfg.tickCount,\n      values = cfg.values;\n\n  if (!values || !values.length) {\n    return [];\n  }\n\n  var sorted = values.slice().sort(function (a, b) {\n    return a - b;\n  });\n  var ticks = [];\n\n  for (var i = 0; i < tickCount; i++) {\n    var p = i / (tickCount - 1);\n    ticks.push(quantileSorted(sorted, p));\n  }\n\n  return ticks;\n}","import { DAY, HOUR, MINUTE, MONTH, SECOND, YEAR } from '../util/time';\n\nfunction getYear(date) {\n  return new Date(date).getFullYear();\n}\n\nfunction createYear(year) {\n  return new Date(year, 0, 1).getTime();\n}\n\nfunction getMonth(date) {\n  return new Date(date).getMonth();\n}\n\nfunction diffMonth(min, max) {\n  var minYear = getYear(min);\n  var maxYear = getYear(max);\n  var minMonth = getMonth(min);\n  var maxMonth = getMonth(max);\n  return (maxYear - minYear) * 12 + (maxMonth - minMonth) % 12;\n}\n\nfunction creatMonth(year, month) {\n  return new Date(year, month, 1).getTime();\n}\n\nfunction diffDay(min, max) {\n  return Math.ceil((max - min) / DAY);\n}\n\nfunction diffHour(min, max) {\n  return Math.ceil((max - min) / HOUR);\n}\n\nfunction diffMinus(min, max) {\n  return Math.ceil((max - min) / (60 * 1000));\n}\n/**\n * 计算 time 的 ticks，对 month, year 进行 pretty 处理\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\n\n\nexport default function timePretty(cfg) {\n  var min = cfg.min,\n      max = cfg.max,\n      minTickInterval = cfg.minTickInterval;\n  var tickInterval = cfg.tickInterval;\n  var tickCount = cfg.tickCount;\n  var ticks = []; // 指定 tickInterval 后 tickCount 不生效，需要重新计算\n\n  if (!tickInterval) {\n    tickInterval = (max - min) / tickCount; // 如果设置了最小间距，则使用最小间距\n\n    if (minTickInterval && tickInterval < minTickInterval) {\n      tickInterval = minTickInterval;\n    }\n  }\n\n  var minYear = getYear(min); // 如果间距大于 1 年，则将开始日期从整年开始\n\n  if (tickInterval > YEAR) {\n    var maxYear = getYear(max);\n    var yearInterval = Math.ceil(tickInterval / YEAR);\n\n    for (var i = minYear; i <= maxYear + yearInterval; i = i + yearInterval) {\n      ticks.push(createYear(i));\n    }\n  } else if (tickInterval > MONTH) {\n    // 大于月时\n    var monthInterval = Math.ceil(tickInterval / MONTH);\n    var mmMoth = getMonth(min);\n    var dMonths = diffMonth(min, max);\n\n    for (var i = 0; i <= dMonths + monthInterval; i = i + monthInterval) {\n      ticks.push(creatMonth(minYear, i + mmMoth));\n    }\n  } else if (tickInterval > DAY) {\n    // 大于天\n    var date = new Date(min);\n    var year = date.getFullYear();\n    var month = date.getMonth();\n    var mday = date.getDate();\n    var day = Math.ceil(tickInterval / DAY);\n    var ddays = diffDay(min, max);\n\n    for (var i = 0; i < ddays + day; i = i + day) {\n      ticks.push(new Date(year, month, mday + i).getTime());\n    }\n  } else if (tickInterval > HOUR) {\n    // 大于小时\n    var date = new Date(min);\n    var year = date.getFullYear();\n    var month = date.getMonth();\n    var day = date.getDate();\n    var hour = date.getHours();\n    var hours = Math.ceil(tickInterval / HOUR);\n    var dHours = diffHour(min, max);\n\n    for (var i = 0; i <= dHours + hours; i = i + hours) {\n      ticks.push(new Date(year, month, day, hour + i).getTime());\n    }\n  } else if (tickInterval > MINUTE) {\n    // 大于分钟\n    var dMinus = diffMinus(min, max);\n    var minutes = Math.ceil(tickInterval / MINUTE);\n\n    for (var i = 0; i <= dMinus + minutes; i = i + minutes) {\n      ticks.push(min + i * MINUTE);\n    }\n  } else {\n    // 小于分钟\n    var interval = tickInterval;\n\n    if (interval < SECOND) {\n      interval = SECOND;\n    }\n\n    var minSecond = Math.floor(min / SECOND) * SECOND;\n    var dSeconds = Math.ceil((max - min) / SECOND);\n    var seconds = Math.ceil(interval / SECOND);\n\n    for (var i = 0; i < dSeconds + seconds; i = i + seconds) {\n      ticks.push(minSecond + i * SECOND);\n    }\n  }\n\n  return ticks;\n}","import cat from './cat';\nimport linear from './linear';\nimport rPretty from './r-prettry';\nimport { getTickMethod, registerTickMethod } from './register';\nimport time from './time';\nimport timeCat from './time-cat';\nimport log from './log';\nimport pow from './pow';\nimport quantile from './quantile';\nimport timePretty from './time-pretty';\nregisterTickMethod('cat', cat);\nregisterTickMethod('time-cat', timeCat);\nregisterTickMethod('wilkinson-extended', linear);\nregisterTickMethod('r-pretty', rPretty);\nregisterTickMethod('time', time);\nregisterTickMethod('time-pretty', timePretty);\nregisterTickMethod('log', log);\nregisterTickMethod('pow', pow);\nregisterTickMethod('quantile', quantile);\nexport { getTickMethod };","import { last } from '@antv/util';\nimport catTicks from './cat';\n/**\n * 计算时间分类的 ticks, 保头，保尾\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\n\nexport default function calculateTimeCatTicks(cfg) {\n  var ticks = catTicks(cfg);\n  var lastValue = last(cfg.values);\n\n  if (lastValue !== last(ticks)) {\n    ticks.push(lastValue);\n  }\n\n  return ticks;\n}","import extended from '../util/extended';\nimport interval from '../util/interval';\n/**\n * 计算线性的 ticks，使用 wilkinson extended 方法\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\n\nexport default function linear(cfg) {\n  var min = cfg.min,\n      max = cfg.max,\n      tickCount = cfg.tickCount,\n      nice = cfg.nice,\n      tickInterval = cfg.tickInterval;\n\n  if (tickInterval) {\n    return interval(min, max, tickInterval).ticks;\n  }\n\n  return extended(min, max, tickCount, nice).ticks;\n}","import interval from '../util/interval';\nimport pretty from '../util/pretty';\n/**\n * 计算线性的 ticks，使用 R's pretty 方法\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\n\nexport default function linearPretty(cfg) {\n  var min = cfg.min,\n      max = cfg.max,\n      tickCount = cfg.tickCount,\n      tickInterval = cfg.tickInterval;\n\n  if (tickInterval) {\n    return interval(min, max, tickInterval).ticks;\n  }\n\n  return pretty(min, max, tickCount).ticks;\n}","import { getTickInterval } from '../util/time';\nexport default function calculateTimeTicks(cfg) {\n  var min = cfg.min,\n      max = cfg.max,\n      minTickInterval = cfg.minTickInterval;\n  var tickInterval = cfg.tickInterval;\n  var tickCount = cfg.tickCount; // 指定 tickInterval 后 tickCount 不生效，需要重新计算\n\n  if (tickInterval) {\n    tickCount = Math.ceil((max - min) / tickInterval);\n  } else {\n    tickInterval = getTickInterval(min, max, tickCount)[1];\n    var count = (max - min) / tickInterval;\n    var ratio = count / tickCount;\n\n    if (ratio > 1) {\n      tickInterval = tickInterval * Math.ceil(ratio);\n    } // 如果设置了最小间距，则使用最小间距\n\n\n    if (minTickInterval && tickInterval < minTickInterval) {\n      tickInterval = minTickInterval;\n    }\n  }\n\n  var ticks = [];\n\n  for (var i = min; i < max + tickInterval; i += tickInterval) {\n    ticks.push(i);\n  }\n\n  return ticks;\n}","import { getLogPositiveMin, log } from '../util/math';\n/**\n * 计算 log 的 ticks，考虑 min = 0 的场景\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\n\nexport default function calculateLogTicks(cfg) {\n  var base = cfg.base,\n      tickCount = cfg.tickCount,\n      min = cfg.min,\n      max = cfg.max,\n      values = cfg.values;\n  var minTick;\n  var maxTick = log(base, max);\n\n  if (min > 0) {\n    minTick = Math.floor(log(base, min));\n  } else {\n    var positiveMin = getLogPositiveMin(values, base, max);\n    minTick = Math.floor(log(base, positiveMin));\n  }\n\n  var count = maxTick - minTick;\n  var avg = Math.ceil(count / tickCount);\n  var ticks = [];\n\n  for (var i = minTick; i < maxTick + avg; i = i + avg) {\n    ticks.push(Math.pow(base, i));\n  }\n\n  if (min <= 0) {\n    // 最小值 <= 0 时显示 0\n    ticks.unshift(0);\n  }\n\n  return ticks;\n}","import { calBase } from '../util/math';\nimport pretty from '../util/pretty';\n/**\n * 计算 Pow 的 ticks\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\n\nexport default function calculatePowTicks(cfg) {\n  var exponent = cfg.exponent,\n      tickCount = cfg.tickCount;\n  var max = Math.ceil(calBase(exponent, cfg.max));\n  var min = Math.floor(calBase(exponent, cfg.min));\n  var ticks = pretty(min, max, tickCount).ticks;\n  return ticks.map(function (tick) {\n    var factor = tick >= 0 ? 1 : -1;\n    return Math.pow(tick, exponent) * factor;\n  });\n}","import Scale from './base';\nimport Category from './category/base';\nimport TimeCat from './category/time';\nimport Linear from './continuous/linear';\nimport Log from './continuous/log';\nimport Pow from './continuous/pow';\nimport Time from './continuous/time';\nimport Quantize from './continuous/quantize';\nimport Quantile from './continuous/quantile';\nimport { getScale, registerScale } from './factory';\nimport Identity from './identity/index';\nimport { getTickMethod } from './tick-method/index';\nregisterScale('cat', Category);\nregisterScale('category', Category);\nregisterScale('identity', Identity);\nregisterScale('linear', Linear);\nregisterScale('log', Log);\nregisterScale('pow', Pow);\nregisterScale('time', Time);\nregisterScale('timeCat', TimeCat);\nregisterScale('quantize', Quantize);\nregisterScale('quantile', Quantile);\nexport { Category, Identity, Linear, Log, Pow, Time, TimeCat, Quantile, Quantize, Scale, getScale, registerScale, getTickMethod };","export var DEFAULT_Y = 0; // 默认的 y 的值\n// 偏移之后，间距\n\nexport var MARGIN_RATIO = 1 / 2;\nexport var DODGE_RATIO = 1 / 2; // 散点分开之后，距离边界的距离\n\nexport var GAP = 0.05;","import * as _ from '@antv/util';\nimport { DEFAULT_Y } from '../constant';\n\nvar Adjust =\n/** @class */\nfunction () {\n  function Adjust(cfg) {\n    var xField = cfg.xField,\n        yField = cfg.yField,\n        _a = cfg.adjustNames,\n        adjustNames = _a === void 0 ? ['x', 'y'] : _a;\n    this.adjustNames = adjustNames;\n    this.xField = xField;\n    this.yField = yField;\n  }\n  /**\n   * 查看维度是否是 adjust 字段\n   * @param dim\n   */\n\n\n  Adjust.prototype.isAdjust = function (dim) {\n    return this.adjustNames.indexOf(dim) >= 0;\n  };\n\n  Adjust.prototype.getAdjustRange = function (dim, dimValue, values) {\n    var yField = this.yField;\n    var index = values.indexOf(dimValue);\n    var length = values.length;\n    var pre;\n    var next; // 没有 y 字段，但是需要根据 y 调整\n\n    if (!yField && this.isAdjust('y')) {\n      pre = 0;\n      next = 1;\n    } else if (length > 1) {\n      // 如果以其开头，则取之，否则取他前面一个\n      pre = values[index === 0 ? 0 : index - 1]; // 如果以其结尾，则取之，否则取他后面一个\n\n      next = values[index === length - 1 ? length - 1 : index + 1];\n\n      if (index !== 0) {\n        pre += (dimValue - pre) / 2;\n      } else {\n        pre -= (next - dimValue) / 2;\n      }\n\n      if (index !== length - 1) {\n        next -= (next - dimValue) / 2;\n      } else {\n        next += (dimValue - values[length - 2]) / 2;\n      }\n    } else {\n      pre = dimValue === 0 ? 0 : dimValue - 0.5;\n      next = dimValue === 0 ? 1 : dimValue + 0.5;\n    }\n\n    return {\n      pre: pre,\n      next: next\n    };\n  };\n\n  Adjust.prototype.adjustData = function (groupedDataArray, mergedData) {\n    var _this = this; // 所有调整维度的值数组\n\n\n    var dimValuesMap = this.getDimValues(mergedData); // 按照每一个分组来进行调整\n\n    _.each(groupedDataArray, function (dataArray, index) {\n      // 遍历所有数据集合\n      // 每个分组中，分别按照不同的 dim 进行调整\n      _.each(dimValuesMap, function (values, dim) {\n        // 根据不同的度量分别调整位置\n        _this.adjustDim(dim, values, dataArray, index);\n      });\n    });\n  };\n  /**\n   * 对数据进行分组adjustData\n   * @param data 数据\n   * @param dim 分组的字段\n   * @return 分组结果\n   */\n\n\n  Adjust.prototype.groupData = function (data, dim) {\n    // 补齐数据空数据为默认值\n    _.each(data, function (record) {\n      if (record[dim] === undefined) {\n        record[dim] = DEFAULT_Y;\n      }\n    }); // 按照 dim 维度分组\n\n\n    return _.groupBy(data, dim);\n  };\n  /** @override */\n\n\n  Adjust.prototype.adjustDim = function (dim, values, data, index) {};\n  /**\n   * 获取可调整度量对应的值\n   * @param mergedData 数据\n   * @return 值的映射\n   */\n\n\n  Adjust.prototype.getDimValues = function (mergedData) {\n    var _a = this,\n        xField = _a.xField,\n        yField = _a.yField;\n\n    var dimValuesMap = {}; // 所有的维度\n\n    var dims = [];\n\n    if (xField && this.isAdjust('x')) {\n      dims.push(xField);\n    }\n\n    if (yField && this.isAdjust('y')) {\n      dims.push(yField);\n    }\n\n    dims.forEach(function (dim) {\n      // 在每个维度上，所有的值\n      dimValuesMap[dim] = _.valuesOfKey(mergedData, dim).sort(function (v1, v2) {\n        return v1 - v2;\n      });\n    }); // 只有一维的情况下，同时调整 y，赋予默认值\n\n    if (!yField && this.isAdjust('y')) {\n      var dim = 'y';\n      dimValuesMap[dim] = [DEFAULT_Y, 1]; // 默认分布在 y 轴的 0 与 1 之间\n    }\n\n    return dimValuesMap;\n  };\n\n  return Adjust;\n}();\n\nexport default Adjust;","import Adjust from './adjusts/adjust';\nvar ADJUST_MAP = {};\n/**\n * 根据类型获取 Adjust 类\n * @param type\n */\n\nvar getAdjust = function getAdjust(type) {\n  return ADJUST_MAP[type.toLowerCase()];\n};\n/**\n * 注册自定义 Adjust\n * @param type\n * @param ctor\n */\n\n\nvar registerAdjust = function registerAdjust(type, ctor) {\n  // 注册的时候，需要校验 type 重名，不区分大小写\n  if (getAdjust(type)) {\n    throw new Error(\"Adjust type '\" + type + \"' existed.\");\n  } // 存储到 map 中\n\n\n  ADJUST_MAP[type.toLowerCase()] = ctor;\n};\n\nexport { getAdjust, registerAdjust, Adjust };","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { DODGE_RATIO, MARGIN_RATIO } from '../constant';\nimport Adjust from './adjust';\n\nvar Dodge =\n/** @class */\nfunction (_super) {\n  __extends(Dodge, _super);\n\n  function Dodge(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.cacheMap = {};\n    _this.adjustDataArray = [];\n    _this.mergeData = [];\n    var _a = cfg.marginRatio,\n        marginRatio = _a === void 0 ? MARGIN_RATIO : _a,\n        _b = cfg.dodgeRatio,\n        dodgeRatio = _b === void 0 ? DODGE_RATIO : _b,\n        dodgeBy = cfg.dodgeBy;\n    _this.marginRatio = marginRatio;\n    _this.dodgeRatio = dodgeRatio;\n    _this.dodgeBy = dodgeBy;\n    return _this;\n  }\n\n  Dodge.prototype.process = function (groupDataArray) {\n    var groupedDataArray = _.clone(groupDataArray); // 将数据数组展开一层\n\n\n    var mergeData = _.flatten(groupedDataArray);\n\n    var dodgeBy = this.dodgeBy; // 如果指定了分组 dim 的字段\n\n    var adjustDataArray = dodgeBy ? _.group(mergeData, dodgeBy) : groupedDataArray;\n    this.cacheMap = {};\n    this.adjustDataArray = adjustDataArray;\n    this.mergeData = mergeData;\n    this.adjustData(adjustDataArray, mergeData);\n    this.adjustDataArray = [];\n    this.mergeData = [];\n    return groupedDataArray;\n  };\n\n  Dodge.prototype.adjustDim = function (dim, values, data, frameIndex) {\n    var _this = this;\n\n    var map = this.getDistribution(dim);\n    var groupData = this.groupData(data, dim); // 根据值分组\n\n    _.each(groupData, function (group, key) {\n      var range; // xField 中只有一个值，不需要做 dodge\n\n      if (values.length === 1) {\n        range = {\n          pre: values[0] - 1,\n          next: values[0] + 1\n        };\n      } else {\n        // 如果有多个，则需要获取调整的范围\n        range = _this.getAdjustRange(dim, parseFloat(key), values);\n      }\n\n      _.each(group, function (d) {\n        var value = d[dim];\n        var valueArr = map[value];\n        var valIndex = valueArr.indexOf(frameIndex);\n        d[dim] = _this.getDodgeOffset(range, valIndex, valueArr.length);\n      });\n    });\n\n    return [];\n  };\n\n  Dodge.prototype.getDodgeOffset = function (range, idx, len) {\n    var _a = this,\n        dodgeRatio = _a.dodgeRatio,\n        marginRatio = _a.marginRatio;\n\n    var pre = range.pre,\n        next = range.next;\n    var tickLength = next - pre;\n    var width = tickLength * dodgeRatio / len;\n    var margin = marginRatio * width;\n    var offset = 1 / 2 * (tickLength - len * width - (len - 1) * margin) + ((idx + 1) * width + idx * margin) - 1 / 2 * width - 1 / 2 * tickLength;\n    return (pre + next) / 2 + offset;\n  };\n\n  Dodge.prototype.getDistribution = function (dim) {\n    var groupedDataArray = this.adjustDataArray;\n    var cacheMap = this.cacheMap;\n    var map = cacheMap[dim];\n\n    if (!map) {\n      map = {};\n\n      _.each(groupedDataArray, function (data, index) {\n        var values = _.valuesOfKey(data, dim);\n\n        if (!values.length) {\n          values.push(0);\n        }\n\n        _.each(values, function (val) {\n          if (!map[val]) {\n            map[val] = [];\n          }\n\n          map[val].push(index);\n        });\n      });\n\n      cacheMap[dim] = map;\n    }\n\n    return map;\n  };\n\n  return Dodge;\n}(Adjust);\n\nexport default Dodge;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { GAP } from '../constant';\nimport Adjust from './adjust';\n\nfunction randomNumber(min, max) {\n  return (max - min) * Math.random() + min;\n}\n\nvar Jitter =\n/** @class */\nfunction (_super) {\n  __extends(Jitter, _super);\n\n  function Jitter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Jitter.prototype.process = function (groupDataArray) {\n    var groupedDataArray = _.clone(groupDataArray); // 之前分组之后的数据，然后有合并回去（和分组前可以理解成是一样的）\n\n\n    var mergeData = _.flatten(groupedDataArray); // 返回值\n\n\n    this.adjustData(groupedDataArray, mergeData);\n    return groupedDataArray;\n  };\n  /**\n   * 当前数据分组（index）中，按照维度 dim 进行 jitter 调整\n   * @param dim\n   * @param values\n   * @param dataArray\n   */\n\n\n  Jitter.prototype.adjustDim = function (dim, values, dataArray) {\n    var _this = this; // 在每一个分组中，将数据再按照 dim 分组，用于散列\n\n\n    var groupDataArray = this.groupData(dataArray, dim);\n    return _.each(groupDataArray, function (data, dimValue) {\n      return _this.adjustGroup(data, dim, parseFloat(dimValue), values);\n    });\n  }; // 随机出来的字段值\n\n\n  Jitter.prototype.getAdjustOffset = function (range) {\n    var pre = range.pre,\n        next = range.next; // 随机的范围\n\n    var margin = (next - pre) * GAP;\n    return randomNumber(pre + margin, next - margin);\n  }; // adjust group data\n\n\n  Jitter.prototype.adjustGroup = function (group, dim, dimValue, values) {\n    var _this = this; // 调整范围\n\n\n    var range = this.getAdjustRange(dim, dimValue, values);\n\n    _.each(group, function (data) {\n      data[dim] = _this.getAdjustOffset(range); // 获取调整的位置\n    });\n\n    return group;\n  };\n\n  return Jitter;\n}(Adjust);\n\nexport default Jitter;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Adjust from './adjust';\nvar Cache = _.Cache;\n\nvar Stack =\n/** @class */\nfunction (_super) {\n  __extends(Stack, _super);\n\n  function Stack(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    var _a = cfg.adjustNames,\n        adjustNames = _a === void 0 ? ['y'] : _a,\n        _b = cfg.height,\n        height = _b === void 0 ? NaN : _b,\n        _c = cfg.size,\n        size = _c === void 0 ? 10 : _c,\n        _d = cfg.reverseOrder,\n        reverseOrder = _d === void 0 ? false : _d;\n    _this.adjustNames = adjustNames;\n    _this.height = height;\n    _this.size = size;\n    _this.reverseOrder = reverseOrder;\n    return _this;\n  }\n  /**\n   * 方法入参是经过数据分组、数据数字化之后的二维数组\n   * @param groupDataArray 分组之后的数据\n   */\n\n\n  Stack.prototype.process = function (groupDataArray) {\n    var _a = this,\n        yField = _a.yField,\n        reverseOrder = _a.reverseOrder; // 如果有指定 y 字段，那么按照 y 字段来 stack\n    // 否则，按照高度均分\n\n\n    var d = yField ? this.processStack(groupDataArray) : this.processOneDimStack(groupDataArray);\n    return reverseOrder ? this.reverse(d) : d;\n  };\n\n  Stack.prototype.reverse = function (groupedDataArray) {\n    return groupedDataArray.slice(0).reverse();\n  };\n\n  Stack.prototype.processStack = function (groupDataArray) {\n    var _a = this,\n        xField = _a.xField,\n        yField = _a.yField,\n        reverseOrder = _a.reverseOrder; // 层叠顺序翻转\n\n\n    var groupedDataArray = reverseOrder ? this.reverse(groupDataArray) : groupDataArray; // 用来缓存，正数和负数的堆叠问题\n\n    var positive = new Cache();\n    var negative = new Cache();\n    return groupedDataArray.map(function (dataArray) {\n      return dataArray.map(function (data) {\n        var _a;\n\n        var x = _.get(data, xField, 0);\n\n        var y = _.get(data, yField);\n\n        var xKey = x.toString(); // todo 是否应该取 _origin？因为 y 可能取到的值不正确，比如先 symmetric，再 stack！\n\n        y = _.isArray(y) ? y[1] : y;\n\n        if (!_.isNil(y)) {\n          var cache = y >= 0 ? positive : negative;\n\n          if (!cache.has(xKey)) {\n            cache.set(xKey, 0);\n          }\n\n          var xValue = cache.get(xKey);\n          var newXValue = y + xValue; // 存起来\n\n          cache.set(xKey, newXValue);\n          return __assign(__assign({}, data), (_a = {}, _a[yField] = [xValue, newXValue], _a));\n        } // 没有修改，则直接返回\n\n\n        return data;\n      });\n    });\n  };\n\n  Stack.prototype.processOneDimStack = function (groupDataArray) {\n    var _this = this;\n\n    var _a = this,\n        xField = _a.xField,\n        height = _a.height,\n        reverseOrder = _a.reverseOrder;\n\n    var yField = 'y'; // 如果层叠的顺序翻转\n\n    var groupedDataArray = reverseOrder ? this.reverse(groupDataArray) : groupDataArray; // 缓存累加数据\n\n    var cache = new Cache();\n    return groupedDataArray.map(function (dataArray) {\n      return dataArray.map(function (data) {\n        var _a;\n\n        var size = _this.size;\n        var xValue = data[xField]; // todo 没有看到这个 stack 计算原理\n\n        var stackHeight = size * 2 / height;\n\n        if (!cache.has(xValue)) {\n          cache.set(xValue, stackHeight / 2); // 初始值大小\n        }\n\n        var stackValue = cache.get(xValue); // 增加一层 stackHeight\n\n        cache.set(xValue, stackValue + stackHeight);\n        return __assign(__assign({}, data), (_a = {}, _a[yField] = stackValue, _a));\n      });\n    });\n  };\n\n  return Stack;\n}(Adjust);\n\nexport default Stack;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Adjust from './adjust';\n\nvar Symmetric =\n/** @class */\nfunction (_super) {\n  __extends(Symmetric, _super);\n\n  function Symmetric() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Symmetric.prototype.process = function (groupDataArray) {\n    var mergeData = _.flatten(groupDataArray);\n\n    var _a = this,\n        xField = _a.xField,\n        yField = _a.yField; // 每个 x 值对应的 最大值\n\n\n    var cache = this.getXValuesMaxMap(mergeData); // 所有数据的最大的值\n\n    var max = Math.max.apply(Math, Object.keys(cache).map(function (key) {\n      return cache[key];\n    }));\n    return _.map(groupDataArray, function (dataArray) {\n      return _.map(dataArray, function (data) {\n        var _a, _b;\n\n        var yValue = data[yField];\n        var xValue = data[xField]; // 数组处理逻辑\n\n        if (_.isArray(yValue)) {\n          var off_1 = (max - cache[xValue]) / 2;\n          return __assign(__assign({}, data), (_a = {}, _a[yField] = _.map(yValue, function (y) {\n            return off_1 + y;\n          }), _a));\n        } // 非数组处理逻辑\n\n\n        var offset = (max - yValue) / 2;\n        return __assign(__assign({}, data), (_b = {}, _b[yField] = [offset, yValue + offset], _b));\n      });\n    });\n  }; // 获取每个 x 对应的最大的值\n\n\n  Symmetric.prototype.getXValuesMaxMap = function (mergeData) {\n    var _this = this;\n\n    var _a = this,\n        xField = _a.xField,\n        yField = _a.yField; // 根据 xField 的值进行分组\n\n\n    var groupDataArray = _.groupBy(mergeData, function (data) {\n      return data[xField];\n    }); // 获取每个 xField 值中的最大值\n\n\n    return _.mapValues(groupDataArray, function (dataArray) {\n      return _this.getDimMaxValue(dataArray, yField);\n    });\n  };\n\n  Symmetric.prototype.getDimMaxValue = function (mergeData, dim) {\n    // 所有的 value 值\n    var dimValues = _.map(mergeData, function (data) {\n      return _.get(data, dim, []);\n    }); // 将数组打平（dim value 有可能是数组，比如 stack 之后的）\n\n\n    var flattenValues = _.flatten(dimValues); // 求出数组的最大值\n\n\n    return Math.max.apply(Math, flattenValues);\n  };\n\n  return Symmetric;\n}(Adjust);\n\nexport default Symmetric;","import { getAdjust, registerAdjust } from './factory';\nimport Adjust from './adjusts/adjust';\nimport Dodge from './adjusts/dodge';\nimport Jitter from './adjusts/jitter';\nimport Stack from './adjusts/stack';\nimport Symmetric from './adjusts/symmetric'; // 注册内置的 adjust\n\nregisterAdjust('Dodge', Dodge);\nregisterAdjust('Jitter', Jitter);\nregisterAdjust('Stack', Stack);\nregisterAdjust('Symmetric', Symmetric); // 最终暴露给外部的方法\n\nexport { getAdjust, registerAdjust, Adjust };","import { mat3, vec3 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\n/**\n * Coordinate Base Class\n */\n\nvar Coordinate =\n/** @class */\nfunction () {\n  function Coordinate(cfg) {\n    // 自身属性\n    this.type = 'coordinate';\n    this.isRect = false;\n    this.isHelix = false;\n    this.isPolar = false;\n    this.isReflectX = false;\n    this.isReflectY = false;\n    var start = cfg.start,\n        end = cfg.end,\n        _a = cfg.matrix,\n        matrix = _a === void 0 ? [1, 0, 0, 0, 1, 0, 0, 0, 1] : _a,\n        _b = cfg.isTransposed,\n        isTransposed = _b === void 0 ? false : _b;\n    this.start = start;\n    this.end = end;\n    this.matrix = matrix;\n    this.isTransposed = isTransposed;\n  }\n  /**\n   * 初始化流程\n   */\n\n\n  Coordinate.prototype.initial = function () {\n    // center、width、height\n    this.center = {\n      x: (this.start.x + this.end.x) / 2,\n      y: (this.start.y + this.end.y) / 2\n    };\n    this.width = Math.abs(this.end.x - this.start.x);\n    this.height = Math.abs(this.end.y - this.start.y);\n  };\n  /**\n   * 更新配置\n   * @param cfg\n   */\n\n\n  Coordinate.prototype.update = function (cfg) {\n    _.assign(this, cfg);\n\n    this.initial();\n  };\n\n  Coordinate.prototype.convertDim = function (percent, dim) {\n    var _a;\n\n    var _b = this[dim],\n        start = _b.start,\n        end = _b.end; // 交换\n\n    if (this.isReflect(dim)) {\n      _a = [end, start], start = _a[0], end = _a[1];\n    }\n\n    return start + percent * (end - start);\n  };\n\n  Coordinate.prototype.invertDim = function (value, dim) {\n    var _a;\n\n    var _b = this[dim],\n        start = _b.start,\n        end = _b.end; // 交换\n\n    if (this.isReflect(dim)) {\n      _a = [end, start], start = _a[0], end = _a[1];\n    }\n\n    return (value - start) / (end - start);\n  };\n  /**\n   * 将坐标点进行矩阵变换\n   * @param x   对应 x 轴画布坐标\n   * @param y   对应 y 轴画布坐标\n   * @param tag 默认为 0，可取值 0, 1\n   * @return    返回变换后的三阶向量 [x, y, z]\n   */\n\n\n  Coordinate.prototype.applyMatrix = function (x, y, tag) {\n    if (tag === void 0) {\n      tag = 0;\n    }\n\n    var matrix = this.matrix;\n    var vector = [x, y, tag];\n    vec3.transformMat3(vector, vector, matrix);\n    return vector;\n  };\n  /**\n   * 将坐标点进行矩阵逆变换\n   * @param x   对应 x 轴画布坐标\n   * @param y   对应 y 轴画布坐标\n   * @param tag 默认为 0，可取值 0, 1\n   * @return    返回矩阵逆变换后的三阶向量 [x, y, z]\n   */\n\n\n  Coordinate.prototype.invertMatrix = function (x, y, tag) {\n    if (tag === void 0) {\n      tag = 0;\n    }\n\n    var matrix = this.matrix;\n    var inverted = mat3.invert([], matrix);\n    var vector = [x, y, tag];\n    vec3.transformMat3(vector, vector, inverted);\n    return vector;\n  };\n  /**\n   * 将归一化的坐标点数据转换为画布坐标，并根据坐标系当前矩阵进行变换\n   * @param point 归一化的坐标点\n   * @return      返回进行矩阵变换后的画布坐标\n   */\n\n\n  Coordinate.prototype.convert = function (point) {\n    var _a = this.convertPoint(point),\n        x = _a.x,\n        y = _a.y;\n\n    var vector = this.applyMatrix(x, y, 1);\n    return {\n      x: vector[0],\n      y: vector[1]\n    };\n  };\n  /**\n   * 将进行过矩阵变换画布坐标转换为归一化坐标\n   * @param point 画布坐标\n   * @return      返回归一化的坐标点\n   */\n\n\n  Coordinate.prototype.invert = function (point) {\n    var vector = this.invertMatrix(point.x, point.y, 1);\n    return this.invertPoint({\n      x: vector[0],\n      y: vector[1]\n    });\n  };\n  /**\n   * 坐标系旋转变换\n   * @param  radian 旋转弧度\n   * @return        返回坐标系对象\n   */\n\n\n  Coordinate.prototype.rotate = function (radian) {\n    var matrix = this.matrix;\n    var center = this.center;\n    mat3.translate(matrix, matrix, [-center.x, -center.y]);\n    mat3.rotate(matrix, matrix, radian);\n    mat3.translate(matrix, matrix, [center.x, center.y]);\n    return this;\n  };\n  /**\n   * 坐标系反射变换\n   * @param dim 反射维度\n   * @return    返回坐标系对象\n   */\n\n\n  Coordinate.prototype.reflect = function (dim) {\n    if (dim === 'x') {\n      this.isReflectX = !this.isReflectX;\n    } else {\n      this.isReflectY = !this.isReflectY;\n    }\n\n    return this;\n  };\n  /**\n   * 坐标系比例变换\n   * @param s1 x 方向缩放比例\n   * @param s2 y 方向缩放比例\n   * @return     返回坐标系对象\n   */\n\n\n  Coordinate.prototype.scale = function (s1, s2) {\n    var matrix = this.matrix;\n    var center = this.center;\n    mat3.translate(matrix, matrix, [-center.x, -center.y]);\n    mat3.scale(matrix, matrix, [s1, s2]);\n    mat3.translate(matrix, matrix, [center.x, center.y]);\n    return this;\n  };\n  /**\n   * 坐标系平移变换\n   * @param x x 方向平移像素\n   * @param y y 方向平移像素\n   * @return    返回坐标系对象\n   */\n\n\n  Coordinate.prototype.translate = function (x, y) {\n    var matrix = this.matrix;\n    mat3.translate(matrix, matrix, [x, y]);\n    return this;\n  };\n  /**\n   * 将坐标系 x y 两个轴进行转置\n   * @return 返回坐标系对象\n   */\n\n\n  Coordinate.prototype.transpose = function () {\n    this.isTransposed = !this.isTransposed;\n    return this;\n  };\n\n  Coordinate.prototype.getCenter = function () {\n    return this.center;\n  };\n\n  Coordinate.prototype.getWidth = function () {\n    return this.width;\n  };\n\n  Coordinate.prototype.getHeight = function () {\n    return this.height;\n  };\n  /**\n   * whether has reflect\n   * @param dim\n   */\n\n\n  Coordinate.prototype.isReflect = function (dim) {\n    return dim === 'x' ? this.isReflectX : this.isReflectY;\n  };\n\n  return Coordinate;\n}();\n\nexport default Coordinate;","import { __extends } from \"tslib\";\nimport Coordinate from './base';\n/**\n * 笛卡尔坐标系\n * https://www.zhihu.com/question/20665303\n */\n\nvar Cartesian =\n/** @class */\nfunction (_super) {\n  __extends(Cartesian, _super);\n\n  function Cartesian(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.isRect = true;\n    _this.type = 'cartesian';\n\n    _this.initial();\n\n    return _this;\n  }\n\n  Cartesian.prototype.initial = function () {\n    _super.prototype.initial.call(this);\n\n    var start = this.start;\n    var end = this.end;\n    this.x = {\n      start: start.x,\n      end: end.x\n    };\n    this.y = {\n      start: start.y,\n      end: end.y\n    };\n  };\n\n  Cartesian.prototype.convertPoint = function (point) {\n    var _a;\n\n    var x = point.x,\n        y = point.y; // 交换\n\n    if (this.isTransposed) {\n      _a = [y, x], x = _a[0], y = _a[1];\n    }\n\n    return {\n      x: this.convertDim(x, 'x'),\n      y: this.convertDim(y, 'y')\n    };\n  };\n\n  Cartesian.prototype.invertPoint = function (point) {\n    var _a;\n\n    var x = this.invertDim(point.x, 'x');\n    var y = this.invertDim(point.y, 'y');\n\n    if (this.isTransposed) {\n      _a = [y, x], x = _a[0], y = _a[1];\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  return Cartesian;\n}(Coordinate);\n\nexport default Cartesian;","import { __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport { isNumberEqual } from '@antv/util';\nimport Coordinate from './base';\n/**\n * 螺旋坐标系\n */\n\nvar Helix =\n/** @class */\nfunction (_super) {\n  __extends(Helix, _super);\n\n  function Helix(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.isHelix = true;\n    _this.type = 'helix';\n    var _a = cfg.startAngle,\n        startAngle = _a === void 0 ? 1.25 * Math.PI : _a,\n        _b = cfg.endAngle,\n        endAngle = _b === void 0 ? 7.25 * Math.PI : _b,\n        _c = cfg.innerRadius,\n        innerRadius = _c === void 0 ? 0 : _c,\n        radius = cfg.radius;\n    _this.startAngle = startAngle;\n    _this.endAngle = endAngle;\n    _this.innerRadius = innerRadius;\n    _this.radius = radius;\n\n    _this.initial();\n\n    return _this;\n  }\n\n  Helix.prototype.initial = function () {\n    _super.prototype.initial.call(this);\n\n    var index = (this.endAngle - this.startAngle) / (2 * Math.PI) + 1; // 螺线圈数\n\n    var maxRadius = Math.min(this.width, this.height) / 2;\n\n    if (this.radius && this.radius >= 0 && this.radius <= 1) {\n      maxRadius = maxRadius * this.radius;\n    }\n\n    this.d = Math.floor(maxRadius * (1 - this.innerRadius) / index);\n    this.a = this.d / (Math.PI * 2); // 螺线系数\n\n    this.x = {\n      start: this.startAngle,\n      end: this.endAngle\n    };\n    this.y = {\n      start: this.innerRadius * maxRadius,\n      end: this.innerRadius * maxRadius + this.d * 0.99\n    };\n  };\n  /**\n   * 将百分比数据变成屏幕坐标\n   * @param point 归一化的点坐标\n   * @return      返回对应的屏幕坐标\n   */\n\n\n  Helix.prototype.convertPoint = function (point) {\n    var _a;\n\n    var x = point.x,\n        y = point.y;\n\n    if (this.isTransposed) {\n      _a = [y, x], x = _a[0], y = _a[1];\n    }\n\n    var thi = this.convertDim(x, 'x');\n    var r = this.a * thi;\n    var newY = this.convertDim(y, 'y');\n    return {\n      x: this.center.x + Math.cos(thi) * (r + newY),\n      y: this.center.y + Math.sin(thi) * (r + newY)\n    };\n  };\n  /**\n   * 将屏幕坐标点还原成百分比数据\n   * @param point 屏幕坐标\n   * @return      返回对应的归一化后的数据\n   */\n\n\n  Helix.prototype.invertPoint = function (point) {\n    var _a;\n\n    var d = this.d + this.y.start;\n    var v = vec2.subtract([], [point.x, point.y], [this.center.x, this.center.y]);\n    var thi = vec2.angleTo(v, [1, 0], true);\n    var rMin = thi * this.a; // 坐标与原点的连线在第一圈上的交点，最小r值\n\n    if (vec2.length(v) < rMin) {\n      // 坐标与原点的连线不可能小于最小r值，但不排除因小数计算产生的略小于rMin的情况\n      rMin = vec2.length(v);\n    }\n\n    var index = Math.floor((vec2.length(v) - rMin) / d); // 当前点位于第index圈\n\n    thi = 2 * index * Math.PI + thi;\n    var r = this.a * thi;\n    var newY = vec2.length(v) - r;\n    newY = isNumberEqual(newY, 0) ? 0 : newY;\n    var x = this.invertDim(thi, 'x');\n    var y = this.invertDim(newY, 'y');\n    x = isNumberEqual(x, 0) ? 0 : x;\n    y = isNumberEqual(y, 0) ? 0 : y;\n\n    if (this.isTransposed) {\n      _a = [y, x], x = _a[0], y = _a[1];\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  return Helix;\n}(Coordinate);\n\nexport default Helix;","import { __extends } from \"tslib\";\nimport { mat3, vec2, vec3 } from '@antv/matrix-util';\nimport { isNumberEqual } from '@antv/util';\nimport Coordinate from './base';\n\nvar Polar =\n/** @class */\nfunction (_super) {\n  __extends(Polar, _super);\n\n  function Polar(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.isPolar = true;\n    _this.type = 'polar';\n    var _a = cfg.startAngle,\n        startAngle = _a === void 0 ? -Math.PI / 2 : _a,\n        _b = cfg.endAngle,\n        endAngle = _b === void 0 ? Math.PI * 3 / 2 : _b,\n        _c = cfg.innerRadius,\n        innerRadius = _c === void 0 ? 0 : _c,\n        radius = cfg.radius;\n    _this.startAngle = startAngle;\n    _this.endAngle = endAngle;\n    _this.innerRadius = innerRadius;\n    _this.radius = radius;\n\n    _this.initial();\n\n    return _this;\n  }\n\n  Polar.prototype.initial = function () {\n    _super.prototype.initial.call(this);\n\n    while (this.endAngle < this.startAngle) {\n      this.endAngle += Math.PI * 2;\n    }\n\n    var oneBox = this.getOneBox();\n    var oneWidth = oneBox.maxX - oneBox.minX;\n    var oneHeight = oneBox.maxY - oneBox.minY;\n    var left = Math.abs(oneBox.minX) / oneWidth;\n    var top = Math.abs(oneBox.minY) / oneHeight;\n    var maxRadius;\n\n    if (this.height / oneHeight > this.width / oneWidth) {\n      // width 为主\n      maxRadius = this.width / oneWidth;\n      this.circleCenter = {\n        x: this.center.x - (0.5 - left) * this.width,\n        y: this.center.y - (0.5 - top) * maxRadius * oneHeight\n      };\n    } else {\n      // height 为主\n      maxRadius = this.height / oneHeight;\n      this.circleCenter = {\n        x: this.center.x - (0.5 - left) * maxRadius * oneWidth,\n        y: this.center.y - (0.5 - top) * this.height\n      };\n    }\n\n    this.polarRadius = this.radius;\n\n    if (!this.radius) {\n      this.polarRadius = maxRadius;\n    } else if (this.radius > 0 && this.radius <= 1) {\n      this.polarRadius = maxRadius * this.radius;\n    } else if (this.radius <= 0 || this.radius > maxRadius) {\n      this.polarRadius = maxRadius;\n    }\n\n    this.x = {\n      start: this.startAngle,\n      end: this.endAngle\n    };\n    this.y = {\n      start: this.innerRadius * this.polarRadius,\n      end: this.polarRadius\n    };\n  };\n\n  Polar.prototype.getRadius = function () {\n    return this.polarRadius;\n  };\n\n  Polar.prototype.convertPoint = function (point) {\n    var _a;\n\n    var center = this.getCenter();\n    var x = point.x,\n        y = point.y;\n\n    if (this.isTransposed) {\n      _a = [y, x], x = _a[0], y = _a[1];\n    }\n\n    x = this.convertDim(x, 'x');\n    y = this.convertDim(y, 'y');\n    return {\n      x: center.x + Math.cos(x) * y,\n      y: center.y + Math.sin(x) * y\n    };\n  };\n\n  Polar.prototype.invertPoint = function (point) {\n    var center = this.getCenter();\n    var vPoint = [point.x - center.x, point.y - center.y];\n    var m = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    mat3.rotate(m, m, this.startAngle);\n    var vStart = [1, 0, 0];\n    vec3.transformMat3(vStart, vStart, m);\n    vStart = [vStart[0], vStart[1]];\n    var angle = vec2.angleTo(vStart, vPoint, this.endAngle < this.startAngle);\n\n    if (isNumberEqual(angle, Math.PI * 2)) {\n      angle = 0;\n    }\n\n    var radius = vec2.length(vPoint);\n    var xPercent = angle / (this.endAngle - this.startAngle);\n    xPercent = this.endAngle - this.startAngle > 0 ? xPercent : -xPercent;\n    var yPercent = this.invertDim(radius, 'y');\n    var rst = {\n      x: 0,\n      y: 0\n    };\n    rst.x = this.isTransposed ? yPercent : xPercent;\n    rst.y = this.isTransposed ? xPercent : yPercent;\n    return rst;\n  };\n\n  Polar.prototype.getCenter = function () {\n    return this.circleCenter;\n  };\n\n  Polar.prototype.getOneBox = function () {\n    var startAngle = this.startAngle;\n    var endAngle = this.endAngle;\n\n    if (Math.abs(endAngle - startAngle) >= Math.PI * 2) {\n      return {\n        minX: -1,\n        maxX: 1,\n        minY: -1,\n        maxY: 1\n      };\n    }\n\n    var xs = [0, Math.cos(startAngle), Math.cos(endAngle)];\n    var ys = [0, Math.sin(startAngle), Math.sin(endAngle)];\n\n    for (var i = Math.min(startAngle, endAngle); i < Math.max(startAngle, endAngle); i += Math.PI / 18) {\n      xs.push(Math.cos(i));\n      ys.push(Math.sin(i));\n    }\n\n    return {\n      minX: Math.min.apply(Math, xs),\n      maxX: Math.max.apply(Math, xs),\n      minY: Math.min.apply(Math, ys),\n      maxY: Math.max.apply(Math, ys)\n    };\n  };\n\n  return Polar;\n}(Coordinate);\n\nexport default Polar;","// 所有的 Coordinate map\nvar COORDINATE_MAP = {};\n/**\n * 通过类型获得 coordinate 类\n * @param type\n */\n\nexport var getCoordinate = function getCoordinate(type) {\n  return COORDINATE_MAP[type.toLowerCase()];\n};\n/**\n * 注册 coordinate 类\n * @param type\n * @param ctor\n */\n\nexport var registerCoordinate = function registerCoordinate(type, ctor) {\n  // 存储到 map 中\n  COORDINATE_MAP[type.toLowerCase()] = ctor;\n};","import Coordinate from './coord/base';\nimport Cartesian from './coord/cartesian';\nimport Helix from './coord/helix';\nimport Polar from './coord/polar';\nimport { getCoordinate, registerCoordinate } from './factory';\nregisterCoordinate('rect', Cartesian);\nregisterCoordinate('cartesian', Cartesian);\nregisterCoordinate('polar', Polar);\nregisterCoordinate('helix', Helix);\nexport { getCoordinate, registerCoordinate, Coordinate };","import { isArray, isNil, isString } from '@antv/util'; // todo 这个到底目的是什么？\n\nvar toScaleString = function toScaleString(scale, value) {\n  if (isString(value)) {\n    return value;\n  }\n\n  return scale.invert(scale.scale(value));\n};\n/**\n * 所有视觉通道属性的基类\n * @class Base\n */\n\n\nvar Attribute =\n/** @class */\nfunction () {\n  function Attribute(cfg) {\n    this.names = [];\n    this.scales = [];\n    this.linear = false;\n    this.values = [];\n\n    this.callback = function () {\n      return [];\n    }; // 解析配置\n\n\n    this._parseCfg(cfg);\n  }\n  /**\n   * 映射的值组成的数组\n   * @param params 对应 scale 顺序的值传入\n   */\n\n\n  Attribute.prototype.mapping = function () {\n    var _this = this;\n\n    var params = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      params[_i] = arguments[_i];\n    }\n\n    var values = params.map(function (param, idx) {\n      return _this._toOriginParam(param, _this.scales[idx]);\n    });\n    return this.callback.apply(this, values);\n  };\n  /**\n   * 如果进行线性映射，返回对应的映射值\n   * @param percent\n   */\n\n\n  Attribute.prototype.getLinearValue = function (percent) {\n    // 分段数量\n    var steps = this.values.length - 1;\n    var step = Math.floor(steps * percent);\n    var leftPercent = steps * percent - step; // todo 不懂这个逻辑\n\n    var start = this.values[step];\n    var end = step === steps ? start : this.values[step + 1]; // 线性方程\n\n    return start + (end - start) * leftPercent;\n  };\n  /**\n   * 根据度量获取属性名\n   */\n\n\n  Attribute.prototype.getNames = function () {\n    var scales = this.scales;\n    var names = this.names;\n    var length = Math.min(scales.length, names.length);\n    var rst = [];\n\n    for (var i = 0; i < length; i += 1) {\n      rst.push(names[i]);\n    }\n\n    return rst;\n  };\n  /**\n   * 获取所有的维度名\n   */\n\n\n  Attribute.prototype.getFields = function () {\n    return this.scales.map(function (scale) {\n      return scale.field;\n    });\n  };\n  /**\n   * 根据名称获取度量\n   * @param name\n   */\n\n\n  Attribute.prototype.getScale = function (name) {\n    return this.scales[this.names.indexOf(name)];\n  };\n  /**\n   * 默认的回调函数（用户没有自定义 callback，或者用户自定义 callback 返回空的时候，使用 values 映射）\n   * @param params\n   */\n\n\n  Attribute.prototype.defaultCallback = function () {\n    var _this = this;\n\n    var params = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      params[_i] = arguments[_i];\n    } // 没有 params 的情况，是指没有指定 fields，直接返回配置的 values 常量\n\n\n    if (params.length === 0) {\n      return this.values;\n    }\n\n    return params.map(function (param, idx) {\n      var scale = _this.scales[idx];\n      return scale.type === 'identity' ? scale.values[0] : _this._getAttributeValue(scale, param);\n    });\n  }; // 解析配置\n\n\n  Attribute.prototype._parseCfg = function (cfg) {\n    var _this = this;\n\n    var _a = cfg.type,\n        type = _a === void 0 ? 'base' : _a,\n        _b = cfg.names,\n        names = _b === void 0 ? [] : _b,\n        _c = cfg.scales,\n        scales = _c === void 0 ? [] : _c,\n        _d = cfg.values,\n        values = _d === void 0 ? [] : _d,\n        callback = cfg.callback;\n    this.type = type;\n    this.scales = scales;\n    this.values = values;\n    this.names = names; // 构造 callback 方法\n\n    this.callback = function () {\n      var params = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        params[_i] = arguments[_i];\n      }\n      /**\n       * 当用户设置的 callback 返回 null 时, 应该返回默认 callback 中的值\n       */\n\n\n      if (callback) {\n        // 使用用户返回的值处理\n        var ret = callback.apply(void 0, params);\n\n        if (!isNil(ret)) {\n          return [ret];\n        }\n      } // 没有 callback 或者用户 callback 返回值为空，则使用默认的逻辑处理\n\n\n      return _this.defaultCallback.apply(_this, params);\n    };\n  }; // 获取属性值，将值映射到视觉通道\n\n\n  Attribute.prototype._getAttributeValue = function (scale, value) {\n    // 如果是非线性的字段，直接从 values 中取值即可\n    if (scale.isCategory && !this.linear) {\n      // 离散 scale 变换成索引\n      var idx = scale.translate(value);\n      return this.values[idx % this.values.length];\n    } // 线性则使用线性值\n\n\n    var percent = scale.scale(value);\n    return this.getLinearValue(percent);\n  };\n  /**\n   * 通过 scale 拿到数据对应的原始的参数\n   * @param param\n   * @param scale\n   * @private\n   */\n\n\n  Attribute.prototype._toOriginParam = function (param, scale) {\n    // 是线性，直接返回\n    // 非线性，使用 scale 变换\n    return !scale.isLinear ? isArray(param) ? param.map(function (p) {\n      return toScaleString(scale, p);\n    }) : toScaleString(scale, param) : param;\n  };\n\n  return Attribute;\n}();\n\nexport default Attribute;","import { __extends } from \"tslib\";\nimport colorUtil from '@antv/color-util';\nimport { isString } from '@antv/util';\nimport Attribute from './base';\n\nvar Color =\n/** @class */\nfunction (_super) {\n  __extends(Color, _super);\n\n  function Color(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.type = 'color';\n    _this.names = ['color'];\n\n    if (isString(_this.values)) {\n      _this.linear = true;\n    }\n\n    _this.gradient = colorUtil.gradient(_this.values);\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  Color.prototype.getLinearValue = function (percent) {\n    return this.gradient(percent);\n  };\n\n  return Color;\n}(Attribute);\n\nexport default Color;","import { __extends } from \"tslib\";\nimport Attribute from './base';\n\nvar Opacity =\n/** @class */\nfunction (_super) {\n  __extends(Opacity, _super);\n\n  function Opacity(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.type = 'opacity';\n    _this.names = ['opacity'];\n    return _this;\n  }\n\n  return Opacity;\n}(Attribute);\n\nexport default Opacity;","import { __extends } from \"tslib\";\nimport { isArray, isNil } from '@antv/util';\nimport Attribute from './base';\n\nvar Position =\n/** @class */\nfunction (_super) {\n  __extends(Position, _super);\n\n  function Position(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.names = ['x', 'y'];\n    _this.type = 'position';\n    return _this;\n  }\n\n  Position.prototype.mapping = function (x, y) {\n    var _a = this.scales,\n        scaleX = _a[0],\n        scaleY = _a[1];\n\n    if (isNil(x) || isNil(y)) {\n      return [];\n    }\n\n    return [isArray(x) ? x.map(function (xi) {\n      return scaleX.scale(xi);\n    }) : scaleX.scale(x), isArray(y) ? y.map(function (yi) {\n      return scaleY.scale(yi);\n    }) : scaleY.scale(y)];\n  };\n\n  return Position;\n}(Attribute);\n\nexport default Position;","import { __extends } from \"tslib\";\nimport Attribute from './base';\n\nvar Shape =\n/** @class */\nfunction (_super) {\n  __extends(Shape, _super);\n\n  function Shape(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.type = 'shape';\n    _this.names = ['shape'];\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  Shape.prototype.getLinearValue = function (percent) {\n    var idx = Math.round((this.values.length - 1) * percent);\n    return this.values[idx];\n  };\n\n  return Shape;\n}(Attribute);\n\nexport default Shape;","import { __extends } from \"tslib\";\nimport Attribute from './base';\n\nvar Size =\n/** @class */\nfunction (_super) {\n  __extends(Size, _super);\n\n  function Size(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.type = 'size';\n    _this.names = ['size'];\n    return _this;\n  }\n\n  return Size;\n}(Attribute);\n\nexport default Size;","import Attribute from './attributes/base'; // 所有的 attribute map\n\nvar ATTRIBUTE_MAP = {};\n/**\n * 通过类型获得 Attribute 类\n * @param type\n */\n\nvar getAttribute = function getAttribute(type) {\n  return ATTRIBUTE_MAP[type.toLowerCase()];\n};\n\nvar registerAttribute = function registerAttribute(type, ctor) {\n  // 注册的时候，需要校验 type 重名，不区分大小写\n  if (getAttribute(type)) {\n    throw new Error(\"Attribute type '\" + type + \"' existed.\");\n  } // 存储到 map 中\n\n\n  ATTRIBUTE_MAP[type.toLowerCase()] = ctor;\n};\n\nexport { getAttribute, registerAttribute, Attribute };\nexport * from './interface';","import Attribute from './attributes/base';\nimport Color from './attributes/color';\nimport Opacity from './attributes/opacity';\nimport Position from './attributes/position';\nimport Shape from './attributes/shape';\nimport Size from './attributes/size';\nimport { getAttribute, registerAttribute } from './factory';\nregisterAttribute('Color', Color);\nregisterAttribute('Opacity', Opacity);\nregisterAttribute('Position', Position);\nregisterAttribute('Shape', Shape);\nregisterAttribute('Size', Size);\nexport { registerAttribute, getAttribute, Attribute // 以下 export 是为了兼容，理论上是不需要的\n, Color, Opacity, Position, Shape, Size };\nexport * from './interface';","/**\n * @description scale 的控制器\n */\nimport * as _ from '@antv/util';\nimport { getScale } from '../../dependents'; // tslint:disable-next-line\n\nvar dateRegex = /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\nvar Types;\n\n(function (Types) {\n  Types[\"Linear\"] = \"linear\";\n  Types[\"Cat\"] = \"cat\";\n  Types[\"Time\"] = \"time\";\n})(Types || (Types = {}));\n\nvar ScaleController =\n/** @class */\nfunction () {\n  function ScaleController(cfg) {\n    this.defs = {}; // Scale 配置项信息\n\n    this.defs = cfg;\n  }\n\n  ScaleController.prototype.createScale = function (field, data) {\n    var def = this.defs[field];\n    var scale; // 如果数据为空直接返回常量度量\n\n    if (!data || !data.length) {\n      if (def && def.type) {\n        var Scale = getScale(def.type);\n        scale = new Scale(def);\n      } else {\n        var Identity = getScale('identity');\n        scale = new Identity({\n          field: field.toString(),\n          values: [field]\n        });\n      }\n\n      return scale;\n    }\n\n    var firstValue = _.firstValue(data, field);\n\n    if (_.isNumber(field) || _.isNil(firstValue) && !def) {\n      var Identity = getScale('identity');\n      scale = new Identity({\n        field: field.toString(),\n        values: [field]\n      });\n    } else {\n      // 如果已经定义过这个度量\n      var type = _.get(def, 'type', this._getDefaultType(field, data));\n\n      var cfg = this._getScaleCfg(type, field, data);\n\n      if (def) {\n        _.mix(cfg, def);\n      }\n\n      var Scale = getScale(type);\n      scale = new Scale(cfg);\n    }\n\n    return scale;\n  };\n\n  ScaleController.prototype._getDefaultType = function (field, data) {\n    var type = Types.Linear;\n\n    var value = _.firstValue(data, field);\n\n    if (_.isArray(value)) {\n      value = value[0];\n    }\n\n    if (dateRegex.test(value)) {\n      type = Types.Time;\n    } else if (_.isString(value)) {\n      type = Types.Cat;\n    }\n\n    return type;\n  };\n\n  ScaleController.prototype._getScaleCfg = function (type, field, data) {\n    var values = _.valuesOfKey(data, field);\n\n    var cfg = {\n      field: field,\n      values: values\n    };\n\n    if (type !== 'cat' && type !== 'timeCat' && type !== 'time') {\n      var _a = _.getRange(values),\n          min = _a.min,\n          max = _a.max;\n\n      cfg.min = min;\n      cfg.max = max;\n      cfg.nice = true;\n    }\n\n    if (type === 'time') {\n      cfg.nice = false;\n    }\n\n    return cfg;\n  };\n\n  return ScaleController;\n}();\n\nexport default ScaleController;","import { __assign } from \"tslib\";\n/**\n * @description coord 的控制器\n */\n\nimport * as _ from '@antv/util';\nimport { getCoordinate } from '../../dependents';\n\nvar CoordController =\n/** @class */\nfunction () {\n  function CoordController(option) {\n    if (option === void 0) {\n      option = {};\n    }\n\n    this.type = 'rect';\n    this.actions = [];\n    this.cfg = {};\n    this.options = {};\n\n    _.mix(this, option);\n\n    this.options = option; // ugly！！！通过浅拷贝 view.get('options').coord 来动态更改该属性值，见 view.ts#L917\n  }\n\n  CoordController.prototype.reset = function (option) {\n    this.type = option.type || 'rect';\n    this.actions = option.actions || [];\n    this.cfg = option.cfg; // 更新 view.get('options').coord，见view.ts#L917\n\n    this.options.type = this.type;\n    this.options.actions = this.actions;\n    this.options.cfg = this.cfg;\n    return this;\n  };\n  /**\n   * 创建坐标系对象\n   * @param  {Object} start 坐标系起始点\n   * @param  {Object} end   坐标系结束点\n   * @return {Function} 坐标系的构造函数\n   */\n\n\n  CoordController.prototype.createCoord = function (start, end) {\n    var type = this.type;\n    var cfg = this.cfg;\n    var C; // 构造函数\n\n    var coord;\n\n    var coordCfg = __assign({\n      start: start,\n      end: end\n    }, cfg);\n\n    if (type === 'theta') {\n      // definition of theta coord\n      C = getCoordinate('polar');\n\n      if (!this._hasAction('transpose')) {\n        this.transpose(); // 极坐标，同时transpose\n      }\n\n      coord = new C(coordCfg);\n      coord.type = type;\n    } else {\n      C = getCoordinate(type);\n      coord = new C(coordCfg);\n    }\n\n    this._execActions(coord);\n\n    return coord;\n  };\n  /**\n   * 围绕坐标系中心点旋转对应的角度\n   * @param angle 旋转角度\n   */\n\n\n  CoordController.prototype.rotate = function (angle) {\n    var _angle = angle * Math.PI / 180;\n\n    this.actions.push(['rotate', _angle]);\n    return this;\n  };\n  /**\n   * 将坐标系沿 x 方向或者沿 y 轴方向进行镜像映射\n   * @param dim 镜像方向，可选值 'x' 和 'y'，默认为 'x'\n   */\n\n\n  CoordController.prototype.reflect = function (dim) {\n    if (dim === void 0) {\n      dim = 'y';\n    }\n\n    this.actions.push(['reflect', dim]);\n    return this;\n  };\n  /**\n   * 根据坐标系中心点进行相应的缩放\n   * @param sx x 轴缩放值\n   * @param sy y 轴缩放值\n   */\n\n\n  CoordController.prototype.scale = function (sx, sy) {\n    this.actions.push(['scale', sx, sy]);\n    return this;\n  };\n  /**\n   * x，y 轴交换\n   */\n\n\n  CoordController.prototype.transpose = function () {\n    this.actions.push(['transpose']);\n    return this;\n  };\n\n  CoordController.prototype._execActions = function (coord) {\n    _.each(this.actions, function (action) {\n      var m = action[0];\n      coord[m](action[1], action[2]);\n    });\n  };\n\n  CoordController.prototype._hasAction = function (actionName) {\n    var actions = this.actions;\n    var rst = false;\n\n    _.each(actions, function (action) {\n      if (actionName === action[0]) {\n        rst = true;\n        return false;\n      }\n    });\n\n    return rst;\n  };\n\n  return CoordController;\n}();\n\nexport default CoordController;","import { __assign, __extends } from \"tslib\";\nimport EventEmitter from '@antv/event-emitter';\n\nvar Guide =\n/** @class */\nfunction (_super) {\n  __extends(Guide, _super);\n\n  function Guide(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.cfg = __assign({\n      id: null,\n      // 容器\n      canvas: null,\n      container: null,\n      group: null,\n      // 交互属性\n      capture: true,\n      // props\n      // coord: null,\n      offsetX: 0,\n      offsetY: 0,\n      visible: true,\n      zIndex: 1\n    }, cfg);\n    _this.destroyed = false;\n    return _this;\n  } // 由于重构后影响太大了 所以使用any先\n\n\n  Guide.prototype.get = function (name) {\n    return this.cfg[name];\n  };\n\n  Guide.prototype.set = function (name, value) {\n    this.cfg[name] = value;\n    return this;\n  };\n\n  Guide.prototype.destroy = function () {\n    this.off();\n    this.destroyed = true;\n  };\n\n  return Guide;\n}(EventEmitter);\n\nexport { Guide };\nexport default Guide;","import * as _ from '@antv/util';\n\nvar Greedy =\n/** @class */\nfunction () {\n  function Greedy(cfg) {\n    this.bitmap = {};\n    this.xGap = 1;\n    this.yGap = 8; // optimizing for text overlapping detection: use a min text height as gap\n\n    if (cfg) {\n      _.mix(this, cfg);\n    }\n  }\n\n  Greedy.prototype.hasGap = function (bbox) {\n    var hasGap = true;\n    var bitmap = this.bitmap;\n    var minX = Math.round(bbox.minX);\n    var maxX = Math.round(bbox.maxX);\n    var minY = Math.round(bbox.minY);\n    var maxY = Math.round(bbox.maxY);\n\n    for (var i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n        continue;\n      }\n\n      if (i === minX || i === maxX) {\n        for (var j = minY; j <= maxY; j++) {\n          if (bitmap[i][j]) {\n            hasGap = false;\n            break;\n          }\n        }\n      } else {\n        if (bitmap[i][minY] || bitmap[i][maxY]) {\n          hasGap = false;\n          break;\n        }\n      }\n    }\n\n    return hasGap;\n  };\n\n  Greedy.prototype.fillGap = function (bbox) {\n    var bitmap = this.bitmap;\n    var minX = Math.round(bbox.minX);\n    var maxX = Math.round(bbox.maxX);\n    var minY = Math.round(bbox.minY);\n    var maxY = Math.round(bbox.maxY); // filling grid\n\n    for (var i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n      }\n    }\n\n    for (var i = minX; i <= maxX; i += this.xGap) {\n      for (var j = minY; j <= maxY; j += this.yGap) {\n        bitmap[i][j] = true;\n      }\n\n      bitmap[i][maxY] = true;\n    } // filling y edges\n\n\n    if (this.yGap !== 1) {\n      for (var i = minY; i <= maxY; i += 1) {\n        bitmap[minX][i] = true;\n        bitmap[maxX][i] = true;\n      }\n    } // filling x edges\n\n\n    if (this.xGap !== 1) {\n      for (var i = minX; i <= maxX; i += 1) {\n        bitmap[i][minY] = true;\n        bitmap[i][maxY] = true;\n      }\n    }\n  };\n\n  Greedy.prototype.destroy = function () {\n    this.bitmap = {};\n  };\n\n  return Greedy;\n}();\n\nexport default Greedy;","import Greedy from './util/greedy';\n/*\n   *  根据如下规则尝试放置label\n   *                5\n   *        ------------------\n   *        |    1   |   0   |\n   *    8   —————————4————————   7\n   *        |    2   |   3   |\n   *        ——————————————————\n   *                 6\n   */\n\nfunction adjustLabelPosition(label, x, y, index) {\n  var bbox = label.getBBox();\n  var width = bbox.width;\n  var height = bbox.height;\n  var attrs = {\n    x: x,\n    y: y,\n    textAlign: 'center'\n  };\n\n  switch (index) {\n    case 0:\n      attrs.y -= height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n\n    case 1:\n      attrs.y -= height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n\n    case 2:\n      attrs.y += height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n\n    case 3:\n      attrs.y += height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n\n    case 5:\n      attrs.y -= height * 2 + 2;\n      break;\n\n    case 6:\n      attrs.y += height * 2 + 2;\n      break;\n\n    case 7:\n      attrs.x += width + 1;\n      attrs.textAlign = 'left';\n      break;\n\n    case 8:\n      attrs.x -= width + 1;\n      attrs.textAlign = 'right';\n      break;\n\n    default:\n      break;\n  }\n\n  label.attr(attrs);\n  return label.getBBox();\n}\n\nexport default function (labels) {\n  var greedy = new Greedy();\n  var toBeRemoved = [];\n  var bbox;\n  var label;\n  var x;\n  var y;\n  var canFill;\n\n  for (var i = 0; i < labels.length; i++) {\n    label = labels[i];\n    x = label.attr('x');\n    y = label.attr('y');\n    canFill = false;\n\n    for (var i_1 = 0; i_1 <= 8; i_1++) {\n      bbox = adjustLabelPosition(label, x, y, i_1);\n\n      if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        canFill = true;\n        break;\n      }\n    }\n\n    if (!canFill) {\n      toBeRemoved.push(label);\n    }\n  }\n\n  for (var i = 0; i < toBeRemoved.length; i++) {\n    toBeRemoved[i].remove();\n  }\n}","import Greedy from './util/greedy';\nvar MAX_TIMES = 100;\n\nfunction spiralFill(label, greedy, maxTimes) {\n  if (maxTimes === void 0) {\n    maxTimes = MAX_TIMES;\n  }\n\n  var dt = -1;\n  var x = label.attr('x');\n  var y = label.attr('y');\n  var bbox = label.getBBox();\n  var maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n  var dxdy;\n  var t = -dt;\n  var dx = 0;\n  var dy = 0;\n\n  var f = function f(t) {\n    var nt = t * 0.1;\n    return [nt * Math.cos(nt), nt * Math.sin(nt)];\n  };\n\n  if (greedy.hasGap(bbox)) {\n    greedy.fillGap(bbox);\n    return true;\n  }\n\n  var canFill = false;\n  var times = 0;\n  var accessedCache = {};\n\n  while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n    dxdy = f(t += dt);\n    dx = ~~dxdy[0];\n    dy = ~~dxdy[1];\n\n    if (!dx && !dy || accessedCache[dx + \"-\" + dy]) {\n      continue;\n    }\n\n    label.attr({\n      x: x + dx,\n      y: y + dy\n    });\n\n    if (dx + dy < 0) {\n      label.attr('textAlign', 'right');\n    }\n\n    times++;\n\n    if (greedy.hasGap(label.getBBox())) {\n      greedy.fillGap(label.getBBox());\n      canFill = true;\n      accessedCache[dx + \"-\" + dy] = true;\n      break;\n    }\n  }\n\n  return canFill;\n}\n\nexport default function (labels, maxTimes) {\n  if (maxTimes === void 0) {\n    maxTimes = MAX_TIMES;\n  }\n\n  var label;\n  var greedy = new Greedy();\n  var toBeRemoved = [];\n\n  for (var i = 0; i < labels.length; i++) {\n    label = labels[i];\n\n    if (!spiralFill(label, greedy, maxTimes)) {\n      toBeRemoved.push(label);\n    }\n  }\n\n  for (var i = 0; i < toBeRemoved.length; i++) {\n    toBeRemoved[i].remove();\n  }\n}","var _a;\n\nimport { FONT_FAMILY } from '../const'; // tooltip 相关 dom 的 css 类名\n\nvar TOOLTIP_CONTAINER_CLASS = 'g2-tooltip';\nvar TOOLTIP_TITLE_CLASS = 'g2-tooltip-title';\nvar TOOLTIP_LIST_CLASS = 'g2-tooltip-list';\nvar TOOLTIP_LIST_ITEM_CLASS = 'g2-tooltip-list-item';\nvar TOOLTIP_MARKER_CLASS = 'g2-tooltip-marker';\nvar TOOLTIP_VALUE_CLASS = 'g2-tooltip-value';\nexport default (_a = {}, // css style for tooltip\n_a[\"\" + TOOLTIP_CONTAINER_CLASS] = {\n  position: 'absolute',\n  display: 'none',\n  // @2018-07-25 by blue.lb 这里去掉浮动，火狐上存在样式错位\n  // whiteSpace: 'nowrap',\n  zIndex: 8,\n  transition: 'visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), ' + 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1), ' + 'top 0.4s cubic-bezier(0.23, 1, 0.32, 1)',\n  backgroundColor: 'rgba(255, 255, 255, 0.9)',\n  boxShadow: '0px 0px 10px #aeaeae',\n  borderRadius: '3px',\n  color: 'rgb(87, 87, 87)',\n  fontSize: '12px',\n  fontFamily: FONT_FAMILY,\n  lineHeight: '20px',\n  padding: '10px 10px 6px 10px'\n}, _a[\"\" + TOOLTIP_TITLE_CLASS] = {\n  marginBottom: '4px'\n}, _a[\"\" + TOOLTIP_LIST_CLASS] = {\n  margin: 0,\n  listStyleType: 'none',\n  padding: 0\n}, _a[\"\" + TOOLTIP_LIST_ITEM_CLASS] = {\n  marginBottom: '4px'\n}, _a[\"\" + TOOLTIP_MARKER_CLASS] = {\n  width: '5px',\n  height: '5px',\n  borderRadius: '50%',\n  display: 'inline-block',\n  marginRight: '8px'\n}, _a[\"\" + TOOLTIP_VALUE_CLASS] = {\n  display: 'inline-block',\n  float: 'right',\n  marginLeft: '30px'\n}, _a);","import { __assign, __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport * as Util from '@antv/util';\nimport Guide from '../base';\nimport bboxAdjust from './adjust/bbox';\nimport positionAdjust from './adjust/position';\nimport spirialAdjust from './adjust/spiral';\nvar LAYOUTS = {\n  scatter: positionAdjust,\n  map: spirialAdjust,\n  treemap: bboxAdjust\n};\n\nvar Label =\n/** @class */\nfunction (_super) {\n  __extends(Label, _super);\n\n  function Label(cfg) {\n    return _super.call(this, __assign({\n      name: 'label',\n      type: 'default',\n      // html 渲染时用的容器的模板，必须存在 class = \"g-labels\"\n      containerTpl: '<div class=\"g-labels\" style=\"position:absolute;top:0;left:0;\"></div>',\n      // html 渲染时单个 label 的模板，必须存在 class = \"g-label\"\n      itemTpl: '<div class=\"g-label\" style=\"position:absolute;\">{text}</div>',\n      items: null,\n      lineGroup: null,\n      shapes: null,\n      useHtml: false\n    }, cfg)) || this;\n  }\n  /**\n   * label绘制全过程\n   */\n\n\n  Label.prototype.render = function () {\n    this.clear();\n\n    this._init();\n\n    this.emit('beforerender');\n    this.draw();\n    this.emit('afterrender');\n  };\n  /**\n   * 更新 label\n   * 1. 将items与group中的children对比，更新/新增/删除labels\n   * 2. labels布局优化\n   * 3. 画label连接线\n   * 4. 绘制到画布\n   */\n\n\n  Label.prototype.draw = function (canvasDraw) {\n    if (canvasDraw === void 0) {\n      canvasDraw = true;\n    }\n\n    this._dryDraw();\n\n    canvasDraw && this.get('canvas').draw();\n  };\n  /*\n   * 清空label容器\n   */\n\n\n  Label.prototype.clear = function () {\n    var group = this.get('group');\n    var container = this.get('container');\n\n    if (group && !group.destroyed) {\n      group.clear();\n    }\n\n    if (container) {\n      container.innerHTML = '';\n    }\n  };\n  /**\n   * 销毁group\n   */\n\n\n  Label.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var group = this.get('group');\n    var container = this.get('container');\n\n    if (group && !group.destroyed) {\n      group.destroy();\n    }\n\n    if (container) {\n      container.innerHTML = '';\n    }\n  };\n  /*\n   * 更新label\n   * oldLabel shape或label dom\n   * newLabel label data\n   * index items中的下标\n   */\n\n\n  Label.prototype.changeLabel = function (oldLabel, newLabel) {\n    if (!oldLabel) {\n      return;\n    }\n\n    if (oldLabel.tagName) {\n      var node = this._createDom(newLabel);\n\n      oldLabel.innerHTML = node.innerHTML;\n\n      this._setCustomPosition(newLabel, oldLabel);\n    } else {\n      oldLabel.id = newLabel.id;\n      oldLabel.attr('text', newLabel.text);\n\n      if (oldLabel.attr('x') !== newLabel.x || oldLabel.attr('y') !== newLabel.y) {\n        oldLabel.resetMatrix();\n\n        if (newLabel.textStyle.rotate) {\n          oldLabel.rotateAtStart(newLabel.textStyle.rotate);\n          delete newLabel.textStyle.rotate;\n        }\n\n        oldLabel.attr(newLabel);\n      }\n    }\n  };\n  /**\n   * 显示label\n   */\n\n\n  Label.prototype.show = function () {\n    var group = this.get('group');\n    var container = this.get('container');\n\n    if (group) {\n      group.show();\n    }\n\n    if (container) {\n      container.style.opacity = 1;\n    }\n  };\n  /**\n   * 隐藏label\n   */\n\n\n  Label.prototype.hide = function () {\n    var group = this.get('group');\n    var container = this.get('container');\n\n    if (group) {\n      group.hide();\n    }\n\n    if (container) {\n      container.style.opacity = 0;\n    }\n  };\n  /**\n   * 画label连接线\n   */\n\n\n  Label.prototype.drawLines = function () {\n    var _this = this;\n\n    var lineGroup = this.get('lineGroup');\n\n    if (!lineGroup || lineGroup.destroyed) {\n      lineGroup = this.get('group').addGroup();\n      this.set('lineGroup', lineGroup);\n    } else {\n      lineGroup.clear();\n    }\n\n    Util.each(this.get('items'), function (label) {\n      _this._lineToLabel(label, lineGroup);\n    });\n  };\n\n  Label.prototype._lineToLabel = function (label, lineGroup) {\n    if (!label.labelLine) {\n      // labelLine: null | false，关闭 label 对应的 labelLine\n      return;\n    }\n\n    var lineStyle = Util.isBoolean(label.labelLine) ? {} : label.labelLine; // 兼容 labelLine: true，此时使用默认的样式\n\n    var capture = typeof label.capture === 'undefined' ? this.get('capture') : label.capture;\n    var path = lineStyle.path;\n\n    if (path && Util.isFunction(lineStyle.path)) {\n      path = lineStyle.path(label);\n    }\n\n    if (!path) {\n      var start = label.start;\n      path = [['M', start.x, start.y], ['L', label.x, label.y]];\n    }\n\n    var stroke = label.color;\n\n    if (!stroke) {\n      if (label.textStyle && label.textStyle.fill) {\n        stroke = label.textStyle.fill;\n      } else {\n        stroke = '#000';\n      }\n    }\n\n    var lineShape = lineGroup.addShape('path', {\n      capture: capture,\n      attrs: Util.mix({\n        path: path,\n        stroke: stroke,\n        fill: null\n      }, lineStyle)\n    }); // label 对应线的动画关闭\n\n    lineShape.name = this.get('name'); // generate labelLine id according to label id\n\n    lineShape.id = label.id && label.id.replace('glabel', 'glabelline');\n    lineShape.set('coord', this.get('coord'));\n  }; // 根据type对label布局\n\n\n  Label.prototype._adjustLabels = function () {\n    var type = this.get('type');\n    var labels = this.getLabels();\n    var shapes = this.get('shapes');\n    var layout = LAYOUTS[type];\n\n    if (!layout) {\n      return;\n    }\n\n    layout(labels, shapes);\n  };\n  /**\n   * 获取当前所有label实例\n   * @return {Array} 当前label实例\n   */\n\n\n  Label.prototype.getLabels = function () {\n    var container = this.get('container');\n\n    if (container) {\n      return Util.toArray(container.childNodes);\n    }\n\n    var children = this.get('group').get('children');\n    return Util.filter(children, function (child) {\n      return child.isShape;\n    });\n  }; // 分html dom和G shape两种情况生成label实例\n\n\n  Label.prototype._createText = function (oldcfg) {\n    var cfg = oldcfg;\n    var container = this.get('container');\n    var capture = typeof cfg.capture === 'undefined' ? this.get('capture') : cfg.capture;\n    var labelShape;\n\n    if (cfg.useHtml || cfg.htmlTemplate) {\n      if (!container) {\n        container = this._initHtmlContainer();\n      }\n\n      var node = this._createDom(cfg);\n\n      container.appendChild(node);\n\n      this._setCustomPosition(cfg, node);\n    } else {\n      var name_1 = this.get('name');\n      var origin_1 = cfg.origin;\n      var group = this.get('group');\n      delete cfg.origin; // 临时解决，否则影响动画\n\n      var rotate = cfg.rotate; // textStyle中的rotate虽然可以正常画出，但是在做动画的时候可能会导致动画异常。移出，在定义好shape后通过transform实现效果。\n\n      if (cfg.textStyle) {\n        if (cfg.textStyle.rotate) {\n          rotate = cfg.textStyle.rotate;\n          delete cfg.textStyle.rotate;\n        }\n\n        cfg = Util.mix({\n          x: cfg.x,\n          y: cfg.y,\n          textAlign: cfg.textAlign,\n          text: cfg.text\n        }, cfg.textStyle);\n      }\n\n      labelShape = group.addShape('text', {\n        capture: capture,\n        attrs: cfg\n      });\n\n      if (rotate) {\n        // rotate是用角度定义的，转换为弧度\n        if (Math.abs(rotate) > Math.PI * 2) {\n          rotate = rotate / 180 * Math.PI;\n        }\n\n        labelShape.transform([['t', -cfg.x, -cfg.y], ['r', rotate], ['t', cfg.x, cfg.y]]);\n      }\n\n      labelShape.setSilent('origin', origin_1 || cfg);\n      labelShape.name = name_1; // 用于事件标注\n\n      this.get('appendInfo') && labelShape.setSilent('appendInfo', this.get('appendInfo'));\n      return labelShape;\n    }\n  };\n\n  Label.prototype._initHtmlContainer = function () {\n    var container = this.get('container');\n\n    if (!container) {\n      var containerTpl = this.get('containerTpl');\n      var wrapper = this.get('canvas').get('el').parentNode;\n      container = domUtil.createDom(containerTpl);\n      wrapper.style.position = 'relative';\n      wrapper.appendChild(container);\n      this.set('container', container);\n    }\n\n    return container;\n  };\n\n  Label.prototype._createDom = function (cfg) {\n    var itemTpl = this.get('itemTpl');\n    var str = Util.substitute(itemTpl, {\n      text: cfg.text\n    });\n    return domUtil.createDom(str);\n  }; // 根据文本对齐方式确定dom位置\n\n\n  Label.prototype._setCustomPosition = function (cfg, htmlDom) {\n    var textAlign = cfg.textAlign || 'left';\n    var top = cfg.y;\n    var left = cfg.x;\n    var width = domUtil.getOuterWidth(htmlDom);\n    var height = domUtil.getOuterHeight(htmlDom);\n    top = top - height / 2;\n\n    if (textAlign === 'center') {\n      left = left - width / 2;\n    } else if (textAlign === 'right') {\n      left = left - width;\n    }\n\n    htmlDom.style.top = parseInt(top, 10) + \"px\";\n    htmlDom.style.left = parseInt(left, 10) + \"px\";\n  }; // label 容器初始化\n\n\n  Label.prototype._init = function () {\n    if (!this.get('group')) {\n      var group = this.get('canvas').addGroup({\n        id: 'label-group'\n      });\n      this.set('group', group);\n    }\n  };\n\n  Label.prototype._dryDraw = function () {\n    var _this = this;\n\n    var items = this.get('items');\n    var children = this.getLabels();\n    var count = children.length;\n    Util.each(items, function (item, index) {\n      if (index < count) {\n        var label = children[index];\n\n        _this.changeLabel(label, item);\n      } else {\n        var labelShape = _this._createText(item);\n\n        if (labelShape) {\n          labelShape.id = item.id;\n          labelShape.set('coord', item.coord);\n        }\n      }\n    });\n\n    for (var i = count - 1; i >= items.length; i -= 1) {\n      children[i].remove();\n    }\n\n    this._adjustLabels();\n\n    this.drawLines();\n  };\n\n  return Label;\n}(Guide);\n\nexport default Label;","export default (function (labels, shapes) {\n  var labelBBox;\n  var shapeBBox;\n  var toBeRemoved = [];\n\n  for (var i = 0; i < labels.length; i++) {\n    labelBBox = labels[i].getBBox();\n    shapeBBox = shapes[i].getBBox();\n\n    if (labelBBox.width > shapeBBox.width || labelBBox.height > shapeBBox.height) {\n      toBeRemoved.push(labels[i]);\n    } // FIXME this is not going to be true\n    // } else if (labelBBox.width * labelBBox.height > shapeBBox.width * shapeBBox.height) {\n    //   toBeRemoved.push(labels[i]);\n    // }\n\n  }\n\n  for (var i = 0; i < toBeRemoved.length; i++) {\n    toBeRemoved[i].remove();\n  }\n});","import Label from './base';\nexport default Label;","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport Guide from '../base';\n\nvar Tooltip =\n/** @class */\nfunction (_super) {\n  __extends(Tooltip, _super);\n\n  function Tooltip(cfg) {\n    return _super.call(this, __assign({\n      /**\n       * 右下角坐标\n       */\n      x: 0,\n\n      /**\n       * y 右下角坐标\n       */\n      y: 0,\n\n      /**\n       * tooltip 记录项\n       */\n      items: null,\n\n      /**\n       * tooltip 标题\n       * @type {Array}\n       */\n      titleContent: null,\n\n      /**\n       * 是否展示 title\n       * @type {Boolean}\n       */\n      showTitle: true,\n\n      /**\n       * 视图范围\n       * @type {Object}\n       */\n      panelRange: null,\n\n      /**\n       * 将 tooltip 展示在指定区域内\n       * @type {Boolean}\n       */\n      inPanel: true,\n\n      /**\n       * tooltip 辅助线配置\n       * @type {Object}\n       */\n      crosshairs: null\n    }, cfg)) || this;\n  }\n\n  Tooltip.prototype.isContentChange = function (title, items) {\n    var titleContent = this.get('titleContent');\n    var lastItems = this.get('items');\n    var isChanged = !(title === titleContent && lastItems.length === items.length);\n\n    if (!isChanged) {\n      Util.each(items, function (item, index) {\n        var preItem = lastItems[index];\n        var keys = Object.keys(item);\n        isChanged = keys.some(function (key) {\n          return !Util.isObject(item[key]) && item[key] !== preItem[key];\n        });\n\n        if (isChanged) {\n          return false;\n        }\n      });\n    }\n\n    return isChanged;\n  };\n\n  Tooltip.prototype.setContent = function (title, items) {\n    this.set('items', items);\n    this.set('titleContent', title);\n    this.render();\n    return this;\n  };\n\n  Tooltip.prototype.setPosition = function (x, y, target) {\n    this.set('x', x);\n    this.set('y', y);\n  };\n\n  Tooltip.prototype.setMarkers = function (markerItems, markerCfg) {\n    var markerGroup = this.get('markerGroup');\n    var frontgroundGroup = this.get('frontgroundGroup');\n\n    if (!markerGroup) {\n      markerGroup = frontgroundGroup.addGroup({\n        zIndex: 1,\n        capture: false\n      });\n      this.set('markerGroup', markerGroup);\n    } else {\n      markerGroup.clear();\n    }\n\n    Util.each(markerItems, function (item) {\n      markerGroup.addShape('marker', {\n        color: item.color,\n        attrs: Util.mix({\n          fill: item.color,\n          symbol: 'circle',\n          shadowColor: item.color\n        }, markerCfg, {\n          x: item.x,\n          y: item.y\n        })\n      });\n    });\n    this.set('markerItems', markerItems);\n  };\n\n  Tooltip.prototype.clearMarkers = function () {\n    var markerGroup = this.get('markerGroup');\n    markerGroup && markerGroup.clear();\n  };\n\n  Tooltip.prototype.render = function () {};\n\n  Tooltip.prototype.clear = function () {};\n\n  Tooltip.prototype.show = function () {\n    this.set('visible', true);\n  };\n\n  Tooltip.prototype.hide = function () {\n    this.set('visible', false);\n  };\n\n  return Tooltip;\n}(Guide);\n\nexport default Tooltip;","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport Guide from '../base';\n\nvar Crosshair =\n/** @class */\nfunction (_super) {\n  __extends(Crosshair, _super);\n\n  function Crosshair(cfg) {\n    var _this = _super.call(this, __assign({\n      /**\n       * crosshair的类型\n       */\n      type: null,\n\n      /**\n       * 画在哪层视图\n       */\n      plot: null,\n\n      /**\n       * x轴上，移动到位置的偏移量\n       */\n      panelRange: null,\n\n      /**\n       * 默认rect crosshair样式\n       * @type {Object}\n       */\n      rectStyle: {\n        fill: '#CCD6EC',\n        opacity: 0.3\n      },\n\n      /**\n       * 默认line crosshair样式\n       */\n      lineStyle: {\n        stroke: 'rgba(0, 0, 0, 0.25)',\n        lineWidth: 1\n      },\n      isTransposed: false\n    }, cfg)) || this;\n\n    _this._init_();\n\n    _this.render();\n\n    return _this;\n  }\n\n  Crosshair.prototype._init_ = function () {\n    var plot = this.get('plot');\n    var group = plot.addGroup();\n    this.set('container', group);\n  };\n\n  Crosshair.prototype._addLineShape = function (attrs, type) {\n    var container = this.get('container');\n    var shape = container.addShape('line', {\n      attrs: attrs,\n      capture: false\n    }); // shape.hide();\n\n    this.set(\"crossLineShape\" + type, shape);\n    return shape;\n  };\n\n  Crosshair.prototype._renderHorizontalLine = function (canvas, panelRange) {\n    // todo\n    var style = Util.mix(this.get('lineStyle'), this.get('style'));\n    var attrs = Util.mix({\n      x1: panelRange ? panelRange.bl.x : canvas.get('width'),\n      y1: 0,\n      x2: panelRange ? panelRange.br.x : 0,\n      y2: 0\n    }, style);\n\n    this._addLineShape(attrs, 'X');\n  };\n\n  Crosshair.prototype._renderVerticalLine = function (canvas, panelRange) {\n    // todo\n    var style = Util.mix(this.get('lineStyle'), this.get('style'));\n    var attrs = Util.mix({\n      x1: 0,\n      y1: panelRange ? panelRange.bl.y : canvas.get('height'),\n      x2: 0,\n      y2: panelRange ? panelRange.tl.y : 0\n    }, style);\n\n    this._addLineShape(attrs, 'Y');\n  };\n\n  Crosshair.prototype._renderBackground = function (canvas, panelRange) {\n    var style = Util.mix(this.get('rectStyle'), this.get('style'));\n    var container = this.get('container');\n    var attrs = Util.mix({\n      x: panelRange ? panelRange.tl.x : 0,\n      y: panelRange ? panelRange.tl.y : canvas.get('height'),\n      width: panelRange ? panelRange.br.x - panelRange.bl.x : canvas.get('width'),\n      height: panelRange ? Math.abs(panelRange.tl.y - panelRange.bl.y) : canvas.get('height')\n    }, style);\n    var shape = container.addShape('rect', {\n      attrs: attrs,\n      capture: false\n    }); // shape.hide();\n\n    this.set('crosshairsRectShape', shape);\n    return shape;\n  };\n\n  Crosshair.prototype._updateRectShape = function (items) {\n    var offset;\n    var crosshairsRectShape = this.get('crosshairsRectShape');\n    var isTransposed = this.get('isTransposed');\n    var firstItem = items[0];\n    var lastItem = items[items.length - 1];\n    var dim = isTransposed ? 'y' : 'x';\n    var attr = isTransposed ? 'height' : 'width';\n    var startDim = firstItem[dim];\n\n    if (items.length > 1 && firstItem[dim] > lastItem[dim]) {\n      startDim = lastItem[dim];\n    }\n\n    if (this.get('width')) {\n      // 用户定义了 width\n      crosshairsRectShape.attr(dim, startDim - this.get('crosshairs').width / 2);\n      crosshairsRectShape.attr(attr, this.get('width'));\n    } else {\n      if (Util.isArray(firstItem.point[dim]) && !firstItem.size) {\n        // 直方图\n        var width = firstItem.point[dim][1] - firstItem.point[dim][0];\n        crosshairsRectShape.attr(dim, firstItem.point[dim][0]);\n        crosshairsRectShape.attr(attr, width);\n      } else {\n        offset = 3 * firstItem.size / 4;\n        crosshairsRectShape.attr(dim, startDim - offset);\n\n        if (items.length === 1) {\n          crosshairsRectShape.attr(attr, 3 * firstItem.size / 2);\n        } else {\n          crosshairsRectShape.attr(attr, Math.abs(lastItem[dim] - firstItem[dim]) + 2 * offset);\n        }\n      }\n    }\n  };\n\n  Crosshair.prototype.render = function () {\n    var canvas = this.get('canvas');\n    var panelRange = this.get('panelRange');\n    var isTransposed = this.get('isTransposed');\n    this.clear();\n\n    switch (this.get('type')) {\n      case 'x':\n        this._renderHorizontalLine(canvas, panelRange);\n\n        break;\n\n      case 'y':\n        this._renderVerticalLine(canvas, panelRange);\n\n        break;\n\n      case 'cross':\n        this._renderHorizontalLine(canvas, panelRange);\n\n        this._renderVerticalLine(canvas, panelRange);\n\n        break;\n\n      case 'rect':\n        this._renderBackground(canvas, panelRange);\n\n        break;\n\n      default:\n        isTransposed ? this._renderHorizontalLine(canvas, panelRange) : this._renderVerticalLine(canvas, panelRange);\n    }\n  };\n\n  Crosshair.prototype.show = function () {\n    var container = this.get('container'); // super.show();\n\n    container.show();\n  };\n\n  Crosshair.prototype.hide = function () {\n    var container = this.get('container'); // super.hide();\n\n    container.hide();\n  };\n\n  Crosshair.prototype.clear = function () {\n    var container = this.get('container');\n    this.set('crossLineShapeX', null);\n    this.set('crossLineShapeY', null);\n    this.set('crosshairsRectShape', null); // super.clear();\n\n    container.clear();\n  };\n\n  Crosshair.prototype.destroy = function () {\n    var container = this.get('container');\n\n    _super.prototype.destroy.call(this);\n\n    container.remove();\n  };\n\n  Crosshair.prototype.setPosition = function (x, y, items) {\n    var crossLineShapeX = this.get('crossLineShapeX');\n    var crossLineShapeY = this.get('crossLineShapeY');\n    var crosshairsRectShape = this.get('crosshairsRectShape');\n\n    if (crossLineShapeY && !crossLineShapeY.get('destroyed')) {\n      // 第一次进入时，画布需要单独绘制，所以需要先设定corss的位置\n      crossLineShapeY.move(x, 0);\n    }\n\n    if (crossLineShapeX && !crossLineShapeX.get('destroyed')) {\n      crossLineShapeX.move(0, y);\n    }\n\n    if (crosshairsRectShape && !crosshairsRectShape.get('destroyed')) {\n      this._updateRectShape(items);\n    }\n  };\n\n  return Crosshair;\n}(Guide);\n\nexport default Crosshair;","export var FONT_FAMILY = '\"-apple-system\", ' + '\"BlinkMacSystemFont\", ' + '\"Segoe UI\", ' + 'Roboto, ' + '\"Helvetica Neue\", ' + 'Helvetica, ' + '\"PingFang SC\", ' + '\"Hiragino Sans GB\", ' + '\"Microsoft YaHei\", ' + 'SimSun, ' + '\"sans-serif\"';","var GAP = 20;\nexport function defaultPosition(x, y, position, containerWidth, containerHeight, target) {\n  var newx = x;\n  var newy = y; // todo any 是 Shape\n\n  var rectWidth = 0;\n  var rectHeight = 0;\n  var gap = 20;\n\n  if (target) {\n    var rect = target.getBBox();\n    rectWidth = rect.width;\n    rectHeight = rect.height;\n    newx = rect.x;\n    newy = rect.y;\n    gap = 5;\n  }\n\n  switch (position) {\n    case 'inside':\n      newx = newx + rectWidth / 2 - containerWidth / 2;\n      newy = newy + rectHeight / 2 - containerHeight / 2;\n      break;\n\n    case 'top':\n      newx = newx + rectWidth / 2 - containerWidth / 2;\n      newy = newy - containerHeight - gap;\n      break;\n\n    case 'left':\n      newx = newx - containerWidth - gap;\n      newy = newy + rectHeight / 2 - containerHeight / 2;\n      break;\n\n    case 'right':\n      newx = newx + rectWidth + gap;\n      newy = newy + rectHeight / 2 - containerHeight / 2;\n      break;\n\n    case 'bottom':\n    default:\n      newx = newx + rectWidth / 2 - containerWidth / 2;\n      newy = newy + rectHeight + gap;\n      break;\n  }\n\n  return [newx, newy];\n}\nexport function constraintPositionInBoundary(x, y, width, height, viewWidth, viewHeight) {\n  var newx = x;\n  var newy = y;\n\n  if (newx + width + GAP > viewWidth) {\n    newx -= width + GAP;\n    newx = newx < 0 ? 0 : newx;\n  } else if (newx + GAP < 0) {\n    newx = GAP;\n  } else {\n    newx += GAP;\n  }\n\n  if (newy + height + GAP > viewHeight) {\n    newy -= height + GAP;\n    newy = newy < 0 ? 0 : newy;\n  } else if (newy + GAP < 0) {\n    newy = GAP;\n  } else {\n    newy += GAP;\n  }\n\n  return [newx, newy];\n}\nexport function constraintPositionInPanel(x, y, width, height, panelRange, onlyHorizontal) {\n  var newx = x;\n  var newy = y;\n\n  if (newx + width > panelRange.tr.x) {\n    newx -= width + 2 * GAP;\n  }\n\n  if (newx < panelRange.tl.x) {\n    newx = panelRange.tl.x;\n  }\n\n  if (!onlyHorizontal) {\n    if (newy + height > panelRange.bl.y) {\n      newy -= height + 2 * GAP;\n    }\n\n    if (newy < panelRange.tl.y) {\n      newy = panelRange.tl.y;\n    }\n  }\n\n  return [newx, newy];\n}","import { __assign, __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport * as Util from '@antv/util';\nimport Tooltip from './base';\nimport Crosshair from './crosshair';\nimport TooltipTheme from './theme';\nimport { constraintPositionInBoundary, constraintPositionInPanel, defaultPosition } from './util/position';\nvar CONTAINER_CLASS = 'g2-tooltip';\nvar TITLE_CLASS = 'g2-tooltip-title';\nvar LIST_CLASS = 'g2-tooltip-list';\nvar MARKER_CLASS = 'g2-tooltip-marker';\nvar VALUE_CLASS = 'g2-tooltip-value';\nvar LIST_ITEM_CLASS = 'g2-tooltip-list-item';\n\nvar find = function find(dom, cls) {\n  return dom.getElementsByClassName(cls)[0];\n};\n\nvar mergeStyles = function mergeStyles(styles, cfg) {\n  // todo\n  Object.keys(styles).forEach(function (k) {\n    if (cfg[k]) {\n      styles[k] = Util.mix(styles[k], cfg[k]);\n    }\n  });\n  return styles;\n};\n\nvar HtmlTooltip =\n/** @class */\nfunction (_super) {\n  __extends(HtmlTooltip, _super);\n\n  function HtmlTooltip(cfg) {\n    var _this = _super.call(this, __assign({\n      /**\n       * tooltip 容器模板\n       * @type {String}\n       */\n      containerTpl: \"<div class=\\\"\" + CONTAINER_CLASS + \"\\\">\\n        <div class=\\\"\" + TITLE_CLASS + \"\\\"></div>\\n        <ul class=\\\"\" + LIST_CLASS + \"\\\"></ul>\\n        </div>\",\n\n      /**\n       * tooltip 列表项模板\n       * @type {String}\n       */\n      itemTpl: \"<li data-index={index}>\\n        <span style=\\\"background-color:{color};\\\" class=\\\"\" + MARKER_CLASS + \"\\\"></span>\\n        {name}<span class=\\\"\" + VALUE_CLASS + \"\\\">{value}</span></li>\",\n\n      /**\n       * tooltip html内容\n       * @type {String}\n       */\n      htmlContent: null,\n\n      /**\n       * tooltip 内容跟随鼠标移动\n       * @type {Boolean}\n       */\n      follow: true,\n\n      /**\n       * 是否允许鼠标停留在 tooltip 上，默认不允许\n       * @type {Boolean}\n       */\n      enterable: false\n    }, cfg)) || this;\n\n    var style = TooltipTheme;\n    _this.style = mergeStyles(style, cfg);\n\n    _this._init_();\n\n    if (_this.get('items')) {\n      _this.render();\n    } // crosshair\n\n\n    var crosshair = _this.get('crosshairs');\n\n    if (crosshair) {\n      var plot = crosshair.type === 'rect' ? _this.get('backgroundGroup') : _this.get('frontgroundGroup');\n      var crosshairGroup = new Crosshair(Util.mix({\n        plot: plot,\n        panelRange: _this.get('panelRange'),\n        canvas: _this.get('canvas')\n      }, _this.get('crosshairs')));\n      crosshairGroup.hide();\n\n      _this.set('crosshairGroup', crosshairGroup);\n    }\n\n    return _this;\n  }\n\n  HtmlTooltip.prototype._init_ = function () {\n    var containerTpl = this.get('containerTpl');\n    var outterNode = this.get('canvas').get('el').parentNode;\n    var container;\n\n    if (!this.get('htmlContent')) {\n      if (/^\\#/.test(containerTpl)) {\n        // 如果传入 dom 节点的 id\n        var id = containerTpl.replace('#', '');\n        container = document.getElementById(id);\n      } else {\n        container = domUtil.createDom(containerTpl);\n      }\n    } else {\n      container = this._getHtmlContent();\n    }\n\n    this.set('container', container);\n    domUtil.modifyCSS(container, this.style[CONTAINER_CLASS]);\n    outterNode.appendChild(container);\n    outterNode.style.position = 'relative';\n  };\n\n  HtmlTooltip.prototype.render = function () {\n    this.clear();\n\n    if (this.get('htmlContent')) {\n      var outterNode = this.get('canvas').get('el').parentNode;\n\n      var container = this._getHtmlContent();\n\n      outterNode.appendChild(container);\n      domUtil.modifyCSS(container, this.style[CONTAINER_CLASS]);\n      this.set('container', container);\n    } else {\n      this._renderTpl();\n    }\n  };\n\n  HtmlTooltip.prototype._renderTpl = function () {\n    var _this = this;\n\n    var showTitle = this.get('showTitle');\n    var titleContent = this.get('titleContent');\n    var container = this.get('container');\n    var titleDom = find(container, TITLE_CLASS);\n    var listDom = find(container, LIST_CLASS);\n    var items = this.get('items');\n\n    if (titleDom && showTitle) {\n      domUtil.modifyCSS(titleDom, this.style[TITLE_CLASS]);\n      titleDom.innerHTML = titleContent;\n    }\n\n    if (listDom) {\n      domUtil.modifyCSS(listDom, this.style[LIST_CLASS]);\n      Util.each(items, function (item, index) {\n        listDom.appendChild(_this._addItem(item, index));\n      });\n    }\n  };\n\n  HtmlTooltip.prototype.clear = function () {\n    var container = this.get('container');\n\n    if (container && this.get('htmlContent')) {\n      container.remove();\n    } else {\n      var titleDom = find(container, TITLE_CLASS);\n      var listDom = find(container, LIST_CLASS);\n\n      if (titleDom) {\n        titleDom.innerHTML = '';\n      }\n\n      if (listDom) {\n        listDom.innerHTML = '';\n      }\n    }\n  };\n\n  HtmlTooltip.prototype.show = function () {\n    var container = this.get('container');\n    container.style.visibility = 'visible';\n    container.style.display = 'block';\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.show();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.show();\n    }\n\n    _super.prototype.show.call(this);\n\n    this.get('canvas').draw();\n  };\n\n  HtmlTooltip.prototype.hide = function () {\n    var container = this.get('container');\n    container.style.visibility = 'hidden';\n    container.style.display = 'none';\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.hide();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.hide();\n    }\n\n    _super.prototype.hide.call(this);\n\n    this.get('canvas').draw();\n  };\n\n  HtmlTooltip.prototype.destroy = function () {\n    var container = this.get('container');\n    var containerTpl = this.get('containerTpl');\n\n    if (container && !/^\\#/.test(containerTpl)) {\n      container.parentNode.removeChild(container);\n    }\n\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.destroy();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.remove();\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  HtmlTooltip.prototype._addItem = function (item, index) {\n    var itemTpl = this.get('itemTpl'); // TODO: 有可能是个回调函数\n\n    var itemDiv = Util.substitute(itemTpl, Util.mix( // @ts-ignore\n    {\n      // @ts-ignore\n      index: index\n    }, item));\n    var itemDOM = domUtil.createDom(itemDiv);\n    domUtil.modifyCSS(itemDOM, this.style[LIST_ITEM_CLASS]);\n    var markerDom = find(itemDOM, MARKER_CLASS);\n\n    if (markerDom) {\n      domUtil.modifyCSS(markerDom, this.style[MARKER_CLASS]);\n    }\n\n    var valueDom = find(itemDOM, VALUE_CLASS);\n\n    if (valueDom) {\n      domUtil.modifyCSS(valueDom, this.style[VALUE_CLASS]);\n    }\n\n    return itemDOM;\n  };\n\n  HtmlTooltip.prototype._getHtmlContent = function () {\n    var htmlContent = this.get('htmlContent');\n    var title = this.get('titleContent');\n    var items = this.get('items');\n    var html = htmlContent(title, items);\n    var ele;\n\n    if (Util.isElement(html)) {\n      ele = html;\n    } else {\n      ele = domUtil.createDom(html);\n    }\n\n    return ele;\n  };\n\n  HtmlTooltip.prototype.setPosition = function (oldx, oldy, target) {\n    // todo any 是 Shape\n    var x = oldx;\n    var y = oldy;\n    var container = this.get('container');\n    var outterNode = this.get('canvas').get('el');\n    var viewWidth = domUtil.getWidth(outterNode);\n    var viewHeight = domUtil.getHeight(outterNode);\n    var containerWidth = container.clientWidth;\n    var containerHeight = container.clientHeight;\n    var endx = x;\n    var endy = y;\n    var position;\n    var prePosition = this.get('prePosition') || {\n      x: 0,\n      y: 0\n    }; // @2019-01-30 by blue.lb 由于display:none的元素获取clientWidth和clientHeight的值为0，这里强制显隐一下，其实直接在show和hide中去掉display设置最好，猜测为了更好的兼容浏览器\n\n    if (!containerWidth) {\n      container.style.display = 'block';\n      containerWidth = container.clientWidth;\n      containerHeight = container.clientHeight;\n      container.style.display = 'none';\n    }\n\n    if (this.get('enterable')) {\n      y = y - container.clientHeight / 2;\n      position = [x, y];\n\n      if (prePosition && x - prePosition.x > 0) {\n        // 留 1px 防止鼠标点击事件无法在画布上触发\n        x -= container.clientWidth + 1;\n      } else {\n        x += 1;\n      }\n    } else if (this.get('position')) {\n      position = defaultPosition(x, y, this.get('position'), containerWidth, containerHeight, target);\n      x = position[0];\n      y = position[1];\n    } else {\n      position = constraintPositionInBoundary(x, y, containerWidth, containerHeight, viewWidth, viewHeight);\n      x = position[0];\n      y = position[1];\n    }\n\n    if (this.get('inPanel')) {\n      // tooltip 必须限制在绘图区域内\n      var panelRange = this.get('panelRange');\n      var panelGroup = this.get('panelGroup');\n      var panelClip = panelGroup.attr('clip');\n      position = constraintPositionInPanel(x, y, containerWidth, containerHeight, panelClip ? panelClip.getBBox() : panelRange, this.get('enterable'));\n      x = position[0];\n      y = position[1];\n    }\n\n    var markerItems = this.get('markerItems');\n\n    if (!Util.isEmpty(markerItems)) {\n      endx = markerItems[0].x;\n      endy = markerItems[0].y;\n    }\n\n    this.set('prePosition', position); // 记录上次的位置\n\n    var follow = this.get('follow');\n\n    if (follow) {\n      container.style.left = x + \"px\";\n      container.style.top = y + \"px\";\n    }\n\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      var items = this.get('items');\n      crosshairGroup.setPosition(endx, endy, items);\n    }\n\n    _super.prototype.setPosition.call(this, x, y);\n  };\n\n  return HtmlTooltip;\n}(Tooltip);\n\nexport default HtmlTooltip;","import { __assign, __extends } from \"tslib\"; // @ts-ignore // todo 等 g ready 好后再去掉这行 ignore\n\nimport * as domUtil from '@antv/dom-util';\nimport * as G from '@antv/g';\nimport { transform } from '@antv/matrix-util';\nimport * as Util from '@antv/util';\nimport { FONT_FAMILY } from '../const';\nimport Tooltip from './base';\nimport Crosshair from './crosshair';\nimport { constraintPositionInBoundary, constraintPositionInPanel, defaultPosition } from './util/position';\n\nvar CanvasTooltip =\n/** @class */\nfunction (_super) {\n  __extends(CanvasTooltip, _super);\n\n  function CanvasTooltip(cfg) {\n    var _this = _super.call(this, __assign({\n      /**\n       * 默认背景板样式\n       * @type {Object}\n       */\n      backgroundStyle: {\n        x: 0,\n        y: 0,\n        width: 100,\n        height: 100,\n        fill: 'rgba(255, 255, 255, 0.9)',\n        radius: 4,\n        stroke: '#e2e2e2',\n        lineWidth: 1\n      },\n\n      /**\n       * 默认title样式\n       * @type {Object}\n       */\n      titleStyle: {\n        fontFamily: FONT_FAMILY,\n        text: '',\n        textBaseline: 'top',\n        fontSize: 12,\n        fill: 'rgb(87, 87, 87)',\n        lineHeight: 20,\n        padding: 20\n      },\n\n      /**\n       * 默认marker样式\n       * @type {Object}\n       */\n      markerStyle: {\n        radius: 4\n      },\n\n      /**\n       * 默认name样式\n       * @type {Object}\n       */\n      nameStyle: {\n        fontFamily: FONT_FAMILY,\n        fontSize: 12,\n        fill: 'rgb(87, 87, 87)',\n        textBaseline: 'middle',\n        textAlign: 'start',\n        padding: 8\n      },\n\n      /**\n       * 默认value样式\n       * @type {Object}\n       */\n      valueStyle: {\n        fontFamily: FONT_FAMILY,\n        fontSize: 12,\n        fill: 'rgb(87, 87, 87)',\n        textBaseline: 'middle',\n        textAlign: 'start',\n        padding: 30\n      },\n\n      /**\n       * 默认padding值\n       * @type {Object}\n       */\n      padding: {\n        top: 20,\n        right: 20,\n        bottom: 20,\n        left: 20\n      },\n\n      /**\n       * 默认item之间的gap\n       * @type {Number}\n       */\n      itemGap: 10,\n\n      /**\n       * 默认tooltip位置移动动画的时长\n       * @type {Number}\n       */\n      animationDuration: 200\n    }, cfg)) || this; // crosshair\n\n\n    var crosshair = _this.get('crosshairs');\n\n    if (crosshair) {\n      var plot = _this.get('frontgroundGroup');\n\n      var crosshairGroup = new Crosshair(Util.mix({\n        plot: plot,\n        panelRange: _this.get('panelRange'),\n        canvas: _this.get('canvas')\n      }, _this.get('crosshairs')));\n      crosshairGroup.hide();\n\n      _this.set('crosshairGroup', crosshairGroup);\n    }\n\n    _this._init_();\n\n    if (_this.get('items')) {\n      _this.render();\n    }\n\n    return _this;\n  }\n\n  CanvasTooltip.prototype._init_ = function () {\n    var padding = this.get('padding');\n    var parent = this.get('frontgroundGroup'); // marker group\n\n    var markerGroup = parent.addGroup({\n      capture: false\n    });\n    this.set('markerGroup', markerGroup); // container\n\n    var container = parent.addGroup();\n    container.hide();\n    this.set('container', container); // board\n\n    var board = container.addShape('rect', {\n      attrs: Util.mix({}, this.get('backgroundStyle'))\n    });\n    this.set('board', board); // title\n\n    var titleStyle = this.get('titleStyle');\n\n    if (this.get('showTitle')) {\n      var titleShape = container.addShape('text', {\n        attrs: Util.mix({\n          x: padding.left,\n          y: padding.top\n        }, titleStyle)\n      });\n      this.set('titleShape', titleShape);\n      titleShape.name = 'tooltip-title';\n    } // items\n\n\n    var itemsGroup = container.addGroup();\n    itemsGroup.move(padding.left, padding.top + titleStyle.lineHeight + titleStyle.padding);\n    this.set('itemsGroup', itemsGroup);\n  };\n\n  CanvasTooltip.prototype.render = function () {\n    var _this = this;\n\n    this.clear();\n    var container = this.get('container');\n    var board = this.get('board');\n    var showTitle = this.get('showTitle');\n    var titleContent = this.get('titleContent');\n    var titleShape = this.get('titleShape');\n    var itemsGroup = this.get('itemsGroup');\n    var items = this.get('items');\n    var padding = this.get('padding');\n\n    if (titleShape && showTitle) {\n      titleShape.attr('text', titleContent);\n    }\n\n    var itemGap = this.get('itemGap');\n    var x = 0;\n    var y = 0;\n    Util.each(items, function (item) {\n      var itemGroup = _this._addItem(item);\n\n      itemGroup.move(x, y);\n      itemsGroup.add(itemGroup);\n      var itemHeight = itemGroup.getBBox().height;\n      y += itemHeight + itemGap;\n    }); // update board based on bbox\n\n    var bbox = container.getBBox();\n    var width = bbox.width + padding.right;\n    var height = bbox.height + padding.bottom;\n    board.attr('width', width);\n    board.attr('height', height); // align value text to right\n\n    this._alignToRight(width);\n  };\n\n  CanvasTooltip.prototype.clear = function () {\n    var titleShape = this.get('titleShape');\n    var itemsGroup = this.get('itemsGroup');\n    var board = this.get('board');\n\n    if (titleShape) {\n      titleShape.text = '';\n    }\n\n    itemsGroup.clear();\n    board.attr('width', 0);\n    board.attr('height', 0);\n  };\n\n  CanvasTooltip.prototype.show = function () {\n    var container = this.get('container');\n    container.show();\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.show();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.show();\n    }\n\n    _super.prototype.show.call(this);\n\n    this.get('canvas').draw();\n  };\n\n  CanvasTooltip.prototype.hide = function () {\n    var container = this.get('container');\n    container.hide();\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.hide();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.hide();\n    }\n\n    _super.prototype.hide.call(this);\n\n    this.get('canvas').draw();\n  };\n\n  CanvasTooltip.prototype.destroy = function () {\n    var container = this.get('container');\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.destroy();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.remove();\n    }\n\n    _super.prototype.destroy.call(this);\n\n    container.remove();\n  };\n\n  CanvasTooltip.prototype.setPosition = function (oldx, oldy, target) {\n    // todo\n    var x = oldx;\n    var y = oldy;\n    var container = this.get('container');\n    var outterNode = this.get('canvas').get('el');\n    var viewWidth = domUtil.getWidth(outterNode);\n    var viewHeight = domUtil.getHeight(outterNode);\n    var bbox = container.getBBox();\n    var containerWidth = bbox.width;\n    var containerHeight = bbox.height;\n    var endx = x;\n    var endy = y;\n    var position;\n\n    if (this.get('position')) {\n      position = defaultPosition(x, y, this.get('position'), containerWidth, containerHeight, target);\n      x = position[0];\n      y = position[1];\n    } else {\n      position = constraintPositionInBoundary(x, y, containerWidth, containerHeight, viewWidth, viewHeight);\n      x = position[0];\n      y = position[1];\n    }\n\n    if (this.get('inPanel')) {\n      // tooltip 必须限制在绘图区域内\n      var panelRange = this.get('panelRange');\n      var panelGroup = this.get('panelGroup');\n      var panelClip = panelGroup.attr('clip');\n      position = constraintPositionInPanel(x, y, containerWidth, containerHeight, panelClip ? panelClip.getBBox() : panelRange, this.get('enterable'));\n      x = position[0];\n      y = position[1];\n    }\n\n    var markerItems = this.get('markerItems');\n\n    if (!Util.isEmpty(markerItems)) {\n      endx = markerItems[0].x;\n      endy = markerItems[0].y;\n    }\n\n    var ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    var mat = transform(ulMatrix, [['t', x, y]]);\n    container.stopAnimate();\n    container.animate({\n      matrix: mat\n    }, this.get('animationDuration'));\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      var items = this.get('items');\n      crosshairGroup.setPosition(endx, endy, items);\n    }\n\n    _super.prototype.setPosition.call(this, x, y);\n  };\n\n  CanvasTooltip.prototype._addItem = function (item) {\n    var group = new G.Group();\n    var markerRadius = this.get('markerStyle').radius; // marker\n\n    if (item.marker) {\n      // @ts-ignore\n      var markerAttrs = Util.mix({}, item.marker, {\n        x: item.marker.radius / 2,\n        y: 0\n      });\n      group.addShape('marker', {\n        attrs: markerAttrs\n      });\n      markerRadius = item.marker.radius;\n    } // name\n\n\n    var nameStyle = this.get('nameStyle');\n    group.addShape('text', {\n      attrs: Util.mix({\n        x: markerRadius + nameStyle.padding,\n        y: 0,\n        text: item.name\n      }, nameStyle)\n    }); // value\n\n    var valueStyle = this.get('valueStyle');\n    group.addShape('text', {\n      attrs: Util.mix({\n        x: group.getBBox().width + valueStyle.padding,\n        y: 0,\n        text: item.value\n      }, valueStyle)\n    });\n    return group;\n  };\n\n  CanvasTooltip.prototype._alignToRight = function (width) {\n    var _this = this;\n\n    var itemsGroup = this.get('itemsGroup');\n    var groups = itemsGroup.get('children');\n    Util.each(groups, function (g) {\n      // todo\n      var children = g.get('children');\n      var valueText = children[2];\n\n      if (valueText) {\n        var w = valueText.getBBox().width;\n        var x = width - w - _this.get('padding').right * 2;\n        valueText.attr('x', x);\n      }\n    });\n  };\n\n  return CanvasTooltip;\n}(Tooltip);\n\nexport default CanvasTooltip;","import { each, clone } from '@antv/util';\nimport mat3 from './mat3';\nexport default (function (m, ts) {\n  // 上层使用时会传入为 null 的 matrix，此时按照单位矩阵处理\n  var matrix = m ? clone(m) : [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  each(ts, function (t) {\n    switch (t[0]) {\n      case 't':\n        mat3.translate(matrix, matrix, [t[1], t[2]]);\n        break;\n\n      case 's':\n        mat3.scale(matrix, matrix, [t[1], t[2]]);\n        break;\n\n      case 'r':\n        mat3.rotate(matrix, matrix, t[1]);\n        break;\n\n      case 'm':\n        mat3.multiply(matrix, matrix, t[1]);\n        break;\n\n      default:\n        return false;\n    }\n  });\n  return matrix;\n});","/**\n * @description 坐标轴组件的主题样式\n */\nimport { FONT_FAMILY } from '../const';\nexport default {\n  title: {\n    textStyle: {\n      fontSize: 12,\n      fill: '#595959',\n      textBaseline: 'middle',\n      fontFamily: FONT_FAMILY,\n      textAlign: 'center'\n    },\n    offset: 20\n  },\n  label: {\n    textStyle: {\n      fontSize: 12,\n      fill: '#ccc',\n      textBaseline: 'middle',\n      fontFamily: FONT_FAMILY\n    },\n    offset: 10,\n    offsetX: 0,\n    offsetY: 0\n  },\n  grid: {\n    lineWidth: 1,\n    stroke: '#C0D0E0'\n  }\n};","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport Guide from '../base';\nimport Label from '../label/base';\nimport Theme from './theme';\n\nvar Axis =\n/** @class */\nfunction (_super) {\n  __extends(Axis, _super);\n\n  function Axis(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'base',\n      id: null,\n      line: {\n        lineWidth: 1,\n        stroke: '#C0D0E0'\n      },\n      tickLine: {\n        lineWidth: 1,\n        stroke: '#C0D0E0',\n        length: 5\n      },\n      subTickCount: 0,\n      subTickLine: null,\n      grid: null,\n      label: null,\n      title: null,\n      autoRotateLabel: true,\n      autoHideLabel: false,\n      autoRotateTitle: true,\n      gridType: 'line',\n      ticks: [],\n      labelItems: [],\n      gridPoints: []\n    }, cfg)) || this;\n\n    _this._processTicks();\n\n    return _this;\n  }\n\n  Axis.prototype.render = function () {\n    var grid = this.get('grid');\n    grid && this._renderGrid(); // 渲染坐标轴网格线\n\n    var line = this.get('line');\n    line && this._renderLine(); // 渲染坐标轴线\n\n    var tickLine = this.get('tickLine');\n    tickLine && this._renderTicks(); // 渲染坐标轴刻度线\n\n    var label = this.get('label');\n    label && this._renderLabels(); // 渲染坐标轴文本\n\n    var title = this.get('title');\n\n    if (title) {\n      // 渲染坐标轴标题\n      this.set('title', Util.deepMix({}, Theme.title, this.get('title')));\n      this.renderTitle();\n    }\n  };\n\n  Axis.prototype.destroy = function () {\n    if (!this.destroyed) {\n      _super.prototype.destroy.call(this);\n\n      var gridGroup = this.get('gridGroup');\n      gridGroup && gridGroup.remove();\n      var labelRenderer = this.get('labelRenderer');\n      labelRenderer && labelRenderer.destroy();\n      var group = this.get('group');\n      group.destroy();\n      this.destroyed = true;\n    }\n  };\n\n  Axis.prototype.clear = function () {\n    var group = this.get('group');\n\n    if (!group.get('destroyed') && group.get('children').length) {\n      var gridGroup = this.get('gridGroup');\n      gridGroup && gridGroup.clear();\n      var labelRenderer = this.get('labelRenderer');\n      labelRenderer && labelRenderer.clear(); // 再飞 mark: 这样就会将所有的 axis 实例中创建的 shapes 和 groups 清空\n      // 按照正常的逻辑，应该只负责清空当前实例创建的 shaps 和 groups\n\n      this.get('group').clear();\n    }\n  };\n  /**\n   * 解析 tick 文本\n   * @param tick tick 文本值\n   * @param index tick 对应的索引值\n   * @param length 所有 tick 的总长度\n   */\n\n\n  Axis.prototype.parseTick = function (tick, index, length) {\n    return {\n      text: tick,\n      value: index / (length - 1)\n    };\n  };\n  /**\n   * 添加 labelItems\n   * @param tick 坐标轴刻度信息\n   * @param point 位置点信息\n   * @param index 对应的索引值\n   * @param tickCount 全部坐标轴刻度的个数\n   */\n\n\n  Axis.prototype.addLabel = function (tick, point, index, tickCount) {\n    var theme = this.get('theme') || {};\n    var label = this.get('label');\n    var labelCfg = label;\n\n    if (Util.isFunction(labelCfg)) {\n      // 如果用户定义的 label 属性是回调函数\n      var executedLabel = label(tick.text, index, tickCount);\n      labelCfg = executedLabel ? Util.deepMix({}, theme.label, executedLabel) : null;\n    }\n\n    if (labelCfg) {\n      labelCfg = Util.deepMix({\n        text: tick.text\n      }, Theme.label, labelCfg); // 支持formatter配置\n\n      if (labelCfg.formatter) {\n        labelCfg.text = labelCfg.formatter(tick.text, index, tickCount);\n      }\n\n      var vector = this.getSideVector(labelCfg.offset, point, index);\n      var newPoint = {\n        x: point.x + vector[0] + labelCfg.offsetX,\n        y: point.y + vector[1] + labelCfg.offsetY\n      };\n      labelCfg.x = newPoint.x;\n      labelCfg.y = newPoint.y;\n      labelCfg.point = newPoint;\n\n      if (!Util.isNil(point.rotate)) {\n        labelCfg.rotate = point.rotate;\n      }\n\n      if (!Util.isNil(labelCfg.rotate)) {\n        labelCfg.textAlign = labelCfg.rotate % 180 === 0 ? 'center' : labelCfg.rotate > 0 ? labelCfg.rotate % 360 < 180 ? 'left' : 'right' : labelCfg.rotate % 360 > -180 ? 'right' : 'left';\n        var offset = -6 * Math.abs(Math.sin(labelCfg.rotate * Math.PI / 180));\n        labelCfg.y += offset;\n        labelCfg.point.y += offset;\n      } else {\n        labelCfg.textAlign = this.getTextAnchor(vector);\n      }\n\n      if (labelCfg.useHtml) {\n        labelCfg.text = labelCfg.htmlTemplate; // TODO: 是否直接在 text 中定义 html 模板？\n      }\n\n      this.get('labelItems').push(labelCfg);\n    }\n  };\n  /**\n   * 根据向量值获取文本的对齐方式\n   * @param vector 文本的向量值\n   */\n\n\n  Axis.prototype.getTextAnchor = function (vector) {\n    var ratio = Math.abs(vector[1] / vector[0]);\n\n    if (ratio >= 1) {\n      // 上面或者下面\n      return 'center';\n    }\n\n    if (vector[0] > 0) {\n      // 右侧\n      return 'start';\n    }\n\n    return 'end'; // 左侧\n  };\n\n  Axis.prototype.getMaxLabelWidthOrHeight = function (labelRenderer, property) {\n    var labels = labelRenderer.getLabels();\n    var max = 0;\n    Util.each(labels, function (label) {\n      var bbox = label.getBBox();\n      var value = bbox[property];\n\n      if (max < value) {\n        max = value;\n      }\n    });\n    return max;\n  };\n  /**\n   * 自动旋转文本\n   * @override\n   */\n\n\n  Axis.prototype.autoRotateLabels = function () {};\n  /**\n   * 文本自动防遮罩\n   * @override\n   */\n\n\n  Axis.prototype.autoHideLabels = function () {};\n  /**\n   * 渲染标题\n   * @override\n   */\n\n\n  Axis.prototype.renderTitle = function () {}; // 渲染坐标轴线\n\n\n  Axis.prototype._renderLine = function () {\n    var path = this.getLinePath();\n\n    var lineCfg = __assign({\n      path: path\n    }, this.get('line'));\n\n    var group = this.get('group'); // 获取容器\n\n    var lineShape = group.addShape('path', {\n      attrs: lineCfg,\n      zIndex: 1\n    });\n    lineShape.name = 'axis-line';\n    this.get('appendInfo') && lineShape.setSilent('appendInfo', this.get('appendInfo'));\n    this.set('lineShape', lineShape);\n  }; // 渲染坐标轴线\n\n\n  Axis.prototype._renderTicks = function () {\n    var tickLineCfg = this.get('tickLine');\n    var tickItems = this.get('tickItems');\n    var subTickItems = this.get('subTickItems');\n\n    if (tickItems && tickItems.length) {\n      this._addTickLine(tickItems, tickLineCfg);\n    }\n\n    if (subTickItems && subTickItems.length) {\n      var subTickLineCfg = this.get('subTickLine') || tickLineCfg;\n\n      this._addTickLine(subTickItems, subTickLineCfg);\n    }\n  };\n\n  Axis.prototype._renderGrid = function () {\n    var _this = this;\n\n    var coord = this.get('coord');\n    var appendInfo = this.get('appendInfo');\n    var group = this.get('group');\n    var gridPoints = this.get('gridPoints');\n    var grid = this.get('grid');\n    var gridType = this.get('gridType');\n    var theme = this.get('theme') || {};\n    var ticks = this.get('ticks');\n    var count = gridPoints.length;\n    var gridGroup = group.addGroup({\n      class: 'axis-grid',\n      zIndex: 0\n    }); // 这边也可以用 gridGroup.setZIndex(0); 但在顶上直接管理好声明的顺序更好一点\n    // 最好不要用 gridGroup.toBack(); toBack 适合 zIndex 相同的 silbings 排序\n\n    this.set('gridGroup', gridGroup); // 渲染网格线\n\n    var gridCfg = grid;\n    Util.each(gridPoints, function (subPoints, index) {\n      if (Util.isFunction(grid)) {\n        // grid 是回调函数\n        var tick = ticks[index];\n        var executedGrid = tick && grid(tick.text, index, count);\n        gridCfg = executedGrid ? Util.mix({}, theme.grid, executedGrid) : null;\n      }\n\n      if (gridCfg) {\n        var points = subPoints.points;\n        var path_1 = [];\n\n        if (gridType === 'arc') {\n          // 弧形\n          Util.each(points, function (point, idx) {\n            var radius = point.radius,\n                x = point.x,\n                y = point.y,\n                flag = point.flag;\n\n            if (idx === 0) {\n              path_1.push(['M', x, y]);\n            } else {\n              path_1.push(['A', radius, radius, 0, 0, flag, x, y]);\n            }\n          });\n        } else {\n          Util.each(points, function (point, idx) {\n            var x = point.x,\n                y = point.y;\n\n            if (idx === 0) {\n              path_1.push(['M', x, y]);\n            } else {\n              path_1.push(['L', x, y]);\n            }\n          });\n        }\n\n        var gridLineShape = gridGroup.addShape('path', {\n          attrs: Util.mix({\n            path: path_1\n          }, Theme.grid, gridCfg)\n        });\n        gridLineShape.name = 'axis-grid';\n        gridLineShape.id = subPoints.id;\n        gridLineShape.set('coord', coord);\n        appendInfo && gridLineShape.setSilent('appendInfo', gridLineShape);\n      }\n    }); // 用户设置了网格的交替填充色\n\n    var gridAlternateColor = this.get('gridAlternateColor');\n\n    if (gridAlternateColor) {\n      var preItem_1;\n      Util.each(gridPoints, function (item, index) {\n        if (preItem_1) {\n          _this._drawAlternativeBg(item, preItem_1, index);\n        }\n\n        preItem_1 = item;\n      });\n    }\n  };\n\n  Axis.prototype._renderLabels = function () {\n    var group = this.get('group');\n    var labelRenderer = new Label({\n      name: 'axis-label'\n    });\n    labelRenderer.set('coord', this.get('coord'));\n    labelRenderer.set('group', group.addGroup({\n      class: 'axis-labels'\n    }));\n    labelRenderer.set('canvas', this.get('canvas'));\n    labelRenderer.set('items', this.get('labelItems'));\n    labelRenderer.draw(false);\n    this.set('labelRenderer', labelRenderer);\n\n    if (this.get('autoRotateLabel')) {\n      this.autoRotateLabels();\n    }\n\n    if (this.get('autoHideLabel')) {\n      this.autoHideLabels();\n    }\n  }; // 生成 ticks\n\n\n  Axis.prototype._processTicks = function () {\n    var _this = this;\n\n    var labelCfg = this.get('label');\n    var subTickCount = this.get('subTickCount');\n    var tickLineCfg = this.get('tickLine');\n\n    var ticks = this._parseTicks(this.get('ticks'));\n\n    var tickCount = ticks.length;\n    Util.each(ticks, function (tick, index) {\n      var tickPoint = _this.getTickPoint(tick.value, index);\n\n      if (tickLineCfg) {\n        _this._addTickItem(index, tickPoint, tickLineCfg.length);\n      }\n\n      if (labelCfg) {\n        _this.addLabel(tick, tickPoint, index, tickCount);\n      }\n    });\n\n    if (subTickCount) {\n      // 如果有设置次级分点，添加次级tick\n      var subTickLineCfg_1 = this.get('subTickLine');\n      Util.each(ticks, function (tick, index) {\n        if (index > 0) {\n          var diff = tick.value - ticks[index - 1].value;\n          diff = diff / (_this.get('subTickCount') + 1);\n\n          for (var i = 1; i <= subTickCount; i++) {\n            var subTick = {\n              text: '',\n              value: index ? ticks[index - 1].value + i * diff : i * diff\n            };\n\n            var tickPoint = _this.getTickPoint(subTick.value);\n\n            var subTickLength = void 0;\n\n            if (subTickLineCfg_1 && subTickLineCfg_1.length) {\n              subTickLength = subTickLineCfg_1.length;\n            } else {\n              subTickLength = Math.floor(tickLineCfg.length * (3 / 5));\n            }\n\n            _this._addTickItem(i - 1, tickPoint, subTickLength, 'sub');\n          }\n        }\n      });\n    }\n  };\n\n  Axis.prototype._parseTicks = function (ticks) {\n    if (ticks === void 0) {\n      ticks = [];\n    }\n\n    var ticksLength = ticks.length;\n\n    for (var i = 0; i < ticksLength; i++) {\n      var item = ticks[i];\n\n      if (!Util.isObject(item)) {\n        ticks[i] = this.parseTick(item, i, ticksLength);\n      }\n    }\n\n    this.set('ticks', ticks);\n    return ticks;\n  };\n\n  Axis.prototype._addTickItem = function (index, point, length, type) {\n    if (type === void 0) {\n      type = '';\n    }\n\n    var tickItems = this.get('tickItems') || [];\n    var subTickItems = this.get('subTickItems') || [];\n    var end = this.getTickEnd(point, length, index);\n    var cfg = {\n      x1: point.x,\n      y1: point.y,\n      x2: end.x,\n      y2: end.y\n    };\n\n    if (type === 'sub') {\n      subTickItems.push(cfg);\n    } else {\n      tickItems.push(cfg);\n    }\n\n    this.set('tickItems', tickItems);\n    this.set('subTickItems', subTickItems);\n  };\n\n  Axis.prototype._addTickLine = function (ticks, lineCfg) {\n    var cfg = Util.mix({}, lineCfg);\n    var path = [];\n    Util.each(ticks, function (item) {\n      path.push(['M', item.x1, item.y1]);\n      path.push(['L', item.x2, item.y2]);\n    });\n    delete cfg.length;\n    cfg.path = path;\n    var group = this.get('group');\n    var tickShape = group.addShape('path', {\n      attrs: cfg,\n      zIndex: 1\n    });\n    tickShape.name = 'axis-ticks';\n    tickShape.id = this.get('id') + \"-ticks\";\n    tickShape.set('coord', this.get('coord'));\n    this.get('appendInfo') && tickShape.setSilent('appendInfo', this.get('appendInfo'));\n  }; // Grid 的背景层绘制逻辑\n\n\n  Axis.prototype._drawAlternativeBg = function (item, preItem, index) {\n    var alternateColor = this.get('gridAlternateColor');\n    var attrs;\n    var oddColor;\n    var evenColor;\n\n    if (Util.isString(alternateColor)) {\n      oddColor = alternateColor;\n    } else if (Util.isArray(alternateColor)) {\n      oddColor = alternateColor[0];\n      evenColor = alternateColor[1];\n    }\n\n    if (index % 2 === 0) {\n      if (evenColor) {\n        attrs = this._getBackItem(preItem.points, item.points, evenColor);\n      }\n    } else if (oddColor) {\n      attrs = this._getBackItem(preItem.points, item.points, oddColor);\n    }\n\n    var gridGroup = this.get('gridGroup');\n    var shape = gridGroup.addShape('Path', {\n      attrs: attrs\n    });\n    shape.name = 'axis-grid-rect'; // TODO： 需要区分 -rect 吗？还是统一叫做 axis-grid\n\n    shape.id = item.id && item.id.replace('grid', 'grid-rect');\n    shape.set('coord', this.get('coord'));\n    this.get('appendInfo') && shape.setSilent('appendInfo', this.get('appendInfo'));\n  };\n\n  Axis.prototype._getBackItem = function (start, end, bgColor) {\n    var path = [];\n    var gridType = this.get('gridType');\n\n    if (gridType === 'arc') {\n      Util.each(start, function (subItem, index) {\n        var x = subItem.x,\n            y = subItem.y,\n            radius = subItem.radius,\n            flag = subItem.flag;\n\n        if (index === 0) {\n          path.push(['M', x, y]);\n        } else {\n          path.push(['A', radius, radius, 0, 0, flag, x, y]);\n        }\n      });\n\n      for (var j = end.length - 1; j >= 0; j--) {\n        var endSubItem = end[j];\n        var x = endSubItem.x,\n            y = endSubItem.y,\n            radius = endSubItem.radius,\n            flag = endSubItem.flag;\n\n        if (j === end.length - 1) {\n          path.push(['M', x, y]);\n        } else {\n          path.push(['A', radius, radius, 0, 0, flag === 1 ? 0 : 1, x, y]);\n        }\n      }\n    } else {\n      Util.each(start, function (subItem, index) {\n        var x = subItem.x,\n            y = subItem.y;\n\n        if (index === 0) {\n          path.push(['M', x, y]);\n        } else {\n          path.push(['L', x, y]);\n        }\n      });\n\n      for (var i = end.length - 1; i >= 0; i--) {\n        path.push(['L', end[i].x, end[i].y]);\n      }\n\n      path.push(['Z']);\n    }\n\n    return {\n      fill: bgColor,\n      path: path\n    };\n  };\n\n  return Axis;\n}(Guide);\n\nexport default Axis;","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport { vec2 } from '@antv/matrix-util';\nimport Axis from './base';\n\nvar Circle =\n/** @class */\nfunction (_super) {\n  __extends(Circle, _super);\n\n  function Circle(cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    return _super.call(this, __assign({\n      type: 'circle',\n      startAngle: -Math.PI / 2,\n      endAngle: Math.PI * 3 / 2\n    }, cfg)) || this;\n  }\n\n  Circle.prototype.parseTick = function (tick, index, length) {\n    return {\n      text: tick,\n      value: index / length\n    };\n  };\n\n  Circle.prototype.getTickPoint = function (value) {\n    var startAngle = this.get('startAngle');\n    var endAngle = this.get('endAngle');\n    var angle = startAngle + (endAngle - startAngle) * value;\n    return this._getCirclePoint(angle);\n  };\n\n  Circle.prototype.getSideVector = function (offset, point) {\n    var center = this.get('center');\n    var vector = [point.x - center.x, point.y - center.y];\n\n    if (!Util.isNil(offset)) {\n      var vecLen = vec2.length(vector);\n      vec2.scale(vector, vector, offset / vecLen);\n    }\n\n    return vector;\n  };\n\n  Circle.prototype.getSidePoint = function (point, offset) {\n    var vector = this.getSideVector(offset, point);\n    return {\n      x: point.x + vector[0],\n      y: point.y + vector[1]\n    };\n  };\n\n  Circle.prototype.getTickEnd = function (start, length) {\n    var tickLine = this.get('tickLine');\n    var len = !Util.isNil(length) ? length : tickLine.length;\n    return this.getSidePoint(start, len);\n  };\n\n  Circle.prototype.getTextAnchor = function (vector) {\n    var align;\n\n    if (Util.isNumberEqual(vector[0], 0)) {\n      align = 'center';\n    } else if (vector[0] > 0) {\n      align = 'left';\n    } else if (vector[0] < 0) {\n      align = 'right';\n    }\n\n    return align;\n  };\n\n  Circle.prototype.getLinePath = function () {\n    var center = this.get('center');\n    var x = center.x,\n        y = center.y;\n    var rx = this.get('radius');\n    var ry = rx;\n    var startAngle = this.get('startAngle');\n    var endAngle = this.get('endAngle');\n    var inner = this.get('inner');\n    var path = [];\n\n    if (Math.abs(endAngle - startAngle) === Math.PI * 2) {\n      path = [['M', x, y], ['m', 0, -ry], ['a', rx, ry, 0, 1, 1, 0, 2 * ry], ['a', rx, ry, 0, 1, 1, 0, -2 * ry], ['z']];\n    } else {\n      var startPoint = this._getCirclePoint(startAngle);\n\n      var endPoint = this._getCirclePoint(endAngle);\n\n      var large = Math.abs(endAngle - startAngle) > Math.PI ? 1 : 0;\n      var sweep = startAngle > endAngle ? 0 : 1;\n\n      if (!inner) {\n        path = [['M', x, y], ['L', startPoint.x, startPoint.y], ['A', rx, ry, 0, large, sweep, endPoint.x, endPoint.y], ['L', x, y]];\n      } else {\n        var innerStartVector = this.getSideVector(inner * rx, startPoint);\n        var innerEndVector = this.getSideVector(inner * rx, endPoint);\n        var innerStartPoint = {\n          x: innerStartVector[0] + x,\n          y: innerStartVector[1] + y\n        };\n        var innerEndPoint = {\n          x: innerEndVector[0] + x,\n          y: innerEndVector[1] + y\n        };\n        path = [['M', innerStartPoint.x, innerStartPoint.y], ['L', startPoint.x, startPoint.y], ['A', rx, ry, 0, large, sweep, endPoint.x, endPoint.y], ['L', innerEndPoint.x, innerEndPoint.y], ['A', rx * inner, ry * inner, 0, large, Math.abs(sweep - 1), innerStartPoint.x, innerStartPoint.y]];\n      }\n    }\n\n    return path;\n  };\n\n  Circle.prototype.addLabel = function (tick, point, index, tickCount) {\n    var offset = Util.get(this.get('label'), 'offset', 5);\n    var p = this.getSidePoint(point, offset);\n\n    _super.prototype.addLabel.call(this, tick, p, index, tickCount);\n  };\n\n  Circle.prototype.autoRotateLabels = function () {\n    var ticks = this.get('ticks');\n    var labelRenderer = this.get('labelRenderer');\n\n    if (labelRenderer && ticks.length > 12) {\n      // 小于12个文本时文本不旋转\n      var radius = this.get('radius');\n      var startAngle_1 = this.get('startAngle');\n      var endAngle = this.get('endAngle');\n      var totalAngle_1 = endAngle - startAngle_1;\n      var avgAngle = totalAngle_1 / (ticks.length - 1);\n      var avgWidth_1 = Math.sin(avgAngle / 2) * radius * 2;\n      var maxLength_1 = this.getMaxLabelWidthOrHeight(labelRenderer, 'width');\n      Util.each(labelRenderer.getLabels(), function (label, index) {\n        var tick = ticks[index];\n        var angle = tick.value * totalAngle_1 + startAngle_1;\n        var mode = angle % (Math.PI * 2);\n\n        if (maxLength_1 < avgWidth_1) {\n          // 文本的最大宽度大于\n          if (mode <= 0) {\n            angle = angle + Math.PI;\n          }\n\n          if (mode > Math.PI) {\n            angle = angle - Math.PI;\n          }\n\n          angle = angle - Math.PI / 2;\n          label.attr('textAlign', 'center');\n        } else {\n          if (mode > Math.PI / 2) {\n            angle = angle - Math.PI;\n          } else if (mode < Math.PI / 2 * -1) {\n            angle = angle + Math.PI;\n          }\n        }\n\n        label.rotateAtStart(angle);\n      });\n    }\n  };\n\n  Circle.prototype._getCirclePoint = function (angle, radius) {\n    if (radius === void 0) {\n      radius = 0;\n    }\n\n    var center = this.get('center');\n    var r = radius || this.get('radius');\n    return {\n      x: center.x + Math.cos(angle) * r,\n      y: center.y + Math.sin(angle) * r\n    };\n  };\n\n  return Circle;\n}(Axis);\n\nexport default Circle;","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport * as pathUtil from '@antv/path-util';\nimport { vec2 } from '@antv/matrix-util';\nimport Axis from './base';\n\nvar Helix =\n/** @class */\nfunction (_super) {\n  __extends(Helix, _super);\n\n  function Helix(cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    return _super.call(this, __assign({\n      type: 'helix',\n      startAngle: 1.25 * Math.PI,\n      endAngle: 7.25 * Math.PI,\n      inner: 0,\n      a: 0,\n      center: null,\n      axisStart: null,\n      crp: []\n    }, cfg)) || this;\n  }\n\n  Helix.prototype.getLinePath = function () {\n    var crp = this.get('crp');\n    var axisStart = this.get('axisStart');\n    var path = pathUtil.catmullRom2Bezier(crp);\n    path.unshift(['M', axisStart.x, axisStart.y]);\n    return path;\n  };\n\n  Helix.prototype.getTickPoint = function (value) {\n    var startAngle = this.get('startAngle');\n    var endAngle = this.get('endAngle');\n    var angle = startAngle + (endAngle - startAngle) * value;\n    return this._getHelixPoint(angle);\n  };\n\n  Helix.prototype.getSideVector = function (offset, point) {\n    var center = this.get('center');\n    var vector = [point.x - center.x, point.y - center.y];\n\n    if (!Util.isNil(offset)) {\n      var vecLen = vec2.length(vector);\n      vec2.scale(vector, vector, offset / vecLen);\n    }\n\n    return vector;\n  };\n\n  Helix.prototype.getSidePoint = function (point, offset) {\n    var vector = this.getSideVector(offset, point);\n    return {\n      x: point.x + vector[0],\n      y: point.y + vector[1]\n    };\n  };\n\n  Helix.prototype.getTickEnd = function (start, length) {\n    var tickLine = this.get('tickLine');\n    var len = length ? length : tickLine.length;\n    return this.getSidePoint(start, len);\n  };\n\n  Helix.prototype._getHelixPoint = function (angle) {\n    var center = this.get('center');\n    var a = this.get('a'); // 螺线系数\n\n    var radius = a * angle + this.get('inner'); // 螺线方程\n\n    return {\n      x: center.x + Math.cos(angle) * radius,\n      y: center.y + Math.sin(angle) * radius\n    };\n  };\n\n  return Helix;\n}(Axis);\n\nexport default Helix;","import { __assign, __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport * as Util from '@antv/util';\nimport Axis from './base';\nvar AUTO_ROTATE_DEGREES = [0, -45, -90];\n\nvar Line =\n/** @class */\nfunction (_super) {\n  __extends(Line, _super);\n\n  function Line(cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    return _super.call(this, __assign({\n      type: 'line',\n      x: null,\n      y: null,\n      isVertical: false,\n      start: null,\n      end: null\n    }, cfg)) || this;\n  }\n  /**\n   * 获取距离坐标轴的向量\n   * @override\n   * @param  {Number} offset 偏移值\n   * @return {Array}        返回二维向量\n   */\n\n\n  Line.prototype.getSideVector = function (offset) {\n    var isVertical = this.get('isVertical');\n    var factor = this.get('factor'); // if (Util.isArray(offset)) {\n    //   return offset.map(value => value * factor);\n    // }\n\n    if (!Util.isNumber(offset)) {\n      return [0, 0];\n    }\n\n    var start = this.get('start');\n    var end = this.get('end');\n    var axisVector = this.getAxisVector();\n    var normal = vec2.normalize([], axisVector);\n    var direction = false;\n\n    if (isVertical && start.y < end.y || !isVertical && start.x > end.x) {\n      direction = true;\n    }\n\n    var verticalVector = vec2.vertical([], normal, direction);\n    return vec2.scale([], verticalVector, offset * factor);\n  };\n\n  Line.prototype.getAxisVector = function () {\n    var start = this.get('start');\n    var end = this.get('end');\n    return [end.x - start.x, end.y - start.y];\n  };\n\n  Line.prototype.getLinePath = function () {\n    var start = this.get('start');\n    var end = this.get('end');\n    return [['M', start.x, start.y], ['L', end.x, end.y]];\n  };\n\n  Line.prototype.getTickEnd = function (start, value) {\n    var offsetVector = this.getSideVector(value);\n    return {\n      x: start.x + offsetVector[0],\n      y: start.y + offsetVector[1]\n    };\n  };\n\n  Line.prototype.getTickPoint = function (tickValue) {\n    var start = this.get('start');\n    var end = this.get('end');\n    var rangeX = end.x - start.x;\n    var rangeY = end.y - start.y;\n    return {\n      x: start.x + rangeX * tickValue,\n      y: start.y + rangeY * tickValue\n    };\n  };\n\n  Line.prototype.renderTitle = function () {\n    var title = this.get('title');\n    var label = this.get('label');\n    var rotate = Util.get(label, 'rotate');\n    var autoRotateTitle = this.get('autoRotateTitle');\n    var offsetPoint = this.getTickPoint(0.5);\n    var titleOffset = title.offset ? title.offset : 20; // if (Util.isNil(titleOffset)) { // 没有指定 offset 则自动计算\n\n    var labelRenderer = this.get('labelRenderer');\n\n    if (labelRenderer) {\n      var position = this.get('position');\n      var property = position === 'bottom' || position === 'top' ? 'height' : 'width';\n      var labelLength = this.getMaxLabelWidthOrHeight(labelRenderer, property);\n\n      if (this.get('autoRotateLabel')) {\n        var angle = this.getAutoRotateAngle();\n\n        if (angle) {\n          labelLength = this.getOffsetByRotateAngle(angle);\n        }\n      }\n\n      if (rotate) {\n        labelLength = this.getOffsetByRotateAngle(rotate * Math.PI / 180);\n      }\n\n      var labelOffset = Util.get(this.get('label'), 'offset', 5);\n      titleOffset += labelLength + labelOffset;\n    } // }\n\n\n    var textStyle = title.textStyle;\n    var cfg = Util.mix({}, textStyle);\n\n    if (title.text) {\n      var vector = this.getAxisVector(); // 坐标轴方向的向量\n\n      if (autoRotateTitle && Util.isNil(title.rotate)) {\n        // 自动旋转并且用户没有设置 title.rotate\n        var angle = 0;\n\n        if (!Util.isNumberEqual(vector[1], 0)) {\n          // 所有水平坐标轴，文本不转置\n          var v1 = [1, 0];\n          var v2 = [vector[0], vector[1]];\n          angle = vec2.angleTo(v2, v1, true);\n        }\n\n        cfg.rotate = angle * (180 / Math.PI);\n      } else if (!Util.isNil(title.rotate)) {\n        // 用户设置了旋转角度就以用户设置的为准\n        cfg.rotate = title.rotate / 180 * Math.PI; // 将角度转换为弧度\n      }\n\n      var sideVector = this.getSideVector(titleOffset);\n      var point = void 0;\n      var position = title.position;\n\n      if (position === 'start') {\n        point = {\n          x: this.get('start').x + sideVector[0],\n          y: this.get('start').y + sideVector[1]\n        };\n      } else if (position === 'end') {\n        point = {\n          x: this.get('end').x + sideVector[0],\n          y: this.get('end').y + sideVector[1]\n        };\n      } else {\n        point = {\n          x: offsetPoint.x + sideVector[0],\n          y: offsetPoint.y + sideVector[1]\n        };\n      }\n\n      cfg.x = point.x;\n      cfg.y = point.y;\n      cfg.text = title.text;\n      var group = this.get('group');\n      var titleShape = group.addShape('Text', {\n        zIndex: 2,\n        attrs: cfg\n      });\n      titleShape.name = 'axis-title';\n      this.get('appendInfo') && titleShape.setSilent('appendInfo', this.get('appendInfo'));\n    }\n  };\n\n  Line.prototype.autoRotateLabels = function () {\n    var labelRenderer = this.get('labelRenderer');\n\n    if (labelRenderer) {\n      var labels = labelRenderer.getLabels();\n      var vector = this.getAxisVector(); // 坐标轴的向量，仅处理水平或者垂直的场景\n\n      var angle_1 = this.getAutoRotateAngle();\n\n      if (angle_1) {\n        this.set('autoRotateAngle', angle_1);\n        var offsetY_1 = -6 * Math.abs(Math.sin(angle_1)); // const offsetY = (this.getMaxLabelWidthOrHeight(labelRenderer, 'width') * Math.abs(Math.sin(angle))) / 2;\n\n        var textAlign_1 = angle_1 % Math.PI === 0 ? 'center' : angle_1 > 0 ? angle_1 % (Math.PI * 2) < Math.PI ? 'left' : 'right' : angle_1 % (Math.PI * 2) > -Math.PI ? 'right' : 'left';\n        Util.each(labels, function (label) {\n          label.attr('textAlign', textAlign_1);\n          label.rotateAtStart(angle_1);\n          label.attr('y', label.attr('y') + offsetY_1);\n        });\n      }\n    }\n  };\n\n  Line.prototype.autoHideLabels = function () {\n    var labelRenderer = this.get('labelRenderer');\n    var labelSpace;\n    var tickStep;\n    var append = 8;\n\n    if (labelRenderer) {\n      var ticks = this.get('tickItems');\n      var labels_1 = labelRenderer.getLabels();\n      var vector = this.getAxisVector(); // 坐标轴的向量，仅处理水平或者垂直的场景\n\n      if (labels_1.length < 2) {\n        return;\n      }\n\n      if (Util.isNumberEqual(vector[0], 0)) {\n        // 坐标轴垂直\n        var maxHeight = this.getMaxLabelWidthOrHeight(labelRenderer, 'height') + append;\n        var avgHeight = Math.abs(this._getAvgLabelHeightSpace(labelRenderer));\n\n        if (maxHeight > avgHeight) {\n          labelSpace = maxHeight;\n          tickStep = avgHeight;\n        }\n      } else if (Util.isNumberEqual(vector[1], 0) && labels_1.length > 1) {\n        // 坐标轴水平\n        var maxWidth = this.getMaxLabelWidthOrHeight(labelRenderer, 'width') + append;\n        var avgWidth = Math.abs(this._getAvgLabelLength(labelRenderer));\n\n        if (maxWidth > avgWidth) {\n          labelSpace = maxWidth;\n          tickStep = avgWidth;\n        }\n      }\n\n      if (labelSpace && tickStep) {\n        var ratio_1 = Math.ceil(labelSpace / tickStep);\n        Util.each(labels_1, function (label, i) {\n          if (i % ratio_1 !== 0) {\n            label.set('visible', false);\n            label.attr('text', '');\n          }\n        });\n\n        if (ticks) {\n          var visibleTicks = Util.filter(ticks, function (tick, idx) {\n            return labels_1[idx].get('visible');\n          });\n\n          if (Util.size(visibleTicks) > 0) {\n            this.set('tickItems', visibleTicks);\n            Util.remove(this.get('group').get('children'), function (s) {\n              return s.name === 'axis-ticks';\n            });\n\n            this._renderTicks();\n          }\n        }\n      }\n    }\n  };\n\n  Line.prototype.getAutoRotateAngleByAvgWidth = function (avgWidth) {\n    var autoRotate = this.get('autoRotateLabel');\n    var labelRenderer = this.get('labelRenderer');\n    var title = this.get('title');\n    var angle;\n\n    if (labelRenderer) {\n      var labels = labelRenderer.getLabels();\n      var offset = this.get('label').offset;\n      var append = 12;\n      var titleOffset = title && title.offset ? title.offset : 20;\n\n      if (titleOffset < 0) {\n        // 如果是负的的话就不旋转\n        return;\n      }\n\n      var vector = this.getAxisVector(); // 坐标轴的向量，仅处理水平或者垂直的场景\n\n      var maxWidth = void 0;\n      var maxHeight = void 0;\n\n      if (Util.isNumberEqual(vector[0], 0) && title && title.text) {\n        // 坐标轴垂直，由于不知道边距，只能防止跟title重合，如果title不存在，则不自动旋转\n        maxWidth = this.getMaxLabelWidthOrHeight(labelRenderer, 'width');\n\n        if (maxWidth > titleOffset - offset - append) {\n          angle = Math.acos((titleOffset - offset - append) / maxWidth) * -1;\n        }\n      } else if (Util.isNumberEqual(vector[1], 0) && labels.length > 1) {\n        // 坐标轴水平，不考虑边距，根据最长的和平均值进行翻转\n        maxWidth = this.getMaxLabelWidthOrHeight(labelRenderer, 'width');\n        maxHeight = this.getMaxLabelWidthOrHeight(labelRenderer, 'height');\n\n        if (maxWidth > avgWidth) {\n          var degrees = Util.isArray(autoRotate) ? autoRotate : AUTO_ROTATE_DEGREES;\n\n          for (var _i = 0, degrees_1 = degrees; _i < degrees_1.length; _i++) {\n            var degree = degrees_1[_i];\n            angle = degree * Math.PI / 180;\n\n            if (avgWidth * Math.abs(Math.sin(angle)) > maxHeight + 4) {\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    return angle;\n  };\n\n  Line.prototype.getOffsetByRotateAngle = function (angle) {\n    var labelRenderer = this.get('labelRenderer');\n    var position = this.get('position');\n    var property = position === 'bottom' || position === 'top' ? 'height' : 'width';\n    var labelLength = this.getMaxLabelWidthOrHeight(labelRenderer, property);\n    return angle ? Math.max(labelLength, this.getMaxLabelWidthOrHeight(labelRenderer, 'width') * Math.abs(Math.sin(angle))) : labelLength;\n  };\n\n  Line.prototype._getAvgLabelLength = function (labelRenderer) {\n    var labels = labelRenderer.getLabels();\n    return labels[1].attr('x') - labels[0].attr('x');\n  };\n\n  Line.prototype._getAvgLabelHeightSpace = function (labelRenderer) {\n    var labels = labelRenderer.getLabels();\n    return labels[1].attr('y') - labels[0].attr('y');\n  };\n\n  Line.prototype.getAutoRotateAngle = function () {\n    var labelRenderer = this.get('labelRenderer');\n    var labels = labelRenderer.getLabels();\n\n    if (!labels || labels.length < 2) {\n      return;\n    }\n\n    var avgWidth = Math.abs(this._getAvgLabelLength(labelRenderer));\n    return this.getAutoRotateAngleByAvgWidth(avgWidth);\n  };\n\n  return Line;\n}(Axis);\n\nexport default Line;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Guide from '../base';\n\nvar Legend =\n/** @class */\nfunction (_super) {\n  __extends(Legend, _super);\n\n  function Legend(cfg) {\n    var _this = _super.call(this, __assign({\n      /**\n       * 图例类型\n       */\n      type: 'base',\n\n      /**\n       * 图例标题\n       */\n      title: null,\n\n      /**\n       * 图例项集合\n       */\n      items: null,\n\n      /**\n       * 图例文本显示格式化回调函数\n       */\n      formatter: null,\n\n      /**\n       * 图例整体在 X 轴方向的偏移量\n       */\n      offsetX: 0,\n\n      /**\n       * 图例整体在 Y 轴方向上的偏移量\n       */\n      offsetY: 0\n    }, cfg)) || this;\n\n    _this.init();\n\n    _this.render();\n\n    _this.bindEvents();\n\n    return _this;\n  }\n  /**\n   * 渲染图例内容\n   */\n\n\n  Legend.prototype.render = function () {\n    this.renderTitle(); // 渲染标题\n\n    this.renderItems(); // 渲染图例项\n  };\n  /**\n   * @override\n   * 获取图例的宽度\n   */\n\n\n  Legend.prototype.getWidth = function () {\n    var container = this.get('container');\n    var bbox = container.getBBox();\n    return bbox.width;\n  };\n  /**\n   * @override\n   * 获取图例的高度\n   */\n\n\n  Legend.prototype.getHeight = function () {\n    var container = this.get('container');\n    var bbox = container.getBBox();\n    return bbox.height;\n  };\n  /**\n   * @override\n   * 获取图例BBox\n   */\n\n\n  Legend.prototype.getBBox = function () {\n    return this.get('container').getBBox();\n  };\n  /**\n   * @override\n   * 将图例移动至 (x, y）坐标点位置\n   * @param x x 坐标\n   * @param y y 坐标\n   */\n\n\n  Legend.prototype.moveTo = function (x, y) {\n    var container = this.get('container');\n    container.move(x, y);\n    this.set('x', x);\n    this.set('y', y);\n  };\n  /**\n   * 绘制图例\n   */\n\n\n  Legend.prototype.draw = function () {\n    this.get('canvas').draw();\n  };\n  /* 格式化 legend 显示数据 */\n\n\n  Legend.prototype.formatterValue = function (v) {\n    var formatter = this.get('formatter') || _.identity;\n\n    return formatter.call(this, v);\n  };\n\n  return Legend;\n}(Guide);\n\nexport default Legend;","// 滑块的宽度，高度 = 宽度 * 2\nimport { FONT_FAMILY } from '../../../const';\nexport var SLIDER_WIDTH = 8;\nexport var SLIDER_HEIGHT = SLIDER_WIDTH * 2;\nexport var SLIDER_CIRCLE_MAX_SIZE = SLIDER_HEIGHT * 2;\nexport var TEXT_OFFSET = 4;\nexport var SliderBtnStyle = {\n  fill: '#fff',\n  // shadowOffsetX: -2,\n  // shadowOffsetY: 2,\n  shadowBlur: 10,\n  shadowColor: 'rgba(0,0,0,0.65)',\n  radius: 2\n};\nexport var SliderTextStyle = {\n  fill: '#333',\n  textAlign: 'center',\n  textBaseline: 'middle',\n  stroke: '#fff',\n  lineWidth: 5,\n  fontFamily: FONT_FAMILY\n};\nexport var SliderMiddleBackgroundStyle = {\n  fill: '#D9D9D9'\n};\nexport var SliderMiddleFrontendStyle = {\n  fill: 'rgb(64, 141, 251)'\n};\nexport var DefaultTitleStyle = {\n  fill: '#333',\n  textBaseline: 'top',\n  textAlign: 'start',\n  fontFamily: FONT_FAMILY\n};","import { __assign, __extends } from \"tslib\";\nimport { Group } from '@antv/g';\nimport * as domUtil from '@antv/dom-util';\nimport { SLIDER_CIRCLE_MAX_SIZE, SLIDER_WIDTH, SLIDER_HEIGHT, SliderBtnStyle } from '../constant';\n/**\n * 滑动条的逻辑\n *\n * 滑动条包括几个部分：\n * - 滑动条背景\n * - 小滑块区域（滑块 + 文本）\n * - 大滑块区域（滑块 + 文本\n * - 中间滑动区域（左右滑块中间可以滑动选中的区域）\n * - 鼠标 hover 提示文本（暂时不处理）\n *\n * 其中 min，max，range 的创建内置掉，仅有外部的布局（v，h）、类型（rect、circle）影响\n */\n\nvar Slider =\n/** @class */\nfunction (_super) {\n  __extends(Slider, _super);\n\n  function Slider(cfg) {\n    var _this = _super.call(this) || this; // 拖拽过程中，更新 slider 状态位置\n\n\n    _this.onMouseMove = function (e) {\n      var clientX = e.clientX,\n          clientY = e.clientY;\n\n      _this.updateSliderStatus(clientX, clientY);\n    }; // 拖拽结束，清除事件\n\n\n    _this.onMouseUp = function () {\n      // 走到这里，理论上一定会存在方法\n      if (_this.clearAllEvents) {\n        _this.clearAllEvents();\n      }\n\n      _this.currentTarget = undefined;\n    }; // cfg 属性全部存储到 this 上，而不是存储到 cfg 中！\n\n\n    var layout = cfg.layout,\n        sliderType = cfg.sliderType,\n        sliderSize = cfg.sliderSize,\n        operational = cfg.operational,\n        width = cfg.width,\n        height = cfg.height,\n        textStyle = cfg.textStyle,\n        min = cfg.min,\n        max = cfg.max,\n        range = cfg.range,\n        formatter = cfg.formatter;\n    _this.layout = layout;\n    _this.sliderType = sliderType;\n\n    var _a = sliderSize || [],\n        _b = _a[0],\n        w = _b === void 0 ? SLIDER_WIDTH : _b,\n        _c = _a[1],\n        h = _c === void 0 ? SLIDER_HEIGHT : _c;\n\n    _this.sliderSize = [w, h];\n    _this.operational = operational;\n    _this.width = width;\n    _this.height = height;\n    _this.min = min;\n    _this.max = max;\n    _this.range = range;\n    _this.textStyle = textStyle;\n    _this.formatter = formatter; // 创建初始的内容\n\n    _this.initialSlider();\n\n    return _this;\n  }\n  /**\n   * 外部设置 background\n   * @param bg\n   */\n\n\n  Slider.prototype.setBackground = function (bg) {\n    // 如果已经存在，那么先移除\n    if (this.backgroundGroup) {\n      // this.remove(true);\n      // this.backgroundGroup.remove(true);\n      // this.removeChild(this.backgroundGroup, true);\n      this.backgroundGroup.destroy();\n    }\n\n    var group = bg.group,\n        background = bg.background,\n        frontend = bg.frontend; // 然后添加\n\n    this.backgroundGroup = group;\n    this.backgroundGroup.set('zIndex', 0);\n\n    if (this.operational && this.rangeSliderShape && frontend) {\n      frontend.attr('clip', this.rangeSliderShape); // this.add(this.rangeSliderShape);\n    }\n\n    this.add(this.backgroundGroup);\n    this.sort();\n  };\n  /**\n   * 滚动条布局，是否为横向\n   * true  横向\n   * false 纵向\n   */\n\n\n  Slider.prototype.isHorizontal = function () {\n    return this.layout === 'horizontal';\n  };\n  /**\n   * 初始化滑块\n   * 在配置完滑块的背景之后，挑用初始化方法来初始化 slider\n   */\n\n\n  Slider.prototype.initialSlider = function () {\n    if (this.operational) {\n      this.rangeSliderShape = this.createRangeSliderShape();\n      this.rangeSliderShape.set('zIndex', 1);\n      this.minSliderGroup = this.createMinSliderGroup();\n      this.minSliderGroup.set('zIndex', 2);\n      this.maxSliderGroup = this.createMaxSliderGroup();\n      this.maxSliderGroup.set('zIndex', 2);\n      var _a = this.range,\n          min = _a[0],\n          max = _a[1]; // 使用默认的 range 范围渲染 UI\n\n      this.renderUIWithRange(min, max);\n    } // 绑定事件\n\n\n    this.bindEvent();\n  };\n  /* 滑块 hover 的鼠标样式 */\n\n\n  Slider.prototype.getSliderCursor = function () {\n    return this.isHorizontal() ? 'ew-resize' : 'ns-resize';\n  };\n  /* 小滑块的区域样式 */\n\n\n  Slider.prototype.createMinSliderGroup = function () {\n    var group = this.addGroup();\n    this.minSliderShape = this.createSliderButton(group, true);\n    this.minTextShape = this.createSliderText(group, true);\n    return group;\n  };\n  /* 大滑块的区域样式 */\n\n\n  Slider.prototype.createMaxSliderGroup = function () {\n    var group = this.addGroup();\n    this.maxSliderShape = this.createSliderButton(group, false);\n    this.maxTextShape = this.createSliderText(group, false);\n    return group;\n  };\n  /* 拖动两个滑块 button 中间，可以滑动整体 */\n\n\n  Slider.prototype.createRangeSliderShape = function () {\n    return this.addShape('rect', {\n      attrs: {\n        fill: '#fff',\n        fillOpacity: 0,\n        cursor: 'move'\n      }\n    });\n  };\n  /* rect 的属性信息 */\n\n\n  Slider.prototype.getRectButtonAttribute = function (isMin) {\n    var _a = this.sliderSize,\n        sliderWidth = _a[0],\n        sliderHeight = _a[1]; // 前提，滑块的高度是宽度的一半\n\n    if (this.isHorizontal()) {\n      return {\n        x: isMin ? -sliderWidth : 0,\n        y: this.height / 2 - sliderHeight / 2,\n        width: sliderWidth,\n        height: sliderHeight\n      };\n    }\n\n    return {\n      x: this.width / 2 - sliderHeight / 2,\n      y: isMin ? 0 : -sliderWidth,\n      width: sliderHeight,\n      height: sliderWidth\n    };\n  };\n\n  Slider.prototype.getCircleButtonAttribute = function (isMin) {\n    // circle 坐标系为圆心\n    if (this.isHorizontal()) {\n      return {\n        x: 0,\n        y: this.height / 2,\n        r: SLIDER_CIRCLE_MAX_SIZE / 2\n      };\n    }\n\n    return {\n      x: this.width / 2,\n      y: 0,\n      r: SLIDER_CIRCLE_MAX_SIZE / 2\n    };\n  };\n  /**\n   * 创建滑块\n   * @param group\n   * @param isMin 是小滑块还是大滑块\n   */\n\n\n  Slider.prototype.createSliderButton = function (group, isMin) {\n    var buttonAttr = this.sliderType === 'rect' ? this.getRectButtonAttribute(isMin) : this.sliderType === 'circle' ? this.getCircleButtonAttribute(isMin) : {}; // 不同的 slider 滑块\n\n    var buttonAttribute = __assign(__assign(__assign({}, buttonAttr), SliderBtnStyle), {\n      cursor: this.getSliderCursor()\n    });\n\n    return group.addShape(this.sliderType, {\n      attrs: buttonAttribute\n    });\n  };\n\n  Slider.prototype.getRectTextAttribute = function (isMin) {\n    var _a = this.sliderSize,\n        sliderWidth = _a[0],\n        sliderHeight = _a[1];\n    return this.isHorizontal() ? {\n      // text 文本值\n      x: isMin ? -sliderWidth / 2 : sliderWidth / 2,\n      y: this.height / 2 + sliderHeight / 2 + 4,\n      textAlign: 'center',\n      textBaseline: 'top'\n    } : {\n      x: this.width / 2 + sliderHeight / 2 + 4,\n      y: isMin ? sliderWidth / 2 : -sliderWidth / 2,\n      textAlign: 'left',\n      textBaseline: 'middle'\n    };\n  };\n\n  Slider.prototype.getCircleTextAttribute = function (isMin) {\n    return this.isHorizontal() ? {\n      // text 文本值\n      x: 0,\n      y: this.height / 2 + SLIDER_CIRCLE_MAX_SIZE / 2 + 4,\n      textAlign: 'center',\n      textBaseline: 'top'\n    } : {\n      x: this.width / 2 + SLIDER_CIRCLE_MAX_SIZE / 2 + 4,\n      y: 0,\n      textAlign: 'left',\n      textBaseline: 'middle'\n    };\n  };\n  /**\n   * 创建滑块文字\n   * @param group\n   * @param isMin\n   */\n\n\n  Slider.prototype.createSliderText = function (group, isMin) {\n    var textAttribute = this.sliderType === 'rect' ? this.getRectTextAttribute(isMin) : this.sliderType === 'circle' ? this.getCircleTextAttribute(isMin) : {};\n\n    var textAttr = __assign(__assign(__assign({}, this.textStyle), textAttribute), {\n      text: ''\n    });\n\n    return group.addShape('text', {\n      attrs: textAttr\n    });\n  }; // 绑定事件：大小滑块鼠标事件，range 区域的鼠标事件\n\n\n  Slider.prototype.bindEvent = function () {\n    if (this.operational) {\n      // 鼠标点击的时候，开始滑动\n      this.on('mousedown', this.onMouseDown);\n    }\n  };\n\n  Slider.prototype.onMouseDown = function (ev) {\n    // 当前触发的 shape\n    this.currentTarget = ev.target;\n    var originEvent = ev.event; // 阻止冒泡\n\n    originEvent.stopPropagation();\n    originEvent.preventDefault();\n    var clientX = originEvent.clientX,\n        clientY = originEvent.clientY; // 鼠标坐标位置\n\n    this.pos = this.isHorizontal() ? clientX : clientY;\n    this.bindCanvasEvents();\n  };\n\n  Slider.prototype.bindCanvasEvents = function () {\n    var containerDOM = this.get('canvas').get('containerDOM');\n    var e1 = domUtil.addEventListener(containerDOM, 'mousemove', this.onMouseMove);\n    var e2 = domUtil.addEventListener(containerDOM, 'mouseup', this.onMouseUp);\n    var e3 = domUtil.addEventListener(containerDOM, 'mouseleave', this.onMouseUp); // 清除所有事件的方法，在交互结束的时候执行\n\n    this.clearAllEvents = function () {\n      e1.remove();\n      e2.remove();\n      e3.remove();\n    };\n  };\n\n  Slider.prototype.isDragMin = function () {\n    return this.currentTarget === this.minSliderShape;\n  };\n\n  Slider.prototype.isDragMax = function () {\n    return this.currentTarget === this.maxSliderShape;\n  };\n\n  Slider.prototype.isDragAll = function () {\n    return this.currentTarget === this.rangeSliderShape;\n  };\n  /**\n   * 根据鼠标位置 x,y，更新滑块位置状态\n   * @param x\n   * @param y\n   */\n\n\n  Slider.prototype.updateSliderStatus = function (x, y) {\n    var _this = this;\n\n    var totalLength = this.isHorizontal() ? this.width : this.height;\n    var sign = this.isHorizontal() ? 1 : -1; // canvas 坐标和事件坐标相反\n\n    var _a = this.range,\n        min = _a[0],\n        max = _a[1]; // 默认的 range\n\n    var prePosition = this.pos;\n    var currentPosition = this.isHorizontal() ? x : y; // 鼠标拖拽的长度\n\n    var diffLength = currentPosition - prePosition; // 鼠标拖拽的比例，用于做 range 计算\n\n    var diff = diffLength / totalLength * sign;\n    var newRange = [min, max]; // 左右两个一起拖拽（拖拽左右滑块中间区域，可以实现两个滑块一起拖拽）\n\n    if (this.isDragAll()) {\n      if (diff >= 0 && max + diff > 1) {\n        // max 超出\n        newRange = [min + (1 - max), 1];\n      } else if (diff < 0 && min + diff < 0) {\n        // min 超出\n        newRange = [0, max - min];\n      } else {\n        // 都没有超出\n        newRange = [min + diff, max + diff];\n      }\n    } else {\n      // 分别处理\n      if (this.isDragMin()) {\n        newRange[0] = this.getNewRange(min, diff);\n      }\n\n      if (this.isDragMax()) {\n        newRange[1] = this.getNewRange(max, diff);\n      } // 如果处理之后 max < min，则设置成一样的，拖那个用哪个\n\n\n      if (newRange[1] < newRange[0]) {\n        newRange = Array(2).fill(this.isDragMin() ? newRange[0] : newRange[1]);\n      }\n    } // 更新状态\n\n\n    this.pos = currentPosition;\n    this.range = newRange; // 发送事件\n\n    this.emit('sliderchange', {\n      range: newRange,\n      value: newRange.map(function (r) {\n        return _this.getValue(r);\n      })\n    });\n    this.renderUIWithRange(newRange[0], newRange[1]); // 渲染 redraw\n\n    this.get('canvas').draw();\n  };\n  /* 根据 range 变更 ui */\n\n\n  Slider.prototype.renderUIWithRange = function (minRatio, maxRatio) {\n    var width = this.width;\n    var height = this.height; // resetMatrix 是 reset 的创建的属性\n\n    this.minSliderGroup.resetMatrix();\n    this.maxSliderGroup.resetMatrix(); // 修改滑块位置\n    // 横向，纵向的变换逻辑不一样\n\n    if (this.isHorizontal()) {\n      this.rangeSliderShape.attr({\n        x: width * minRatio,\n        y: 0,\n        width: (maxRatio - minRatio) * width,\n        height: height\n      });\n      this.minSliderGroup.translate(minRatio * width, 0);\n      this.maxSliderGroup.translate(maxRatio * width, 0);\n    } else {\n      this.rangeSliderShape.attr({\n        x: 0,\n        y: height * (1 - maxRatio),\n        width: width,\n        height: (maxRatio - minRatio) * height\n      }); // 纵向图例，上大下小\n\n      this.minSliderGroup.translate(0, (1 - minRatio) * height);\n      this.maxSliderGroup.translate(0, (1 - maxRatio) * height);\n    } // 更新文本\n\n\n    this.minTextShape.attr('text', this.formatter(this.getValue(minRatio)));\n    this.maxTextShape.attr('text', this.formatter(this.getValue(maxRatio))); // 对于 circle 的情况下，滑块的大小需要随着变化而变化\n\n    if (this.sliderType === 'circle') {\n      this.minSliderShape.attr({\n        r: (SLIDER_HEIGHT + minRatio * (SLIDER_CIRCLE_MAX_SIZE - SLIDER_HEIGHT)) / 2\n      });\n      this.maxSliderShape.attr({\n        r: (SLIDER_HEIGHT + maxRatio * (SLIDER_CIRCLE_MAX_SIZE - SLIDER_HEIGHT)) / 2\n      });\n    }\n  };\n  /**\n   * 在原来 range 的基础上，增加一个 diff\n   * @param range\n   * @param diff\n   */\n\n\n  Slider.prototype.getNewRange = function (range, diff) {\n    var r = diff + range;\n    return r > 1 ? 1 : r < 0 ? 0 : r;\n  };\n\n  Slider.prototype.getValue = function (ratio) {\n    var v = this.min + (this.max - this.min) * ratio;\n    return Number(v.toFixed(v > 1 ? 0 : 2)); // todo 格式化规则\n  };\n\n  return Slider;\n}(Group);\n\nexport default Slider;","import { __assign, __extends, __rest } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { Event } from '@antv/g';\nimport Legend from '../base';\nimport Slider from './components/slider';\nimport { SliderTextStyle, SliderMiddleBackgroundStyle, SliderMiddleFrontendStyle, DefaultTitleStyle } from './constant';\n\nvar Continuous =\n/** @class */\nfunction (_super) {\n  __extends(Continuous, _super);\n\n  function Continuous(cfg) {\n    var _this = this;\n\n    var backgroundStyle = cfg.backgroundStyle,\n        fillStyle = cfg.fillStyle,\n        textStyle = cfg.textStyle,\n        titleStyle = cfg.titleStyle,\n        otherCfg = __rest(cfg, [\"backgroundStyle\", \"fillStyle\", \"textStyle\", \"titleStyle\"]);\n\n    var _a = cfg.layout,\n        layout = _a === void 0 ? 'horizontal' : _a; // 放入主题中\n\n    var defaultSize = {\n      width: layout === 'horizontal' ? 156 : 16,\n      height: layout === 'horizontal' ? 16 : 156\n    };\n    _this = _super.call(this, __assign(__assign({\n      /* title 间距 */\n      titleDistance: 16,\n\n      /* 布局默认水平 */\n      layout: 'horizontal',\n\n      /* 默认可交互 */\n      operational: true,\n\n      /* 滑块的样式： rect | circle */\n      handleIcon: 'rect',\n\n      /* 背景的样式 */\n      backgroundStyle: __assign(__assign({}, SliderMiddleBackgroundStyle), backgroundStyle),\n\n      /* slider 滑块前景色 */\n      fillStyle: __assign(__assign({}, SliderMiddleFrontendStyle), fillStyle),\n\n      /* 文本样式 */\n      textStyle: __assign(__assign({}, SliderTextStyle), textStyle),\n\n      /* 标题样式 */\n      titleStyle: __assign(__assign({}, DefaultTitleStyle), titleStyle),\n\n      /* 宽度 */\n      width: 156,\n\n      /* 高度 */\n      height: 16\n    }, defaultSize), otherCfg)) || this;\n    return _this;\n  }\n\n  Continuous.prototype.init = function () {\n    var container = this.get('container');\n    this.set('canvas', container.get('canvas'));\n    var legendGroup = container.addGroup();\n    this.set('legendGroup', legendGroup);\n    var itemsGroup = legendGroup.addGroup();\n    this.set('itemsGroup', itemsGroup); // 平移\n\n    legendGroup.translate(this.get('offsetX'), this.get('offsetY'));\n  };\n  /**\n   * 连续型 title，其实和分类的 canvas title 没有什么区别\n   */\n\n\n  Continuous.prototype.renderTitle = function () {\n    if (this.isShowTitle()) {\n      var title = this.get('title');\n      var container = this.get('legendGroup');\n      var titleStyle = this.get('titleStyle');\n      var titleShape = container.addShape('text', {\n        attrs: __assign({\n          x: 0,\n          y: 0,\n          text: title\n        }, titleStyle)\n      });\n      titleShape.name = 'legend-title';\n      this.set('titleShape', titleShape);\n    }\n  };\n  /**\n   * 连续性，直接 render 滑块即可\n   */\n\n\n  Continuous.prototype.renderItems = function () {\n    this.renderSlider();\n  }; // 绑定交互事件\n\n\n  Continuous.prototype.bindEvents = function () {\n    if (this.isOperational()) {// 滑块的鼠标拖拽事件\n      // 滑块更新数据之后的事件\n    }\n  };\n  /**\n  * 清空容器\n  */\n\n\n  Continuous.prototype.clear = function () {\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      container.clear();\n    }\n  };\n  /**\n   * 销毁\n   */\n\n\n  Continuous.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      // 将自己从父容器删除，并且销毁自己\n      if (container.get('parent')) {\n        container.remove(true);\n      }\n\n      container.destroy();\n    }\n  };\n  /**\n   * 滚动条布局，是否为横向\n   * true  横向\n   * false 纵向\n   */\n\n\n  Continuous.prototype.isHorizontal = function () {\n    return this.get('layout') === 'horizontal';\n  };\n  /* 是够可交互 */\n\n\n  Continuous.prototype.isOperational = function () {\n    return this.get('operational');\n  };\n  /* 是够显示标题 */\n\n\n  Continuous.prototype.isShowTitle = function () {\n    return !!this.get('title');\n  };\n  /* 滑块的配置 */\n\n\n  Continuous.prototype.getSliderConfig = function () {\n    return {\n      layout: this.get('layout'),\n      sliderType: this.get('handleIcon'),\n      sliderSize: this.get('handleSize'),\n      sliderStyle: this.get('handleStyle'),\n      operational: this.isOperational(),\n      // 宽高\n      width: this.get('width'),\n      height: this.get('height'),\n      min: _.head(this.get('items')).value,\n      max: _.last(this.get('items')).value,\n      // 初始的 range 范围，例如：[ 0, 0.9 ]\n      range: this.get('range') || [0, 1],\n      // 文本样式\n      textStyle: __assign({}, this.get('textStyle')),\n      // 格式化\n      formatter: this.formatterValue\n    };\n  }; // 渲染滑块（颜色和尺寸的效果是一致的）\n\n\n  Continuous.prototype.renderSlider = function () {\n    var _this = this;\n\n    var itemsGroup = this.get('itemsGroup'); // 创建 slider\n\n    var slider = new Slider(this.getSliderConfig()); // 设置背景 group\n\n    slider.setBackground(this.createBackgroundGroup()); // 平移\n\n    if (this.isShowTitle()) {\n      var titleDistance = this.get('titleDistance');\n      var titleBbox = this.get('titleShape').getBBox();\n      var height = titleBbox.height; // 往下平移 title 间距\n\n      slider.translate(0, titleDistance + height);\n    } // 监听事件\n    // 值变更的时候，发送 itemfilter 事件。\n\n\n    slider.on('sliderchange', function (ev) {\n      var value = ev.value,\n          range = ev.range;\n      var itemFiltered = new Event('itemfilter', ev, true, true); // @ts-ignore todo 传值格式\n\n      itemFiltered.range = value;\n\n      _this.emit('itemfilter', itemFiltered);\n    });\n    itemsGroup.add(slider);\n    this.set('slider', slider);\n  };\n\n  return Continuous;\n}(Legend);\n\nexport default Continuous;","import { __assign, __extends } from \"tslib\";\nimport { Group, Polygon } from '@antv/g';\nimport Continuous from './base'; // circle 的时候，背景的高度\n\nvar CircleBackgroundHalfHeight = 2;\n\nvar Size =\n/** @class */\nfunction (_super) {\n  __extends(Size, _super);\n\n  function Size(cfg) {\n    return _super.call(this, __assign({\n      type: 'size-legend'\n    }, cfg)) || this;\n  }\n\n  Size.prototype.getBackgroundShapeAttr = function () {\n    var width = this.get('width');\n    var height = this.get('height');\n    var halfWidth = width / 2;\n    var halfHeight = height / 2;\n    var points = [];\n\n    if (this.get('handleIcon') === 'rect') {\n      points = this.isHorizontal() ? [[0, height], [0, height - 4], [width, 0], [width, height]] : [[0, 0], [width, 0], [width, height], [width - 4, height]];\n    } else {\n      points = this.isHorizontal() ? [[0, halfHeight + CircleBackgroundHalfHeight], [0, halfHeight - CircleBackgroundHalfHeight], [width, halfHeight - CircleBackgroundHalfHeight], [width, halfHeight + CircleBackgroundHalfHeight]] : [[halfWidth + CircleBackgroundHalfHeight, 0], [halfWidth - CircleBackgroundHalfHeight, 0], [halfWidth - CircleBackgroundHalfHeight, height], [halfWidth + CircleBackgroundHalfHeight, height]];\n    }\n\n    return {\n      points: points\n    };\n  };\n  /* 背景的样式，size 和 color 的背景完全不一样 */\n\n\n  Size.prototype.createBackgroundGroup = function () {\n    var shapeAttribute = this.getBackgroundShapeAttr();\n    var backgroundStyle = this.get('backgroundStyle');\n    var fillStyle = this.get('fillStyle');\n    var background = new Polygon({\n      attrs: __assign(__assign({}, shapeAttribute), backgroundStyle)\n    });\n    var frontend = new Polygon({\n      attrs: __assign(__assign(__assign({}, shapeAttribute), backgroundStyle), fillStyle)\n    });\n    var group = new Group();\n\n    if (this.isOperational()) {\n      group.add(background);\n      group.add(frontend);\n    } else {\n      // 不可交互的时候，不需要 frontend\n      group.add(frontend);\n    }\n\n    return {\n      group: group,\n      background: background,\n      frontend: frontend\n    };\n  };\n\n  return Size;\n}(Continuous);\n\nexport default Size;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { Group, Rect } from '@antv/g';\nimport colorUtil from '@antv/color-util';\nimport Continuous from './base';\nimport { TEXT_OFFSET } from './constant';\n\nvar Color =\n/** @class */\nfunction (_super) {\n  __extends(Color, _super);\n\n  function Color(cfg) {\n    return _super.call(this, __assign({\n      type: 'color-legend'\n    }, cfg)) || this;\n  }\n  /* 计算占比，是否需要缓存以提高重复渲染的性能；是否需要排序 */\n\n\n  Color.prototype.calculatePercent = function (items) {\n    var min = _.head(items).value;\n\n    var max = _.last(items).value;\n\n    var diff = max - min;\n    return _.map(items, function (item) {\n      return __assign(__assign({}, item), {\n        percentage: (Number(item.value) - min) / diff\n      });\n    });\n  };\n  /* 颜色是否分段 */\n\n\n  Color.prototype.isSegment = function () {\n    return !!this.get('isSegment');\n  };\n  /* 可交互的情况 */\n\n\n  Color.prototype.getOperationalGroup = function () {\n    var width = this.get('width');\n    var height = this.get('height');\n    var items = this.calculatePercent(this.get('items'));\n    var backgroundStyle = this.get('backgroundStyle');\n    var fill = '';\n    var rgbColor;\n\n    if (this.isHorizontal()) {\n      fill += 'l (0) ';\n\n      _.each(items, function (v) {\n        rgbColor = colorUtil.toRGB(v.color);\n        fill += v.percentage + \":\" + rgbColor + \" \";\n      });\n    } else {\n      fill += 'l (90) ';\n\n      _.each(items, function (v) {\n        rgbColor = colorUtil.toRGB(v.color);\n        fill += 1 - v.percentage + \":\" + rgbColor + \" \";\n      });\n    }\n\n    var background = new Rect({\n      attrs: __assign({\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        strokeOpacity: 0\n      }, backgroundStyle)\n    });\n    var frontend = new Rect({\n      attrs: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        fill: fill,\n        strokeOpacity: 0\n      }\n    });\n    var group = new Group();\n\n    if (this.isOperational()) {\n      group.add(background);\n      group.add(frontend);\n    } else {\n      // 不可交互的时候，不需要 frontend\n      group.add(frontend);\n    }\n\n    return {\n      group: group,\n      background: background,\n      frontend: frontend\n    };\n  };\n  /**\n   * 不可交互的情况：\n   * 1. 无滑块\n   * 2. 可以连续和分段\n   * 3. 分段的时候下面有文字\n   */\n\n\n  Color.prototype.getUnOperationalGroup = function () {\n    var _this = this;\n\n    var width = this.get('width');\n    var height = this.get('height');\n    var items = this.calculatePercent(this.get('items'));\n    var textStyle = this.get('textStyle');\n    var group = new Group();\n    var fill = '';\n    var rgbColor;\n    var path = [];\n    var isize = items.length; // gradient color distributed according to the percentage\n\n    if (this.isHorizontal()) {\n      fill += 'l (0) ';\n\n      _.each(items, function (item, i) {\n        if (i !== 0 && i !== isize - 1) {\n          path.push(['M', item.percentage * width, 0]);\n          path.push(['L', item.percentage * width, height]);\n        }\n\n        rgbColor = colorUtil.toRGB(items[i].color);\n\n        if (_this.isSegment() && i > 0) {\n          var preRgbColor = colorUtil.toRGB(items[i - 1].color);\n          fill += item.percentage + \":\" + preRgbColor + \" \";\n        }\n\n        fill += item.percentage + \":\" + rgbColor + \" \";\n        group.addShape('text', {\n          attrs: __assign(__assign({\n            x: item.percentage * width,\n            y: height + TEXT_OFFSET,\n            text: \"\" + _this.formatterValue(item.value)\n          }, textStyle), {\n            textBaseline: 'top',\n            textAlign: 'center'\n          })\n        });\n      });\n    } else {\n      fill += 'l (90) ';\n\n      _.each(items, function (item, i) {\n        if (i !== 0 && i !== isize - 1) {\n          path.push(['M', 0, height - item.percentage * height]);\n          path.push(['L', width, height - item.percentage * height]);\n        }\n\n        rgbColor = colorUtil.toRGB(items[i].color);\n        fill += 1 - item.percentage + \":\" + rgbColor + \" \"; // one color instead of gradient color for a block while isSegment === true\n\n        if (_this.isSegment() && i > 0) {\n          var preRgbColor = colorUtil.toRGB(items[i - 1].color);\n          fill += 1 - item.percentage + \":\" + preRgbColor + \" \";\n        }\n\n        group.addShape('text', {\n          attrs: __assign(__assign({\n            x: width + TEXT_OFFSET,\n            y: (1 - item.percentage) * height,\n            text: \"\" + _this.formatterValue(item.value)\n          }, textStyle), {\n            textAlign: 'start',\n            textBaseline: 'middle'\n          })\n        });\n      });\n    }\n\n    var background = group.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        fill: fill,\n        strokeOpacity: 0\n      }\n    }); // the white line segment to seperate color blocks\n\n    group.addShape('path', {\n      attrs: {\n        path: path,\n        lineWidth: 1,\n        stroke: '#fff'\n      }\n    });\n    return {\n      group: group,\n      background: background,\n      frontend: undefined\n    };\n  };\n  /* 背景的样式，size 和 color 的背景完全不一样 */\n\n\n  Color.prototype.createBackgroundGroup = function () {\n    return this.isOperational() ? this.getOperationalGroup() : this.getUnOperationalGroup();\n  };\n\n  return Color;\n}(Continuous);\n\nexport default Color;","import * as G from '@antv/g';\nimport * as _ from '@antv/util';\nvar dir_mapper = {\n  right: 90 * Math.PI / 180,\n  left: (360 - 90) * Math.PI / 180,\n  up: 0,\n  down: 180 * Math.PI / 180\n};\n\nvar Arrow =\n/** @class */\nfunction () {\n  function Arrow(cfg) {\n    this.width = 10;\n    this.height = 10;\n    this.direction = 'right';\n\n    _.assign(this, cfg);\n\n    this._init();\n  }\n\n  Arrow.prototype._init = function () {\n    var centerX = this.width / 2;\n    var centerY = this.height / 2;\n    var points = [{\n      x: 0,\n      y: -centerY\n    }, {\n      x: -centerX,\n      y: centerY\n    }, {\n      x: centerX,\n      y: centerY\n    }];\n    this.shape = new G.Path({\n      attrs: _.deepMix({\n        path: [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['Z']]\n      }, this.attrs)\n    });\n    var transformMatrix = [];\n    /** rotate */\n\n    transformMatrix.push(['r', dir_mapper[this.direction]]);\n    /** transform */\n\n    transformMatrix.push(['t', this.x, this.y]);\n    this.shape.transform(transformMatrix);\n  };\n\n  return Arrow;\n}();\n\nexport default Arrow;","import { __assign, __extends } from \"tslib\";\nimport LegendBase from '../base';\nvar DEFAULT_THEME = {\n  layout: 'horizontal',\n  titleDistance: 15,\n  itemDistance: 5,\n  itemMarginBottom: 8,\n  wordSpacing: 8,\n  backgroundPadding: 0,\n  unSelectedColor: '#ccc',\n  offsetX: 0,\n  offsetY: 0\n};\n\nvar CategoryBase =\n/** @class */\nfunction (_super) {\n  __extends(CategoryBase, _super);\n\n  function CategoryBase(cfg) {\n    return _super.call(this, __assign(__assign({\n      /**\n       * 鼠标 hover 到图例上的默认交互是否开启\n       */\n      hoverable: true,\n\n      /**\n       * 图例是否允许点击交互\n       */\n      clickable: true,\n\n      /**\n       * 图例项的选择模式，支持 'multiple'、'single'，默认 'multiple'\n       */\n      selectedMode: 'multiple',\n\n      /**\n       * 是否允许全部取消，默认 false，即必须保留一个被选中\n       */\n      allowAllCanceled: false,\n\n      /**\n       * 图例项的顺序是否要逆序，默认为 false\n       */\n      reversed: false,\n\n      /**\n       * 是否自动换行，默认自动换行\n       */\n      autoWrap: true\n    }, DEFAULT_THEME), cfg)) || this;\n  }\n\n  return CategoryBase;\n}(LegendBase);\n\nexport default CategoryBase;","import { __assign, __extends } from \"tslib\";\nimport { BBox, Event, Group, Rect } from '@antv/g';\nimport { clone, each, filter, isNumber, mix, wrapBehavior } from '@antv/util';\nimport Arrow from './arrow';\nimport CategoryBase from './base';\n\nvar CanvasLegend =\n/** @class */\nfunction (_super) {\n  __extends(CanvasLegend, _super);\n\n  function CanvasLegend(cfg) {\n    return _super.call(this, __assign({\n      type: 'category-legend'\n    }, cfg)) || this;\n  }\n\n  CanvasLegend.prototype.init = function () {\n    this.isFlipped = false;\n    var container = this.get('container');\n    this.set('canvas', container.get('canvas'));\n    var itemsGroup = container.addGroup();\n    this.set('itemsGroup', itemsGroup);\n\n    if (this.get('flipPage')) {\n      this.set('autoWrap', true);\n    }\n  };\n\n  CanvasLegend.prototype.renderTitle = function () {\n    var title = this.get('title');\n\n    if (title) {\n      var container = this.get('container');\n      var titleStyle = this.get('titleStyle');\n      var titleShape = container.addShape('text', {\n        attrs: __assign({\n          x: 0,\n          y: 0,\n          text: title\n        }, titleStyle)\n      });\n      titleShape.name = 'legend-title';\n      this.set('titleShape', titleShape);\n    }\n  };\n\n  CanvasLegend.prototype.renderItems = function () {\n    var _this = this;\n\n    var items = this.get('items');\n\n    if (this.get('reversed')) {\n      items.reverse();\n    }\n\n    each(items, function (item) {\n      _this._addItem(item);\n    });\n\n    if (this.get('autoWrap')) {\n      this._adjustItems();\n    } // 默认自动换行\n\n\n    var _a = this._getMaxItemSize(),\n        maxItemWidth = _a.maxItemWidth,\n        maxItemHeight = _a.maxItemHeight;\n\n    this.set('maxItemWidth', maxItemWidth);\n    this.set('maxItemHeight', maxItemHeight);\n    var needPageFlip = this.isNeedFlip();\n\n    if (needPageFlip) {\n      this.flipPage();\n    }\n\n    this._adjustPositionOffset();\n\n    this._renderBack();\n  };\n\n  CanvasLegend.prototype.isNeedFlip = function () {\n    var maxWidth = this.get('maxWidth');\n    var maxItemHeight = this.get('maxItemHeight');\n    var itemsBBox = this.get('itemsGroup').getBBox();\n    var layout = this.get('layout');\n\n    if (this.get('flipPage')) {\n      if (layout === 'vertical' && maxWidth < itemsBBox.width) {\n        return true;\n      }\n\n      if (layout === 'horizontal' && maxItemHeight < itemsBBox.height) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  CanvasLegend.prototype.flipPage = function () {\n    var _this = this;\n\n    this.isFlipped = true;\n    var maxItemWidth = this.get('maxItemWidth');\n    var maxItemHeight = this.get('maxItemHeight');\n    var maxWidth = this.get('maxWidth');\n    var maxHeight = this.get('maxHeight');\n    var itemsGroup = this.get('itemsGroup');\n    var itemsBBox = itemsGroup.getBBox();\n    var layout = this.get('layout');\n\n    var paginationCfg = this._getPaginationCfg(); // 根据layout创建clip\n\n\n    var pageNumber = 0;\n    var mode = 'up-down'; // 上下翻页\n\n    var x = itemsBBox.tl.x;\n    var y = itemsBBox.tl.y; // 翻页器位置\n\n    var size = 0; // 翻页器尺寸\n\n    var clip = new Rect({\n      attrs: {\n        x: x,\n        y: y,\n        width: maxWidth - paginationCfg.size,\n        height: maxHeight\n      }\n    });\n\n    if (layout === 'horizontal') {\n      var width = Math.max(maxWidth, itemsBBox.width);\n      clip.attr('width', width);\n      clip.attr('height', maxItemHeight);\n      this.set('maxWidth', width);\n      this.set('maxHeight', maxItemHeight);\n      pageNumber = Math.ceil(itemsBBox.height / (maxItemHeight + this.get('itemMarginBottom')));\n      x = x + width - paginationCfg.size; // temp:padding\n\n      y = Math.ceil(y + maxItemHeight / 2);\n      size = maxItemHeight;\n\n      if (y - this._getHorizontalPaginationHeight() / 2 < 0) {\n        var offsetY = (this.get('offsetY') || 0) + this._getHorizontalPaginationHeight() / 2 - y;\n        this.set('offsetY', offsetY);\n      }\n    }\n\n    if (layout === 'vertical') {\n      clip.attr('width', maxItemWidth);\n      var height = Math.max(maxHeight, itemsBBox.height);\n      clip.attr('height', height);\n      this.set('maxWidth', maxItemWidth);\n      this.set('maxHeight', height);\n      pageNumber = Math.ceil(itemsBBox.width / (maxItemWidth + this.get('itemDistance')));\n      y = y + height + 10; // temp: padding\n\n      mode = 'left-right';\n      size = maxItemWidth;\n    } // 应用clip\n\n\n    itemsGroup.attr('clip', clip);\n    this.set('clip', clip); // 绘制翻页器UI\n\n    var flipUI = this.flipPageUI(x, y, size, pageNumber, mode);\n    this.flipUI = flipUI; // 加入交互\n\n    var currentIndex = 1;\n    var arrow1 = flipUI.arrows[0];\n    var arrow2 = flipUI.arrows[1];\n    arrow1.on('click', function () {\n      if (currentIndex > 1) {\n        currentIndex -= 1;\n        flipUI.text.attr('text', currentIndex + \" / \" + pageNumber);\n        var matrix = clone(itemsGroup.attr('matrix'));\n\n        if (layout === 'vertical') {\n          var dist = _this.get('itemDistance') + maxItemWidth;\n          matrix[6] += dist;\n        } else {\n          var dist = maxItemHeight + _this.get('itemMarginBottom');\n\n          matrix[7] += dist;\n        }\n\n        itemsGroup.stopAnimate();\n        itemsGroup.animate({\n          matrix: matrix\n        }, 100);\n\n        _this.get('canvas').draw();\n      }\n    });\n    arrow2.on('click', function () {\n      if (currentIndex < pageNumber) {\n        currentIndex += 1;\n        flipUI.text.attr('text', currentIndex + \" / \" + pageNumber);\n        var matrix = clone(itemsGroup.attr('matrix'));\n\n        if (layout === 'vertical') {\n          var dist = _this.get('itemDistance') + maxItemWidth;\n          matrix[6] -= dist;\n        } else {\n          var dist = maxItemHeight + _this.get('itemMarginBottom');\n\n          matrix[7] -= dist;\n        }\n\n        itemsGroup.stopAnimate();\n        itemsGroup.animate({\n          matrix: matrix\n        }, 100);\n      }\n    });\n  };\n\n  CanvasLegend.prototype.flipPageUI = function (x, y, size, pageNumber, mode) {\n    var paginationCfg = this._getPaginationCfg();\n\n    var container = this.get('container');\n    var group = container.addGroup();\n    var arrows = [];\n    var text;\n\n    if (mode === 'left-right') {\n      // left arrow\n      var la = new Arrow(mix({}, paginationCfg.arrow, {\n        x: x + paginationCfg.arrow.width / 2,\n        y: y,\n        direction: 'left'\n      }));\n      group.add(la.shape);\n      arrows.push(la.shape); // right arrow\n\n      var ra = new Arrow(mix({}, paginationCfg.arrow, {\n        x: x + size - paginationCfg.arrow.width / 2,\n        y: y,\n        direction: 'right'\n      }));\n      group.add(ra.shape);\n      arrows.push(ra.shape); // text\n\n      text = group.addShape('text', {\n        attrs: mix({}, paginationCfg.text, {\n          x: x + size / 2,\n          y: y,\n          text: \"1 / \" + pageNumber\n        })\n      });\n    } else {\n      // upper arrow\n      var height = this._getHorizontalPaginationHeight();\n\n      var ua = new Arrow(mix({}, paginationCfg.arrow, {\n        x: x,\n        y: y - height / 2 + paginationCfg.arrow.height / 2,\n        direction: 'up'\n      }));\n      group.add(ua.shape);\n      arrows.push(ua.shape); // lower arrow\n\n      var da = new Arrow(mix({}, paginationCfg.arrow, {\n        x: x,\n        y: y + height / 2 - paginationCfg.arrow.height / 2,\n        direction: 'down'\n      }));\n      group.add(da.shape);\n      arrows.push(da.shape); // text\n\n      text = group.addShape('text', {\n        attrs: mix({}, paginationCfg.text, {\n          x: x,\n          y: y,\n          text: \"1 / \" + pageNumber\n        })\n      });\n    }\n\n    return {\n      arrows: arrows,\n      text: text,\n      container: group\n    };\n  };\n\n  CanvasLegend.prototype._getPaginationCfg = function () {\n    var defaultCfg = {\n      arrow: {\n        x: 0,\n        y: 0,\n        width: 10,\n        height: 8,\n        attrs: {\n          fill: '#ccc',\n          cursor: 'pointer'\n        },\n        direction: 'right'\n      },\n      text: {\n        fontSize: 12,\n        fill: '#ccc',\n        textAlign: 'center',\n        textBaseline: 'middle'\n      },\n      size: 40\n    }; // todo: 允许用户自行配置样式\n\n    return defaultCfg;\n  };\n\n  CanvasLegend.prototype._getHorizontalPaginationHeight = function () {\n    var GAP = 2;\n\n    var cfg = this._getPaginationCfg();\n\n    return cfg.text.fontSize + cfg.arrow.height * 2 + GAP * 2;\n  };\n\n  CanvasLegend.prototype.bindEvents = function () {\n    var itemsGroup = this.get('itemsGroup');\n\n    if (this.get('hoverable')) {\n      itemsGroup.on('mousemove', wrapBehavior(this, '_onMousemove'));\n      itemsGroup.on('mouseleave', wrapBehavior(this, '_onMouseleave'));\n    }\n\n    if (this.get('clickable')) {\n      itemsGroup.on('click', wrapBehavior(this, '_onClick'));\n    }\n  };\n  /**\n   * 清空容器\n   */\n\n\n  CanvasLegend.prototype.clear = function () {\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      container.clear();\n    }\n  };\n  /**\n   * 销毁\n   */\n\n\n  CanvasLegend.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      if (container.get('parent')) {\n        container.remove();\n      }\n\n      container.destroy();\n    }\n  };\n\n  CanvasLegend.prototype.getCheckedCount = function () {\n    var itemsGroup = this.get('itemsGroup');\n    var items = itemsGroup.get('children');\n    var checkedArr = filter(items, function (item) {\n      return item.get('checked');\n    });\n    return checkedArr.length;\n  };\n\n  CanvasLegend.prototype.getWidth = function () {\n    return this.getBBox().width;\n  };\n\n  CanvasLegend.prototype.getHeight = function () {\n    return this.getBBox().height;\n  };\n\n  CanvasLegend.prototype.getBBox = function () {\n    if (this.isFlipped) {\n      var clip = this.get('clip');\n      var fliperContainer = this.flipUI.container;\n      return this._mergeBBox([clip.getBBox(), fliperContainer.getBBox()]);\n    }\n\n    return this.get('container').getBBox();\n  };\n\n  CanvasLegend.prototype._adjustPositionOffset = function () {\n    var offsetX = this.get('offsetX');\n    var offsetY = this.get('offsetY');\n    var container = this.get('container');\n    container.move(offsetX, offsetY);\n  };\n\n  CanvasLegend.prototype._addItem = function (item) {\n    var itemsGroup = this.get('itemsGroup');\n\n    var x = this._getNextX();\n\n    var y = this._getNextY();\n\n    var unSelectedColor = this.get('unSelectedColor');\n    var itemGroup = itemsGroup.addGroup({\n      x: x,\n      y: y,\n      value: item.value,\n      checked: item.checked\n    });\n    var textStyle = this.get('textStyle');\n    var wordSpace = this.get('wordSpacing');\n    var startX = 0;\n\n    if (item.marker) {\n      // 如果有marker添加marker\n      var markerAttrs = Object.assign({}, item.marker, {\n        x: item.marker.radius + x,\n        y: y\n      });\n\n      if (!item.checked) {\n        if (markerAttrs.fill) {\n          markerAttrs.fill = unSelectedColor;\n        }\n\n        if (markerAttrs.stroke) {\n          markerAttrs.stroke = unSelectedColor;\n        }\n      }\n\n      var markerShape = itemGroup.addShape('marker', {\n        type: 'marker',\n        attrs: markerAttrs\n      });\n      markerShape.attr('cursor', 'pointer');\n      markerShape.name = 'legend-marker';\n      startX += markerShape.getBBox().width + wordSpace;\n    }\n\n    var textAttrs = Object.assign({}, textStyle, {\n      x: startX + x,\n      y: y - (item.marker ? item.marker.radius / 2 : 0) + textStyle.fontSize / 4,\n      text: this.formatterValue(item.value)\n    });\n\n    if (!item.checked) {\n      Object.assign(textAttrs, {\n        fill: unSelectedColor\n      });\n    }\n\n    var textShape = itemGroup.addShape('text', {\n      attrs: textAttrs\n    });\n    textShape.attr('cursor', 'pointer');\n    textShape.name = 'legend-text';\n    var bbox = itemGroup.getBBox();\n    var itemWidth = this.get('itemWidth');\n    var wrapperShape = itemGroup.addShape('rect', {\n      attrs: {\n        x: x,\n        y: y - bbox.height / 2,\n        fill: '#fff',\n        fillOpacity: 0,\n        width: itemWidth || bbox.width,\n        height: bbox.height\n      }\n    });\n    wrapperShape.attr('cursor', 'pointer');\n    wrapperShape.set('origin', item); // 保存图例项相关的数据，便于事件操作\n\n    wrapperShape.name = 'legend-item';\n    itemGroup.name = 'legendGroup';\n    return itemGroup;\n  }; // 获取的图例元素 X 位置\n\n\n  CanvasLegend.prototype._getNextX = function () {\n    var layout = this.get('layout');\n    var itemDistance = this.get('itemDistance');\n    var itemsGroup = this.get('itemsGroup');\n    var itemWidth = this.get('itemWidth');\n    var children = itemsGroup.get('children');\n    var nextX = 0;\n\n    if (layout === 'horizontal') {\n      // 水平布局\n      each(children, function (item) {\n        nextX += (itemWidth ? itemWidth : item.getBBox().width) + itemDistance;\n      });\n    }\n\n    return nextX;\n  };\n\n  CanvasLegend.prototype._getNextY = function () {\n    var itemMarginBottom = this.get('itemMarginBottom');\n    var titleDistance = this.get('titleDistance');\n    var layout = this.get('layout');\n    var itemsGroup = this.get('itemsGroup');\n    var titleShape = this.get('titleShape');\n    var children = itemsGroup.get('children');\n    var nextY = titleDistance;\n\n    if (titleShape) {\n      nextY += titleShape.getBBox().height;\n    }\n\n    if (layout === 'vertical') {\n      // 竖直布局\n      each(children, function (item) {\n        nextY += item.getBBox().height + itemMarginBottom;\n      });\n    }\n\n    return nextY;\n  };\n\n  CanvasLegend.prototype._adjustHorizontal = function () {\n    var margin = this.flipPage ? this._getPaginationCfg().size : 0;\n    var itemsGroup = this.get('itemsGroup');\n    var children = itemsGroup.get('children');\n    var maxLength = this.get('maxWidth') - margin;\n    var itemDistance = this.get('itemDistance');\n    var itemMarginBottom = this.get('itemMarginBottom');\n    var titleDistance = this.get('titleDistance');\n    var row = 0;\n    var rowLength = 0;\n    var width;\n    var height;\n    var box;\n    var itemWidth = this.get('itemWidth');\n\n    if (itemsGroup.getBBox().width > maxLength) {\n      each(children, function (child) {\n        box = child.getBBox();\n        width = itemWidth || box.width;\n        height = box.height + itemMarginBottom;\n\n        if (maxLength - rowLength < width) {\n          row++;\n          rowLength = 0;\n        }\n\n        child.move(rowLength, row * height + titleDistance);\n        rowLength += width + itemDistance;\n      });\n    }\n\n    return;\n  };\n\n  CanvasLegend.prototype._adjustVertical = function () {\n    var maxItemWidth = this._getMaxItemSize().maxItemWidth;\n\n    var itemsGroup = this.get('itemsGroup');\n    var titleShape = this.get('titleShape');\n    var children = itemsGroup.get('children');\n    var maxLength = this.get('maxLength'); // 垂直布局，则 maxLength 代表容器的高度\n\n    var itemDistance = this.get('itemDistance');\n    var itemMarginBottom = this.get('itemMarginBottom');\n    var titleDisatance = this.get('titleDistance');\n    var titleHeight = titleShape ? titleShape.getBBox().height + titleDisatance : 0;\n    var itemWidth = this.get('itemWidth') ? this.get('itemWidth') : 0;\n    var colLength = titleHeight + itemsGroup.getBBox().height;\n    var width;\n    var height;\n    var box;\n    maxItemWidth = Math.max(maxItemWidth, itemWidth) + itemDistance;\n    var totalLength = 0;\n\n    if (colLength > maxLength) {\n      each(children, function (child, index) {\n        box = child.getBBox();\n        width = box.width;\n        height = box.height;\n        /*if (index > 0) {\n          maxItemWidth = itemWidth + itemDistance;\n        }*/\n\n        if (maxLength - colLength < height) {\n          // 剩余高度不能满足一行，增加一列\n          colLength = titleHeight;\n\n          if (index > 0) {\n            totalLength += maxItemWidth;\n          }\n\n          child.move(totalLength, titleHeight);\n        } else {\n          child.move(totalLength, colLength);\n        }\n\n        colLength += height + itemMarginBottom;\n      });\n    }\n  };\n\n  CanvasLegend.prototype._adjustItems = function () {\n    var layout = this.get('layout');\n    layout === 'horizontal' ? this._adjustHorizontal() : this._adjustVertical();\n  };\n\n  CanvasLegend.prototype._renderBack = function () {\n    var container = this.get('container');\n    var padding = this.get('backgroundPadding');\n    var backAttrs = this.get('backgroundStyle');\n\n    if (isNumber(padding)) {\n      padding = [padding, padding, padding, padding];\n    }\n\n    if (!backAttrs) {\n      return;\n    }\n\n    container.renderBack(padding, backAttrs);\n  };\n\n  CanvasLegend.prototype._onMousemove = function (ev) {\n    var item = this._getLegendItem(ev.target);\n\n    if (item && item.get('checked')) {\n      var itemMouseover = new Event('itemmouseover', ev, true, true);\n      itemMouseover.item = this._findItem(item);\n      itemMouseover.checked = item.get('checked');\n      this.emit('itemmouseover', itemMouseover);\n      this.get('canvas').draw();\n    }\n  };\n\n  CanvasLegend.prototype._onMouseleave = function (ev) {\n    var item = this._getLegendItem(ev.target);\n\n    if (item && item.get('checked')) {\n      var itemMouseleave = new Event('itemmouseleave', ev, true, true);\n      itemMouseleave.item = this._findItem(item);\n      itemMouseleave.checked = item.get('checked');\n      this.emit('itemmouseleave', itemMouseleave);\n      this.get('canvas').draw();\n    }\n  };\n\n  CanvasLegend.prototype._onClick = function (ev) {\n    var _this = this;\n\n    var clickedItem = this._getLegendItem(ev.target);\n\n    if (clickedItem && !clickedItem.get('destroyed')) {\n      var checked = clickedItem.get('checked');\n\n      if (!this.get('allowAllCanceled') && checked && this.getCheckedCount() === 1) {\n        return;\n      }\n\n      var mode = this.get('selectedMode');\n\n      var item_1 = this._findItem(clickedItem);\n\n      var itemClick = new Event('itemclick', ev, true, true);\n      itemClick.item = item_1;\n      itemClick.currentTarget = clickedItem;\n      itemClick.checked = mode === 'single' ? true : !checked;\n      var unSelectedColor_1 = this.get('unSelectedColor');\n      var checkColor_1 = this.get('textStyle').fill;\n      var markerItem_1;\n      var textItem_1;\n      var legendItem_1;\n\n      if (mode === 'single') {\n        var itemsGroup = this.get('itemsGroup');\n        var children = itemsGroup.get('children');\n        each(children, function (child) {\n          markerItem_1 = _this._findShapeByName(child, 'legend-marker');\n          textItem_1 = _this._findShapeByName(child, 'legend-text');\n          legendItem_1 = _this._findShapeByName(child, 'legend-item');\n\n          if (child !== clickedItem) {\n            if (markerItem_1.attr('fill')) {\n              markerItem_1.attr('fill', unSelectedColor_1);\n            }\n\n            if (markerItem_1.attr('stroke')) {\n              markerItem_1.attr('stroke', unSelectedColor_1);\n            }\n\n            textItem_1.attr('fill', unSelectedColor_1);\n            markerItem_1.set('checked', false);\n            markerItem_1.set('rawAttrs', __assign({}, markerItem_1.get('attrs')));\n            textItem_1.set('checked', false);\n            legendItem_1.set('checked', false);\n            child.set('checked', false);\n          } else {\n            if (markerItem_1.attr('fill')) {\n              markerItem_1.attr('fill', item_1.marker.fill);\n            }\n\n            if (markerItem_1.attr('stroke')) {\n              markerItem_1.attr('stroke', item_1.marker.stroke);\n            }\n\n            textItem_1.attr('fill', checkColor_1);\n            markerItem_1.set('rawAttrs', __assign({}, markerItem_1.get('attrs')));\n            markerItem_1.set('checked', true);\n            textItem_1.set('checked', true);\n            legendItem_1.set('checked', true);\n            child.set('checked', true);\n          }\n        });\n      } else {\n        markerItem_1 = this._findShapeByName(clickedItem, 'legend-marker');\n        textItem_1 = this._findShapeByName(clickedItem, 'legend-text');\n        legendItem_1 = this._findShapeByName(clickedItem, 'legend-item');\n\n        if (markerItem_1.attr('fill')) {\n          markerItem_1.attr('fill', checked ? unSelectedColor_1 : item_1.marker.fill);\n        }\n\n        if (markerItem_1.attr('stroke')) {\n          markerItem_1.attr('stroke', checked ? unSelectedColor_1 : item_1.marker.stroke);\n        }\n\n        textItem_1.attr('fill', checked ? unSelectedColor_1 : checkColor_1);\n        clickedItem.set('checked', !checked);\n        markerItem_1.set('checked', !checked);\n        textItem_1.set('checked', !checked);\n        legendItem_1.set('checked', !checked);\n      }\n\n      this.emit('itemclick', itemClick);\n      this.get('canvas').draw();\n    }\n\n    return;\n  };\n\n  CanvasLegend.prototype._getLegendItem = function (target) {\n    var item = target.get('parent');\n\n    if (item && item.name === 'legendGroup') {\n      return item;\n    }\n\n    return null;\n  };\n\n  CanvasLegend.prototype._findItem = function (refer) {\n    var items = this.get('items');\n    var rst = null;\n    var value = refer instanceof Group ? refer.get('value') : refer;\n    each(items, function (item) {\n      if (item.value === value) {\n        rst = item;\n        return false;\n      }\n    });\n    return rst;\n  };\n\n  CanvasLegend.prototype._findShapeByName = function (group, name) {\n    return group.findBy(function (node) {\n      return node.name === name;\n    });\n  };\n\n  CanvasLegend.prototype._getMaxItemSize = function () {\n    var maxItemWidth = -Infinity;\n    var maxItemHeight = -Infinity;\n    var itemGroup = this.get('itemsGroup');\n    var items = itemGroup.get('children');\n    each(items, function (item) {\n      var i = item;\n      var bbox = i.getBBox();\n\n      if (maxItemWidth < bbox.width) {\n        maxItemWidth = bbox.width;\n      }\n\n      if (maxItemHeight < bbox.height) {\n        maxItemHeight = bbox.height;\n      }\n    });\n    return {\n      maxItemWidth: maxItemWidth,\n      maxItemHeight: maxItemHeight\n    };\n  };\n\n  CanvasLegend.prototype._mergeBBox = function (bboxes) {\n    var minX = Infinity;\n    var maxX = -Infinity;\n    var minY = Infinity;\n    var maxY = -Infinity;\n    each(bboxes, function (bbox) {\n      var box = bbox;\n      minX = Math.min(box.minX, minX);\n      maxX = Math.max(box.maxX, maxX);\n      minY = Math.min(box.minY, minY);\n      maxY = Math.max(box.maxY, maxY);\n    });\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  };\n\n  return CanvasLegend;\n}(CategoryBase);\n\nexport default CanvasLegend;","/**\n * @description 使用 HTML 进行渲染的图例\n */\nimport { __assign, __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport { BBox } from '@antv/g';\nimport * as Util from '@antv/util';\nimport CategoryBase from './base';\nvar DEFAULT_THEME = {\n  backgroundStyle: {\n    position: 'absolute',\n    overflow: 'auto',\n    top: 0,\n    left: 0\n  },\n  titleStyle: {\n    marginBottom: '4px'\n  },\n  listStyle: {\n    listStyleType: 'none',\n    margin: 0,\n    padding: 0\n  },\n  itemStyle: {\n    cursor: 'pointer',\n    marginBottom: '5px',\n    marginRight: '16px',\n    userSelect: 'none'\n  },\n  markerStyle: {\n    width: '9px',\n    height: '9px',\n    borderRadius: '50%',\n    display: 'inline-block',\n    marginRight: '8px',\n    verticalAlign: 'middle'\n  },\n  pagination: {\n    activeColor: '#000',\n    inactiveColor: '#ccc',\n    arrowSize: 8,\n    animation: true\n  }\n};\n\nfunction _findParentNode(node, className) {\n  var nodeClass = node.className;\n\n  if (Util.isNil(nodeClass)) {\n    return node;\n  }\n\n  nodeClass = nodeClass.split(' ');\n\n  if (nodeClass.indexOf(className) > -1) {\n    return node;\n  }\n\n  if (node.parentNode) {\n    if (node.parentNode.className === className) {\n      return node.parentNode;\n    }\n\n    return _findParentNode(node.parentNode, className);\n  }\n\n  return null;\n}\n\nfunction _findNodeByClass(node, className) {\n  return node.getElementsByClassName(className)[0];\n}\n\nvar HTMLLegend =\n/** @class */\nfunction (_super) {\n  __extends(HTMLLegend, _super);\n\n  function HTMLLegend(cfg) {\n    return _super.call(this, __assign({\n      type: 'html-legend',\n      prefixClassName: 'g2-legend',\n      pagination: true,\n      highlight: false\n    }, cfg)) || this;\n  }\n\n  HTMLLegend.prototype.init = function () {\n    // 初始化 HTML dom\n    var fontFamily = this.get('fontFamily'); // const width = this.get('width');\n    // const height = this.get('height');\n\n    var layout = this.get('layout');\n    var maxWidth = this.get('maxWidth');\n    var maxHeight = this.get('maxHeight');\n    var prefixClassName = this.get('prefixClassName');\n    var containerTpl = this.get('containerTpl');\n\n    if (!containerTpl) {\n      containerTpl = \"<div class=\\\"\" + prefixClassName + \"\\\">\\n        <div class=\\\"\" + prefixClassName + \"-title\\\"></div>\\n        <ul class=\\\"\" + prefixClassName + \"-list\\\"></ul>\\n      </div>\";\n    }\n\n    var legendContainer = domUtil.createDom(containerTpl);\n    var backgroundStyle = Util.deepMix({}, DEFAULT_THEME.backgroundStyle, this.get('backgroundStyle'));\n    domUtil.modifyCSS(legendContainer, __assign({\n      fontFamily: fontFamily,\n      maxHeight: maxHeight + \"px\",\n      // width: 'auto',\n      width: '100%',\n      height: 'auto'\n    }, backgroundStyle));\n\n    if (layout === 'horizontal') {\n      domUtil.modifyCSS(legendContainer, {\n        maxWidth: maxWidth + \"px\"\n      });\n    }\n\n    var container = this.get('container');\n\n    if (!container) {\n      // 没有传入挂载的 dom，则作为 canvas 的兄弟节点\n      var canvas = this.get('canvas');\n      var mountNode = canvas.get('el').parentNode;\n      mountNode.appendChild(legendContainer);\n    } else if (/^\\#/.test(container)) {\n      // 如果传入 dom 节点的 id\n      var id = container.replace('#', '');\n      container = document.getElementById(id);\n      container.appendChild(legendContainer);\n    } else {\n      // 传入 dom 节点\n      container.appendChild(legendContainer);\n    }\n\n    this.set('_legendContainer', legendContainer);\n  }; // 渲染标题\n\n\n  HTMLLegend.prototype.renderTitle = function () {\n    var title = this.get('title');\n\n    if (title) {\n      var prefixClassName = this.get('prefixClassName');\n      var legendContainer = this.get('_legendContainer');\n\n      var titleContainer = _findNodeByClass(legendContainer, prefixClassName + \"-title\");\n\n      if (!titleContainer) {\n        titleContainer = domUtil.createDom(\"<div class=\\\"\" + prefixClassName + \"-title\\\"></div>\");\n        legendContainer.appendChild(titleContainer);\n      }\n\n      titleContainer.innerHTML = title;\n      var titleStyle = Util.deepMix({}, DEFAULT_THEME.titleStyle, this.get('titleStyle'));\n      domUtil.modifyCSS(titleContainer, titleStyle);\n      this.set('_titleContainer', titleContainer);\n    }\n  }; // 渲染图例项\n\n\n  HTMLLegend.prototype.renderItems = function () {\n    var _this = this;\n\n    var items = this.get('items');\n\n    if (!items || !items.length) {\n      return;\n    }\n\n    var legendContainer = this.get('_legendContainer');\n    var layout = this.get('layout');\n    var prefixClassName = this.get('prefixClassName');\n    var reversed = this.get('reversed');\n\n    if (reversed) {\n      items.reverse();\n    }\n\n    var itemGroupContainer = _findNodeByClass(legendContainer, prefixClassName + \"-list\");\n\n    if (!itemGroupContainer) {\n      itemGroupContainer = domUtil.createDom(\"<ul class=\\\"\" + prefixClassName + \"-list\\\"></ul>\");\n    }\n\n    var listStyle = Util.deepMix({}, DEFAULT_THEME.listStyle, this.get('listStyle'));\n\n    if (layout === 'horizontal') {\n      // 使 itemGroupContainer 内容不换行，计算分页时才能比较 scrollWidth 和 offsetWidth 的大小。\n      // @todo ie是否会有兼容问题？\n      listStyle.width = 'max-content';\n    }\n\n    domUtil.modifyCSS(itemGroupContainer, listStyle); // 用于支持分页逻辑\n\n    var clipContainer = domUtil.createDom('<div></div>');\n    legendContainer.appendChild(clipContainer);\n    clipContainer.appendChild(itemGroupContainer);\n    this.set('_clipContainer', clipContainer);\n    this.set('_itemGroupContainer', itemGroupContainer);\n    var itemTpl = this.get('itemTpl');\n\n    if (!itemTpl) {\n      itemTpl = \"<li class=\\\"\" + prefixClassName + \"-item\\\">\\n      <span class=\\\"\" + prefixClassName + \"-item-marker\\\"></span>\\n      <span class=\\\"\" + prefixClassName + \"-item-text\\\"></span>\\n      </li>\";\n    }\n\n    var unSelectedColor = this.get('unSelectedColor');\n    var itemStyle = Util.deepMix({}, DEFAULT_THEME.itemStyle, this.get('itemStyle')); // TODO: 重命名\n\n    var markerStyle = Util.deepMix({}, DEFAULT_THEME.markerStyle, this.get('markerStyle'));\n\n    if (layout === 'horizontal') {\n      itemStyle.display = 'inline-block';\n    } else if (layout === 'vertical') {\n      itemStyle.display = 'block';\n    }\n\n    var itemMap = {};\n    Util.each(items, function (item, index) {\n      var checked = item.checked;\n\n      var value = _this.formatterValue(item.value); // 按照 formatter 配置格式化文本\n\n\n      var originColor = item.marker.fill || item.marker.stroke;\n      var color = checked ? originColor : unSelectedColor;\n      var itemDom;\n\n      if (Util.isFunction(itemTpl)) {\n        // 用户声明了回调\n        var domStr = itemTpl(value, color, checked, index);\n        itemDom = domUtil.createDom(domStr);\n      } else {\n        itemDom = domUtil.createDom(itemTpl);\n\n        var textDom = _findNodeByClass(itemDom, prefixClassName + \"-item-text\");\n\n        textDom.innerHTML = value;\n      }\n\n      itemStyle.color = color; // 设置为当前状态对应的文本颜色\n\n      markerStyle.backgroundColor = color; // 设置为当前状态 marker 的背景色\n\n      domUtil.modifyCSS(itemDom, itemStyle);\n      itemDom.setAttribute('data-checked', checked); // 存储当前的选中状态\n\n      itemDom.setAttribute('data-value', item.value); // 存储 item 的原始值\n\n      itemDom.setAttribute('data-color', originColor); // 存储 item 的原始颜色\n\n      var markerDom = _findNodeByClass(itemDom, prefixClassName + \"-item-marker\");\n\n      if (markerDom) {\n        domUtil.modifyCSS(markerDom, markerStyle);\n      }\n\n      itemGroupContainer.appendChild(itemDom);\n      itemMap[item.value] = item; // 用于快速查找 dom 对应的 item 数据\n    });\n    this.set('_itemMap', itemMap);\n\n    if (layout === 'horizontal') {\n      this._renderHorizontalPagination();\n    } else {\n      this._renderPagination();\n    }\n  };\n\n  HTMLLegend.prototype.bindEvents = function () {\n    var _this = this;\n\n    var itemGroupContainer = this.get('_itemGroupContainer');\n\n    if (!itemGroupContainer) {\n      return;\n    }\n\n    if (this.get('clickable')) {\n      itemGroupContainer.onclick = function (ev) {\n        return _this._onClick(ev);\n      };\n    }\n\n    if (this.get('hoverable')) {\n      itemGroupContainer.onmousemove = function (ev) {\n        return _this._onMousemove(ev);\n      };\n\n      itemGroupContainer.onmouseout = function (ev) {\n        return _this._onMouseout(ev);\n      };\n    }\n  };\n  /**\n   * 获取图例的宽度\n   */\n\n\n  HTMLLegend.prototype.getWidth = function () {\n    var container = this.get('_legendContainer');\n    return domUtil.getOuterWidth(container);\n  };\n  /**\n   * 获取图例的高度\n   */\n\n\n  HTMLLegend.prototype.getHeight = function () {\n    var container = this.get('_legendContainer');\n    return domUtil.getOuterHeight(container);\n  };\n  /**\n   * 获取图例的BBox\n   */\n\n\n  HTMLLegend.prototype.getBBox = function () {\n    return new BBox(this.get('x') || 0, this.get('y') || 0, this.getWidth(), this.getHeight());\n  };\n  /**\n   * 将图例移动至 (x, y）坐标点位置\n   * @param x x 坐标\n   * @param y y 坐标\n   */\n\n\n  HTMLLegend.prototype.moveTo = function (x, y) {\n    var container = this.get('_legendContainer');\n    domUtil.modifyCSS(container, {\n      left: x + \"px\",\n      top: y + \"px\"\n    });\n    this.set('x', x);\n    this.set('y', y);\n  };\n  /**\n   * 销毁\n   */\n\n\n  HTMLLegend.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var container = this.get('_legendContainer');\n\n    if (container && container.parentNode) {\n      container.parentNode.removeChild(container);\n    }\n  };\n\n  HTMLLegend.prototype.draw = function () {\n    // HTML Legend 不需要调用 canvas.draw();\n    return null;\n  };\n\n  HTMLLegend.prototype._updateStatus = function (itemDom, markerDom, color, checked) {\n    if (markerDom) {\n      markerDom.style.background = color;\n    }\n\n    itemDom.style.color = color;\n    itemDom.setAttribute('data-checked', checked);\n  };\n\n  HTMLLegend.prototype._onClick = function (ev) {\n    var _this = this;\n\n    var items = this.get('items');\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var prefixClassName = this.get('prefixClassName');\n    var LIST_ITEM_CLASS = prefixClassName + \"-item\";\n    var LIST_ITEM_MARKER_CLASS = prefixClassName + \"-item-marker\";\n    var target = ev.target;\n    var targetClassName = target.className.split(' ');\n\n    if (Util.indexOf(targetClassName, prefixClassName + \"-list\") > -1) {\n      // 用户点击到了 list 容器上\n      return;\n    }\n\n    var clickedItemDom = _findParentNode(target, LIST_ITEM_CLASS);\n\n    var markerDom = _findNodeByClass(clickedItemDom, LIST_ITEM_MARKER_CLASS);\n\n    var itemMap = this.get('_itemMap');\n    var clickedItem = itemMap[clickedItemDom.getAttribute('data-value')]; // if (!clickedItem) {\n    //   return;\n    // }\n\n    var originColor = clickedItemDom.getAttribute('data-color');\n    var selectedMode = this.get('selectedMode');\n    var unSelectedColor = this.get('unSelectedColor');\n    var itemNodes = itemGroupContainer.childNodes;\n\n    if (selectedMode === 'single') {\n      // 单选模式\n      clickedItem.checked = true; // 更新选中状态\n      // 其他图例项全部置灰\n\n      Util.each(itemNodes, function (child) {\n        if (child !== clickedItemDom) {\n          // tslint:disable-next-line: no-shadowed-variable\n          var markerDom_1 = _findNodeByClass(child, LIST_ITEM_MARKER_CLASS);\n\n          _this._updateStatus(child, markerDom_1, unSelectedColor, 'false');\n\n          var childItem = itemMap[child.getAttribute('data-value')];\n          childItem.checked = false;\n        } else {\n          _this._updateStatus(clickedItemDom, markerDom, originColor, 'true');\n        }\n      });\n    } else {\n      // 混合模式\n      var isCurrentChecked = clickedItemDom.getAttribute('data-checked') === 'true';\n      var count_1 = 0;\n      Util.each(itemNodes, function (child) {\n        if (child.getAttribute('data-checked') === 'true') {\n          count_1++;\n        }\n      });\n\n      if (!this.get('allowAllCanceled') && isCurrentChecked && count_1 === 1) {\n        return;\n      } // 在判断最后一个图例后再更新checked状态，防止点击最后一个图例item时图例样式没有变化但是checked状态改变了 fix #422\n\n\n      clickedItem.checked = !clickedItem.checked;\n\n      if (isCurrentChecked) {\n        this._updateStatus(clickedItemDom, markerDom, unSelectedColor, 'false');\n      } else {\n        this._updateStatus(clickedItemDom, markerDom, originColor, 'true');\n      }\n    }\n\n    this.emit('itemclick', {\n      item: clickedItem,\n      currentTarget: clickedItemDom,\n      checked: selectedMode === 'single' ? true : clickedItem.checked\n    });\n  };\n\n  HTMLLegend.prototype._onMousemove = function (ev) {\n    var lastActiveItem = this.get('_lastActiveItem');\n    var items = this.get('items');\n    var itemMap = this.get('_itemMap');\n    var prefixClassName = this.get('prefixClassName');\n    var LIST_CLASS = prefixClassName + \"-list\";\n    var LIST_ITEM_CLASS = prefixClassName + \"-item\";\n    var target = ev.target;\n    var targetClassName = target.className.split(' ');\n\n    if (Util.indexOf(targetClassName, LIST_CLASS) > -1) {\n      // 用户 move 到了 list 容器上\n      return;\n    }\n\n    var hoveredItemDom = _findParentNode(target, LIST_ITEM_CLASS);\n\n    var hoveredItem = itemMap[hoveredItemDom.getAttribute('data-value')];\n\n    if (hoveredItem) {\n      var highlight = this.get('highlight');\n\n      if (hoveredItem.checked && lastActiveItem !== hoveredItem) {\n        // 只有选中状态才应用样式\n        hoveredItemDom.className += ' active';\n\n        if (highlight) {\n          // 如果开启高亮效果\n          var itemGroupContainer = this.get('_itemGroupContainer');\n          var itemNodes = itemGroupContainer.childNodes;\n          itemNodes.forEach(function (itemNode) {\n            if (itemNode !== hoveredItemDom && itemNode.getAttribute('data-checked') === 'true') {\n              itemNode.className += ' inactive';\n            }\n          });\n        }\n\n        this.set('_lastActiveItem', hoveredItem);\n      }\n\n      this.emit('itemmouseover', {\n        item: hoveredItem,\n        currentTarget: hoveredItemDom,\n        checked: hoveredItem.checked\n      });\n    }\n  };\n\n  HTMLLegend.prototype._onMouseout = function (ev) {\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var itemNodes = itemGroupContainer.childNodes;\n    itemNodes.forEach(function (node) {\n      var className = node.className.split(' ');\n      Util.remove(className, function (a) {\n        return a === 'active' || a === 'inactive';\n      });\n      node.className = className.join(' ');\n    });\n    this.set('_lastActiveItem', null);\n    this.emit('itemmouseleave', ev);\n  };\n\n  HTMLLegend.prototype._renderPagination = function () {\n    var pagination = this.get('pagination');\n    var legendContainer = this.get('_legendContainer');\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var paginationDomStr = \"\\n      <div style=\\\"position: absolute;bottom: 0;left: 0;user-select: none;margin-top: 5px;\\\">\\n        <div class=\\\"pre-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(-135deg);transform: rotate(-135deg);margin-left: 2px;\\\">\\n        </div>\\n        <span class=\\\"current-page-number\\\">1</span> /  <span class=\\\"total-page-number\\\">0</span>\\n        <div class=\\\"next-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(45deg);transform: rotate(45deg);margin-right: 2px;\\\">\\n        </div>\\n      </div>\\n    \"; // 分页器结构模板，目前不允许自定义\n\n    if (pagination && legendContainer.scrollHeight > legendContainer.offsetHeight) {\n      // 满足分页条件\n      domUtil.modifyCSS(legendContainer, {\n        overflow: 'hidden',\n        height: this.get('maxHeight') + \"px\"\n      }); // 如果允许分页，则禁止滚动\n\n      var paginationDom = domUtil.createDom(paginationDomStr);\n      legendContainer.appendChild(paginationDom);\n      var legendContainerHeight = this.getHeight(); // legend 容器的高度\n\n      var titleHeight = this.get('_titleContainer') ? domUtil.getOuterHeight(this.get('_titleContainer')) : 0; // Legend 标题的高度\n\n      var paginationHeight = domUtil.getOuterHeight(paginationDom); // 分页器的高度\n\n      var itemGroupContainerHeight = legendContainerHeight - titleHeight - paginationHeight; // 获取图例项容器的可视高度\n\n      var itemGroupContainerOffsetHeight = itemGroupContainer.offsetHeight; // 获取图例项实际的高度\n      // 剪切区域的样式设置\n\n      var clipContainer = this.get('_clipContainer');\n      domUtil.modifyCSS(clipContainer, {\n        maxHeight: itemGroupContainerHeight + \"px\",\n        overflow: 'hidden'\n      });\n      var pageSize_1 = Math.ceil(itemGroupContainerOffsetHeight / itemGroupContainerHeight); // 计算页数\n\n      var itemHeight = domUtil.getOuterHeight(itemGroupContainer.childNodes[0]); // 获取每个图例项的高度\n\n      var onePageCount = Math.floor(itemGroupContainerHeight / itemHeight); // 计算一页可完整显示的图例项个数\n\n      var deltaHeight_1 = onePageCount * itemHeight; // 每页滚动的高度\n\n      var currentPageNum_1 = _findNodeByClass(paginationDom, 'current-page-number');\n\n      var totalPageNum = _findNodeByClass(paginationDom, 'total-page-number');\n\n      var prePageButton_1 = _findNodeByClass(paginationDom, 'pre-page');\n\n      var nextPageButton_1 = _findNodeByClass(paginationDom, 'next-page');\n\n      totalPageNum.innerHTML = pageSize_1;\n      var paginationCfg = Util.deepMix({}, DEFAULT_THEME.pagination, pagination);\n      var activeStyle_1 = {\n        cursor: 'pointer',\n        border: paginationCfg.activeColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      var inactiveStyle_1 = {\n        cursor: 'default',\n        border: paginationCfg.inactiveColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      domUtil.modifyCSS(prePageButton_1, inactiveStyle_1);\n      domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n\n      if (paginationCfg.animation) {\n        // 允许分页的滚动动画\n        domUtil.modifyCSS(itemGroupContainer, {\n          transition: 'transform .3s ease-in'\n        });\n      }\n\n      var currentPage_1 = 1;\n      var translateY_1 = 0;\n\n      prePageButton_1.onclick = function () {\n        if (currentPage_1 === 1) {\n          return;\n        }\n\n        currentPage_1 -= 1;\n        translateY_1 += deltaHeight_1;\n        currentPageNum_1.innerHTML = currentPage_1;\n        domUtil.modifyCSS(prePageButton_1, activeStyle_1);\n        domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateY(\" + translateY_1 + \"px)\"\n        });\n\n        if (currentPage_1 === 1) {\n          domUtil.modifyCSS(prePageButton_1, inactiveStyle_1);\n        }\n      };\n\n      nextPageButton_1.onclick = function () {\n        if (currentPage_1 === pageSize_1) {\n          return;\n        }\n\n        currentPage_1 += 1;\n        translateY_1 -= deltaHeight_1;\n        currentPageNum_1.innerHTML = currentPage_1;\n        domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n        domUtil.modifyCSS(prePageButton_1, activeStyle_1);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateY(\" + translateY_1 + \"px)\"\n        });\n\n        if (currentPage_1 === pageSize_1) {\n          domUtil.modifyCSS(nextPageButton_1, inactiveStyle_1);\n        }\n      };\n    }\n  };\n\n  HTMLLegend.prototype._renderHorizontalPagination = function () {\n    var pagination = this.get('pagination');\n    var legendContainer = this.get('_legendContainer');\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var paginationDomStr = \"\\n      <div style=\\\"position: absolute;bottom: 4px;right: 12px;user-select: none;margin-top: 5px;background: #fff;\\\">\\n        <div class=\\\"pre-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(-135deg);transform: rotate(-135deg);margin-left: 2px;\\\">\\n        </div>\\n        <span class=\\\"current-page-number\\\">1</span> /  <span class=\\\"total-page-number\\\">0</span>\\n        <div class=\\\"next-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(45deg);transform: rotate(45deg);margin-right: 2px;\\\">\\n        </div>\\n      </div>\\n    \"; // 分页器结构模板，目前不允许自定义\n\n    if (pagination && legendContainer.scrollWidth > legendContainer.offsetWidth) {\n      // 满足分页条件\n      domUtil.modifyCSS(legendContainer, {\n        overflow: 'hidden',\n        width: this.get('maxWidth') + \"px\"\n      }); // 如果允许分页，则禁止滚动\n\n      var paginationDom = domUtil.createDom(paginationDomStr);\n      legendContainer.appendChild(paginationDom);\n      var legendContainerWidth = this.getWidth(); // legend 容器的宽度\n      // const titleHeight = this.get('_titleContainer') ?\n      // Util.getOuterHeight(this.get('_titleContainer')) : 0;  // Legend 标题的高度\n\n      var paginationWidth = domUtil.getOuterWidth(paginationDom); // 分页器的宽度\n\n      var itemGroupContainerWidth = legendContainerWidth - paginationWidth - 40; // 获取图例项容器的可视宽度\n\n      var itemGroupContainerOffsetWidth = itemGroupContainer.offsetWidth; // 获取图例项实际的宽度\n      // 剪切区域的样式设置\n\n      var clipContainer = this.get('_clipContainer');\n      domUtil.modifyCSS(clipContainer, {\n        maxWidth: itemGroupContainerWidth + \"px\",\n        overflow: 'hidden'\n      });\n      var pageSize_2 = Math.ceil(itemGroupContainerOffsetWidth / itemGroupContainerWidth); // 计算页数\n\n      var itemWidth = domUtil.getOuterWidth(itemGroupContainer.childNodes[0]); // 获取每个图例项的宽度\n      // const onePageCount = Math.floor(itemGroupContainerWidth / itemWidth); // 计算一页可完整显示的图例项个数\n\n      var deltaWidth_1 = itemGroupContainerWidth; // 每页滚动的宽度\n\n      var currentPageNum_2 = _findNodeByClass(paginationDom, 'current-page-number');\n\n      var totalPageNum = _findNodeByClass(paginationDom, 'total-page-number');\n\n      var prePageButton_2 = _findNodeByClass(paginationDom, 'pre-page');\n\n      var nextPageButton_2 = _findNodeByClass(paginationDom, 'next-page');\n\n      totalPageNum.innerHTML = pageSize_2;\n      var paginationCfg = Util.deepMix({}, DEFAULT_THEME.pagination, pagination);\n      var activeStyle_2 = {\n        cursor: 'pointer',\n        border: paginationCfg.activeColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      var inactiveStyle_2 = {\n        cursor: 'default',\n        border: paginationCfg.inactiveColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      domUtil.modifyCSS(prePageButton_2, inactiveStyle_2);\n      domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n\n      if (paginationCfg.animation) {\n        // 允许分页的滚动动画\n        domUtil.modifyCSS(itemGroupContainer, {\n          transition: 'transform .3s ease-in'\n        });\n      }\n\n      var currentPage_2 = 1;\n      var translateX_1 = 0;\n\n      prePageButton_2.onclick = function () {\n        if (currentPage_2 === 1) {\n          return;\n        }\n\n        currentPage_2 -= 1;\n        translateX_1 += deltaWidth_1;\n        currentPageNum_2.innerHTML = currentPage_2;\n        domUtil.modifyCSS(prePageButton_2, activeStyle_2);\n        domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateX(\" + translateX_1 + \"px)\"\n        });\n\n        if (currentPage_2 === 1) {\n          domUtil.modifyCSS(prePageButton_2, inactiveStyle_2);\n        }\n      };\n\n      nextPageButton_2.onclick = function () {\n        if (currentPage_2 === pageSize_2) {\n          return;\n        }\n\n        currentPage_2 += 1;\n        translateX_1 -= deltaWidth_1;\n        currentPageNum_2.innerHTML = currentPage_2;\n        domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n        domUtil.modifyCSS(prePageButton_2, activeStyle_2);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateX(\" + translateX_1 + \"px)\"\n        });\n\n        if (currentPage_2 === pageSize_2) {\n          domUtil.modifyCSS(nextPageButton_2, inactiveStyle_2);\n        }\n      };\n    }\n  };\n\n  return HTMLLegend;\n}(CategoryBase);\n\nexport default HTMLLegend;","import { __assign, __extends } from \"tslib\";\nimport { Element } from '@antv/g';\nimport * as _ from '@antv/util';\nimport Guide from '../base';\n\nvar Annotation =\n/** @class */\nfunction (_super) {\n  __extends(Annotation, _super);\n\n  function Annotation(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, __assign({\n      xScales: null,\n      yScales: null,\n      el: null\n    }, cfg)) || this;\n  }\n\n  Annotation.prototype.clear = function () {\n    var el = this.get('el');\n\n    if (el) {\n      el.remove();\n    }\n  };\n\n  Annotation.prototype.changeVisible = function (visible) {\n    this.set('visible', visible);\n    var el = this.get('el');\n\n    if (el instanceof Element) {\n      el.set('visible', visible);\n    } else if (el instanceof HTMLElement) {\n      el.style.display = visible ? '' : 'none';\n    }\n  };\n  /** 批量修改内部状态 */\n\n\n  Annotation.prototype.change = function (cfg) {\n    this.cfg = _.deepMix({}, this.cfg, cfg);\n  }; // 修改基类会导致label中大量不严谨的类型写法需要重构\n\n\n  Annotation.prototype.get = function (name) {\n    return this.cfg[name];\n  };\n\n  Annotation.prototype.set = function (name, value) {\n    this.cfg[name] = value;\n    return this;\n  };\n\n  Annotation.prototype.parsePoint = function (coord, _position) {\n    var xScales = this.get('xScales');\n    var yScales = this.get('yScales');\n    var position = _.isFunction(_position) ? _position.call(null, xScales, yScales) : _position;\n    var x = 0;\n    var y = 0; // 入参是['50%', '50%']时\n\n    if (_.isArray(position) && _.includes(position[0], '%')) {\n      return this.parsePercentPoint(coord, position);\n    }\n\n    if (_.isArray(position)) {\n      x = this.getNormalizedValue(position[0], _.head(_.values(xScales)));\n      y = this.getNormalizedValue(position[1], _.head(_.values(yScales)));\n    } else if (!_.isNil(position)) {\n      for (var _i = 0, _a = _.keys(position); _i < _a.length; _i++) {\n        var key = _a[_i];\n        var value = position[key];\n\n        if (xScales[key]) {\n          x = this.getNormalizedValue(value, xScales[key]);\n        }\n\n        if (yScales[key]) {\n          y = this.getNormalizedValue(value, yScales[key]);\n        }\n      }\n    }\n\n    return coord.convert({\n      x: x,\n      y: y\n    });\n  };\n\n  Annotation.prototype.getNormalizedValue = function (val, scale) {\n    var result;\n    var scaled;\n\n    switch (val) {\n      case 'start':\n        result = 0;\n        break;\n\n      case 'end':\n        result = 1;\n        break;\n\n      case 'median':\n        {\n          scaled = scale.isCategory ? (scale.values.length - 1) / 2 : (scale.min + scale.max) / 2;\n          result = scale.scale(scaled);\n          break;\n        }\n\n      case 'min':\n      case 'max':\n        if (scale.isCategory) {\n          scaled = val === 'min' ? 0 : scale.values.length - 1;\n        } else {\n          scaled = scale[val];\n        }\n\n        result = scale.scale(scaled);\n        break;\n\n      default:\n        result = scale.scale(val);\n    }\n\n    return result;\n  };\n\n  Annotation.prototype.parsePercentPoint = function (coord, position) {\n    var xPercent = parseFloat(position[0]) / 100;\n    var yPercent = parseFloat(position[1]) / 100;\n    var start = coord.start,\n        end = coord.end;\n    var topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y)\n    };\n    var x = coord.getWidth() * xPercent + topLeft.x;\n    var y = coord.getHeight() * yPercent + topLeft.y;\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  return Annotation;\n}(Guide);\n\nexport default Annotation;","import { __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nimport { FONT_FAMILY } from '../const';\nimport Annotation from './base';\n\nvar Line =\n/** @class */\nfunction (_super) {\n  __extends(Line, _super);\n\n  function Line(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, _.deepMix({\n      type: 'line',\n      xScales: null,\n      yScales: null,\n      line: {\n        style: {\n          stroke: '#000'\n        }\n      },\n      text: {\n        display: true,\n        position: 'end',\n        autoRotate: true,\n        style: {\n          fill: '#999',\n          fontSize: 12,\n          fontWeight: 500,\n          fontFamily: FONT_FAMILY\n        }\n      }\n    }, cfg)) || this;\n  }\n\n  Line.prototype.render = function (coord, group) {\n    var _this = this;\n\n    var start = this.parsePoint(coord, this.get('start'));\n    var end = this.parsePoint(coord, this.get('end'));\n    var guideLineGroup = group.addGroup();\n    this.drawLines(start, end, guideLineGroup);\n    var text = this.get('text');\n\n    if (text.display && text.content) {\n      this.drawText(start, end, guideLineGroup);\n    }\n\n    guideLineGroup.get('children').forEach(function (child) {\n      child.name = 'annotation-line';\n      _this.get('appendInfo') && child.setSilent('appendInfo', _this.get('appendInfo'));\n    });\n    this.set('el', guideLineGroup);\n  };\n\n  Line.prototype.drawLines = function (start, end, group) {\n    var path = [['M', start.x, start.y], ['L', end.x, end.y]];\n    group.addShape('Path', {\n      attrs: _.assign({\n        path: path\n      }, this.get('line').style)\n    });\n  };\n\n  Line.prototype.drawText = function (start, end, group) {\n    var textCfg = this.get('text');\n    var position = textCfg.position;\n    var textStyle = textCfg.style || {};\n    var percent = 1;\n\n    if (position === 'start') {\n      percent = 0;\n    } else if (position === 'center') {\n      percent = 0.5;\n    } else if (!_.isNil(position) && _.includes(position, '%')) {\n      percent = parseInt(position, 10) / 100;\n    } else if (_.isNumber(position) && position >= 0 && position < 1) {\n      percent = position;\n    }\n\n    var cfg = {\n      x: start.x + (end.x - start.x) * percent,\n      y: start.y + (end.y - start.y) * percent,\n      text: textCfg.content\n    };\n\n    if (textCfg.offsetX) {\n      // 设置了偏移量\n      cfg.x += textCfg.offsetX;\n    }\n\n    if (textCfg.offsetY) {\n      // 设置了偏移量\n      cfg.y += textCfg.offsetY;\n    }\n\n    _.assign(cfg, textStyle);\n\n    if (textCfg.autoRotate && _.isNil(textStyle.rotate)) {\n      // 自动旋转且用户没有设置旋转角度\n      var angle = vec2.angleTo([end.x - start.x, end.y - start.y], [1, 0], 1);\n      cfg.rotate = angle;\n    } else if (!_.isNil(textStyle.rotate)) {\n      // 用户设置了旋转角度\n      cfg.rotate = textStyle.rotate * Math.PI / 180;\n    }\n\n    group.addShape('Text', {\n      attrs: cfg\n    });\n  };\n\n  return Line;\n}(Annotation);\n\nexport default Line;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Annotation from './base';\n\nvar Text =\n/** @class */\nfunction (_super) {\n  __extends(Text, _super);\n\n  function Text(cfg) {\n    return _super.call(this, __assign({\n      type: 'text',\n      position: null,\n      content: null,\n      style: {\n        fill: '#999',\n        fontSize: 12,\n        fontWeight: 500,\n        textAlign: 'center'\n      }\n    }, cfg)) || this;\n  }\n\n  Text.prototype.render = function (coord, group) {\n    var point = this.parsePoint(coord, this.get('position'));\n\n    var textStyle = _.clone(this.get('style'));\n\n    var offsetX = this.get('offsetX');\n    var offsetY = this.get('offsetY');\n\n    if (offsetX) {\n      point.x += offsetX;\n    }\n\n    if (offsetY) {\n      point.y += offsetY;\n    }\n\n    if (textStyle.rotate) {\n      textStyle.rotate = textStyle.rotate * Math.PI / 180; // 将角度转换为弧度\n    }\n\n    var guideText = group.addShape('Text', {\n      zIndex: this.get('zIndex'),\n      attrs: _.assign({\n        text: this.get('content')\n      }, textStyle, point)\n    });\n    guideText.name = 'annotation-text';\n\n    if (this.get('appendInfo')) {\n      guideText.setSilent('appendInfo', this.get('appendInfo'));\n    }\n\n    this.set('el', guideText);\n  };\n\n  return Text;\n}(Annotation);\n\nexport default Text;","import { __assign, __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nimport Annotation from './base'; // 只适用于极坐标系\n\nvar Arc =\n/** @class */\nfunction (_super) {\n  __extends(Arc, _super);\n\n  function Arc(cfg) {\n    return _super.call(this, __assign({\n      type: 'arc',\n      start: null,\n      end: null,\n      style: {\n        stroke: '#999',\n        lineWidth: 1\n      }\n    }, cfg)) || this;\n  }\n\n  Arc.prototype.render = function (coord, group) {\n    var originStart = this.get('start');\n    var originEnd = this.get('end');\n    var start = this.parsePoint(coord, this.get('start'));\n    var end = this.parsePoint(coord, this.get('end'));\n    var coordCenter = coord.getCenter();\n    var radius = Math.sqrt((start.x - coordCenter.x) * (start.x - coordCenter.x) + (start.y - coordCenter.y) * (start.y - coordCenter.y));\n    var path = [['M', start.x, start.y]]; // 圆形\n\n    if (_.isNumberEqual(start.x, end.x) && _.isNumberEqual(start.y, end.y)) {\n      if (_.isEqual(originStart, originEnd)) {\n        // 只有一个点，不进行绘制\n        console.warn('start point is the same as end point!');\n      } else {\n        path = [['M', start.x, start.y], ['A', radius, radius, 0, 1, 1, 2 * coordCenter.x - start.x, 2 * coordCenter.y - start.y], ['A', radius, radius, 0, 1, 1, start.x, start.y]];\n      }\n    } else {\n      // 只适用于start和end，yScale值相同，需要判断scale结果\n      // 求向量 center -> start 和 center -> end 的顺时针角度\n      // 即等于求 start -> center 和 end -> center 的逆时针角度\n      var dAngle = vec2.angleTo([coordCenter.x - start.x, coordCenter.y - start.y], [coordCenter.x - end.x, coordCenter.y - end.y], 0);\n      var largeArc = dAngle > Math.PI ? 1 : 0;\n      path = [['M', start.x, start.y], ['A', radius, radius, 0, largeArc, 1, end.x, end.y]];\n    }\n\n    var arcShape = group.addShape('path', {\n      zIndex: this.get('zIndex'),\n      attrs: _.assign({\n        path: path\n      }, this.get('style'))\n    });\n    arcShape.name = 'annotation-arc'; // 用于事件以及动画识别\n\n    if (this.get('appendInfo')) {\n      arcShape.setSilent('appendInfo', this.get('appendInfo'));\n    }\n\n    this.set('el', arcShape);\n  };\n\n  return Arc;\n}(Annotation);\n\nexport default Arc;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Annotation from './base';\n\nvar Region =\n/** @class */\nfunction (_super) {\n  __extends(Region, _super);\n\n  function Region(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, __assign({\n      type: 'region',\n      zIndex: 1,\n      start: null,\n      end: null,\n      style: {\n        lineWidth: 0,\n        fill: '#CCD7EB',\n        opacity: 0.4\n      }\n    }, cfg)) || this;\n  }\n\n  Region.prototype.render = function (coord, group) {\n    var rectStyle = this.get('style');\n    var path = this.getPath(coord);\n    var regionGroup = group.addShape('path', {\n      zIndex: this.get('zIndex'),\n      attrs: _.assign({\n        path: path\n      }, rectStyle)\n    });\n    regionGroup.name = 'annotation-region';\n    this.get('appendInfo') && regionGroup.setSilent('appendInfo', this.get('appendInfo'));\n    this.set('el', regionGroup);\n  };\n\n  Region.prototype.getPath = function (coord) {\n    var start = this.parsePoint(coord, this.get('start'));\n    var end = this.parsePoint(coord, this.get('end'));\n    return [['M', start.x, start.y], ['L', end.x, start.y], ['L', end.x, end.y], ['L', start.x, end.y], ['z']];\n  };\n\n  return Region;\n}(Annotation);\n\nexport default Region;","import { __assign, __extends } from \"tslib\";\nimport Annotation from './base';\n\nvar Image =\n/** @class */\nfunction (_super) {\n  __extends(Image, _super);\n\n  function Image(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, __assign({\n      type: 'image',\n      start: null,\n      end: null,\n      src: ''\n    }, cfg)) || this;\n  }\n\n  Image.prototype.render = function (coord, group) {\n    var start = this.parsePoint(coord, this.get('start'));\n    var cfg = {\n      x: start.x,\n      y: start.y,\n      img: this.get('src')\n    };\n\n    if (!this.get('end')) {\n      cfg.width = this.get('width') || 32;\n      cfg.height = this.get('height') || 32;\n    } else {\n      var end = this.parsePoint(coord, this.get('end'));\n      cfg.width = end.x - start.x;\n      cfg.height = end.y - start.y;\n    }\n\n    if (this.get('offsetX')) {\n      cfg.x += this.get('offsetX');\n    }\n\n    if (this.get('offsetY')) {\n      cfg.y += this.get('offsetY');\n    }\n\n    var imgGuide = group.addShape('Image', {\n      zIndex: 1,\n      attrs: cfg\n    });\n    imgGuide.name = 'annotation-image';\n    this.get('appendInfo') && imgGuide.setSilent('appendInfo', this.get('appendInfo'));\n    this.set('el', imgGuide);\n  };\n\n  return Image;\n}(Annotation);\n\nexport default Image;","import { __assign, __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport * as _ from '@antv/util';\nimport Annotation from './base';\n\nvar Html =\n/** @class */\nfunction (_super) {\n  __extends(Html, _super);\n\n  function Html(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, __assign({\n      type: 'html',\n      zIndex: 7,\n      position: null,\n      alignX: 'middle',\n      alignY: 'middle',\n      offsetX: null,\n      offsetY: null,\n      html: null\n    }, cfg)) || this;\n  }\n\n  Html.prototype.render = function (coord, container) {\n    var position = this.parsePoint(coord, this.get('position'));\n    var parentNode = container.get('canvas').get('el').parentNode;\n    var wrapperNode = domUtil.createDom('<div class=\"guide-annotation\"></div>');\n    parentNode.appendChild(wrapperNode);\n    var html = this.get('html');\n\n    if (_.isFunction(html)) {\n      var xScales = this.get('xScales');\n      var yScales = this.get('yScales');\n      html = html(xScales, yScales);\n    } // 判断 html 是 Html element 还是 html string\n\n\n    var htmlNode = _.isElement(html) ? html : domUtil.createDom(html);\n    wrapperNode.appendChild(htmlNode);\n    domUtil.modifyCSS(wrapperNode, {\n      position: 'absolute'\n    });\n    this.setDomPosition(wrapperNode, htmlNode, position);\n    this.set('el', wrapperNode);\n  };\n\n  Html.prototype.clear = function () {\n    // 由于基类使用了childNode.remove，而IE不支持该方法，需要进行兼容\n    var el = this.get('el');\n    el && el.parentNode && el.parentNode.removeChild(el);\n  };\n\n  Html.prototype.setDomPosition = function (parentDom, childDom, point) {\n    var alignX = this.get('alignX');\n    var alignY = this.get('alignY');\n    var domWidth = domUtil.getOuterWidth(childDom);\n    var domHeight = domUtil.getOuterHeight(childDom);\n    var position = {\n      x: point.x,\n      y: point.y\n    };\n\n    if (alignX === 'middle') {\n      position.x -= Math.round(domWidth / 2);\n    } else if (alignX === 'right') {\n      position.x -= Math.round(domWidth);\n    }\n\n    if (alignY === 'middle') {\n      position.y -= Math.round(domHeight / 2);\n    } else if (alignY === 'bottom') {\n      position.y -= Math.round(domHeight);\n    }\n\n    var offsetX = this.get('offsetX');\n\n    if (offsetX) {\n      position.x += offsetX;\n    }\n\n    var offsetY = this.get('offsetY');\n\n    if (offsetY) {\n      position.y += offsetY;\n    }\n\n    domUtil.modifyCSS(parentDom, {\n      top: Math.round(position.y) + \"px\",\n      left: Math.round(position.x) + \"px\",\n      zIndex: this.get('zIndex')\n    });\n  };\n\n  return Html;\n}(Annotation);\n\nexport default Html;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Annotation from './base';\n\nvar DataMarker =\n/** @class */\nfunction (_super) {\n  __extends(DataMarker, _super);\n\n  function DataMarker(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, _.deepMix({\n      type: 'dataMarker',\n      zIndex: 1,\n      position: null,\n      point: {\n        display: true,\n        style: {\n          r: 3,\n          fill: '#ffffff',\n          stroke: '#1890FF',\n          lineWidth: 2\n        }\n      },\n      line: {\n        display: true,\n        lineLength: 20,\n        style: {\n          stroke: '#A3B1BF',\n          lineWidth: 1\n        }\n      },\n      text: {\n        display: true,\n        style: {\n          fill: '#000000',\n          opacity: 0.65,\n          fontSize: 12,\n          textAlign: 'start'\n        }\n      },\n      direction: 'upward',\n      autoAdjust: true\n    }, cfg)) || this;\n  }\n\n  DataMarker.prototype.render = function (coord, group) {\n    var _this = this;\n\n    var point = this.parsePoint(coord, this.get('position')); // container\n\n    var markerGroup = group.addGroup();\n    var positions = this.getElementPosition(point);\n    var lineCfg = this.get('line');\n    var pointCfg = this.get('point');\n    var textCfg = this.get('text');\n    var lineShape;\n    var textShape; // add line\n\n    if (lineCfg.display) {\n      var lineData = positions.line;\n      lineShape = this.drawLine(lineData, markerGroup);\n    } // add text\n\n\n    if (textCfg.display && textCfg.content) {\n      var textPosition = positions.text;\n      textShape = this.drawText(textPosition, markerGroup);\n    } // add circle\n\n\n    if (pointCfg.display) {\n      var pointPoisition = positions.point;\n      this.drawPoint(pointPoisition, markerGroup);\n    }\n\n    if (this.get('autoAdjust')) {\n      var bbox = markerGroup.getBBox();\n      var minX = bbox.minX,\n          minY = bbox.minY,\n          maxX = bbox.maxX,\n          maxY = bbox.maxY;\n      var start = coord.start,\n          end = coord.end;\n\n      if (textShape) {\n        if (minX <= start.x) {\n          // 左侧超出\n          textShape.attr('textAlign', 'start');\n        }\n\n        if (maxX >= end.x) {\n          // 右侧超出\n          textShape.attr('textAlign', 'end');\n        }\n\n        var direction = this.get('direction');\n\n        if (direction === 'upward' && minY <= end.y || direction !== 'upward' && maxY >= start.y) {\n          // 上方或者下方超出\n          var textBaseline = void 0;\n          var dir = void 0;\n\n          if (direction === 'upward' && minY <= end.y) {\n            textBaseline = 'top';\n            dir = 1;\n          } else {\n            textBaseline = 'bottom';\n            dir = -1;\n          }\n\n          textShape.attr('textBaseline', textBaseline);\n          var lineLength = 0;\n\n          if (lineCfg.display) {\n            lineLength = lineCfg.lineLength;\n            var linePath = [['M', point.x, point.y], ['L', point.x, point.y + lineLength * dir]];\n            lineShape.attr('path', linePath);\n          }\n\n          var newY = point.y + (lineLength + 2) * dir;\n          textShape.attr('y', newY);\n        }\n      }\n    } // 用于事件以及动画识别\n\n\n    markerGroup.get('children').forEach(function (child) {\n      child.name = 'annotation-data-marker';\n      _this.get('appendInfo') && child.setSilent('appendInfo', _this.get('appendInfo'));\n    });\n    this.set('el', markerGroup);\n  };\n\n  DataMarker.prototype.getElementPosition = function (position) {\n    var x = position.x,\n        y = position.y;\n    var lineLength = this.get('line').display ? this.get('line').lineLength : 0;\n    var direction = this.get('direction');\n    var textStyle = this.get('text').style;\n    textStyle.textBaseline = direction === 'upward' ? 'bottom' : 'top';\n    var dir = direction === 'upward' ? -1 : 1;\n    var pointPoisition = {\n      x: x,\n      y: y\n    };\n    var lineStart = {\n      x: x,\n      y: y\n    };\n    var lineEnd = {\n      x: x,\n      y: lineLength * dir + y\n    };\n    var textPosition = {\n      x: x,\n      y: (lineLength + 2) * dir + y\n    };\n    return {\n      point: pointPoisition,\n      line: [lineStart, lineEnd],\n      text: textPosition\n    };\n  };\n\n  DataMarker.prototype.drawLine = function (lineData, g) {\n    var lineStyle = this.get('line').style;\n    var linePath = [['M', lineData[0].x, lineData[0].y], ['L', lineData[1].x, lineData[1].y]];\n    var lineShape = g.addShape('path', {\n      attrs: _.assign({\n        path: linePath\n      }, lineStyle)\n    });\n    return lineShape;\n  };\n\n  DataMarker.prototype.drawText = function (position, g) {\n    var textCfg = this.get('text');\n    var textShape = g.addShape('text', {\n      attrs: _.assign({\n        text: textCfg.content\n      }, textCfg.style, position)\n    });\n    return textShape;\n  };\n\n  DataMarker.prototype.drawPoint = function (position, g) {\n    var pointStyle = this.get('point').style;\n    var pointShape = g.addShape('circle', {\n      attrs: _.assign({}, pointStyle, position)\n    });\n    return pointShape;\n  };\n\n  return DataMarker;\n}(Annotation);\n\nexport default DataMarker;","import { __extends } from \"tslib\";\nimport { BBox } from '@antv/g';\nimport * as _ from '@antv/util';\nimport Annotation from './base';\n\nvar DataRegion =\n/** @class */\nfunction (_super) {\n  __extends(DataRegion, _super);\n\n  function DataRegion(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, _.deepMix({\n      type: 'dataRegion',\n      start: null,\n      end: null,\n      region: {\n        lineLength: 0,\n        style: {\n          lineWidth: 0,\n          fill: '#000000',\n          opacity: 0.04\n        }\n      },\n      text: {\n        display: true,\n        content: '',\n        style: {\n          textAlign: 'center',\n          textBaseline: 'bottom',\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, .65)'\n        }\n      }\n    }, cfg)) || this;\n  }\n\n  DataRegion.prototype.render = function (coord, group, data) {\n    var _this = this;\n\n    var regionCfg = this.get('region');\n    var textCfg = this.get('text');\n    var lineLength = regionCfg.lineLength;\n    var regionData = this.getRegionData(coord, data);\n\n    if (!regionData.length) {\n      return;\n    }\n\n    var regionBBox = this.getBBox(regionData);\n    var path = [];\n    path.push(['M', regionData[0].x, regionBBox.minY - lineLength]);\n\n    for (var i = 0, len = regionData.length; i < len; i++) {\n      var p = ['L', regionData[i].x, regionData[i].y];\n      path.push(p);\n    }\n\n    path.push(['L', regionData[regionData.length - 1].x, regionBBox.minY - lineLength]);\n    var regionGroup = group.addGroup();\n    regionGroup.addShape('path', {\n      attrs: _.mix({\n        path: path\n      }, regionCfg.style)\n    });\n\n    if (textCfg.display && textCfg.content) {\n      regionGroup.addShape('Text', {\n        attrs: _.mix({\n          x: (regionBBox.minX + regionBBox.maxX) / 2,\n          y: regionBBox.minY - lineLength,\n          text: textCfg.content\n        }, textCfg.style)\n      });\n    } // 用于事件和动画识别\n\n\n    regionGroup.get('children').forEach(function (child) {\n      child.name = 'annotation-data-region';\n      _this.get('appendInfo') && child.setSilent('appendInfo', _this.get('appendInfo'));\n    });\n    this.set('el', regionGroup);\n  };\n\n  DataRegion.prototype.getRegionData = function (coord, data) {\n    var start = this.get('start');\n    var end = this.get('end');\n\n    var xField = _.head(_.values(this.get('xScales'))).field;\n\n    var yField = _.head(_.values(this.get('yScales'))).field;\n\n    var startXValue = _.isArray(start) ? start[0] : start[xField];\n    var endXValue = _.isArray(end) ? end[0] : end[xField];\n    var startIndex;\n    var arr = [];\n\n    for (var i = 0, len = data.length; i < len; i++) {\n      var item = data[i]; // findIndex\n\n      if (item[xField] === startXValue) {\n        startIndex = i;\n      }\n\n      if (i >= startIndex) {\n        arr.push(this.parsePoint(coord, [item[xField], item[yField]]));\n      } // findLastIndex\n\n\n      if (item[xField] === endXValue) {\n        break;\n      }\n    }\n\n    return arr;\n  };\n\n  DataRegion.prototype.getBBox = function (data) {\n    var xs = [];\n    var ys = [];\n\n    for (var i = 0; i < data.length; i++) {\n      xs.push(data[i].x);\n      ys.push(data[i].y);\n    }\n\n    var xRange = _.getRange(xs);\n\n    var yRange = _.getRange(ys);\n\n    return BBox.fromRange(xRange.min, yRange.min, xRange.max, yRange.max);\n  };\n\n  return DataRegion;\n}(Annotation);\n\nexport default DataRegion;","import { __assign, __rest } from \"tslib\";\nimport { Annotation } from '@antv/component';\nimport * as _ from '@antv/util';\n\nvar AnnotationController =\n/** @class */\nfunction () {\n  function AnnotationController(acfg) {\n    this.options = [];\n    this.annotations = [];\n\n    _.assign(this, acfg);\n  }\n  /** 为当前controller新增一个辅助元素实例 */\n\n\n  AnnotationController.prototype.add = function (type, annConfig, top) {\n    if (top === void 0) {\n      top = true;\n    }\n\n    var typeName = _.upperFirst(type);\n\n    if (!Annotation[typeName]) {\n      console.error(\"Annotation \" + type + \" not exist.\");\n    } else {\n      this.options.push(__assign({\n        top: top,\n        type: type\n      }, annConfig));\n    }\n\n    return this;\n  };\n  /** 通过index获取指定的辅助元素实例 */\n\n\n  AnnotationController.prototype.get = function (idx) {\n    return this.annotations[idx];\n  };\n\n  AnnotationController.prototype.render = function (coord) {\n    var _this = this;\n\n    this.coord = coord;\n    var view = this.view;\n    var viewData = view && view.get('filteredData');\n    this.createAnnotations();\n\n    _.each(this.annotations, function (ann) {\n      if (ann.get('top')) {\n        ann.render(coord, _this.frontgroundGroup, viewData);\n      } else {\n        ann.render(coord, _this.backgroundGroup, viewData);\n      }\n    });\n  };\n  /** 控制全部辅助元素展示与否 */\n\n\n  AnnotationController.prototype.changeVisible = function (visible) {\n    _.each(this.annotations, function (ann) {\n      ann.changeVisible(visible);\n    });\n  };\n  /** 销毁所有辅助元素 */\n\n\n  AnnotationController.prototype.clear = function () {\n    this.reset();\n    this.options = [];\n    this.backgroundGroup && this.backgroundGroup.remove();\n    this.frontgroundGroup && this.frontgroundGroup.remove();\n  };\n  /** 清空画布中的辅助元素 */\n\n\n  AnnotationController.prototype.reset = function () {\n    _.each(this.annotations, function (ann) {\n      ann.clear();\n    });\n\n    this.annotations = [];\n  };\n  /** 重绘所有辅助元素 */\n\n\n  AnnotationController.prototype.repaint = function () {\n    var _this = this;\n\n    if (this.coord && this.view) {\n      var coord_1 = this.coord;\n      var viewData_1 = this.view.get('filteredData');\n\n      _.each(this.annotations, function (ann) {\n        ann.clear();\n\n        if (ann.get('top')) {\n          ann.render(coord_1, _this.frontgroundGroup, viewData_1);\n        } else {\n          ann.render(coord_1, _this.backgroundGroup, viewData_1);\n        }\n      });\n\n      var canvas = this.view.get('canvas');\n      canvas.draw();\n    } else {\n      throw new Error('need render first');\n    }\n  };\n\n  AnnotationController.prototype.createAnnotations = function () {\n    var _this = this;\n\n    _.each(this.options, function (option) {\n      var type = option.type,\n          top = option.top,\n          others = __rest(option, [\"type\", \"top\"]);\n\n      var ann = new Annotation[_.upperFirst(type)](_.deepMix({}, __assign({\n        xScales: _this.xScales,\n        yScales: _this.yScales\n      }, _.get(_this.theme, \"annotation.\" + type) ? _this.theme.annotation[type] : {}), others));\n      ann.set('top', top); // 标记渲染图层是否为frontgroundGroup\n\n      _this.annotations.push(ann);\n    });\n  };\n\n  return AnnotationController;\n}();\n\nexport default AnnotationController;","/**\n * @description path 计算、转换的辅助工具\n */\nimport * as _ from '@antv/util';\nimport { vec2 as vector2 } from '@antv/matrix-util';\n\nfunction _points2path(points, isInCircle) {\n  var path = [];\n\n  if (points.length) {\n    for (var i = 0, length_1 = points.length; i < length_1; i += 1) {\n      var item = points[i];\n      var command = i === 0 ? 'M' : 'L';\n      path.push([command, item.x, item.y]);\n    }\n\n    isInCircle && path.push(['Z']);\n  }\n\n  return path;\n}\n\nfunction _getPointRadius(coord, point) {\n  var center = coord.getCenter();\n  var r = Math.sqrt(Math.pow(point.x - center.x, 2) + Math.pow(point.y - center.y, 2));\n  return r;\n}\n\nfunction _convertArr(arr, coord) {\n  var tmp = [arr[0]];\n\n  for (var i = 1, len = arr.length; i < len; i = i + 2) {\n    var point = coord.convertPoint({\n      x: arr[i],\n      y: arr[i + 1]\n    });\n    tmp.push(point.x, point.y);\n  }\n\n  return tmp;\n}\n\nfunction _convertPolarPath(pre, cur, coord) {\n  var isTransposed = coord.isTransposed,\n      startAngle = coord.startAngle,\n      endAngle = coord.endAngle;\n  var prePoint = {\n    x: pre[1],\n    y: pre[2]\n  };\n  var curPoint = {\n    x: cur[1],\n    y: cur[2]\n  };\n  var rst = [];\n  var xDim = isTransposed ? 'y' : 'x';\n  var angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  var direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // 圆弧的方向\n\n  var flag = angleRange > Math.PI ? 1 : 0; // 大弧还是小弧标志位\n\n  var convertPoint = coord.convertPoint(curPoint);\n\n  var r = _getPointRadius(coord, convertPoint);\n\n  if (r >= 0.5) {\n    // 小于1像素的圆在图像上无法识别\n    if (angleRange === Math.PI * 2) {\n      var middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2\n      };\n      var middleConvertPoint = coord.convertPoint(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n\n  return rst;\n} // 当存在整体的圆时，去除圆前面和后面的线，防止出现直线穿过整个圆的情形\n\n\nfunction _filterFullCirleLine(path) {\n  _.each(path, function (subPath, index) {\n    var cur = subPath;\n\n    if (cur[0].toLowerCase() === 'a') {\n      var pre = path[index - 1];\n      var next = path[index + 1];\n\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\nexport var smoothBezier = function smoothBezier(points, smooth, isLoop, constraint) {\n  var cps = [];\n  var prevPoint;\n  var nextPoint;\n  var hasConstraint = !!constraint;\n  var min;\n  var max;\n\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (var i = 0, l = points.length; i < l; i++) {\n      var point = points[i];\n      min = vector2.min([], min, point);\n      max = vector2.max([], max, point);\n    }\n\n    min = vector2.min([], min, constraint[0]);\n    max = vector2.max([], max, constraint[1]);\n  }\n\n  for (var i = 0, len = points.length; i < len; i++) {\n    var point = points[i];\n\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n\n    var v = [];\n    v = vector2.sub(v, nextPoint, prevPoint);\n    v = vector2.scale(v, v, smooth);\n    var d0 = vector2.distance(point, prevPoint);\n    var d1 = vector2.distance(point, nextPoint);\n    var sum = d0 + d1;\n\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    var v1 = vector2.scale([], v, -d0);\n    var v2 = vector2.scale([], v, d1);\n    var cp0 = vector2.add([], point, v1);\n    var cp1 = vector2.add([], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vector2.max([], cp0, min);\n      cp0 = vector2.min([], cp0, max);\n      cp1 = vector2.max([], cp1, min);\n      cp1 = vector2.min([], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n}; // 贝塞尔曲线\n\nexport function catmullRom2bezier(crp, z, constraint) {\n  var isLoop = !!z;\n  var pointList = [];\n\n  for (var i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  var controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  var len = pointList.length;\n  var d1 = [];\n  var cp1;\n  var cp2;\n  var p;\n\n  for (var i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  return d1;\n} // 将点连接成路径 path\n\nexport function getLinePath(points, isInCircle) {\n  return _points2path(points, isInCircle);\n} // get spline： 限定了范围的平滑线\n\nexport function getSplinePath(points, isInCircle, constaint) {\n  var data = [];\n  var first = points[0];\n  var prePoint = null;\n\n  if (points.length <= 2) {\n    // 两点以内直接绘制成路径\n    return getLinePath(points, isInCircle);\n  }\n\n  _.each(points, function (point) {\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  });\n\n  var constraint = constaint || [[0, 0], [1, 1]];\n  var splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n} // 获取点到圆心的距离\n\nexport function getPointRadius(coord, point) {\n  return _getPointRadius(coord, point);\n} // 获取点到圆心的夹角\n\nexport function getPointAngle(coord, point) {\n  var center = coord.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\nexport function convertNormalPath(coord, path) {\n  var tmp = [];\n\n  _.each(path, function (subPath) {\n    var action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n\n  return tmp;\n}\nexport function convertPolarPath(coord, path) {\n  var tmp = [];\n  var pre;\n  var cur;\n  var transposed;\n  var equals;\n\n  _.each(path, function (subPath, index) {\n    var action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed; // 是否半径相同，转换成圆弧\n\n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y 不相等，所以直接转换\n          tmp.push(_convertArr(subPath, coord));\n        }\n\n        break;\n\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n\n  _filterFullCirleLine(tmp); // 过滤多余的直线\n\n\n  return tmp;\n}","import { __assign } from \"tslib\";\nimport * as pathUtil from '@antv/path-util';\nimport * as _ from '@antv/util';\nimport Global from '../../global';\nimport { convertNormalPath, convertPolarPath } from '../util/path';\nvar ShapeBase = {\n  _coord: null,\n  getCoord: function getCoord() {\n    return this._coord;\n  },\n\n  /**\n   * 0～1 path 转 画布 path\n   * @param path 路径\n   * @param islineToArc 是否转换成圆弧\n   * @return path 转换到画布坐标的path\n   */\n  parsePath: function parsePath(path, islineToArc) {\n    var coord = this._coord;\n    var parsedPath = pathUtil.parsePathString(path);\n\n    if (coord.isPolar && islineToArc !== false) {\n      parsedPath = convertPolarPath(coord, parsedPath);\n    } else {\n      parsedPath = convertNormalPath(coord, parsedPath);\n    }\n\n    return parsedPath;\n  },\n\n  /**\n   * 0～1 point 转 画布 point\n   * @param  point 节点\n   * @return point 转换后的点\n   */\n  parsePoint: function parsePoint(point) {\n    var coord = this._coord;\n    return coord.convertPoint(point);\n  },\n\n  /**\n   * 0～1 points 转 画布 points\n   * @param points 节点集合\n   * @return points 转换后的多个节点\n   */\n  parsePoints: function parsePoints(points) {\n    var coord = this._coord;\n    return points.map(function (point) {\n      return coord.convertPoint(point);\n    });\n  },\n\n  /**\n   * @override\n   * 创建具体的 G.Shape 实例，并将其添加至 container 绘图容器中，在注册具体的 shape 时由开发者自己定义\n   */\n  draw: function draw()\n  /* cfg: ShapeDrawCFG, container: Group */\n  {}\n};\nvar ShapeFactoryBase = {\n  _theme: Global.theme.shape,\n  _coord: null,\n  _getShapeStyleByState: function _getShapeStyleByState(shapeName, shapeState, cfg) {\n    var theme = this._theme;\n    var elementName = this.name;\n\n    if (theme && theme[elementName] && theme[elementName][shapeName]) {\n      var style = theme[elementName][shapeName][shapeState];\n\n      if (_.isFunction(style)) {\n        style = style(cfg);\n      }\n\n      return style;\n    }\n  },\n  defaultShapeType: null,\n  setCoord: function setCoord(coord) {\n    this._coord = coord;\n  },\n  setTheme: function setTheme(theme) {\n    this._theme = theme;\n  },\n  getShape: function getShape(type) {\n    var t = _.isArray(type) ? type[0] : type;\n    var shape = this[t] || this[this.defaultShapeType];\n    shape._coord = this._coord;\n    return shape;\n  },\n  getShapePoints: function getShapePoints(type, pointInfo) {\n    var shape = this.getShape(type);\n    return shape.getPoints ? shape.getPoints(pointInfo) : this.getDefaultPoints(pointInfo);\n  },\n\n  /**\n   * @override\n   */\n  getDefaultPoints: function getDefaultPoints()\n  /* pointInfo: ShapePointInfo */\n  {\n    return [];\n  },\n\n  /**\n   * @override\n   * 获取每个 shape 对应的缩略图样式\n   * @param type 图形类型\n   * @param cfg shape 的绘图属性\n   */\n  getMarkerStyle: function getMarkerStyle(type, markerCfg) {\n    var shape = this.getShape(type);\n\n    if (shape.getMarkerStyle) {\n      var markerStyle = shape.getMarkerStyle(markerCfg);\n      var theme = this._theme;\n      var shapeName = shape.name;\n      var elementName = this.name;\n\n      if (theme && theme[elementName] && theme[elementName][shapeName]) {\n        markerStyle = _.mix({}, theme[elementName][shapeName].default, markerStyle);\n      }\n\n      return markerStyle;\n    }\n  },\n\n  /**\n   * @override\n   * 获取对应 type 的 shape 的 inactive 样式\n   * @param type shape 类型\n   * @param cfg shape 的绘图属性\n   */\n  getInactiveStyle: function getInactiveStyle(type, inactiveCfg) {\n    var shape = this.getShape(type);\n\n    if (shape.getInactiveStyle) {\n      return shape.getInactiveStyle(inactiveCfg);\n    }\n\n    return this._getShapeStyleByState(shape.name, 'inactive', inactiveCfg);\n  },\n\n  /**\n   * @override\n   * 获取对应 type 的 shape 的激活样式\n   * @param type shape 类型\n   * @param cfg shape 的绘图属性\n   */\n  getActiveStyle: function getActiveStyle(type, activeCfg) {\n    var shape = this.getShape(type);\n\n    if (shape.getActiveStyle) {\n      return shape.getActiveStyle(activeCfg);\n    }\n\n    return this._getShapeStyleByState(shape.name, 'active', activeCfg);\n  },\n\n  /**\n   * @override\n   * 获取对应 type 的 shape 的选中样式\n   * @param type shape 类型\n   * @param cfg shape 的绘图属性\n   */\n  getSelectedStyle: function getSelectedStyle(type, selectedCfg) {\n    var shape = this.getShape(type);\n\n    if (shape.getSelectedStyle) {\n      return shape.getSelectedStyle(selectedCfg);\n    }\n\n    return this._getShapeStyleByState(shape.name, 'selected', selectedCfg);\n  },\n\n  /**\n   * @override\n   * 调用具体的 shape 的绘制方法\n   */\n  drawShape: function drawShape(type, cfg, container) {\n    var shape = this.getShape(type); // 应用 shape 主题配置\n\n    var shapeName = shape.name;\n    var theme = this._theme;\n    var elementName = this.name;\n\n    if (theme && theme[elementName] && theme[elementName][shapeName]) {\n      var defaultShapeStyle = theme[elementName][shapeName].default;\n      cfg.style = _.mix({}, defaultShapeStyle, cfg.style);\n    }\n\n    var gShape = shape.draw(cfg, container);\n\n    if (gShape) {\n      // TODO 支持 Group\n      gShape.setSilent('origin', cfg.origin);\n      gShape.id = cfg.yIndex ? cfg.id + cfg.yIndex : cfg.id;\n      gShape.name = this.name;\n    }\n\n    return gShape;\n  }\n};\nvar ShapeFactoryMap = {}; // 注册 Element 获取图形的入口\n\nexport function registerShapeFactory(factoryName, cfg) {\n  var className = _.upperFirst(factoryName);\n\n  var geomObj = __assign(__assign(__assign({}, ShapeFactoryBase), cfg), {\n    name: factoryName\n  });\n\n  ShapeFactoryMap[className] = geomObj;\n  return geomObj;\n} // 注册具体的 shape\n\nexport function registerShape(factoryName, shapeType, cfg) {\n  var className = _.upperFirst(factoryName);\n\n  var factory = ShapeFactoryMap[className];\n\n  var shapeObj = __assign(__assign(__assign({}, ShapeBase), cfg), {\n    name: shapeType\n  });\n\n  factory[shapeType] = shapeObj;\n  return shapeObj;\n} // 获取 Element 对应的 shapeFactory\n\nexport function getShapeFactory(factoryName) {\n  var className = _.upperFirst(factoryName);\n\n  return ShapeFactoryMap[className];\n}","import { __spreadArrays } from \"tslib\";\nimport { CanvasCategory, Color, HtmlCategory, Size } from '@antv/component/lib/legend';\nimport * as _ from '@antv/util';\nimport { getShapeFactory } from '../../element/shape/base';\nvar MARKER_SIZE = 4.5;\nvar STROKE_MARKERS = ['cross', 'tick', 'plus', 'hyphen', 'line', 'hollowCircle', 'hollowSquare', 'hollowDiamond', 'hollowTriangle', 'hollowTriangleDown', 'hollowHexagon', 'hollowBowtie'];\n\nvar findTargetScale = function findTargetScale(scales, compareScale) {\n  return _.find(scales, function (scale) {\n    var scaleValues = [].concat(scale.values);\n    var compareScaleValues = [].concat(compareScale.values);\n    return scale.type === compareScale.type && scale.field === compareScale.field && _.isEqual(scaleValues.sort(), compareScaleValues.sort());\n  });\n};\n\nvar LegendController =\n/** @class */\nfunction () {\n  function LegendController(cfg) {\n    // 类内部属性\n    // 生成的所有 legend 实例\n    this.legends = [];\n    var view = cfg.view;\n    this.view = view;\n    this.theme = view.get('theme'); // 需要用到 plot 的属性，在这里先定义出来\n  }\n  /**\n   * 生成并渲染 legend\n   */\n\n\n  LegendController.prototype.render = function () {\n    var _this = this;\n\n    this.clear();\n    var legendOptions = this.options; // 没有关闭实例\n\n    if (_.isObject(legendOptions)) {\n      // 用户自定义图例\n      if (legendOptions.custom) {\n        var legend = this.addCustomLegend();\n        this.legends.push(legend);\n      } else {\n        var elements = this.view.getElements();\n        var scales_1 = [];\n\n        _.each(elements, function (element) {\n          var view = element.get('view');\n          var attrs = element.getAttrsForLegend();\n\n          _.each(attrs, function (attr) {\n            var type = attr.type;\n            var scale = attr.getScale(type);\n\n            if (scale && scale.field && scale.type !== 'identity' && !findTargetScale(scales_1, scale)) {\n              scales_1.push(scale);\n              var filteredValues = view.getFilteredOutValues(scale.field);\n\n              var legend = _this.addLegend(legendOptions, scale, attr, element, filteredValues); // 创建成功，则放入到数组中\n\n\n              if (legend) {\n                _this.legends.push(legend);\n              }\n            }\n          });\n        });\n      }\n\n      this.alignLegends();\n    }\n  };\n  /**\n   * todo 显示隐藏图例\n   * @param visible\n   */\n\n\n  LegendController.prototype.changeVisible = function (visible) {\n    _.each(this.legends, function (legend) {\n      /* legend 暂不支持这个方法 */\n      // legend.changeVisible(visible);\n    });\n  };\n  /**\n   * 清空，销毁生成的 legend\n   */\n\n\n  LegendController.prototype.clear = function () {\n    // 1. 销毁 Legends 实例\n    _.each(this.legends, function (legend) {\n      legend.destroy();\n    });\n\n    this.legends = []; // 2. 重置配置\n\n    this.reset();\n  };\n  /**\n   * 重置配置项\n   */\n\n\n  LegendController.prototype.reset = function () {\n    this.init();\n  };\n  /**\n   * 初始化 legend 相关的属性\n   */\n\n\n  LegendController.prototype.init = function () {\n    this.options = this.getLegendOptions();\n    this.panelRange = this.view.get('panelRange');\n    this.viewRange = this.view.get('viewRange');\n    this.container = this.view.get('frontgroundGroup');\n  };\n  /**\n   * 根据相关的配置，添加一个图例\n   * @param legendOptions\n   * @param scale\n   * @param attr\n   * @param element\n   * @param filteredValues\n   */\n\n\n  LegendController.prototype.addLegend = function (legendOptions, scale, attr, element, filteredValues) {\n    var field = scale.field;\n    var fieldOption = legendOptions.fields && legendOptions.fields[field];\n\n    if (fieldOption === false) {\n      // 用户关闭 field 对应的图例\n      return;\n    } // 自定义图例\n\n\n    if (fieldOption && fieldOption.custom) {\n      return this.addCustomLegend(field);\n    }\n    /**\n     * 其他情况为连续或者分类图例的创建过程\n     * 取 position 逻辑：\n     * 1. 如果 field 上有，则取 field 上的\n     * 2. 如果 field 上没有，则取全局的 legendOption.position\n     * 3. 如果全局也没有配置，那么给一个默认值，从主题上取\n     */\n\n\n    var position = this.getFieldLegendConfig(field, 'position', this.theme.defaultLegendPosition);\n    position = this.adjustPosition(position);\n    var legend = scale.isLinear ? this.addContinuousLegend(scale, attr, position) : this.addCategoryLegend(scale, attr, element, filteredValues, position);\n\n    if (legend) {\n      this.bindHoverEvent(legend, field);\n    }\n\n    return legend;\n  };\n  /**\n   * 添加连续图例\n   * @param scale\n   * @param attr\n   * @param position\n   */\n\n\n  LegendController.prototype.addContinuousLegend = function (scale, attr, position) {\n    var container = this.container.addGroup({\n      name: 'legend'\n    });\n    var field = scale.field;\n    var ticks = scale.getTicks(); // 构造图例的 items\n\n    var items = _.map(ticks, function (tick) {\n      var value = tick.value; // scale 后的值\n\n      var tickValue = tick.tickValue; // tick text value\n\n      var originalValue = scale.invert(value); // original value\n\n      var attrValue = attr.mapping(originalValue).join('');\n      return {\n        value: tickValue,\n        color: attrValue\n      };\n    });\n\n    var containsMinValue = !!_.find(ticks, function (tick) {\n      return tick.value === 0;\n    });\n    var containsMaxValue = !!_.find(ticks, function (tick) {\n      return tick.value === 1;\n    });\n\n    if (!containsMinValue) {\n      var attrValue = attr.mapping(0).join('');\n      items.push({\n        value: scale.min,\n        color: attrValue\n      });\n    }\n\n    if (!containsMaxValue) {\n      var attrValue = attr.mapping(0).join('');\n      items.push({\n        value: scale.max,\n        color: attrValue\n      });\n    }\n\n    var legendOptions = this.options;\n    var positionArr = position.split('-');\n    var defaultCfg = this.theme.legend[positionArr[0]]; // 获取默认的图例主题配置\n\n    var legendCfg = _.deepMix({}, defaultCfg, this.getFieldLegendOption(field, legendOptions), {\n      items: items,\n      attr: attr,\n      formatter: scale.formatter,\n      container: container,\n      position: position\n    });\n\n    if (legendCfg.showTitle) {\n      _.mix(legendCfg, {\n        title: scale.field\n      });\n    }\n\n    var legend;\n\n    if (attr.type === 'color') {\n      legend = new Color(legendCfg);\n    } else if (attr.type === 'size') {\n      legend = new Size(legendCfg);\n    } else {\n      return;\n    }\n\n    this.bindFilterEvent(legend, scale);\n    return legend;\n  };\n  /**\n   * 添加分类图例\n   * @param scale\n   * @param attr\n   * @param element\n   * @param filteredValues\n   * @param position\n   */\n\n\n  LegendController.prototype.addCategoryLegend = function (scale, attr, element, filteredValues, position) {\n    var _this = this;\n\n    var legendOptions = this.options;\n    var field = scale.field;\n    var fieldOption = legendOptions.fields ? legendOptions.fields[field] : null;\n    var items = [];\n    var ticks = scale.getTicks();\n    var isByAttr = true;\n    var shapeType = element.get('shapeType') || 'point';\n    var shape = element.getDefaultValue('shape') || shapeType || 'point';\n\n    if (legendOptions.marker) {\n      // 用户全局自定义图例的marker\n      shape = legendOptions.marker;\n      shapeType = 'point';\n      isByAttr = false;\n    }\n\n    if (fieldOption && fieldOption.marker) {\n      // 用户自定义图例的marker\n      shape = fieldOption.marker;\n      shapeType = 'point';\n      isByAttr = false;\n    }\n\n    var view = this.view;\n    var viewTheme = this.theme;\n    var canvas = view.get('canvas');\n    var panelGroup = view.get('panelGroup');\n    var panelGroupClip = panelGroup.attr('clip');\n    var panelGroupClipBox = panelGroupClip ? panelGroupClip.getBBox() : undefined;\n    var panelRange = view.get('panelRange');\n    var viewRange = view.get('viewRange');\n    var posArray = position.split('-');\n    var maxLength = posArray[0] === 'right' || posArray[0] === 'left' // TODO\n    ? panelGroupClipBox ? panelGroupClipBox.height : panelRange.height : panelGroupClipBox ? viewRange.width - (panelRange.width - panelGroupClipBox.width) : viewRange.width;\n\n    _.each(ticks, function (tick) {\n      var text = tick.text;\n      var name = text;\n      var scaleValue = tick.value;\n      var value = scale.invert(scaleValue);\n      var cfg = {\n        isInCircle: element.isInCircle()\n      };\n      var checked = filteredValues ? _this.isFiltered(scale, filteredValues, value) : true;\n      var colorAttr = element.getAttr('color');\n      var shapeAttr = element.getAttr('shape');\n\n      if (colorAttr) {\n        // 存在颜色映射\n        if (colorAttr.callback && colorAttr.callback.length > 1) {\n          // 多参数映射，阻止程序报错\n          var restArgs = Array(colorAttr.callback.length - 1).fill('');\n          cfg.color = colorAttr.mapping.apply(colorAttr, __spreadArrays([value], restArgs)).join('') || viewTheme.defaultColor;\n        } else {\n          cfg.color = colorAttr.mapping(value).join('') || viewTheme.defaultColor;\n        }\n      }\n\n      if (isByAttr && shapeAttr && shapeAttr.scales.length) {\n        // 存在形状映射\n        if (shapeAttr.callback && shapeAttr.callback.length > 1) {\n          // 多参数映射，阻止程序报错\n          var restArgs = Array(shapeAttr.callback.length - 1).fill('');\n          shape = shapeAttr.mapping.apply(shapeAttr, __spreadArrays([value], restArgs)).join('');\n        } else {\n          shape = shapeAttr.mapping(value).join('');\n        }\n      }\n\n      var shapeObject = getShapeFactory(shapeType);\n      var marker = shapeObject.getMarkerStyle(shape, cfg); // 补充 marker 为自定义形状场景。\n\n      if (_.isFunction(shape)) {\n        marker.symbol = shape;\n      }\n\n      items.push({\n        value: name,\n        dataValue: value,\n        checked: checked,\n        marker: marker\n      });\n    });\n\n    var useHtml = !!legendOptions.useHtml || !!(fieldOption && fieldOption.useHtml);\n    var defaultLegendCfg;\n    var layout;\n    var maxWidth;\n    var maxHeight;\n\n    switch (posArray[0]) {\n      case 'left':\n        /*maxHeight = viewRange.height;\n          maxWidth = panelRange.x - viewRange.x;*/\n        maxHeight = panelGroupClipBox ? panelGroupClipBox.height : panelRange.height;\n        maxWidth = panelRange.x - viewRange.x;\n        layout = 'vertical';\n        break;\n\n      case 'right':\n        /*maxHeight = viewRange.height;\n          maxWidth = viewRange.tr.x - panelRange.tr.x;*/\n        maxHeight = panelGroupClipBox ? panelGroupClipBox.height : panelRange.height;\n        maxWidth = viewRange.tr.x - panelRange.tr.x;\n        layout = 'vertical';\n        break;\n\n      case 'top':\n        /*maxHeight = panelRange.tr.y - viewRange.tr.y;\n          maxWidth = viewRange.width;*/\n        maxHeight = panelRange.tr.y - viewRange.tr.y;\n        maxWidth = panelGroupClipBox ? viewRange.width - (panelRange.width - panelGroupClipBox.width) : viewRange.width;\n        layout = 'horizontal';\n        break;\n\n      case 'bottom':\n        /*maxHeight = viewRange.br.y - panelRange.br.y;\n          maxWidth = viewRange.width;*/\n        maxHeight = viewRange.br.y - panelRange.br.y;\n        maxWidth = panelGroupClipBox ? viewRange.width - (panelRange.width - panelGroupClipBox.width) : viewRange.width;\n        layout = 'horizontal';\n        break;\n\n      default:\n        break;\n    }\n\n    if (useHtml) {\n      defaultLegendCfg = _.mix({}, viewTheme.legend.html, {\n        maxHeight: maxHeight,\n        maxWidth: maxWidth,\n        layout: layout\n      });\n    } else {\n      defaultLegendCfg = _.mix({}, viewTheme.legend[posArray[0]], {\n        maxHeight: maxHeight,\n        maxWidth: maxWidth,\n        layout: layout,\n        container: this.container.addGroup({\n          name: 'legend'\n        })\n      });\n    }\n\n    var legendCfg = _.deepMix({}, defaultLegendCfg, legendOptions, fieldOption, {\n      maxLength: maxLength,\n      canvas: canvas,\n      items: items,\n      position: position\n    });\n\n    if (legendCfg.showTitle) {\n      _.mix(legendCfg, {\n        title: scale.alias || scale.field\n      });\n    }\n\n    var legend = useHtml ? new HtmlCategory(legendCfg) : new CanvasCategory(legendCfg);\n    this.bindClickEvent(legend, scale, filteredValues, legendCfg.onClick);\n    return legend;\n  };\n  /**\n   * 添加自定义图例\n   * @param field\n   */\n\n\n  LegendController.prototype.addCustomLegend = function (field) {\n    var viewTheme = this.theme;\n    var view = this.view;\n    var container = this.container.addGroup({\n      name: 'legend'\n    });\n    var canvas = container.get('canvas');\n    var panelRange = this.panelRange;\n    var legendOptions = this.options;\n    var fieldOption;\n\n    if (_.isObject(legendOptions)) {\n      fieldOption = legendOptions.fields ? legendOptions.fields[field] : {};\n    }\n\n    var position = fieldOption.position || legendOptions.position || viewTheme.defaultLegendPosition;\n    position = this.adjustPosition(position);\n    var items = fieldOption.items || legendOptions.items;\n\n    if (!items) {\n      return;\n    }\n\n    _.each(items, function (item) {\n      if (!_.isPlainObject(item.marker)) {\n        // 直接传入字符串或者回调函数时转换为对象，如 item.marker = 'circle'\n        item.marker = {\n          symbol: item.marker || 'circle',\n          radius: MARKER_SIZE\n        };\n\n        if (_.contains(STROKE_MARKERS, item.marker.symbol)) {\n          // 支持描边 marker 的绘制\n          item.marker.stroke = item.color;\n        } else {\n          item.marker.fill = item.color;\n        }\n      } else {\n        // 用户传入对象 item.marker = { symbol: 'circle', fill: 'red', radius: 3 }\n        item.marker.radius = item.marker.radius || MARKER_SIZE;\n      }\n\n      var symbol = item.marker.symbol;\n\n      if (_.isString(symbol) && symbol.indexOf('hollow') !== -1) {\n        // 支持 hollowCircle 等\n        item.marker.symbol = _.lowerFirst(symbol.substr(6));\n      }\n\n      item.checked = _.isNil(item.checked) ? true : item.checked;\n    });\n\n    var posArray = position.split('-');\n    var maxLength = posArray[0] === 'right' || posArray[0] === 'left' ? panelRange.height : this.viewRange.width;\n\n    var legendCfg = _.deepMix({}, viewTheme.legend[posArray[0]], legendOptions, fieldOption, {\n      maxLength: maxLength,\n      viewTheme: viewTheme,\n      items: items,\n      container: container,\n      canvas: canvas\n    });\n\n    var useHtml = !!legendCfg.useHtml;\n    var legend = useHtml ? new HtmlCategory(legendCfg) : new CanvasCategory(legendCfg);\n    legend.on('itemclick', function (ev) {\n      if (legendOptions.onClick) {\n        // 用户自定义图例点击事件\n        legendOptions.onClick(ev);\n      }\n    });\n    this.bindHoverEvent(legend); // 用户自定义 hover 图例项的事件交互\n\n    return legend;\n  };\n  /**\n   * 根据 position 布局图例位置，将图例 moveTo 到对应的位置\n   */\n\n\n  LegendController.prototype.alignLegends = function () {\n    var _this = this;\n\n    var totalRegion = this.getRegion();\n    this.totalRegion = totalRegion;\n    var legendGroup = this.groupLegendByPosition();\n    var i = 0;\n\n    _.each(legendGroup, function (legendItems, position) {\n      var region = totalRegion.subs[i];\n\n      _.each(legendItems, function (legend, index) {\n        var pre = legendItems[index - 1]; // if (!(legend.get('useHtml') && !legend.get('autoPosition'))) {\n\n        _this.alignLegend(legend, pre, region, position); // }\n\n      });\n\n      i++;\n    });\n  };\n  /**\n   * 布局某些方法需要根据view的方法来写\n   * @param legend\n   * @param pre\n   * @param region\n   * @param position\n   */\n\n\n  LegendController.prototype.alignLegend = function (legend, pre, region, position) {\n    var viewTheme = this.theme;\n    var width = this.viewRange.width;\n    var height = this.viewRange.height;\n    var totalRegion = this.totalRegion;\n    var legendGroup = this.groupLegendByPosition();\n    var backPlot = this.viewRange; // 背景 BBox\n\n    var offsetX = legend.get('offsetX') || 0;\n    var offsetY = legend.get('offsetY') || 0;\n    var legendHeight = legend.getHeight();\n    var legendWidth = legend.getWidth();\n    var borderMargin = viewTheme.legend.margin;\n    var innerMargin = viewTheme.legend.legendMargin;\n    var legendNum = legendGroup[position].length;\n    var posArray = position.split('-');\n    var x = 0;\n    var y = 0;\n    var tempoRegion = legendNum > 1 ? totalRegion : region;\n\n    if (posArray[0] === 'left' || posArray[0] === 'right') {\n      height = backPlot.maxY;\n      x = this.getXAlign(posArray[0], width, region, backPlot, legendWidth, borderMargin);\n\n      if (pre) {\n        var preY = pre.get('y');\n        y = preY + pre.getHeight() + innerMargin;\n      } else {\n        y = this.getYAlignVertical(posArray[1], height, tempoRegion, backPlot, 0, borderMargin, this.viewRange.height);\n      }\n    } else if (posArray[0] === 'top' || posArray[0] === 'bottom') {\n      y = this.getYAlignHorizontal(posArray[0], height, region, backPlot, legendHeight, borderMargin);\n\n      if (pre) {\n        var preWidth = pre.getWidth();\n        var preX = pre.get('x');\n        x = preX + preWidth + innerMargin;\n      } else {\n        x = this.getXAlign(posArray[1], width, tempoRegion, backPlot, legendWidth, borderMargin);\n      }\n    }\n\n    legend.moveTo(x + offsetX, y + offsetY);\n  }; // @ts-ignore\n\n\n  LegendController.prototype.getXAlign = function (pos, width, region, backPlot, legendWidth, borderMargin) {\n    var x = pos === 'left' ? backPlot.minX + borderMargin[3] : backPlot.maxX - borderMargin[1] - legendWidth;\n\n    if (pos === 'center') {\n      x = (width - region.totalWidth) / 2;\n    }\n\n    return x;\n  };\n\n  LegendController.prototype.getYAlignHorizontal = function (pos, height, region, backPlot, legendHeight, borderMargin) {\n    var y = pos === 'top' ? backPlot.minY + borderMargin[0] : backPlot.maxY - borderMargin[2] - legendHeight;\n    return y;\n  };\n\n  LegendController.prototype.getYAlignVertical = function (pos, height, region, backPlot, legendHeight, borderMargin, canvasHeight) {\n    var y = pos === 'top' ? backPlot.minY + borderMargin[0] : backPlot.maxY - region.totalHeight - borderMargin[2];\n\n    if (pos === 'center') {\n      // y = (canvasHeight - region.totalHeight) / 2;\n      y = backPlot.minY + (backPlot.height - region.totalHeight) / 2;\n    }\n\n    return y;\n  };\n\n  LegendController.prototype.adjustPosition = function (position) {\n    var positionArr = position.split('-');\n\n    if (positionArr.length === 1) {\n      var pos = positionArr[0];\n      return pos === 'left' ? 'left-bottom' : pos === 'right' ? 'right-bottom' : pos === 'top' ? 'top-center' : pos === 'bottom' ? 'bottom-center' : '';\n    }\n\n    return positionArr.slice(0, 2).join('-');\n  };\n\n  LegendController.prototype.bindClickEvent = function (legend, scale, filteredValues, onClick) {\n    var _this = this;\n\n    var view = this.view;\n    var field = scale.field;\n    legend.on('itemclick', function (ev) {\n      if (onClick) {\n        // 用户自定义图例点击交互行为\n        onClick(ev);\n      } else {\n        var item = ev.item;\n        var checked = ev.checked;\n        var isSingeSelected_1 = legend.get('selectedMode') === 'single'; // 图例的选中模式\n\n        var clickedValue_1 = item.dataValue; // import: 需要取该图例项原始的数值\n\n        if (checked) {\n          _.pull(filteredValues, clickedValue_1);\n\n          if (_this.isFieldInView(field, clickedValue_1)) {\n            view.filter(field, function (f) {\n              return isSingeSelected_1 ? f === clickedValue_1 : !_.contains(filteredValues, f);\n            });\n          }\n        } else if (!isSingeSelected_1) {\n          // 未选中状态\n          filteredValues.push(clickedValue_1);\n\n          if (_this.isFieldInView(field, clickedValue_1)) {\n            view.filter(field, function (f) {\n              return !_.contains(filteredValues, f);\n            });\n          }\n        }\n\n        view.set('keepLegend', true); // 图例不重新渲染\n        // view.set('keepPadding', true); // 边框不重新计算\n\n        view.repaint(); // 在动画开启的状态下，图例过滤会触发更新动画，需要设置 view.set('isUpdate', true);\n        // view.set('keepPadding', false);\n\n        view.set('keepLegend', false);\n      }\n    });\n  };\n  /* 图例的 hover 事件 */\n\n\n  LegendController.prototype.bindHoverEvent = function (legend, field) {\n    var onMouseover = legend.get('onMouseover');\n    var onMouseleave = legend.get('onMouseleave');\n    legend.on('itemmouseover', function (ev) {\n      if (onMouseover) {\n        // 由用户自定义 onHover 交互行为\n        onMouseover(ev);\n      }\n    });\n    legend.on('itemmouseleave', function (ev) {\n      if (onMouseleave) {\n        onMouseleave(ev);\n      }\n    });\n  };\n\n  LegendController.prototype.getRegion = function () {\n    var _this = this;\n\n    var theme = this.theme;\n    var innerMargin = theme.legend.legendMargin;\n    var subs = [];\n    var totalWidth = 0;\n    var totalHeight = 0;\n    var legendGroup = this.groupLegendByPosition();\n\n    _.each(legendGroup, function (legendItems) {\n      var subRegion = _this.getSubRegion(legendItems);\n\n      subs.push(subRegion);\n      totalWidth += subRegion.totalWidth + innerMargin;\n      totalHeight += subRegion.totalHeight + innerMargin;\n    });\n\n    return {\n      totalWidth: totalWidth,\n      totalHeight: totalHeight,\n      subs: subs\n    };\n  };\n\n  LegendController.prototype.getSubRegion = function (legends) {\n    var maxWidth = 0;\n    var maxHeight = 0;\n    var totalWidth = 0;\n    var totalHeight = 0;\n\n    _.each(legends, function (legend) {\n      var width = legend.getWidth();\n      var height = legend.getHeight();\n\n      if (maxWidth < width) {\n        maxWidth = width;\n      }\n\n      totalWidth += width;\n\n      if (maxHeight < height) {\n        maxHeight = height;\n      }\n\n      totalHeight += height;\n    });\n\n    return {\n      maxWidth: maxWidth,\n      totalWidth: totalWidth,\n      maxHeight: maxHeight,\n      totalHeight: totalHeight\n    };\n  };\n\n  LegendController.prototype.isFiltered = function (scale, filterVals, scaleValue) {\n    if (!scale.isCategory) {\n      return true;\n    }\n\n    var rst = true;\n\n    _.each(filterVals, function (val) {\n      if (scale.getText(val) === scale.getText(scaleValue)) {\n        rst = false;\n        return false;\n      }\n    });\n\n    return rst;\n  };\n\n  LegendController.prototype.isFieldInView = function (field, value) {\n    var flag = false;\n    var scales = this.view.get('scales');\n    var fieldScale = scales[field];\n\n    if (fieldScale && fieldScale.values) {\n      flag = _.contains(fieldScale.values, value);\n    }\n\n    return flag;\n  };\n\n  LegendController.prototype.getLegendOptions = function () {\n    return _.get(this.view.get('options'), 'legends', {} // 默认为空\n    );\n  };\n  /**\n   * 拿某一个字段上图例的配置，举例 position\n   * 如果 field 上拿不到则使用 全局的，如果全局也没有，那么使用主题配置的默认\n   * @param key\n   * @param filed\n   * @param defaultValue\n   */\n\n\n  LegendController.prototype.getFieldLegendConfig = function (filed, key, defaultValue) {\n    var legendOptions = this.options;\n\n    var fieldOption = _.get(legendOptions, \"fields.\" + filed, {});\n\n    return fieldOption[key] ? fieldOption[key] : legendOptions[key] ? legendOptions[key] : defaultValue;\n  };\n  /**\n   * 连续图例，监听 item filter 事件\n   * @param legend\n   * @param scale\n   */\n\n\n  LegendController.prototype.bindFilterEvent = function (legend, scale) {\n    var _this = this;\n\n    var field = scale.field;\n    legend.on('itemfilter', function (_a) {\n      var range = _a.range;\n      var min = range[0],\n          max = range[1]; // 根据 legend 范围来\n\n      _this.filterShape(field, min, max); // todo heatmap 特殊逻辑\n      // const elements = this.view.getElements();\n      // _.each(elements, (element: Element) => {\n      //   if (element.get('type') === 'heatmap') {\n      //     _.requestAnimationFrame(() => {\n      //       element.drawWithRange(range);\n      //     });\n      //   }\n      // });\n\n    });\n  };\n  /**\n   * 过滤 view 中的 shape，超过范围的隐藏，范围内的显示\n   * @param field 字段\n   * @param min 最小值\n   * @param max 最大值\n   */\n\n\n  LegendController.prototype.filterShape = function (field, min, max) {\n    var _this = this;\n\n    var callback = function callback(record, shape, element, view) {\n      var v = record[field];\n\n      if (_.isNil(v)) {\n        shape.show();\n      } else {\n        var visible = v >= min && v <= max; // shape 带 label，则还需要隐藏 label\n\n        _this.filterLabels(shape, element, visible); // 显示还是隐藏 shape\n\n\n        visible ? shape.show() : shape.hide();\n      }\n    }; // 针对 view 中的每一个 shape 执行 callback\n\n\n    this.view.eachShape(callback);\n  };\n  /**\n   * 根据位置进行图例分类\n   * @param position 图例位置\n   */\n\n\n  LegendController.prototype.groupLegendByPosition = function () {\n    return _.groupBy(this.legends, function (legend) {\n      return legend.get('position');\n    });\n  };\n  /**\n   * 处理 shape 上的 label 显示还是隐藏\n   * @param shape\n   * @param element\n   * @param visible\n   */\n\n\n  LegendController.prototype.filterLabels = function (shape, element, visible) {\n    if (shape.get('gLabel')) {\n      // shape 中缓存了 gLabel Shape\n      shape.get('gLabel').set('visible', visible);\n    } else {\n      /* 从 label 中获取 shape 对应的 label item */\n      var labelOptions = element.get('labelOptions');\n\n      if (!_.isEmpty(_.get(labelOptions, 'fields'))) {\n        var xField_1 = element.getXScale().field;\n        var yField_1 = element.getYScale().field;\n\n        var shapeData_1 = shape.get('origin')._origin;\n\n        var labels = element.get('labels');\n\n        _.each(labels, function (label) {\n          var labelData = label.get('origin') || [];\n\n          if (labelData[xField_1] === shapeData_1[xField_1] && labelData[yField_1] === shapeData_1[yField_1]) {\n            label.set('visible', visible);\n            shape.set('gLabel', label);\n          }\n        });\n      }\n    }\n  };\n  /**\n   * 获取某一个字段的 legendOption；如果不存在字段配置，则使用全局配置\n   * @param field\n   * @param defaultValue\n   */\n\n\n  LegendController.prototype.getFieldLegendOption = function (field, defaultValue) {\n    if (defaultValue === void 0) {\n      defaultValue = {};\n    }\n\n    return _.get(this.getLegendOptions(), \"fields.\" + field, defaultValue);\n  };\n\n  return LegendController;\n}();\n\nexport default LegendController;","import { Axis } from '@antv/component';\nimport { vec2 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\n\nfunction formatTicks(ticks) {\n  var tmp = [];\n\n  if (ticks.length) {\n    tmp = ticks.slice(0);\n    var first = tmp[0];\n    var last = tmp[tmp.length - 1];\n\n    if (first.value !== 0) {\n      tmp.unshift({\n        value: 0\n      });\n    }\n\n    if (last.value !== 1) {\n      tmp.push({\n        value: 1\n      });\n    }\n  }\n\n  return tmp;\n}\n\nfunction fillAxisTicks(ticks, isLinear, gridCentering) {\n  var result = [];\n\n  if (!ticks.length) {\n    return result;\n  }\n\n  if (ticks.length >= 2 && isLinear && gridCentering) {\n    result.push({\n      text: '',\n      tickValue: '',\n      value: 0\n    });\n  }\n\n  if (ticks[0].value !== 0) {\n    result.push({\n      text: '',\n      tickValue: '',\n      value: 0\n    });\n  }\n\n  result = result.concat(ticks);\n\n  if (result[result.length - 1].value !== 1) {\n    result.push({\n      text: '',\n      tickValue: '',\n      value: 1\n    });\n  }\n\n  return result;\n}\n\nfunction getDefaultValueFromPosition(position, v) {\n  if (v === void 0) {\n    v = 0;\n  }\n\n  var val = v;\n\n  if (position === 'middle') {\n    val = 0.5;\n  }\n\n  if (position.indexOf('%') !== -1) {\n    val = parseInt(position, 10) / 100;\n  }\n\n  return val;\n}\n\nvar AxisController =\n/** @class */\nfunction () {\n  function AxisController(cfg) {\n    this.title = null;\n    this.visible = true;\n    this.canvas = null;\n    this.container = null;\n    this.coord = null;\n    this.options = null;\n    this.axes = [];\n    this.theme = null;\n\n    _.mix(this, cfg);\n  }\n\n  AxisController.prototype.createAxis = function (xScale, yScales, viewId) {\n    var _this = this;\n\n    var coord = this.coord;\n    var coordType = coord.type; // theta坐标系默认不绘制坐标轴\n\n    if (coordType !== 'theta' && !(coordType === 'polar' && coord.isTransposed)) {\n      var xAxis_1;\n\n      if (xScale && !this._isHide(xScale.field)) {\n        xAxis_1 = this._drawAxis(coord, xScale, yScales[0], 'x', viewId); // 绘制 x 轴\n      }\n\n      if (!_.isEmpty(yScales) && coordType !== 'helix') {\n        _.each(yScales, function (yScale, index) {\n          if (!_this._isHide(yScale.field)) {\n            _this._drawAxis(coord, yScale, xScale, 'y', viewId, xAxis_1, index);\n          }\n        });\n      }\n    }\n  };\n\n  AxisController.prototype.changeVisible = function (visible) {\n    var axes = this.axes;\n\n    _.each(axes, function (axis) {\n      axis.set('visible', visible);\n    });\n  };\n\n  AxisController.prototype.clear = function () {\n    var axes = this.axes;\n\n    _.each(axes, function (axis) {\n      axis.clear();\n    });\n\n    this.axes = [];\n  }; // 根据字段名获取对应的坐标轴配置\n\n\n  AxisController.prototype._getAxisOptionByField = function (field, defaultValue) {\n    if (defaultValue === void 0) {\n      defaultValue = {};\n    }\n\n    return _.get(this.options, \"fields.\" + field, defaultValue);\n  }; // 对应的坐标轴是否隐藏\n\n\n  AxisController.prototype._isHide = function (field) {\n    return this._getAxisOptionByField(field) === false;\n  };\n\n  AxisController.prototype._getMiddleValue = function (curValue, ticks, index, isLinear) {\n    if (curValue === 0 && !isLinear) {\n      return 0;\n    }\n\n    if (curValue === 1) {\n      return 1;\n    }\n\n    var nextValue = ticks[index + 1].value;\n\n    if (!isLinear && nextValue === 1) {\n      return 1;\n    }\n\n    return (curValue + nextValue) / 2;\n  };\n\n  AxisController.prototype._getLineRange = function (coord, scale, dimType, index) {\n    var start;\n    var end;\n    var isVertical;\n    var field = scale.field;\n    var position = this._getAxisOptionByField(field).position || ''; // 获取用户自己配置的 position\n    // TODO middle & percentage for position\n\n    if (dimType === 'x') {\n      // x轴的坐标轴,底部的横坐标\n      var y = position === 'top' ? 1 : 0;\n      y = getDefaultValueFromPosition(position, y);\n      start = {\n        x: 0,\n        y: y\n      };\n      end = {\n        x: 1,\n        y: y\n      };\n      isVertical = false;\n    } else {\n      // y轴坐标轴\n      if (index) {\n        // 多轴的情况\n        var x = position === 'left' ? 0 : 1;\n        x = getDefaultValueFromPosition(position, x);\n        start = {\n          x: x,\n          y: 0\n        };\n        end = {\n          x: x,\n          y: 1\n        };\n      } else {\n        // 单个y轴，或者第一个y轴\n        var x = position === 'right' ? 1 : 0;\n        x = getDefaultValueFromPosition(position, x);\n        start = {\n          x: x,\n          y: 0\n        };\n        end = {\n          x: x,\n          y: 1\n        };\n      }\n\n      isVertical = true;\n    }\n\n    start = coord.convert(start);\n    end = coord.convert(end);\n    return {\n      start: start,\n      end: end,\n      isVertical: isVertical\n    };\n  };\n\n  AxisController.prototype._getLineCfg = function (coord, scale, dimType, index) {\n    var factor;\n\n    var range = this._getLineRange(coord, scale, dimType, index);\n\n    var start = range.start,\n        end = range.end;\n    var center = coord.center,\n        isTransposed = coord.isTransposed;\n    var isVertical = isTransposed ? !range.isVertical : range.isVertical; // 标识该坐标轴是否是纵坐标\n\n    if (isVertical && start.x > center.x || !isVertical && start.y > center.y) {\n      factor = 1;\n    } else {\n      factor = -1;\n    }\n\n    return {\n      isVertical: isVertical,\n      factor: factor,\n      start: start,\n      end: end\n    };\n  }; // 获取圆弧坐标轴配置项信息\n\n\n  AxisController.prototype._getCircleCfg = function (coord) {\n    var rangeX = coord.x,\n        rangeY = coord.y,\n        isTransposed = coord.isTransposed,\n        center = coord.circleCenter,\n        innerRadius = coord.innerRadius;\n    var isReflectY = rangeY.start > rangeY.end;\n    var start;\n\n    if (isTransposed) {\n      start = {\n        x: isReflectY ? 0 : 1,\n        y: 0\n      };\n    } else {\n      start = {\n        x: 0,\n        y: isReflectY ? 0 : 1\n      };\n    }\n\n    start = coord.convert(start);\n    var startVector = [start.x - center.x, start.y - center.y];\n    var normalVector = [1, 0];\n    var startAngle;\n\n    if (start.y > center.y) {\n      startAngle = vec2.angle(startVector, normalVector);\n    } else {\n      startAngle = vec2.angle(startVector, normalVector) * -1;\n    }\n\n    var endAngle = startAngle + (rangeX.end - rangeX.start);\n    return {\n      startAngle: startAngle,\n      endAngle: endAngle,\n      center: center,\n      radius: Math.sqrt(Math.pow(start.x - center.x, 2) + Math.pow(start.y - center.y, 2)),\n      inner: innerRadius || 0\n    };\n  };\n\n  AxisController.prototype._getRadiusCfg = function (coord) {\n    var startAngle = coord.x.start;\n    var factor = startAngle < 0 ? -1 : 1;\n    var start;\n    var end;\n\n    if (coord.isTransposed) {\n      start = {\n        x: 0,\n        y: 0\n      };\n      end = {\n        x: 1,\n        y: 0\n      };\n    } else {\n      start = {\n        x: 0,\n        y: 0\n      };\n      end = {\n        x: 0,\n        y: 1\n      };\n    }\n\n    return {\n      factor: factor,\n      start: coord.convert(start),\n      end: coord.convert(end)\n    };\n  };\n\n  AxisController.prototype._getHelixCfg = function (coord) {\n    var helixCfg = {};\n    var a = coord.a,\n        startAngle = coord.startAngle,\n        endAngle = coord.endAngle,\n        center = coord.center,\n        y = coord.y;\n    var index = 100;\n    var crp = [];\n\n    for (var i = 0; i <= index; i++) {\n      var point = coord.convert({\n        x: i / 100,\n        y: 0\n      });\n      crp.push(point.x);\n      crp.push(point.y);\n    }\n\n    var axisStart = coord.convert({\n      x: 0,\n      y: 0\n    });\n    return {\n      a: a,\n      startAngle: startAngle,\n      endAngle: endAngle,\n      crp: crp,\n      axisStart: axisStart,\n      center: center,\n      inner: y.start\n    };\n  }; // 确定坐标轴的位置\n\n\n  AxisController.prototype._getAxisPosition = function (coord, dimType, index, field) {\n    if (this._getAxisOptionByField(field).position) {\n      // 用户自己定义了 position\n      return this._getAxisOptionByField(field).position;\n    }\n\n    var position = '';\n    var coordType = coord.type;\n\n    if (coord.isRect) {\n      if (dimType === 'x') {\n        position = 'bottom';\n      } else if (dimType === 'y') {\n        if (index) {\n          position = 'right';\n        } else {\n          position = 'left';\n        }\n      }\n    } else if (coordType === 'helix') {\n      position = 'helix';\n    } else if (dimType === 'x') {\n      position = coord.isTransposed ? 'radius' : 'circle';\n    } else {\n      position = coord.isTransposed ? 'circle' : 'radius';\n    }\n\n    return position;\n  }; // 获取坐标轴构成的配置信息\n\n\n  AxisController.prototype._getAxisDefaultCfg = function (coord, scale, type, position) {\n    var theme = this.theme;\n    var field = scale.field;\n    var cfg = {\n      coord: coord,\n      theme: theme.axis[position]\n    };\n    cfg = _.deepMix({}, theme.axis[position], cfg, this._getAxisOptionByField(field));\n\n    if (cfg.showTitle) {\n      // 展示坐标轴标题\n      var title = _.get(cfg, 'title', {});\n\n      title.text = title.text || scale.alias || field;\n\n      _.deepMix(cfg, {\n        title: title\n      });\n    }\n\n    cfg.ticks = scale.getTicks();\n\n    if (coord.isPolar && !scale.isCategory) {\n      if (type === 'x' && Math.abs(coord.endAngle - coord.startAngle) === Math.PI * 2) {\n        cfg.ticks.pop();\n      }\n    }\n\n    return cfg;\n  }; // 确定坐标轴的配置信息\n\n\n  AxisController.prototype._getAxisCfg = function (coord, scale, verticalScale, dimType, index, viewId) {\n    var _this = this;\n\n    if (index === void 0) {\n      index = '';\n    }\n\n    var position = this._getAxisPosition(coord, dimType, index, scale.field);\n\n    var cfg = this._getAxisDefaultCfg(coord, scale, dimType, position);\n\n    if (cfg.grid && verticalScale) {\n      // 生成 gridPoints\n      var gridPoints_1 = [];\n      var verticalTicks_1 = formatTicks(verticalScale.getTicks()); // 没有垂直的坐标点时不绘制栅格\n\n      if (verticalTicks_1.length) {\n        var ticks_1 = fillAxisTicks(cfg.ticks, scale.isLinear, cfg.gridAlign === 'center');\n\n        _.each(ticks_1, function (tick, idx) {\n          var subPoints = [];\n          var value = tick.value;\n\n          if (cfg.gridAlign === 'center') {\n            value = _this._getMiddleValue(value, ticks_1, idx, scale.isLinear);\n          }\n\n          if (!_.isNil(value)) {\n            var rangeX_1 = coord.x;\n            var rangeY_1 = coord.y;\n\n            _.each(verticalTicks_1, function (verticalTick) {\n              var x = dimType === 'x' ? value : verticalTick.value;\n              var y = dimType === 'x' ? verticalTick.value : value;\n              var point = coord.convert({\n                x: x,\n                y: y\n              });\n\n              if (coord.isPolar) {\n                var center = coord.circleCenter;\n\n                if (rangeY_1.start > rangeY_1.end) {\n                  y = 1 - y;\n                }\n\n                point.flag = rangeX_1.start > rangeX_1.end ? 0 : 1;\n                point.radius = Math.sqrt(Math.pow(point.x - center.x, 2) + Math.pow(point.y - center.y, 2));\n              }\n\n              subPoints.push(point);\n            });\n\n            gridPoints_1.push({\n              id: viewId + \"-\" + dimType + index + \"-grid-\" + tick.tickValue,\n              points: subPoints\n            });\n          }\n        });\n      }\n\n      cfg.gridPoints = gridPoints_1;\n    }\n\n    return cfg;\n  };\n\n  AxisController.prototype._drawAxis = function (coord, scale, verticalScale, dimType, viewId, xAxis, index) {\n    var container = this.container;\n    var canvas = this.canvas;\n    var C; // 坐标轴类\n\n    var appendCfg; // 每个坐标轴 start end 等绘制边界的信息\n\n    if (coord.type === 'cartesian') {\n      C = Axis.Line;\n      appendCfg = this._getLineCfg(coord, scale, dimType, index);\n    } else if (coord.type === 'helix' && dimType === 'x') {\n      C = Axis.Helix;\n      appendCfg = this._getHelixCfg(coord);\n    } else if (dimType === 'x') {\n      C = Axis.Circle;\n      appendCfg = this._getCircleCfg(coord);\n    } else {\n      C = Axis.Line;\n      appendCfg = this._getRadiusCfg(coord);\n    }\n\n    var cfg = this._getAxisCfg(coord, scale, verticalScale, dimType, index, viewId);\n\n    cfg = _.mix({}, cfg, appendCfg);\n\n    if (dimType === 'y' && xAxis && xAxis.get('type') === 'circle') {\n      cfg.circle = xAxis;\n    }\n\n    cfg.id = !_.isNil(index) ? viewId + \"-\" + dimType + index : viewId + \"-\" + dimType;\n\n    _.mix(cfg, {\n      canvas: canvas,\n      group: container.addGroup()\n    });\n\n    var axis = new C(cfg);\n    axis.render();\n    this.axes.push(axis);\n    return axis;\n  };\n\n  return AxisController;\n}();\n\nexport default AxisController;","import { Tooltip } from '@antv/component';\nimport * as matrixUtil from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nimport { getShapeFactory } from '../../element/shape/base';\nvar Vector2 = matrixUtil.vec2;\nvar TYPE_SHOW_MARKERS = ['line', 'area', 'path']; // 默认展示 tooltip marker 的几何图形\n\nvar TYPE_SHOW_CROSSHAIRS = ['line', 'area']; // 默认展示十字瞄准线的几何图形\n// TODO FIXME this is HARD CODING\n\nvar IGNORE_TOOLTIP_ITEM_PROPERTIES = ['marker', 'showMarker'];\n\nvar _indexOfArray = function _indexOfArray(items, item) {\n  var rst = -1;\n\n  _.each(items, function (sub, index) {\n    var isEqual = true;\n\n    for (var key in item) {\n      if (item.hasOwnProperty(key) && IGNORE_TOOLTIP_ITEM_PROPERTIES.indexOf(key) === -1) {\n        if (!_.isObject(item[key]) && item[key] !== sub[key]) {\n          isEqual = false;\n          break;\n        }\n      }\n    }\n\n    if (isEqual) {\n      rst = index;\n      return false;\n    }\n  });\n\n  return rst;\n}; // 判断是否有样式\n\n\nvar _hasClass = function _hasClass(dom, className) {\n  var cls = dom.className;\n  return cls && cls.indexOf(className) !== -1;\n};\n\nvar _isParent = function _isParent(dom, cls) {\n  var parent = dom.parentNode;\n  var rst = false;\n\n  while (parent && parent !== document.body) {\n    if (_hasClass(parent, cls)) {\n      rst = true;\n      break;\n    }\n\n    parent = parent.parentNode;\n  }\n\n  return rst;\n}; // 去除重复的值, 去除不同图形相同数据，只展示一份即可\n\n\nvar _uniqItems = function _uniqItems(items) {\n  var tmp = [];\n\n  _.each(items, function (item) {\n    var index = _indexOfArray(tmp, item);\n\n    if (index === -1) {\n      tmp.push(item);\n    }\n  });\n\n  return tmp;\n};\n\nvar TooltipController =\n/** @class */\nfunction () {\n  function TooltipController(cfg) {\n    var _this = this;\n\n    this.timeStamp = 0;\n\n    this.onMouseMove = function (ev) {\n      var group = _this.view.get('panelGroup');\n\n      var lastTimeStamp = _this.timeStamp;\n      var timeStamp = +new Date();\n      var point = {\n        x: ev.x - (group.get('x') || 0),\n        y: ev.y - (group.get('y') || 0)\n      };\n\n      if (timeStamp - lastTimeStamp > 16) {\n        _this.showTooltip(point, _this.view, ev.target);\n\n        _this.timeStamp = timeStamp;\n      }\n    };\n\n    this.onMouseOut = function (ev) {\n      // const tooltip = this.tooltip;\n      // if (!tooltip.get('visible') || !tooltip.get('follow')) {\n      //   return;\n      // }\n      if (ev && !ev.event) {\n        // 如果鼠标 hover 到 tooltipContainer 内容框上不需要 hideTooltip\n        return;\n      }\n\n      _this.hideTooltip();\n    };\n\n    _.assign(this, cfg);\n  }\n\n  TooltipController.prototype.renderTooltip = function () {\n    var _this = this;\n\n    if (this.tooltip) {\n      // tooltip 对象已经创建\n      return;\n    }\n\n    var view = this.view;\n    var theme = this.theme;\n\n    var canvas = this._getCanvas();\n\n    var defaultCfg = this._getDefaultTooltipOptions();\n\n    var options = this.options;\n    options = _.deepMix({\n      panelGroup: view.get('panelGroup'),\n      panelRange: view.get('panelRange'),\n      capture: false,\n      canvas: canvas,\n      frontgroundGroup: view.get('frontgroundGroup'),\n      theme: theme.tooltip,\n      backgroundGroup: view.get('backgroundGroup')\n    }, defaultCfg, options);\n\n    if (options.crosshairs && options.crosshairs.type === 'rect') {\n      options.zIndex = 0; // toolip 背景框不可遮盖住 geom，防止用户配置了 crosshairs\n    }\n\n    options.visible = false;\n    var tooltip;\n\n    if (options.useHtml) {\n      tooltip = new Tooltip.Html(options);\n\n      var triggerEvent_1 = this._getTriggerEvent();\n\n      if (!tooltip.get('enterable') && triggerEvent_1 === 'panel:mousemove') {\n        var tooltipContainer = tooltip.get('container');\n\n        if (tooltipContainer) {\n          tooltipContainer.onmousemove = function (e) {\n            // 避免 tooltip 频繁闪烁\n            var eventObj = _this._normalizeEvent(e);\n\n            view.emit(triggerEvent_1, eventObj);\n          };\n        }\n      }\n    } else {\n      tooltip = new Tooltip.Canvas(options);\n    }\n\n    this.tooltip = tooltip; // 需要保存当前 tooltip 的配置项，否则当用户关闭 tooltip 再手动调用 view.showTooltip() 时会报错\n\n    this.options = options;\n\n    this._bindEvent();\n  };\n\n  TooltipController.prototype._normalizeEvent = function (event) {\n    var view = this.view;\n\n    var canvas = this._getCanvas();\n\n    var point = canvas.getPointByClient(event.clientX, event.clientY);\n    var pixelRatio = canvas.get('pixelRatio');\n    point.x = point.x / pixelRatio;\n    point.y = point.y / pixelRatio;\n    point.view = view;\n    return point;\n  };\n\n  TooltipController.prototype.hideTooltip = function () {\n    var tooltip = this.tooltip;\n\n    if (tooltip.get('visible')) {\n      // 优化，只有 tooltip 处于 visible: true 状态时才隐藏，否则会造成 canvas 的不断重绘\n      var view = this.view;\n\n      var canvas = this._getCanvas();\n\n      this.prePoint = null;\n      tooltip.hide();\n      view.emit('tooltip:hide', {\n        tooltip: tooltip\n      });\n      view.setActive(function () {\n        return false;\n      });\n      canvas.draw();\n    }\n  };\n\n  TooltipController.prototype.showTooltip = function (point, view, target) {\n    var _this = this;\n\n    if (!point) {\n      return;\n    }\n\n    if (!this.tooltip) {\n      this.renderTooltip(); // 如果一开始 tooltip 关闭，用户重新调用的时候需要先生成 tooltip\n    }\n\n    var options = this.options;\n    var markersItems = [];\n    var items = [];\n    var elements = view.getElements();\n    var coord = view.get('coord');\n\n    _.each(elements, function (element) {\n      var type = element.get('type');\n\n      if (element.get('visible') && element.get('tooltipOptions') !== false) {\n        var dataArray = element.get('dataArray');\n\n        if (element.isShareTooltip() || _.contains(['area', 'line', 'path'], type)) {\n          // area、line、path 四种几何标记以及共享 tooltip 的场景使用数据查找策略\n          _.each(dataArray, function (data) {\n            var tmpPoint = element.findPoint(point, data);\n\n            if (tmpPoint) {\n              var subItems = element.getTooltipItems(tmpPoint, options.title);\n\n              _.each(subItems, function (v) {\n                // tslint:disable-next-line: no-shadowed-variable\n                var point = v.point;\n\n                if (!_.isNil(point) && !_.isNil(point.x) && !_.isNil(point.y)) {\n                  // hotfix: make sure there is no null value\n                  var x = _.isArray(point.x) ? point.x[point.x.length - 1] : point.x;\n                  var y = _.isArray(point.y) ? point.y[point.y.length - 1] : point.y;\n                  point = coord.applyMatrix(x, y, 1);\n                  v.x = point[0];\n                  v.y = point[1];\n                  v.showMarker = true;\n\n                  var itemMarker = _this._getItemMarker(element, v.color);\n\n                  v.marker = itemMarker;\n\n                  if (_.indexOf(TYPE_SHOW_MARKERS, type) !== -1) {\n                    markersItems.push(v);\n                  }\n                }\n              });\n\n              items = items.concat(subItems);\n            }\n          });\n        } else {\n          var shapeContainer = element.get('shapeContainer');\n          var canvas = shapeContainer.get('canvas');\n          var pixelRatio = canvas.get('pixelRatio');\n          var shape = shapeContainer.getShape(point.x * pixelRatio, point.y * pixelRatio);\n\n          if (shape && shape.get('visible') && shape.get('origin')) {\n            items = element.getTooltipItems(shape.get('origin'), options.title);\n          }\n        }\n      }\n    });\n\n    _.each(items, function (item) {\n      // tslint:disable-next-line: no-shadowed-variable\n      var point = item.point;\n      var x = _.isArray(point.x) ? point.x[point.x.length - 1] : point.x;\n      var y = _.isArray(point.y) ? point.y[point.y.length - 1] : point.y;\n      point = coord.applyMatrix(x, y, 1);\n      item.x = point[0];\n      item.y = point[1];\n    });\n\n    if (items.length) {\n      var first_1 = items[0]; // bugfix: multiple tooltip items with different titles\n\n      if (!items.every(function (item) {\n        return item.title === first_1.title;\n      })) {\n        var nearestItem_1 = first_1;\n        var nearestDistance_1 = Infinity;\n        items.forEach(function (item) {\n          var distance = Vector2.distance([point.x, point.y], [item.x, item.y]);\n\n          if (distance < nearestDistance_1) {\n            nearestDistance_1 = distance;\n            nearestItem_1 = item;\n          }\n        });\n        items = items.filter(function (item) {\n          return item.title === nearestItem_1.title;\n        });\n        markersItems = markersItems.filter(function (item) {\n          return item.title === nearestItem_1.title;\n        });\n      }\n\n      if (options.shared === false && items.length > 1) {\n        var snapItem_1 = items[0];\n        var min_1 = Math.abs(point.y - snapItem_1.y);\n\n        _.each(items, function (aItem) {\n          if (Math.abs(point.y - aItem.y) <= min_1) {\n            snapItem_1 = aItem;\n            min_1 = Math.abs(point.y - aItem.y);\n          }\n        });\n\n        if (snapItem_1 && !_.isNil(snapItem_1.x) && !_.isNil(snapItem_1.y)) {\n          markersItems = [snapItem_1];\n        }\n\n        items = [snapItem_1];\n      }\n\n      this._setTooltip(point, items, markersItems, target); // 使查找到的数据对应的 shape 处于 active 状态\n      // 应该在每次出现 tooltip 的时候就 active 对应的 shapes\n\n\n      view.setActive(function (obj) {\n        var result = false;\n\n        _.each(items, function (item) {\n          var origin = item.point._origin;\n\n          if (origin === obj) {\n            result = true;\n            return false;\n          }\n        });\n\n        return result;\n      }, false);\n    } else {\n      this.hideTooltip();\n    }\n  };\n\n  TooltipController.prototype.clear = function () {\n    var tooltip = this.tooltip;\n\n    if (tooltip) {\n      tooltip.destroy();\n    }\n\n    this.tooltip = null;\n    this.prePoint = null;\n\n    this._offEvent();\n  };\n\n  TooltipController.prototype._getCanvas = function () {\n    return this.view.get('canvas');\n  };\n\n  TooltipController.prototype._getTriggerEvent = function () {\n    var triggerOn = _.get(this.options, 'triggerOn');\n\n    var eventName;\n\n    if (!triggerOn || triggerOn === 'mousemove') {\n      eventName = 'panel:mousemove';\n    } else if (triggerOn === 'click') {\n      eventName = 'panel:click';\n    } else if (triggerOn === 'none') {\n      eventName = null;\n    }\n\n    return eventName;\n  };\n\n  TooltipController.prototype._getDefaultTooltipOptions = function () {\n    var view = this.view;\n    var options = this.options;\n    var theme = this.theme;\n\n    var defaultCfg = _.mix({}, theme.tooltip);\n\n    var elements = _.filter(view.getElements(), function (element) {\n      return element.get('visible');\n    });\n\n    var shapes = _.uniq(_.map(elements, function (element) {\n      return element.get('type');\n    }));\n\n    var isTransposed = view.get('coord') ? view.get('coord').isTransposed : false;\n    var crosshairsCfg;\n\n    if (view.get('coord') && view.get('coord').type === 'cartesian') {\n      if (shapes[0] === 'interval') {\n        if (options.shape !== false) {\n          var crosshairs = _.mix({}, theme.tooltipCrosshairsRect);\n\n          crosshairs.isTransposed = isTransposed;\n          crosshairsCfg = {\n            zIndex: 0,\n            crosshairs: crosshairs\n          };\n        }\n      } else if (_.indexOf(TYPE_SHOW_CROSSHAIRS, shapes[0]) > -1) {\n        var crosshairs = _.mix({}, theme.tooltipCrosshairsLine);\n\n        crosshairs.isTransposed = isTransposed;\n        crosshairsCfg = {\n          crosshairs: crosshairs\n        };\n      }\n    }\n\n    return _.mix(defaultCfg, crosshairsCfg);\n  };\n\n  TooltipController.prototype._bindEvent = function () {\n    var view = this.view;\n\n    var triggerEvent = this._getTriggerEvent();\n\n    if (triggerEvent) {\n      view.on(triggerEvent, this.onMouseMove);\n      view.on('panel:mouseleave', this.onMouseOut);\n    }\n  };\n\n  TooltipController.prototype._offEvent = function () {\n    var view = this.view;\n\n    var triggerEvent = this._getTriggerEvent();\n\n    if (triggerEvent) {\n      view.off(triggerEvent, this.onMouseMove);\n      view.off('panel:mouseleave', this.onMouseOut);\n    }\n  };\n\n  TooltipController.prototype._setTooltip = function (point, _items, markersItems, target) {\n    var tooltip = this.tooltip;\n    var prePoint = this.prePoint;\n\n    if (!prePoint || prePoint.x !== point.x || prePoint.y !== point.y) {\n      var items = _uniqItems(_items);\n\n      this.prePoint = point;\n      var view = this.view;\n      var theme = this.theme;\n      var x = _.isArray(point.x) ? point.x[point.x.length - 1] : point.x;\n      var y = _.isArray(point.y) ? point.y[point.y.length - 1] : point.y;\n\n      if (!tooltip.get('visible')) {\n        view.emit('tooltip:show', {\n          x: x,\n          y: y,\n          tooltip: tooltip\n        });\n      }\n\n      var first = items[0];\n      var title = first.title || first.name;\n\n      if (tooltip.isContentChange(title, items)) {\n        view.emit('tooltip:change', {\n          tooltip: tooltip,\n          x: x,\n          y: y,\n          items: items\n        }); // bugfix: when set the title in the tooltip:change event does not take effect.\n\n        title = items[0].title || items[0].name;\n        tooltip.setContent(title, items);\n\n        if (!_.isEmpty(markersItems)) {\n          if (this.options.showTooltipMarkers === false) {\n            // 不展示 tooltip marker\n            // @ts-ignore\n            tooltip.set('markerItems', markersItems); // 用于 tooltip 辅助线的定位\n          } else {\n            tooltip.setMarkers(markersItems, theme.tooltipMarker);\n          }\n        } else {\n          tooltip.clearMarkers(); // clearMarkers 只会将 markerItems 从 markerGroup 中移除\n          // 所以我们还要将 markerItems 从 tooltip 中移除\n          // 这么做是为了防止上一次设置 marker 时的 markerItems 影响此次 tooltip 辅助线的定位\n          // @ts-ignore\n\n          tooltip.set('markerItems', []);\n        }\n      }\n\n      tooltip.setPosition(x + (view.get('panelGroup').get('x') || 0), y + (view.get('panelGroup').get('y') || 0), target);\n      tooltip.show();\n    }\n  };\n\n  TooltipController.prototype._getItemMarker = function (element, color) {\n    var shapeType = element.get('shapeType') || 'point';\n    var shape = element.getDefaultValue('shape') || 'circle';\n    var shapeObject = getShapeFactory(shapeType);\n    var cfg = {\n      color: color\n    };\n    var marker = shapeObject.getMarkerStyle(shape, cfg);\n    return marker;\n  };\n\n  return TooltipController;\n}();\n\nexport default TooltipController;","import { __assign } from \"tslib\";\n\nvar ShapeStateController =\n/** @class */\nfunction () {\n  function ShapeStateController(cfg) {\n    if (cfg === void 0) {\n      cfg = {\n        view: null\n      };\n    }\n\n    this._states = {};\n    this._stateStack = {};\n    this.view = cfg.view;\n  }\n\n  ShapeStateController.prototype.setState = function (name, exp, draw) {\n    this._stateStack[name] = {\n      exp: exp,\n      draw: draw\n    };\n\n    this._onUpdate();\n  };\n\n  ShapeStateController.prototype.getState = function (name) {\n    return this._states[name];\n  };\n\n  ShapeStateController.prototype.getAllStates = function () {\n    return this._states;\n  };\n\n  ShapeStateController.prototype.clear = function () {\n    this._states = {};\n    this._stateStack = {};\n\n    if (this._changeTimer) {\n      clearTimeout(this._changeTimer);\n      this._changeTimer = null;\n    }\n  };\n\n  ShapeStateController.prototype._onUpdate = function () {\n    var _this = this;\n\n    var stateStack = this._stateStack;\n\n    if (this._changeTimer) {\n      clearTimeout(this._changeTimer);\n      this._changeTimer = null;\n    }\n\n    this._changeTimer = setTimeout(function () {\n      for (var name_1 in stateStack) {\n        var state = stateStack[name_1];\n        var exp = state.exp;\n\n        if (!_this._states[name_1] || _this._states[name_1] !== exp) {\n          // update states\n          _this._states[name_1] = exp; // dispatch state event\n\n          _this._triggerEvent(name_1, state);\n        }\n      } // clear stack\n\n\n      _this._stateStack = {};\n    }, 16);\n  };\n\n  ShapeStateController.prototype._triggerEvent = function (name, exp) {\n    this.view.emit(name + \":change\", __assign({\n      name: name\n    }, exp));\n  };\n\n  return ShapeStateController;\n}();\n\nexport default ShapeStateController;","import * as _ from '@antv/util';\n\nfunction isBackgroundShape(view, shape) {\n  var backgroundBkShape = view.get('backgroundGroup').get('backShape');\n  var panelBkShape = view.get('panelGroup').get('backShape');\n\n  if (backgroundBkShape === shape || panelBkShape === shape) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction registerData(eventObj) {\n  if (eventObj.target && eventObj.target.get('origin')) {\n    eventObj.data = eventObj.target.get('origin');\n  }\n}\n\nfunction isSameShape(shape1, shape2) {\n  if (shape1 && shape2 && shape1 === shape2) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isInView(target, view, canvas) {\n  if (target !== canvas && view.isShapeInView(target)) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isInPanel(target, panelGroup) {\n  var parent = target;\n\n  while (parent = parent.get('parent')) {\n    if (parent === panelGroup) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar EventController =\n/** @class */\nfunction () {\n  function EventController(cfg) {\n    if (cfg === void 0) {\n      cfg = {\n        view: null,\n        canvas: null\n      };\n    }\n\n    this.view = cfg.view;\n    this.canvas = cfg.canvas;\n    this._panelGroup = this.view.get('panelGroup');\n    this._eventHandlers = [];\n    this._pixelRatio = this.canvas.get('pixelRatio');\n  }\n\n  EventController.prototype._getEventObj = function (ev) {\n    var obj = {\n      x: ev.x / this._pixelRatio,\n      y: ev.y / this._pixelRatio,\n      target: ev.target,\n      event: ev.event\n    };\n    return obj;\n  };\n\n  EventController.prototype._triggerShapeEvent = function (shape, eventName, eventObj) {\n    var shapeName = shape.name;\n\n    if (shapeName && !shape.get('destroyed')) {\n      var view = this.view;\n      var name_1 = shapeName + \":\" + eventName;\n      eventObj.view = view;\n      eventObj.appendInfo = shape.get('appendInfo'); // appendInfo is defined by user\n\n      view.emit(name_1, eventObj);\n    }\n  };\n\n  EventController.prototype._addEvent = function (target, eventType, handler) {\n    target.on(eventType, handler);\n\n    this._eventHandlers.push({\n      target: target,\n      type: eventType,\n      handler: handler\n    });\n  };\n\n  EventController.prototype.bindEvents = function () {\n    var container = this.view.get('container');\n\n    this._addEvent(container, 'mousedown', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'mousemove', _.wrapBehavior(this, '_onMove'));\n\n    this._addEvent(container, 'mouseup', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'click', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'dblclick', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'contextmenu', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'wheel', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'touchstart', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'touchmove', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'touchend', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(this.canvas, 'mousemove', _.wrapBehavior(this, '_onCanvasMove'));\n\n    var canvasDom = this.canvas.get('canvasDOM');\n    this._canvasDomLeaveHandler = _.wrapBehavior(this, '_onCanvasDomLeave');\n    canvasDom.addEventListener('mouseleave', this._canvasDomLeaveHandler);\n  };\n\n  EventController.prototype._onEvents = function (ev) {\n    var eventType = ev.type;\n\n    var eventObj = this._getEventObj(ev);\n\n    var target = ev.target;\n    registerData(eventObj);\n    var isbk = isBackgroundShape(this.view, target);\n\n    if (!isbk) {\n      this._triggerShapeEvent(target, eventType, eventObj);\n    }\n    /*panel event*/\n\n\n    var targetParent = target.get('parent');\n\n    if (targetParent) {\n      // 当调用 view.clear()，target 为 canvas 画布本身，此时 targetParent 为 null\n      var parentName = targetParent.get('name');\n\n      if (parentName && parentName === 'panelGroup') {\n        this.view.emit(\"panel:\" + eventType, eventObj);\n      }\n    }\n\n    this.view.emit(eventType, eventObj);\n  };\n\n  EventController.prototype._onMove = function (ev) {\n    /*dispatch mousemove events*/\n    var eventObj = this._getEventObj(ev);\n\n    var target = ev.target;\n    registerData(eventObj);\n    this.view.emit('mousemove', eventObj);\n    var isbkTarget = isBackgroundShape(this.view, target);\n\n    if (!isbkTarget) {\n      this._triggerShapeEvent(target, 'mousemove', eventObj);\n    }\n\n    var lastShape = this._lastShape;\n    var isbklastShape = isBackgroundShape(this.view, lastShape);\n\n    if (lastShape && !isbklastShape && !isSameShape(lastShape, target)) {\n      var leaveObj = this._getEventObj(ev);\n\n      registerData(leaveObj);\n\n      this._triggerShapeEvent(lastShape, 'mouseleave', eventObj);\n    }\n\n    if (!isbkTarget && !isSameShape(lastShape, target)) {\n      var enterObj = this._getEventObj(ev);\n\n      registerData(enterObj);\n\n      this._triggerShapeEvent(target, 'mouseenter', enterObj);\n    }\n\n    var isTargetInPanel = isInPanel(target, this._panelGroup);\n    var isLastShapeInPanel = lastShape ? isInPanel(lastShape, this._panelGroup) : false;\n\n    if (isTargetInPanel) {\n      if (!isLastShapeInPanel) {\n        this.view.emit('panel:mouseenter', eventObj);\n      } else {\n        this.view.emit('panel:mousemove', eventObj);\n      }\n    } else {\n      if (isLastShapeInPanel) {\n        this.view.emit('panel:mouseleave', eventObj);\n      }\n    }\n\n    this._lastShape = target;\n  };\n\n  EventController.prototype._onCanvasMove = function (ev) {\n    var event = _.isArray(ev) ? ev[0] : ev;\n\n    var eventObj = this._getEventObj(event);\n\n    var canvas = this.canvas;\n    var view = this.view;\n    var target = event.target;\n    var targetInView = isInView(target, view, canvas);\n    var lastTargetInView = this._lastCanvasTarget ? isInView(this._lastCanvasTarget, view, canvas) : false;\n\n    if (target !== this._lastCanvasTarget) {\n      if (lastTargetInView && !targetInView) {\n        this.view.emit('mouseleave', eventObj);\n      } else if (!lastTargetInView && targetInView) {\n        this.view.emit('mouseenter', eventObj);\n      }\n    }\n\n    this._lastCanvasTarget = target;\n  };\n\n  EventController.prototype._onCanvasDomLeave = function (ev) {\n    // 解决padding为0时的panel leave问题\n    var eventObj = this._getEventObj(ev); // ev.event,  g事件的才有。解决移动太快的时候, wrapBehavior 触发的 event === undefined；\n\n\n    eventObj.event = ev;\n    this.view.emit('panel:mouseleave', eventObj);\n  };\n\n  EventController.prototype.clearEvents = function () {\n    var eventHandlers = this._eventHandlers;\n\n    _.each(eventHandlers, function (eh) {\n      eh.target.off(eh.type, eh.handler);\n    });\n\n    var canvasDom = this.canvas.get('canvasDOM');\n    canvasDom.removeEventListener('mouseleave', this._canvasDomLeaveHandler);\n  };\n\n  return EventController;\n}();\n\nexport default EventController;","import * as _ from '@antv/util';\n/**\n * facet 基类\n *  - 定义生命周期，方便自定义 facet\n *  - 提供基础的生命流程方法\n *\n * 生命周期：\n *\n * 初始化 init\n * 1. 初始化容器\n * 2. 数据分面，生成分面布局信息\n *\n * 渲染阶段 render\n * 1. view 创建\n * 2. title\n * 3. axis\n *\n * 清除阶段 clear\n * 1. 清除 view\n * 2. 清除事件\n * 3. 清除 group\n */\n\nvar Facet =\n/** @class */\nfunction () {\n  function Facet(view, cfg) {\n    this.view = view;\n    this.cfg = cfg;\n    this.init();\n  }\n  /**\n   * 初始化过程\n   */\n\n\n  Facet.prototype.init = function () {\n    // 初始化流程\n    this.container = this._createContainer(); // 生成分面布局信息\n\n    var data = this.view.get('data');\n    this.facets = this.generateFacets(data);\n  }; // 创建容器\n\n\n  Facet.prototype._createContainer = function () {\n    var foregroundGroup = this.view.get('frontgroundGroup');\n    return foregroundGroup.addGroup();\n  };\n  /**\n   * 渲染分面，由上层 view 调用。包括：\n   *  - 分面 view\n   *  - 轴\n   *  - title\n   *\n   *  子类可以复写，添加一些其他组件，比如滚动条等\n   */\n\n\n  Facet.prototype.render = function () {\n    this._renderViews();\n\n    this.renderTitle();\n    this.renderAxis();\n  };\n  /**\n   * 初始化 view\n   */\n\n\n  Facet.prototype._renderViews = function () {\n    // 先清空，再绘制\n    this._clearFacetViews();\n\n    this._createFacetViews();\n  };\n  /**\n   * 创建 分面 view\n   */\n\n\n  Facet.prototype._createFacetViews = function () {\n    var _this = this; // 使用分面数据 创建分面 view\n\n\n    return this.facets.map(function (facet) {\n      return _this.facetToView(facet);\n    });\n  };\n  /**\n   * 从 view 中清除 facetView\n   */\n\n\n  Facet.prototype._clearFacetViews = function () {\n    var _this = this; // 从 view 中移除分面 view\n\n\n    _.each(this.facets, function (facet) {\n      if (facet.view) {\n        _this.view.removeView(facet.view);\n\n        facet.view = undefined;\n      }\n    });\n  };\n  /**\n   * 根据 facet 生成 view，可以给上层自定义使用\n   * @param facet\n   */\n\n\n  Facet.prototype.facetToView = function (facet) {\n    var region = facet.region,\n        data = facet.data;\n    var view = this.view.createView({\n      start: region.start,\n      end: region.end,\n      padding: _.get(facet, 'padding', this.cfg.padding || 0)\n    }); // 设置分面的数据\n\n    view.data(data || []);\n    this.beforeProcessView(view, facet);\n    var eachView = this.cfg.eachView;\n\n    if (eachView) {\n      eachView(view, facet);\n    }\n\n    this.afterProcessView(view, facet); // 挂载在 facet 中\n\n    facet.view = view;\n    return view;\n  };\n  /**\n   * 清空，clear 之后如果还需要使用，需要重新调用 init 初始化过程\n   * 一般在数据有变更的时候调用，重新进行数据的分面逻辑\n   */\n\n\n  Facet.prototype.clear = function () {\n    this._clearFacetViews();\n  };\n  /**\n   * 销毁\n   */\n\n\n  Facet.prototype.destroy = function () {\n    this.clear();\n    if (this.container) this.container.remove();\n    this.view = undefined;\n    this.facets = [];\n    this.container = undefined;\n    this.destroyed = true;\n  }; // override 开始处理 eachView\n\n\n  Facet.prototype.beforeProcessView = function (view, facet) {}; // override 处理 eachView 之后\n\n\n  Facet.prototype.afterProcessView = function (view, facet) {}; // 其他一些提供给子类使用的方法\n\n  /**\n   * 获取这个字段对应的所有值，数组\n   * @protected\n   * @param data 数据\n   * @param field 字段名\n   * @return 字段对应的值\n   */\n\n\n  Facet.prototype.getFieldValues = function (data, field) {\n    var rst = [];\n    var cache = {}; // 去重、去除 Nil 值\n\n    _.each(data, function (d) {\n      var value = d[field];\n\n      if (!_.isNil(value) && !cache[value]) {\n        rst.push(value);\n        cache[value] = true;\n      }\n    });\n\n    return rst;\n  };\n  /**\n   * 获得每个分面的 region，平分区域\n   * @param rows\n   * @param cols\n   * @param xIndex\n   * @param yIndex\n   */\n\n\n  Facet.prototype.getRegion = function (rows, cols, xIndex, yIndex) {\n    var xWidth = 1 / (cols === 0 ? 1 : cols); // x轴方向的每个分面的偏移\n\n    var yWidth = 1 / (rows === 0 ? 1 : rows); // y轴方向的每个分面的偏移\n\n    var start = {\n      x: xWidth * xIndex,\n      y: yWidth * yIndex\n    };\n    var end = {\n      x: xWidth * (xIndex + 1),\n      y: yWidth * (yIndex + 1)\n    };\n    return {\n      start: start,\n      end: end\n    };\n  };\n\n  return Facet;\n}();\n\nexport { Facet };","import * as _ from '@antv/util';\nexport { Facet } from './base'; // 所有的 Facet 类\n\nvar Facets = {};\n/**\n * 根据 type 获取 facet 类\n * @param type\n */\n\nexport var getFacet = function getFacet(type) {\n  return Facets[_.lowerFirst(type)];\n};\n/**\n * 注册一个 Facet 类\n * @param type\n * @param ctor\n */\n\nexport var registerFacet = function registerFacet(type, ctor) {\n  Facets[_.lowerFirst(type)] = ctor;\n};","import { registerViewPrototype } from '../plot/view';\nexport var ELEMENT_MAP = {}; // element 映射\n\n/**\n * 根据类型获取 Element 类\n * @param type\n */\n\nexport var getElement = function getElement(type) {\n  return ELEMENT_MAP[type.toLowerCase()];\n};\n/**\n * 注册自定义 Element 类\n * @param type\n * @param ctor\n */\n\nexport var registerElement = function registerElement(type, ctor) {\n  // 注册的时候，需要校验 type 重名，不区分大小写\n  if (getElement(type)) {\n    throw new Error(\"Element type '\" + type + \"' existed.\");\n  }\n\n  var t = type.toLowerCase(); // 存储到 map 中\n\n  ELEMENT_MAP[t] = ctor;\n  registerViewPrototype(t, ctor);\n};","/**\n * @description Element 上 tooltip 的辅助类\n */\nimport { __assign } from \"tslib\";\nimport * as _ from '@antv/util';\nvar FIELD_ORIGIN = '_origin';\n\nfunction _snapEqual(v1, v2, scale) {\n  var value1 = scale.translate(v1);\n  var value2 = scale.translate(v2);\n\n  if (scale.isCategory) {\n    return value1 === value2;\n  }\n\n  return _.isNumberEqual(value1, value2);\n}\n\nfunction _getScaleName(scale) {\n  return scale.alias || scale.field;\n}\n\nvar TooltipController =\n/** @class */\nfunction () {\n  function TooltipController(element) {\n    this.element = null;\n    this._xDistance = null;\n    this.element = element;\n  }\n  /**\n   * 根据画布坐标在 source 中查找匹配的数据\n   * @param point 画布坐标\n   * @param source 数据源(已排序)\n   */\n\n\n  TooltipController.prototype.findPoint = function (point, source) {\n    if (source.length === 0) return null; // 数据为空\n\n    var element = this.element;\n    var elementType = element.get('type');\n    var xScale = element.getXScale();\n    var yScale = element.getYScale();\n    var xField = xScale.field;\n    var yField = yScale.field;\n    var rst = null;\n\n    if (elementType === 'point' || elementType === 'heatmap') {\n      // 将 point 画布坐标转换为原始数据值\n      var coord = element.get('coord');\n      var invertPoint = coord.invert(point); // 转换成归一化的数据\n\n      var xValue_1 = xScale.invert(invertPoint.x); // 转换为原始值\n\n      var yValue_1 = yScale.invert(invertPoint.y); // 转换为原始值\n      // 根据最小逼近原则查找 point 击中的数据\n\n      var min_1 = Infinity;\n\n      _.each(source, function (obj) {\n        var originData = obj[FIELD_ORIGIN];\n        var distance = Math.pow(originData[xField] - xValue_1, 2) + Math.pow(originData[yField] - yValue_1, 2);\n\n        if (distance < min_1) {\n          min_1 = distance;\n          rst = obj;\n        }\n      });\n\n      return rst;\n    } // 其他 Element 类型按照 x 字段数据进行查找\n\n\n    var first = source[0];\n    var last = source[source.length - 1];\n\n    var xValue = this._getXValueByPoint(point);\n\n    var firstXValue = first[FIELD_ORIGIN][xField];\n    var firstYValue = first[FIELD_ORIGIN][yField];\n    var lastXValue = last[FIELD_ORIGIN][xField];\n\n    var isYArray = yScale.isLinear && _.isArray(firstYValue); // 考虑 x 维度相同，y 是数组区间的情况\n    // 如果 x 的值是数组\n\n\n    if (_.isArray(firstXValue)) {\n      _.each(source, function (record) {\n        var origin = record[FIELD_ORIGIN]; // xValue 在 origin[xField] 的数值区间内\n\n        if (xScale.translate(origin[xField][0]) <= xValue && xScale.translate(origin[xField][1]) >= xValue) {\n          if (isYArray) {\n            // 层叠直方图场景，x 和 y 都是数组区间\n            if (!_.isArray(rst)) {\n              rst = [];\n            }\n\n            rst.push(record);\n          } else {\n            rst = record;\n            return false;\n          }\n        }\n      });\n\n      if (_.isArray(rst)) {\n        rst = this._filterYValue(rst, point);\n      }\n    } else {\n      var next_1;\n\n      if (!xScale.isLinear && xScale.type !== 'timeCat') {\n        // x 轴对应的数据为非线性以及非时间类型的数据采用遍历查找\n        _.each(source, function (record, index) {\n          var origin = record[FIELD_ORIGIN];\n\n          if (_snapEqual(origin[xField], xValue, xScale)) {\n            if (isYArray) {\n              if (!_.isArray(rst)) {\n                rst = [];\n              }\n\n              rst.push(record);\n            } else {\n              rst = record;\n              return false;\n            }\n          } else if (xScale.translate(origin[xField]) <= xValue) {\n            last = record;\n            next_1 = source[index + 1];\n          }\n        });\n\n        if (_.isArray(rst)) {\n          rst = this._filterYValue(rst, point);\n        }\n      } else {\n        // x 轴对应的数据为线性以及时间类型，进行二分查找，性能更好\n        if (xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) {\n          // 不在数据范围内\n          return null;\n        }\n\n        var firstIdx = 0;\n        var lastIdx = source.length - 1;\n        var middleIdx = void 0;\n\n        while (firstIdx <= lastIdx) {\n          middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n          var item = source[middleIdx][FIELD_ORIGIN][xField];\n\n          if (_snapEqual(item, xValue, xScale)) {\n            return source[middleIdx];\n          }\n\n          if (xScale.translate(item) <= xScale.translate(xValue)) {\n            firstIdx = middleIdx + 1;\n            last = source[middleIdx];\n            next_1 = source[middleIdx + 1];\n          } else {\n            if (lastIdx === 0) {\n              last = source[0];\n            }\n\n            lastIdx = middleIdx - 1;\n          }\n        }\n      }\n\n      if (last && next_1) {\n        // 计算最逼近的\n        if (Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) > Math.abs(xScale.translate(next_1[FIELD_ORIGIN][xField]) - xValue)) {\n          last = next_1;\n        }\n      }\n    }\n\n    var distance = this._getXDistance(); // 每个分类间的平均间距\n\n\n    if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n      rst = last;\n    }\n\n    return rst;\n  };\n  /**\n   * 根据数据获取对应的 tooltip items 信息\n   * @param data 数据记录\n   * @param titleField tooltip title 字段名\n   */\n\n\n  TooltipController.prototype.getTooltipItems = function (data, titleField) {\n    var element = this.element;\n    var origin = data[FIELD_ORIGIN];\n\n    var tooltipTitle = this._getTooltipTitle(origin, titleField);\n\n    var tooltipOptions = element.get('tooltipOptions');\n    var defaultColor = element.get('theme').defaultColor;\n\n    var size = this._getSize(data);\n\n    var items = [];\n    var name;\n    var value;\n\n    function addItem(itemName, itemValue) {\n      if (!_.isNil(itemValue) && itemValue !== '') {\n        // 值为 null的时候，忽视\n        var item = {\n          title: tooltipTitle,\n          point: data,\n          name: itemName || tooltipTitle,\n          value: itemValue,\n          color: data.color || defaultColor,\n          marker: true,\n          size: size\n        };\n        items.push(item);\n      }\n    }\n\n    if (tooltipOptions) {\n      var fields = tooltipOptions.fields,\n          callback = tooltipOptions.callback;\n\n      if (callback) {\n        // 用户定义了回调函数\n        var callbackParams = fields.map(function (field) {\n          return data[FIELD_ORIGIN][field];\n        });\n        var cfg = callback.apply(void 0, callbackParams);\n\n        var itemCfg = __assign({\n          point: data,\n          title: tooltipTitle,\n          color: data.color || defaultColor,\n          marker: true,\n          // 默认展示 marker\n          size: size\n        }, cfg);\n\n        items.push(itemCfg);\n      } else {\n        var scales_1 = element.get('scales');\n\n        _.each(fields, function (field) {\n          if (!_.isNil(origin[field])) {\n            // 字段数据为null, undefined 时不显示\n            var scale = scales_1[field];\n            name = _getScaleName(scale);\n            value = scale.getText(origin[field]);\n            addItem(name, value);\n          }\n        });\n      }\n    } else {\n      var valueScale = this._getTooltipValueScale();\n\n      if (!_.isNil(origin[valueScale.field])) {\n        // 字段数据为null ,undefined时不显示\n        value = this._getTooltipValue(origin, valueScale);\n        name = this._getTooltipName(origin);\n        addItem(name, value);\n      }\n    }\n\n    return items;\n  };\n\n  TooltipController.prototype.clear = function () {\n    this._xDistance = null;\n  }; // 返回画布坐标点对应的 x 字段数值\n\n\n  TooltipController.prototype._getXValueByPoint = function (point) {\n    var result = 0;\n    var element = this.element;\n    var coord = element.get('coord');\n    var xScale = element.getXScale();\n    var range = xScale.range;\n    var rangeMax = range[range.length - 1];\n    var rangeMin = range[0];\n    var invertPoint = coord.invert(point);\n    var xValue = invertPoint.x;\n\n    if (element.isInCircle() && xValue > (1 + rangeMax) / 2) {\n      xValue = rangeMin; // 极坐标下，scale 的 range 被做过特殊处理 see view.js#L88\n    }\n\n    result = xScale.invert(xValue);\n\n    if (xScale.isCategory) {\n      // 分类类型，要将字符串类型转换成数字\n      result = xScale.translate(result);\n    }\n\n    return result;\n  };\n\n  TooltipController.prototype._filterYValue = function (arr, point) {\n    var element = this.element;\n    var coord = element.get('coord');\n    var yScale = element.getYScale();\n    var yField = yScale.field;\n    var invertPoint = coord.invert(point);\n    var yValue = yScale.invert(invertPoint.y);\n    var rst = arr[arr.length - 1];\n\n    _.each(arr, function (obj) {\n      var origin = obj[FIELD_ORIGIN];\n\n      if (origin[yField][0] <= yValue && origin[yField][1] >= yValue) {\n        rst = obj;\n        return false;\n      }\n    });\n\n    return rst;\n  };\n\n  TooltipController.prototype._getXDistance = function () {\n    var distance = this._xDistance;\n\n    if (!distance) {\n      var element = this.element;\n      var xScale_1 = element.getXScale();\n\n      if (xScale_1.isCategory) {\n        distance = 1;\n      } else {\n        var values = xScale_1.values; // values 是无序的\n\n        var min_2 = xScale_1.translate(values[0]);\n        var max_1 = min_2;\n\n        _.each(values, function (value) {\n          var numericValue = xScale_1.translate(value);\n\n          if (numericValue < min_2) {\n            min_2 = numericValue;\n          }\n\n          if (numericValue > max_1) {\n            max_1 = numericValue;\n          }\n        });\n\n        var length_1 = values.length; // 应该是除以 length - 1\n\n        distance = (max_1 - min_2) / (length_1 - 1);\n      }\n\n      this._xDistance = distance; // 缓存，防止重复计算\n    }\n\n    return distance;\n  }; // 获取 title 字段对应的度量\n\n\n  TooltipController.prototype._getTooltipTitleScale = function (titleField) {\n    var element = this.element;\n    var scales = element.get('scales');\n\n    if (titleField) {\n      return scales[titleField];\n    }\n\n    var positionAttr = element.getAttr('position');\n    var fields = positionAttr.getFields();\n    return scales[fields[0]];\n  }; // 获取原始数据的 tooltip title 字符串\n\n\n  TooltipController.prototype._getTooltipTitle = function (originData, titleField) {\n    var tooltipTitle = '';\n    var element = this.element;\n\n    var titleScale = this._getTooltipTitleScale(titleField);\n\n    if (titleScale) {\n      var value = originData[titleScale.field];\n      tooltipTitle = titleScale.getText(value);\n    } else if (element.get('type') === 'heatmap') {\n      // 热力图在不存在 title 的时候特殊处理\n      var xScale = element.getXScale();\n      var yScale = element.getYScale();\n      var xValue = xScale.getText(originData[xScale.field]);\n      var yValue = yScale.getText(originData[yScale.field]);\n      tooltipTitle = \"( \" + xValue + \", \" + yValue + \" )\";\n    }\n\n    return tooltipTitle;\n  }; // 获取 tooltip value 值对应的度量\n\n\n  TooltipController.prototype._getTooltipValueScale = function () {\n    var element = this.element;\n    var attrs = element.getAttrsForLegend();\n    var scale;\n\n    _.each(attrs, function (attr) {\n      var tmpScale = attr.getScale(attr.type);\n\n      if (tmpScale && tmpScale.isLinear) {\n        // 如果指定字段是非 position 的，同时是连续的\n        scale = tmpScale;\n        return false;\n      }\n    });\n\n    var xScale = element.getXScale();\n    var yScale = element.getYScale();\n    return scale || yScale || xScale;\n  }; // 根据原始数据以及对应的 value 度量获取 tooltip 对应的 value 值\n\n\n  TooltipController.prototype._getTooltipValue = function (originData, valueScale) {\n    var field = valueScale.field;\n    var value = originData[field];\n\n    if (_.isArray(value)) {\n      var values = value.map(function (eachValue) {\n        return valueScale.getText(eachValue);\n      });\n      return values.join('-');\n    }\n\n    return valueScale.getText(value);\n  }; // 根据原始数据获取 tooltip item 中 name 值\n\n\n  TooltipController.prototype._getTooltipName = function (originData) {\n    var nameScale;\n    var element = this.element;\n    var groupScales = element.getGroupScales();\n\n    if (groupScales.length) {\n      // 如果存在分组类型，取第一个分组类型\n      _.each(groupScales, function (scale) {\n        nameScale = scale;\n        return false;\n      });\n    }\n\n    if (nameScale) {\n      var field = nameScale.field;\n      return nameScale.getText(originData[field]);\n    }\n\n    var valueScale = this._getTooltipValueScale();\n\n    return _getScaleName(valueScale);\n  }; // TODO: 需要改造\n\n\n  TooltipController.prototype._getSize = function (obj) {\n    var element = this.element;\n    var coord = element.get('coord');\n    var size = element.getSize(obj[FIELD_ORIGIN]);\n\n    if (coord.isRect && size) {\n      var dim = coord.isTransposed ? 'y' : 'x';\n\n      if (_.isArray(obj[dim])) {\n        var width = Math.abs(obj[dim][1] - obj[dim][0]);\n        size = size < width ? null : size; // 直方图计算错误\n      }\n    }\n\n    return size;\n  };\n\n  return TooltipController;\n}();\n\nexport default TooltipController;","import { __assign, __extends } from \"tslib\";\nimport { Label } from '@antv/component';\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nvar IGNORE_ARR = ['line', 'point', 'path'];\nvar ORIGIN = '_origin';\n\nfunction avg(arr) {\n  var sum = 0;\n\n  _.each(arr, function (value) {\n    sum += value;\n  });\n\n  return sum / arr.length;\n} // 计算多边形重心: https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n\n\nfunction getCentroid(xs, ys) {\n  if (_.isNumber(xs) && _.isNumber(ys)) {\n    // 普通色块图，xs 和 ys 是数值\n    return [xs, ys];\n  }\n\n  var i = -1;\n  var x = 0;\n  var y = 0;\n  var former;\n  var current = xs.length - 1;\n  var diff;\n  var k = 0;\n\n  while (++i < xs.length) {\n    former = current;\n    current = i;\n    k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n    x += (xs[former] + xs[current]) * diff;\n    y += (ys[former] + ys[current]) * diff;\n  }\n\n  k *= 3;\n  return [x / k, y / k];\n}\n\nvar ElementLabels =\n/** @class */\nfunction (_super) {\n  __extends(ElementLabels, _super);\n\n  function ElementLabels(cfg) {\n    var _this = _super.call(this, __assign({\n      labelOptions: null,\n      coord: null,\n      elementType: null,\n      zIndex: 6\n    }, cfg)) || this;\n\n    _this.set('defaultLabelCfg', _this.get('theme').label);\n\n    return _this;\n  }\n\n  ElementLabels.prototype._renderUI = function () {\n    _super.prototype._renderUI.call(this);\n\n    var labelsGroup = this.addGroup({\n      name: 'element-labels-group'\n    });\n    var lineGroup = this.addGroup({\n      name: 'element-labels-line-group'\n    });\n    var labelsRenderer = new Label();\n    labelsRenderer.set('coord', this.get('coord'));\n    labelsRenderer.set('group', labelsGroup);\n    labelsRenderer.set('lineGroup', lineGroup);\n    this.set('labelsRenderer', labelsRenderer);\n    this.set('labelsGroup', labelsGroup);\n    this.set('lineGroup', lineGroup);\n  };\n\n  ElementLabels.prototype.destroy = function () {\n    this.get('labelsRenderer').destroy(); // 清理文本\n\n    _super.prototype.destroy.call(this);\n  };\n\n  ElementLabels.prototype.showLabels = function (points, originShapes) {\n    var labelsRenderer = this.get('labelsRenderer');\n    var items = this.getLabelsItems(points, originShapes);\n    var shapes = [].concat(originShapes);\n    var type = this.get('type');\n    items = this.adjustItems(items, shapes);\n    this.drawLines(items);\n    labelsRenderer.set('items', items.filter(function (item, i) {\n      if (!item) {\n        shapes.splice(i, 1);\n        return false;\n      }\n\n      return true;\n    }));\n\n    if (type) {\n      labelsRenderer.set('shapes', shapes);\n      labelsRenderer.set('type', type);\n      labelsRenderer.set('points', points);\n    }\n\n    labelsRenderer.set('canvas', this.get('canvas'));\n    labelsRenderer.draw();\n  };\n\n  ElementLabels.prototype.adjustItems = function (items, shapes) {\n    _.each(items, function (item) {\n      if (!item) {\n        return;\n      }\n\n      if (item.offsetX) {\n        item.x += item.offsetX;\n      }\n\n      if (item.offsetY) {\n        item.y += item.offsetY;\n      }\n    });\n\n    return items;\n  };\n  /**\n   * drawing lines to labels\n   * @param  {Array} items labels\n   * @param  {Object} labelLine configuration for label lines\n   */\n\n\n  ElementLabels.prototype.drawLines = function (items) {\n    var _this = this;\n\n    _.each(items, function (point) {\n      if (!point) {\n        return;\n      }\n\n      if (point.offset > 0 && point.labelLine) {\n        _this.lineToLabel(point);\n      }\n    });\n  }; // 定义连接线\n\n\n  ElementLabels.prototype.lineToLabel = function (point) {};\n\n  ElementLabels.prototype.setLabelPosition = function (label, point, index, position) {};\n\n  ElementLabels.prototype.transLabelPoint = function (point) {\n    var coord = this.get('coord');\n    var tmpPoint = coord.applyMatrix(point.x, point.y, 1);\n    point.x = tmpPoint[0];\n    point.y = tmpPoint[1];\n  };\n\n  ElementLabels.prototype.getOffsetVector = function (point) {\n    var offset = point.offset || 0;\n    var coord = this.get('coord');\n    var vector;\n\n    if (coord.isTransposed) {\n      // 如果x,y翻转，则偏移x\n      vector = coord.applyMatrix(offset, 0);\n    } else {\n      // 否则，偏转y\n      vector = coord.applyMatrix(0, offset);\n    }\n\n    return vector;\n  }; // 获取默认的偏移量\n\n\n  ElementLabels.prototype.getDefaultOffset = function (point) {\n    var offset = 0;\n    var coord = this.get('coord');\n    var vector = this.getOffsetVector(point);\n\n    if (coord.isTransposed) {\n      // 如果x,y翻转，则偏移x\n      offset = vector[0];\n    } else {\n      // 否则，偏转y\n      offset = vector[1];\n    }\n\n    return offset;\n  }; // 获取文本的偏移位置，x,y\n\n\n  ElementLabels.prototype.getLabelOffset = function (point, index, total) {\n    var offset = this.getDefaultOffset(point);\n    var coord = this.get('coord');\n    var transposed = coord.isTransposed;\n    var yField = transposed ? 'x' : 'y';\n    var factor = transposed ? 1 : -1; // y 方向上越大，像素的坐标越小，所以transposed时将系数变成\n\n    var offsetPoint = {\n      x: 0,\n      y: 0\n    };\n\n    if (index > 0 || total === 1) {\n      // 判断是否小于0\n      offsetPoint[yField] = offset * factor;\n    } else {\n      offsetPoint[yField] = offset * factor * -1;\n    }\n\n    return offsetPoint;\n  };\n  /**\n   * @protected\n   * 获取labels\n   * @param {Array} points points\n   * @param {Array} shapes shapes\n   * @return {Array} label items\n   */\n\n\n  ElementLabels.prototype.getLabelsItems = function (points, shapes) {\n    var _this = this;\n\n    var items = [];\n    var element = this.get('element');\n    var coord = this.get('coord');\n\n    var labelOptions = this._getlabelOptions(points, shapes); // 获取label相关的x，y的值，获取具体的x,y,防止存在数组\n\n\n    _.each(points, function (point, i) {\n      var origin = point[ORIGIN];\n      var label = labelOptions[i];\n\n      if (!label) {\n        items.push(null);\n        return;\n      }\n\n      if (!_.isArray(label.text)) {\n        label.text = [label.text];\n      }\n\n      var total = label.length;\n\n      _.each(label.text, function (sub, subIndex) {\n        if (_.isNil(sub) || sub === '') {\n          items.push(null);\n          return;\n        }\n\n        var obj = _this.getLabelPoint(label, point, subIndex);\n\n        obj = _.mix({}, label, obj);\n\n        if (!obj.textAlign) {\n          obj.textAlign = _this.getLabelAlign(obj, subIndex, total);\n        }\n\n        if (element) {\n          obj.id = element.getShapeId(origin) + \"-glabel-\" + subIndex + \"-\" + obj.text;\n        }\n\n        obj.coord = coord;\n        items.push(obj);\n      });\n    });\n\n    return items;\n  };\n  /**\n   * @protected\n   * 获取文本的位置信息\n   * @param {Array} labelOptions labels\n   * @param {Object} point point\n   * @param {Number} index index\n   * @return {Object} point\n   */\n\n\n  ElementLabels.prototype.getLabelPoint = function (labelOptions, point, index) {\n    var coord = this.get('coord');\n    var total = labelOptions.text.length;\n\n    function getDimValue(value, idx) {\n      var v = value;\n\n      if (_.isArray(v)) {\n        if (labelOptions.text.length === 1) {\n          // 如果仅一个label,多个y,取最后一个y\n          if (v.length <= 2) {\n            v = v[value.length - 1];\n          } else {\n            v = avg(v);\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n\n      return v;\n    }\n\n    var label = {\n      text: labelOptions.text[index],\n      x: 0,\n      y: 0,\n      start: {\n        x: 0,\n        y: 0\n      },\n      color: '#fff'\n    }; // 多边形场景,多用于地图\n\n    if (point && this.get('elementType') === 'polygon') {\n      var centroid = getCentroid(point.x, point.y);\n      label.x = centroid[0];\n      label.y = centroid[1];\n    } else {\n      label.x = getDimValue(point.x, index);\n      label.y = getDimValue(point.y, index);\n    } // get nearest point of the shape as the label line start point\n\n\n    if (point && point.nextPoints && (point.shape === 'funnel' || point.shape === 'pyramid')) {\n      var maxX_1 = -Infinity;\n      point.nextPoints.forEach(function (p) {\n        var p1 = coord.convert(p);\n\n        if (p1.x > maxX_1) {\n          maxX_1 = p1.x;\n        }\n      });\n      label.x = (label.x + maxX_1) / 2;\n    } // sharp edge of the pyramid\n\n\n    if (point.shape === 'pyramid' && !point.nextPoints && point.points) {\n      point.points.forEach(function (p) {\n        var p1 = p;\n        p1 = coord.convert(p1);\n\n        if (_.isArray(p1.x) && point.x.indexOf(p1.x) === -1 || _.isNumber(p1.x) && point.x !== p1.x) {\n          label.x = (label.x + p1.x) / 2;\n        }\n      });\n    }\n\n    if (labelOptions.position) {\n      this.setLabelPosition(label, point, index, labelOptions.position);\n    }\n\n    var offsetPoint = this.getLabelOffset(labelOptions, index, total);\n\n    if (labelOptions.offsetX) {\n      offsetPoint.x += labelOptions.offsetX;\n    }\n\n    if (labelOptions.offsetY) {\n      offsetPoint.y += labelOptions.offsetY;\n    }\n\n    this.transLabelPoint(label);\n    label.start = {\n      x: label.x,\n      y: label.y\n    };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = point.color;\n    return label;\n  };\n\n  ElementLabels.prototype.getLabelAlign = function (point, index, total) {\n    var align = 'center';\n    var coord = this.get('coord');\n\n    if (coord.isTransposed) {\n      var offset = this.getDefaultOffset(point);\n\n      if (offset < 0) {\n        align = 'right';\n      } else if (offset === 0) {\n        align = 'center';\n      } else {\n        align = 'left';\n      }\n\n      if (total > 1 && index === 0) {\n        if (align === 'right') {\n          align = 'left';\n        } else if (align === 'left') {\n          align = 'right';\n        }\n      }\n    }\n\n    return align;\n  };\n\n  ElementLabels.prototype._getLabelValue = function (origin, originScales) {\n    var scales = originScales;\n\n    if (!_.isArray(scales)) {\n      scales = [scales];\n    }\n\n    var text = [];\n\n    _.each(scales, function (scale) {\n      var value = origin[scale.field];\n\n      if (_.isArray(value)) {\n        var tmp_1 = [];\n\n        _.each(value, function (subVal) {\n          tmp_1.push(scale.getText(subVal));\n        });\n\n        value = tmp_1;\n      } else {\n        value = scale.getText(value);\n      }\n\n      if (_.isNil(value) || value === '') {\n        text.push(null);\n      } else {\n        text.push(value);\n      }\n    });\n\n    return text;\n  }; // 获取每个label的配置\n\n\n  ElementLabels.prototype._getlabelOptions = function (points, shapes) {\n    var _this = this;\n\n    var elementType = this.get('elementType');\n    var theme = this.get('theme');\n    var labelOptions = this.get('labelOptions');\n    var scales = labelOptions.scales;\n    var cfgs = [];\n\n    _.each(points, function (point, i) {\n      var cfg = {};\n      var origin = point[ORIGIN];\n\n      var originText = _this._getLabelValue(origin, scales);\n\n      if (labelOptions.callback) {\n        // callback 中应使用原始数据，而不是数据字符串\n        var originValues = scales.map(function (scale) {\n          return origin[scale.field];\n        });\n        cfg = labelOptions.callback.apply(labelOptions, originValues);\n      }\n\n      if (_.isNil(cfg)) {\n        cfgs.push(null);\n        return;\n      }\n\n      if (_.isString(cfg.content)) {\n        cfg.text = cfg.content;\n        delete cfg.content;\n      } else if (_.isFunction(cfg.content)) {\n        cfg.text = cfg.content(origin, point, i);\n        delete cfg.content;\n      } else {\n        cfg.text = originText[0]; // 默认展示声明的第一个字段对应的值\n      }\n\n      if (cfg.htmlTemplate) {\n        cfg.useHtml = true;\n        cfg.text = cfg.htmlTemplate(origin, point, i);\n        delete cfg.htmlTemplate;\n      }\n\n      if (cfg.formatter) {\n        cfg.text = cfg.formatter.call(null, cfg.text, point, i);\n        delete cfg.formatter;\n      }\n\n      if (elementType === 'polygon' || cfg.offset < 0 && _.indexOf(IGNORE_ARR, elementType) === -1) {\n        cfg = _.deepMix({}, _this.get('defaultLabelCfg'), theme.innerLabels, cfg);\n      } else {\n        cfg = _.deepMix({}, _this.get('defaultLabelCfg'), theme.label, cfg);\n      } // 将 shape 的原始数据存入\n\n\n      cfg.origin = origin; // delete cfg.items;\n\n      cfgs.push(cfg);\n    });\n\n    return cfgs;\n  };\n\n  return ElementLabels;\n}(Group);\n\nexport default ElementLabels;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementLabels from './base';\n\nvar IntervalElementLabels =\n/** @class */\nfunction (_super) {\n  __extends(IntervalElementLabels, _super);\n\n  function IntervalElementLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  IntervalElementLabels.prototype.setLabelPosition = function (point, originPoint, index, originPosition) {\n    var position = originPosition;\n\n    if (_.isFunction(position)) {\n      position = position(originPoint);\n    }\n\n    var coord = this.get('coord');\n    var transposed = coord.isTransposed;\n    var point0 = coord.convertPoint(originPoint.points[0]);\n    var point1 = coord.convertPoint(originPoint.points[2]);\n    var width = (point0.x - point1.x) / 2 * (transposed ? -1 : 1);\n    var height = (point0.y - point1.y) / 2 * (transposed ? -1 : 1);\n\n    switch (position) {\n      case 'right':\n        if (transposed) {\n          point.x -= width;\n          point.y += height;\n          point.textAlign = point.textAlign || 'center';\n        } else {\n          point.x -= width;\n          point.y += height;\n          point.textAlign = point.textAlign || 'left';\n        }\n\n        break;\n\n      case 'left':\n        if (transposed) {\n          point.x -= width;\n          point.y -= height;\n          point.textAlign = point.textAlign || 'center';\n        } else {\n          point.x += width;\n          point.y += height;\n          point.textAlign = point.textAlign || 'right';\n        }\n\n        break;\n\n      case 'bottom':\n        if (transposed) {\n          point.x -= width * 2;\n          point.textAlign = point.textAlign || 'left';\n        } else {\n          point.y += height * 2;\n          point.textAlign = point.textAlign || 'center';\n        }\n\n        break;\n\n      case 'middle':\n        if (transposed) {\n          point.x -= width;\n        } else {\n          point.y += height;\n        }\n\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'top':\n        if (transposed) {\n          point.textAlign = point.textAlign || 'left';\n        } else {\n          point.textAlign = point.textAlign || 'center';\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  return IntervalElementLabels;\n}(ElementLabels);\n\nexport default IntervalElementLabels;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementLabels from './base';\nimport * as PathUtil from '../../../util/path';\n\nvar PolarElementLabels =\n/** @class */\nfunction (_super) {\n  __extends(PolarElementLabels, _super);\n\n  function PolarElementLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @protected\n   * 获取文本的位置信息\n   * @param {Array} label labels\n   * @param {Object} point point\n   * @param {Number} index index\n   * @return {Object} point\n   */\n\n\n  PolarElementLabels.prototype.getLabelPoint = function (label, point, i) {\n    var index = i;\n    var text = label.text[index];\n    var factor = 1;\n    var arcPoint;\n\n    if (this._isToMiddle(point)) {\n      arcPoint = this._getMiddlePoint(point.points);\n    } else {\n      if (label.text.length === 1 && index === 0) {\n        index = 1;\n      } else if (index === 0) {\n        factor = -1;\n      }\n\n      arcPoint = this.getArcPoint(point, index);\n    }\n\n    var offset = this.getDefaultOffset(label);\n    offset = offset * factor;\n    var middleAngle = this.getPointAngle(arcPoint);\n    var isLabelEmit = label.labelEmit;\n    var labelPoint = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n\n    if (!labelPoint) {\n      labelPoint = {\n        text: ''\n      };\n    } else {\n      labelPoint.text = text;\n      labelPoint.angle = middleAngle;\n      labelPoint.color = point.color;\n    }\n\n    if (label.autoRotate || label.autoRotate === undefined) {\n      // 自动旋转文本呢\n      labelPoint.rotate = this.getLabelRotate(middleAngle, offset, isLabelEmit);\n    } else {\n      labelPoint.rotate = label.rotate;\n    }\n\n    labelPoint.start = {\n      x: arcPoint.x,\n      y: arcPoint.y\n    };\n    return labelPoint;\n  };\n\n  PolarElementLabels.prototype.getCirclePoint = function (originAngle, offset, point, isLabelEmit) {\n    var coord = this.get('coord');\n    var center = coord.getCenter();\n    var angle = originAngle;\n    var r = PathUtil.getPointRadius(coord, point);\n\n    if (r === 0) {\n      return null;\n    }\n\n    if (coord.isTransposed && r > offset && !isLabelEmit) {\n      var appendAngle = Math.asin(offset / (2 * r));\n      angle = angle + appendAngle * 2;\n    } else {\n      r = r + offset;\n    }\n\n    return {\n      x: center.x + r * Math.cos(angle),\n      y: center.y + r * Math.sin(angle),\n      angle: angle,\n      r: r\n    };\n  };\n\n  PolarElementLabels.prototype.getArcPoint = function (point, i) {\n    var index = i;\n    var outerPoint; // 圆弧上的中点\n\n    index = index || 0;\n\n    if (_.isArray(point.x) || _.isArray(point.y)) {\n      outerPoint = {\n        x: _.isArray(point.x) ? point.x[index] : point.x,\n        y: _.isArray(point.y) ? point.y[index] : point.y\n      };\n    } else {\n      outerPoint = point;\n    }\n\n    this.transLabelPoint(outerPoint);\n    return outerPoint;\n  }; // 获取点所在的角度\n\n\n  PolarElementLabels.prototype.getPointAngle = function (point) {\n    var coord = this.get('coord');\n    return PathUtil.getPointAngle(coord, point);\n  };\n  /**\n   * @protected\n   * 获取文本旋转的方向\n   * @param {Number} angle angle\n   * @return {Number} angle\n   */\n\n\n  PolarElementLabels.prototype.getLabelRotate = function (angle, offset, isLabelEmit) {\n    var rotate;\n    rotate = angle * 180 / Math.PI;\n    rotate += 90;\n\n    if (isLabelEmit) {\n      rotate -= 90;\n    }\n\n    if (rotate) {\n      if (rotate > 90) {\n        rotate = rotate - 180;\n      } else if (rotate < -90) {\n        rotate = rotate + 180;\n      }\n    }\n\n    return rotate / 180 * Math.PI;\n  }; // override\n\n\n  PolarElementLabels.prototype.getLabelAlign = function (point) {\n    var coord = this.get('coord');\n    var align;\n\n    if (point.labelEmit) {\n      if (point.angle <= Math.PI / 2 && point.angle > -Math.PI / 2) {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    } else if (!coord.isTransposed) {\n      align = 'center';\n    } else {\n      var center = coord.getCenter();\n      var offset = this.getDefaultOffset(point);\n\n      if (Math.abs(point.x - center.x) < 1) {\n        align = 'center';\n      } else if (point.angle > Math.PI || point.angle <= 0) {\n        if (offset > 0) {\n          align = 'left';\n        } else {\n          align = 'right';\n        }\n      } else {\n        if (offset > 0) {\n          align = 'right';\n        } else {\n          align = 'left';\n        }\n      }\n    }\n\n    return align;\n  }; // 定义连接线\n\n\n  PolarElementLabels.prototype.lineToLabel = function (point) {}; // 获取中心的位置\n\n\n  PolarElementLabels.prototype._getMiddlePoint = function (points) {\n    var coord = this.get('coord');\n    var count = points.length;\n    var middlePoint = {\n      x: 0,\n      y: 0\n    };\n\n    _.each(points, function (point) {\n      middlePoint.x += point.x;\n      middlePoint.y += point.y;\n    });\n\n    middlePoint.x /= count;\n    middlePoint.y /= count;\n    middlePoint = coord.convert(middlePoint);\n    return middlePoint;\n  }; // 是否居中\n\n\n  PolarElementLabels.prototype._isToMiddle = function (point) {\n    return point.x.length > 2;\n  };\n\n  return PolarElementLabels;\n}(ElementLabels);\n\nexport default PolarElementLabels;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport * as PathUtil from '../../../util/path';\nimport PolarElementLabels from './polar';\n/** label text和line距离 4px */\n\nvar MARGIN = 4;\n\nfunction getEndPoint(center, angle, r) {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle)\n  };\n}\n\nfunction antiCollision(labels, lineHeight, plotRange, center, isRight) {\n  // adjust y position of labels to avoid overlapping\n  var overlapping = true;\n  var start = plotRange.start;\n  var end = plotRange.end;\n  var startY = Math.min(start.y, end.y);\n  var totalHeight = Math.abs(start.y - end.y);\n  var i;\n  var maxY = 0;\n  var minY = Number.MIN_VALUE;\n  var boxes = labels.map(function (label) {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n\n    if (label.y < minY) {\n      minY = label.y;\n    }\n\n    return {\n      size: lineHeight,\n      targets: [label.y - startY]\n    };\n  });\n  minY -= startY;\n\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach(function (box) {\n      var target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size); // box.pos = Math.max(0, target - box.size / 2);\n    }); // detect overlapping and join boxes\n\n    overlapping = false;\n    i = boxes.length;\n\n    while (i--) {\n      if (i > 0) {\n        var previousBox = boxes[i - 1];\n        var box = boxes[i];\n\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets); // overflow, shift up\n\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n\n          boxes.splice(i, 1); // removing box\n\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0; // step 4: normalize y and adjust x\n\n  boxes.forEach(function (b) {\n    var posInCompositeBox = startY + lineHeight / 2; // middle of the label\n\n    b.targets.forEach(function () {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += lineHeight;\n      i++;\n    });\n  }); // (x - cx)^2 + (y - cy)^2 = totalR^2\n\n  labels.forEach(function (label) {\n    var rPow2 = label.r * label.r;\n    var dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n\n    if (rPow2 < dyPow2) {\n      label.x = center.x;\n    } else {\n      var dx = Math.sqrt(rPow2 - dyPow2);\n\n      if (!isRight) {\n        // left\n        label.x = center.x - dx;\n      } else {\n        // right\n        label.x = center.x + dx;\n      }\n    }\n  });\n}\n\nvar PieElementLabels =\n/** @class */\nfunction (_super) {\n  __extends(PieElementLabels, _super);\n\n  function PieElementLabels(cfg) {\n    var _this = _super.call(this, __assign({}, cfg)) || this;\n\n    _this.set('defaultLabelCfg', _this.get('theme').thetaLabels);\n\n    return _this;\n  }\n\n  PieElementLabels.prototype.getDefaultOffset = function (point) {\n    return point.offset || 0;\n  };\n  /**\n   * @protected\n   * to avoid overlapping\n   * @param {Array} items labels to be placed\n   * @return {Array} items\n   */\n\n\n  PieElementLabels.prototype.adjustItems = function (originItems) {\n    var items = originItems;\n    var offset = items[0] ? items[0].offset : 0;\n\n    if (offset > 0) {\n      items = this._distribute(items, offset);\n    }\n\n    return _super.prototype.adjustItems.call(this, items);\n  }; // 连接线\n\n\n  PieElementLabels.prototype.lineToLabel = function (label) {\n    var coord = this.get('coord');\n    var r = coord.getRadius();\n    var distance = label.offset;\n    var angle = label.orignAngle || label.angle;\n    var center = coord.getCenter(); // 贴近圆周\n\n    var start = getEndPoint(center, angle, r);\n    var inner = getEndPoint(center, angle, r + distance / 2);\n    var end = {\n      x: label.x - Math.cos(angle) * MARGIN,\n      y: label.y - Math.sin(angle) * MARGIN\n    };\n\n    if (!_.isObject(label.labelLine)) {\n      // labelLine: true\n      label.labelLine = {};\n    }\n\n    label.labelLine.path = [\"M \" + start.x, start.y + \" Q\" + inner.x, inner.y + \" \" + end.x, end.y].join(',');\n  };\n  /**\n   * @protected\n   * get rotation for label\n   * @param {Number} angle angle\n   * @param {Number} offset offset\n   * @return {Number} rotate\n   */\n\n\n  PieElementLabels.prototype.getLabelRotate = function (angle, offset, isLabelLimit) {\n    var rotate;\n\n    if (offset < 0) {\n      rotate = angle * 180 / Math.PI;\n\n      if (rotate > 90) {\n        rotate = rotate - 180;\n      }\n\n      if (rotate < -90) {\n        rotate = rotate + 180;\n      }\n    }\n\n    return rotate / 180 * Math.PI;\n  };\n  /**\n   * @protected\n   * get text align for label\n   * @param {Object} point point\n   * @return {String} align\n   */\n\n\n  PieElementLabels.prototype.getLabelAlign = function (point) {\n    var coord = this.get('coord');\n    var center = coord.getCenter();\n    var align;\n\n    if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n      align = 'left';\n    } else {\n      align = 'right';\n    }\n\n    var offset = this.getDefaultOffset(point);\n\n    if (offset <= 0) {\n      if (align === 'right') {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    }\n\n    return align;\n  };\n\n  PieElementLabels.prototype.getArcPoint = function (point) {\n    return point;\n  };\n\n  PieElementLabels.prototype.getPointAngle = function (point) {\n    var coord = this.get('coord');\n    var startPoint = {\n      x: _.isArray(point.x) ? point.x[0] : point.x,\n      y: point.y[0]\n    };\n    this.transLabelPoint(startPoint); // 转换到画布坐标，如果坐标系发生改变\n\n    var endPoint = {\n      x: _.isArray(point.x) ? point.x[1] : point.x,\n      y: point.y[1]\n    };\n    this.transLabelPoint(endPoint); // 转换到画布坐标，如果坐标系发生改变\n\n    var angle;\n    var startAngle = PathUtil.getPointAngle(coord, startPoint);\n\n    if (point.points && point.points[0].y === point.points[1].y) {\n      angle = startAngle;\n    } else {\n      var endAngle = PathUtil.getPointAngle(coord, endPoint);\n\n      if (startAngle >= endAngle) {\n        // 100% pie slice\n        endAngle = endAngle + Math.PI * 2;\n      }\n\n      angle = startAngle + (endAngle - startAngle) / 2;\n    }\n\n    return angle;\n  };\n\n  PieElementLabels.prototype.getCirclePoint = function (angle, offset, p) {\n    var coord = this.get('coord');\n    var center = coord.getCenter();\n    var r = coord.getRadius() + offset;\n    var point = getEndPoint(center, angle, r);\n    point.angle = angle;\n    point.r = r;\n    return point;\n  }; // distribute labels\n\n\n  PieElementLabels.prototype._distribute = function (labels, offset) {\n    var coord = this.get('coord');\n    var radius = coord.getRadius();\n    var lineHeight = this.get('defaultLabelCfg').labelHeight;\n    var center = coord.getCenter();\n    var totalR = radius + offset;\n    var totalHeight = totalR * 2 + lineHeight * 2;\n    var plotRange = {\n      start: coord.start,\n      end: coord.end\n    };\n    var element = this.get('element');\n\n    if (element) {\n      var view = element.get('view');\n      plotRange = {\n        start: view.get('panelRange').bl,\n        end: view.get('panelRange').tr\n      };\n    } // step 1: separate labels\n\n\n    var halves = [[], []];\n    labels.forEach(function (label) {\n      if (!label) {\n        return;\n      }\n\n      if (label.textAlign === 'right') {\n        // left\n        halves[0].push(label);\n      } else {\n        // right or center will be put on the right side\n        halves[1].push(label);\n      }\n    });\n    halves.forEach(function (half, index) {\n      // step 2: reduce labels\n      var maxLabelsCountForOneSide = totalHeight / lineHeight;\n\n      if (half.length > maxLabelsCountForOneSide) {\n        half.sort(function (a, b) {\n          // sort by percentage DESC\n          return b['..percent'] - a['..percent'];\n        });\n        half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n      } // step 3: distribute position (x and y)\n\n\n      half.sort(function (a, b) {\n        // sort by y ASC\n        return a.y - b.y;\n      });\n      antiCollision(half, lineHeight, plotRange, center, index);\n    });\n    return halves[0].concat(halves[1]);\n  };\n\n  return PieElementLabels;\n}(PolarElementLabels);\n\nexport default PieElementLabels;","var ELEMENT_LABELS_MAP = {};\nexport function getElementLabels(type) {\n  return ELEMENT_LABELS_MAP[type.toLowerCase()];\n}\nexport function registerElementLabels(type, ctor) {\n  if (getElementLabels(type)) {\n    throw new Error(\"ElementLabels type '\" + type + \"' existed.\");\n  }\n\n  ELEMENT_LABELS_MAP[type.toLowerCase()] = ctor;\n}","import * as _ from '@antv/util';\nimport ElementLabels from './components/base';\nimport IntervalElementLabels from './components/interval';\nimport PieElementLabels from './components/pie';\nimport PolarElementLabels from './components/polar';\nimport { getElementLabels, registerElementLabels } from './components/factory';\nexport { getElementLabels, registerElementLabels, ElementLabels };\n\nvar LabelController =\n/** @class */\nfunction () {\n  function LabelController(element) {\n    this.element = null;\n    this.labelsContainer = null;\n    this.element = element;\n  }\n\n  LabelController.prototype._createLabelsContainer = function () {\n    var element = this.element;\n    var elementType = element.get('type');\n    var coord = element.get('coord');\n    var labelOptions = element.get('labelOptions');\n\n    var Ctor = this._getElementLabelsConstructor(labelOptions.labelType, coord.type, elementType);\n\n    var container = element.get('frontgroundGroup');\n\n    var scales = _.map(element.get('labelOptions').fields, function (field) {\n      return element.createScale(field);\n    });\n\n    var labelsContainer = container.addGroup(Ctor, {\n      labelOptions: _.mix({\n        scales: scales\n      }, labelOptions),\n      coord: coord,\n      element: element,\n      elementType: elementType,\n      theme: element.get('theme'),\n      visible: element.get('visible')\n    });\n    this.labelsContainer = labelsContainer;\n  };\n\n  LabelController.prototype.addLabels = function (points, shapes) {\n    this._createLabelsContainer();\n\n    this.labelsContainer.showLabels(points, shapes);\n    var labelsGroup = this.labelsContainer.get('labelsGroup');\n    return labelsGroup.get('children'); // 返回创建的 labels\n  };\n\n  LabelController.prototype.changeVisible = function (visible) {\n    this.labelsContainer && this.labelsContainer.set('visible', visible);\n  };\n\n  LabelController.prototype.clear = function () {\n    var labelsContainer = this.labelsContainer;\n    labelsContainer && !labelsContainer.destroyed && labelsContainer.remove();\n  };\n\n  LabelController.prototype._getElementLabelsConstructor = function (labelType, coordType, elementType) {\n    var type = labelType || 'base';\n\n    if (coordType === 'polar' && type === 'base') {\n      type = 'polar';\n    } else if (coordType === 'theta' && type === 'base') {\n      // pie chart\n      type = 'pie';\n    } else if ((elementType === 'interval' || elementType === 'polygon') && type === 'base') {\n      // bar\n      type = 'interval';\n    }\n\n    return getElementLabels(type);\n  };\n\n  return LabelController;\n}();\n\nexport default LabelController;\nregisterElementLabels('base', ElementLabels);\nregisterElementLabels('interval', IntervalElementLabels);\nregisterElementLabels('pie', PieElementLabels);\nregisterElementLabels('polar', PolarElementLabels);","/**\n * @description Element 上响应 shape 状态的改变\n */\nimport * as _ from '@antv/util';\nvar FIELD_ORIGIN = '_origin'; // 通过 shape 上的原始数据来判断两个 shape 是否相同\n\nfunction _isSameShape(shape1, shape2) {\n  if (_.isNil(shape1) || _.isNil(shape2)) {\n    return false;\n  }\n\n  var shape1Origin = shape1.get('origin');\n  var shape2Origin = shape2.get('origin');\n  return _.isEqual(shape1Origin, shape2Origin);\n}\n\nfunction isChange(preShapes, shapes) {\n  if (!preShapes) {\n    return true;\n  }\n\n  if (preShapes.length !== shapes.length) {\n    return true;\n  }\n\n  var rst = false;\n\n  _.each(shapes, function (shape, index) {\n    if (!_isSameShape(shape, preShapes[index])) {\n      rst = true;\n      return false;\n    }\n  });\n\n  return rst;\n}\n\nfunction getOriginAttrs(modifiedAttrs, originAttrs) {\n  var result = {};\n\n  _.each(modifiedAttrs, function (v, k) {\n    var originValue = originAttrs[k];\n\n    if (_.isArray(originValue)) {\n      originValue = originValue.concat(); // 缓存原来的属性，由于 .attr('matrix') 是数组，所以此处需要深度复制\n    }\n\n    result[k] = originValue;\n  });\n\n  return result;\n}\n\nvar StateController =\n/** @class */\nfunction () {\n  function StateController(element) {\n    this.element = null;\n    this._activeShapes = null;\n    this._selectedShapes = null;\n    this._inactiveShapes = null;\n    this.element = element;\n  }\n\n  StateController.prototype.bind = function () {\n    var element = this.element;\n    var view = element.get('view');\n    view.on('active:change', _.wrapBehavior(this, '_onActive'));\n    view.on('selected:change', _.wrapBehavior(this, '_onSelected'));\n    view.on('inactive:change', _.wrapBehavior(this, '_onInactive'));\n  };\n\n  StateController.prototype.unbind = function () {\n    var element = this.element;\n    var view = element.get('view');\n    view.off('active:change', _.getWrapBehavior(this, '_onActive'));\n    view.off('selected:change', _.getWrapBehavior(this, '_onSelected'));\n    view.off('inactive:change', _.getWrapBehavior(this, '_onInactive'));\n  };\n\n  StateController.prototype._onActive = function (activeObject) {\n    var _this = this;\n\n    var element = this.element;\n    var activeOptions = element.get('activeOptions');\n\n    if (activeOptions === false) {\n      // element.active(false); 不允许 active\n      return;\n    }\n\n    var shapeContainer = element.get('shapeContainer');\n    var exp = activeObject.exp,\n        draw = activeObject.draw;\n\n    var activeShapes = this._filterShapes(exp); // 判断是否同上一次 activeShapes 相同，相同则不需要处理\n\n\n    var preActiveShapes = this._activeShapes;\n\n    if (!isChange(preActiveShapes, activeShapes)) {\n      return;\n    }\n\n    if (preActiveShapes) {\n      this._clearActiveShapes();\n    }\n\n    this._clearInactiveShapes(); // active 和 inactive 互斥，故需要清空\n\n\n    activeShapes.forEach(function (activeShape) {\n      if (activeShape.get('animating')) {\n        activeShape.stopAnimate();\n      }\n\n      _this._setShapeActive(activeShape);\n    });\n    this._activeShapes = activeShapes;\n    shapeContainer.sort();\n    draw && this._draw();\n  }; // 清空原先 active 状态的 shapes\n\n\n  StateController.prototype._clearActiveShapes = function () {\n    var shapes = this._activeShapes;\n\n    _.each(shapes, function (shape) {\n      var originAttrs = shape.get('_beforeActiveAttrs');\n      shape.attr(originAttrs);\n      shape.setZIndex(0);\n      shape.set('_beforeActiveAttrs', null);\n    }); // 恢复原来排序\n\n\n    var shapeContainer = this.element.get('shapeContainer');\n    var children = shapeContainer.get('children');\n    children.sort(function (obj1, obj2) {\n      return obj1._INDEX - obj2._INDEX;\n    });\n    this._activeShapes = null;\n  };\n\n  StateController.prototype._setShapeActive = function (shape) {\n    var activeStyle = this._getShapeStyleByState(shape, 'active'); // active 是基于当前 shape 的样式进行变化\n\n\n    var originAttrs = getOriginAttrs(activeStyle, shape.attr());\n    shape.setSilent('_beforeActiveAttrs', originAttrs);\n    shape.attr(activeStyle);\n    shape.setZIndex(1); // 将 activeShapes 图层提前\n  };\n\n  StateController.prototype._onSelected = function (selectedObj) {\n    var _this = this;\n\n    var selectedOptions = this.element.get('selectedOptions');\n\n    if (selectedOptions === false) {\n      // element.active(false); 不允许 active\n      return;\n    }\n\n    var exp = selectedObj.exp,\n        draw = selectedObj.draw;\n\n    var selectedShapes = this._filterShapes(exp); // 判断是否同上一次 selectedShapes 相同，相同则不需要处理\n\n\n    var preSelectedShapes = this._selectedShapes;\n\n    if (!isChange(preSelectedShapes, selectedShapes)) {\n      return;\n    }\n\n    if (preSelectedShapes) {\n      this._clearSelectedShapes();\n    }\n\n    this._clearInactiveShapes(); // selected 和 inactive 互斥，故需要清空\n\n\n    selectedShapes.forEach(function (shape) {\n      if (shape.get('animating')) {\n        shape.stopAnimate();\n      }\n\n      _this._setShapeSelected(shape);\n    });\n    this._selectedShapes = selectedShapes;\n    draw && this._draw();\n  };\n\n  StateController.prototype._clearSelectedShapes = function () {\n    var shapes = this._selectedShapes;\n\n    _.each(shapes, function (shape) {\n      shape.set('selected', false);\n\n      if (!shape.get('inactive')) {\n        var originAttrs = shape.get('_originAttrs');\n        shape.attr(originAttrs);\n        shape.set('_originAttrs', null);\n      }\n    });\n\n    this._selectedShapes = null;\n  };\n\n  StateController.prototype._setShapeSelected = function (shape) {\n    shape.set('selected', true);\n\n    var selectedStyle = this._getShapeStyleByState(shape, 'selected');\n\n    this._applyShapeStyle(shape, selectedStyle);\n  };\n\n  StateController.prototype._onInactive = function (inactiveObj) {\n    var _this = this;\n\n    var inactiveOptions = this.element.get('inactiveOptions');\n\n    if (inactiveOptions === false) {\n      // element.active(false); 不允许 active\n      return;\n    }\n\n    var exp = inactiveObj.exp,\n        draw = inactiveObj.draw;\n\n    var inactiveShapes = this._filterShapes(exp); // 判断是否同上一次 _inactiveShapes 相同，相同则不需要处理\n\n\n    var preinactiveShapes = this._inactiveShapes;\n\n    if (!isChange(preinactiveShapes, inactiveShapes)) {\n      return;\n    }\n\n    if (preinactiveShapes) {\n      this._clearInactiveShapes();\n    }\n\n    inactiveShapes.forEach(function (shape) {\n      if (shape.get('animating')) {\n        shape.stopAnimate();\n      }\n\n      _this._setShapeInactive(shape);\n    });\n    this._inactiveShapes = inactiveShapes;\n    draw && this._draw();\n  };\n\n  StateController.prototype._clearInactiveShapes = function () {\n    var shapes = this._inactiveShapes;\n\n    _.each(shapes, function (shape) {\n      shape.set('inactive', false);\n\n      if (!shape.get('selected')) {\n        var originAttrs = shape.get('_originAttrs');\n        shape.attr(originAttrs);\n        shape.set('_originAttrs', null);\n      }\n    });\n\n    this._inactiveShapes = null;\n  };\n\n  StateController.prototype._setShapeInactive = function (shape) {\n    shape.set('inactive', true);\n\n    var inactiveStyle = this._getShapeStyleByState(shape, 'inactive');\n\n    this._applyShapeStyle(shape, inactiveStyle);\n  };\n\n  StateController.prototype._applyShapeStyle = function (shape, style) {\n    // 基于 shape 的初始状态\n    var originAttrs = shape.get('_originAttrs');\n\n    if (originAttrs) {\n      shape.attr(originAttrs);\n    }\n\n    originAttrs = getOriginAttrs(style, shape.attr());\n    shape.setSilent('_originAttrs', originAttrs);\n    shape.attr(style);\n  };\n\n  StateController.prototype._filterShapes = function (exp) {\n    var element = this.element;\n    var shapeContainer = element.get('shapeContainer');\n    var shapes = shapeContainer.get('children');\n    return _.filter(shapes, function (shape) {\n      if (shape.get('origin') && shape.get('visible')) {\n        var origin_1 = shape.get('origin'); // line、area、path 这三种 element，shape 的 origin 存储的是整个序列的数据集合\n\n        var data = _.isArray(origin_1) ? origin_1[0][FIELD_ORIGIN] : origin_1[FIELD_ORIGIN];\n        return exp(data);\n      }\n    });\n  };\n\n  StateController.prototype._getShapeStyleByState = function (shape, state) {\n    var element = this.element;\n    var shapeData = shape.get('origin');\n    var shapeName = shapeData.shape || element.getDefaultValue('shape');\n\n    if (_.isArray(shapeName)) {\n      shapeName = shapeName[0];\n    }\n\n    var shapeFactory = element.get('shapeFactory');\n\n    var shapeStyle = _.mix({}, shape.attr(), {\n      origin: shapeData\n    });\n\n    if (state === 'active') {\n      var activeOptions = element.get('activeOptions');\n      var defaultActiveStyle = shapeFactory.getActiveStyle(shapeName, shapeStyle) || {};\n      return _.mix(defaultActiveStyle, activeOptions);\n    }\n\n    if (state === 'selected') {\n      var selectedOptions = element.get('selectedOptions');\n      var defaultSelectedStyle = shapeFactory.getSelectedStyle(shapeName, shapeStyle) || {};\n      return _.mix(defaultSelectedStyle, selectedOptions);\n    }\n\n    if (state === 'inactive') {\n      var inactiveOptions = element.get('inactiveOptions');\n      var defaultInactiveStyle = shapeFactory.getInactiveStyle(shapeName, shapeStyle) || {};\n      return _.mix(defaultInactiveStyle, inactiveOptions);\n    }\n\n    return shapeStyle;\n  };\n\n  StateController.prototype._draw = function () {\n    var canvas = this.element.get('canvas'); // 防止因为 state 处理是异步的，在 dom 元素移除之后再处理\n\n    if (!canvas) return;\n    var drawTimer = canvas.get('_drawTimer');\n\n    if (drawTimer) {\n      clearTimeout(drawTimer);\n      canvas.set('_drawTimer', null);\n    }\n\n    drawTimer = setTimeout(function () {\n      canvas.draw();\n    }, 16);\n    canvas.set('_drawTimer', drawTimer);\n  };\n\n  return StateController;\n}();\n\nexport default StateController;","import * as _ from '@antv/util';\nexport function parseFields(field) {\n  if (_.isArray(field)) {\n    return field;\n  }\n\n  return field.split('*');\n}","import { __assign, __extends } from \"tslib\";\nimport { getAttribute, getAdjust } from '../dependents';\nimport * as _ from '@antv/util';\nimport { getShapeFactory } from './shape/base';\nimport Base from '../base';\nimport Global from '../global';\nimport TooltipController from './controller/tooltip';\nimport LabelController from './controller/label';\nimport StateController from './controller/state';\nimport { parseFields } from './util/parse-fields';\nvar GROUP_ATTRS = ['color', 'shape', 'size'];\nexport var FIELD_ORIGIN = '_origin';\n\nvar Element =\n/** @class */\nfunction (_super) {\n  __extends(Element, _super);\n\n  function Element(cfg) {\n    var _this = _super.call(this, __assign({\n      id: null,\n      type: 'base',\n      shapeType: null,\n      coord: null,\n      attrs: {},\n      data: [],\n      scales: {},\n      attrOptions: {},\n      view: null,\n      canvas: null,\n      container: null,\n      shapeContainer: null,\n      generatePoints: false,\n      sortable: false,\n      animate: true,\n      visible: true,\n      shareTooltip: true,\n      activeOptions: null,\n      inactiveOptions: null,\n      selectedOptions: null,\n      labelOptions: null,\n      tooltipOptions: null,\n      adjustOptions: null,\n      styleOptions: null,\n      statOptions: null,\n      animateOptions: null,\n      theme: null,\n      widthRatio: Global.widthRatio\n    }, cfg)) || this; // 设置 theme\n\n\n    var theme = _this.get('theme') || Global.theme;\n\n    _this.set('theme', theme); // 初始化容器，container 容器在 view 中添加 element 的时候创建\n\n\n    _this.get('container') && _this._initContainer(); // 初始化 Element 的辅助控制器对象\n\n    _this._initController();\n\n    return _this;\n  }\n\n  Element.prototype.position = function (cfg) {\n    if (_.isString(cfg)) {\n      this._setAttrOptions('position', {\n        fields: parseFields(cfg)\n      });\n    } else {\n      this._setAttrOptions('position', cfg);\n    }\n\n    return this;\n  };\n\n  Element.prototype.color = function (field, cfg) {\n    this._createAttrOption('color', field, cfg);\n\n    return this;\n  };\n\n  Element.prototype.shape = function (field, cfg) {\n    this._createAttrOption('shape', field, cfg);\n\n    return this;\n  };\n\n  Element.prototype.size = function (field, cfg) {\n    this._createAttrOption('size', field, cfg);\n\n    return this;\n  };\n\n  Element.prototype.opacity = function (field, callback) {\n    this._createAttrOption('opacity', field, callback);\n\n    return this;\n  };\n\n  Element.prototype.adjust = function (adjustCfg) {\n    var adjusts = adjustCfg;\n\n    if (_.isString(adjustCfg) || _.isPlainObject(adjustCfg)) {\n      adjusts = [adjustCfg];\n    }\n\n    _.each(adjusts, function (adjust, index) {\n      if (!_.isObject(adjust)) {\n        adjusts[index] = {\n          type: adjust\n        };\n      }\n    });\n\n    this.set('adjustOptions', adjusts);\n    return this;\n  };\n\n  Element.prototype.style = function (field, callback) {\n    if (_.isString(field)) {\n      var fields = parseFields(field);\n      this.set('styleOptions', {\n        fields: fields,\n        callback: callback\n      });\n    } else {\n      var fields = field.fields,\n          callback_1 = field.callback,\n          cfg = field.cfg;\n\n      if (fields || callback_1 || cfg) {\n        this.set('styleOptions', field);\n      } else {\n        this.set('styleOptions', {\n          cfg: field\n        });\n      }\n    }\n\n    return this;\n  };\n\n  Element.prototype.tooltip = function (field, cfg) {\n    if (_.isString(field)) {\n      var fields = parseFields(field);\n      this.set('tooltipOptions', {\n        fields: fields,\n        callback: cfg\n      });\n    } else {\n      this.set('tooltipOptions', field);\n    }\n\n    return this;\n  };\n\n  Element.prototype.label = function (field, cfg) {\n    var labelOptions = {};\n\n    if (_.isString(field)) {\n      var fields = parseFields(field);\n      labelOptions.fields = fields;\n      labelOptions.callback = cfg;\n      this.set('labelOptions', labelOptions);\n    } else {\n      this.set('labelOptions', field);\n    }\n\n    return this;\n  };\n  /**\n   * element 上的动画配置\n   * @param cfg 动画配置\n   */\n\n\n  Element.prototype.animate = function (cfg) {\n    this.set('animateOptions', cfg);\n    return this;\n  };\n  /**\n   * 配置 element 下 shape 在 active 状态下的样式\n   * @param cfg active 的样式，为 false 时表示不允许 active\n   */\n\n\n  Element.prototype.active = function (cfg) {\n    this.set('activeOptions', cfg);\n    return this;\n  };\n  /**\n   * 配置 element 下 shape 在 selected 状态下的样式\n   * @param cfg selected 的样式，为 false 时表示不允许 selected\n   */\n\n\n  Element.prototype.selected = function (cfg) {\n    this.set('selectedOptions', cfg);\n    return this;\n  };\n  /**\n   * 配置 element 下 shape 在 inactive 状态下的样式\n   * @param cfg inactive 的样式，为 false 时表示不允许 inactive\n   */\n\n\n  Element.prototype.inactive = function (cfg) {\n    this.set('inactiveOptions', cfg);\n    return this;\n  };\n  /**\n   * 初始化 element，生成 attribute, scale 对象，同时对数据进行处理\n   */\n\n\n  Element.prototype.init = function () {\n    var _this = this; // 将容器应用坐标系的变换\n\n\n    var coord = this.get('coord');\n    var shapeContainer = this.get('shapeContainer');\n    shapeContainer.setMatrix(coord.matrix); // 执行统计函数\n\n    var data = this.get('data'); // 原始数据\n    // 生成图形属性对象以及对应的 scales\n\n    this._initAttrs(data); // 创建 tooltip() 方法上声明字段对应的 scale 对象\n\n\n    var tooltipOptions = this.get('tooltipOptions');\n\n    if (tooltipOptions && tooltipOptions.fields) {\n      var fields = tooltipOptions.fields;\n      fields.forEach(function (field) {\n        _this.createScale(field, data); // 创建 tooltip 上对应的度量\n\n      });\n    }\n\n    var dataArray = this._processData(data);\n\n    dataArray = this._adjustData(dataArray);\n    this.set('dataArray', dataArray);\n  };\n\n  Element.prototype.bindStates = function () {\n    if (this.get('view')) {\n      var stateController = new StateController(this);\n      stateController.bind();\n      this.set('stateController', stateController);\n    }\n  };\n\n  Element.prototype.unbindStates = function () {\n    if (this.get('view')) {\n      var stateController = this.get('stateController');\n      stateController && stateController.unbind();\n    }\n  };\n  /**\n   * 进行数据到图形空间的映射同时绘制图形\n   */\n\n\n  Element.prototype.paint = function () {\n    var coord = this.get('coord');\n    var theme = this.get('theme');\n    var dataArray = this.get('dataArray');\n    var mappedArray = [];\n\n    var shapeFactory = this._getShapeFactory();\n\n    shapeFactory.setCoord(coord);\n    shapeFactory.setTheme(theme.shape); // 获取主题\n\n    var shapeContainer = this.get('shapeContainer');\n\n    this._beforeMapping(dataArray);\n\n    for (var i = 0, len = dataArray.length; i < len; i += 1) {\n      var data = dataArray[i];\n      data = this._mapping(data);\n      mappedArray.push(data);\n      this.draw(data, shapeContainer, shapeFactory, i);\n    } // 添加 label\n\n\n    if (this.get('labelOptions')) {\n      var labelController = this.get('labelController');\n      var labels = labelController.addLabels(_.union.apply(_, mappedArray), shapeContainer.get('children'));\n      this.set('labels', labels);\n    }\n\n    if (!this.get('sortable')) {\n      this._sort(mappedArray); // 便于数据的查找，需要对数据进行排序，用于 geom.findPoint()\n\n    } else {\n      this.set('dataArray', mappedArray);\n    }\n  };\n\n  Element.prototype.clear = function () {\n    this.clearInner();\n    this.set('scales', {});\n    this.set('labels', null);\n  };\n\n  Element.prototype.destroy = function () {\n    this.clear();\n    var shapeContainer = this.get('shapeContainer');\n    shapeContainer && shapeContainer.remove();\n    var container = this.get('container');\n    container && container.remove();\n    this.unbindStates();\n\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * 获取图形属性对应的默认值\n   * @param attrName 图形属性名称\n   */\n\n\n  Element.prototype.getDefaultValue = function (attrName) {\n    var value;\n    var attr = this.getAttr(attrName);\n\n    if (attr && _.isEmpty(attr.scales)) {\n      // 获取映射至常量的值\n      value = attr.values[0];\n    }\n\n    return value;\n  };\n  /**\n   * 隐藏或者展示 Element\n   * @param visible boolean 类型，是否可见\n   * @param stopDraw 可选，boolean 类型，是否结束绘画\n   */\n\n\n  Element.prototype.changeVisible = function (visible, stopDraw) {\n    this.set('visible', visible);\n    var shapeContainer = this.get('shapeContainer');\n    shapeContainer && shapeContainer.set('visible', visible); // should be done in controller\n\n    var labelController = this.get('labelController');\n    labelController && labelController.changeVisible(visible);\n\n    if (!stopDraw && shapeContainer) {\n      var canvas = this.get('canvas');\n      canvas.draw();\n    }\n  };\n  /**\n   * 根据图形属性名称获取对应的图形属性对象\n   * @param name 图形属性名\n   */\n\n\n  Element.prototype.getAttr = function (name) {\n    return this.get('attrs')[name];\n  };\n  /**\n   * 获取同图例相关的图形属性对象\n   */\n\n\n  Element.prototype.getAttrsForLegend = function () {\n    var attrs = _.values(this.get('attrs'));\n\n    return _.filter(attrs, function (attr) {\n      return _.contains(GROUP_ATTRS, attr.type);\n    });\n  };\n  /**\n   * 获取 x 方向上的度量\n   */\n\n\n  Element.prototype.getXScale = function () {\n    return this.getAttr('position').scales[0];\n  };\n  /**\n   * 获取 y 方向上的度量，目前只支持二维\n   */\n\n\n  Element.prototype.getYScale = function () {\n    return this.getAttr('position').scales[1];\n  };\n  /**\n   * 获取 Element 上对应所有的图形对象 shape\n   */\n\n\n  Element.prototype.getShapes = function () {\n    var shapeContainer = this.get('shapeContainer');\n    return shapeContainer.get('children');\n  };\n  /**\n   * 判断 Element 是否位于极坐标系下\n   */\n\n\n  Element.prototype.isInCircle = function () {\n    var coord = this.get('coord');\n    return !!(coord && coord.isPolar);\n  };\n  /**\n   * 为每个 shape 添加额外的信息，用于动画\n   * @param shape shape 实例\n   * @param index 索引值，绘制的顺序，同数据顺序对应\n   */\n\n\n  Element.prototype.appendShapeInfo = function (shape, index) {\n    if (shape) {\n      shape.setSilent('index', index);\n      shape.setSilent('coord', this.get('coord'));\n      shape.setSilent('scales', this.get('scales'));\n\n      if (this.get('animate') && !_.isNil(this.get('animateOptions'))) {\n        shape.setSilent('animateOptions', this.get('animateOptions'));\n      }\n    }\n  };\n  /**\n   * 判断是否发生同 adjustType 对应的调整\n   * @param adjustType adjust 类型\n   */\n\n\n  Element.prototype.hasAdjust = function (adjustType) {\n    var adjustOptions = this.get('adjustOptions');\n    var rst = false;\n\n    _.each(adjustOptions, function (adjustOption) {\n      if (adjustOption.type === adjustType) {\n        rst = true;\n        return false;\n      }\n    });\n\n    return rst;\n  };\n  /**\n   * 获取图形属性对应的值\n   * @param attr 图形属性对象\n   * @param record 数据\n   */\n\n\n  Element.prototype.getAttrValues = function (attr, record) {\n    var scales = attr.scales;\n\n    var params = _.map(scales, function (scale) {\n      var field = scale.field;\n\n      if (scale.type === 'identity') {\n        return scale.values[0];\n      }\n\n      if (scale.isCategory) {\n        return record[field]; // 数据有可能发生过 adjust\n      }\n\n      return record[field];\n    });\n\n    return attr.mapping.apply(attr, params);\n  };\n\n  Element.prototype.getSize = function (obj) {\n    var sizeController = this.get('sizeController');\n\n    if (sizeController) {\n      return sizeController.getSize(obj);\n    }\n  };\n\n  Element.prototype.getNormalizedSize = function (obj) {\n    var sizeController = this.get('sizeController');\n\n    if (sizeController) {\n      return sizeController.getNormalizedSize(obj);\n    }\n  };\n  /**\n   * 获取分组相关的度量\n   */\n\n\n  Element.prototype.getGroupScales = function () {\n    var scales = this.get('groupScales');\n\n    if (!scales) {\n      var attrs = _.values(this.get('attrs')); // 所有的分组 Attribute 实例\n\n\n      var groupAttrs = _.filter(attrs, function (attr) {\n        return _.contains(GROUP_ATTRS, attr.type);\n      }); // 所有的分组 scale\n\n\n      var groupScales = _.map(groupAttrs, function (attr) {\n        return _.filter(attr.scales, function (scale) {\n          return scale.isCategory;\n        });\n      }); // 打平，去重\n\n\n      scales = _.uniq(_.flatten(groupScales));\n      this.set('groupScales', scales);\n    }\n\n    return scales;\n  };\n  /**\n   * 获取图例的字段集合\n   */\n\n\n  Element.prototype.getLegendFields = function () {\n    var fields = [];\n    var attrOptions = this.get('attrOptions'); // 因为会在生成 scale 前调用，所以通过 attrOptions 进行判断\n\n    GROUP_ATTRS.forEach(function (attrName) {\n      var attrOption = attrOptions[attrName];\n\n      var attrFields = _.get(attrOption, 'fields', []);\n\n      fields = fields.concat(attrFields);\n    });\n    return _.uniq(fields);\n  };\n  /**\n   * 是否合并 tooltip\n   */\n\n\n  Element.prototype.isShareTooltip = function () {\n    var isShareTooltip = this.get('shareTooltip');\n\n    if (!this.getYScale()) {\n      // 一维图表不合并 tooltip\n      isShareTooltip = false;\n    }\n\n    return isShareTooltip;\n  };\n  /**\n   * 根据画布坐标在 source 中查找匹配的数据\n   * @param point 画布坐标\n   * @param source 数据源(已排序)\n   */\n\n\n  Element.prototype.findPoint = function (point, source) {\n    var tooltipController = this.get('tooltipController');\n    return tooltipController.findPoint(point, source);\n  };\n  /**\n   * 根据数据获取对应的 tooltip items 信息\n   * @param data 数据记录\n   * @param titleField tooltip title 字段名\n   */\n\n\n  Element.prototype.getTooltipItems = function (data, titleField) {\n    var tooltipController = this.get('tooltipController');\n    return tooltipController.getTooltipItems(data, titleField);\n  };\n  /**\n   * 获取 Y 轴上的最小值\n   */\n\n\n  Element.prototype.getYMinValue = function () {\n    var yScale = this.getYScale();\n    var min = yScale.min,\n        max = yScale.max;\n    var value;\n\n    if (min >= 0) {\n      value = min;\n    } else if (max <= 0) {\n      // 当值全位于负区间时，需要保证 ymin 在区域内，不可为 0\n      value = max;\n    } else {\n      value = 0;\n    }\n\n    return value;\n  };\n  /**\n   * 为每个 shape 生成唯一标识 ID，用于动画\n   * @param dataObj shape 的原始数据\n   */\n\n\n  Element.prototype.getShapeId = function (dataObj) {\n    var id = this.get('id');\n    var keyFields = this.get('keyFields');\n\n    if (keyFields && keyFields.length > 0) {\n      _.each(keyFields, function (key) {\n        id = id + \"-\" + dataObj[key];\n      });\n    } else {\n      var type = this.get('type');\n      var xScale = this.getXScale();\n      var yScale = this.getYScale();\n      var xField = xScale.field || 'x';\n      var yField = yScale.field || 'y';\n      var yVal = dataObj[yField];\n      var xVal = void 0;\n\n      if (xScale.isIdentity) {\n        xVal = xScale.values[0];\n      } else {\n        xVal = dataObj[xField];\n      }\n\n      if (type === 'interval' || type === 'schema') {\n        id = id + \"-\" + xVal;\n      } else if (type === 'line' || type === 'area' || type === 'path') {\n        id = id + \"-\" + type;\n      } else {\n        id = id + \"-\" + xVal + \"-\" + yVal;\n      }\n\n      var groupScales = this.getGroupScales();\n\n      if (!_.isEmpty(groupScales)) {\n        _.each(groupScales, function (groupScale) {\n          // @ts-ignore\n          var field = groupScale.field;\n\n          if (groupScale.type !== 'identity') {\n            id = id + \"-\" + dataObj[field];\n          }\n        });\n      }\n    }\n\n    return id;\n  };\n  /**\n   * 根据画布坐标点获取对应的原始数据\n   * @param point 画布坐标点\n   */\n\n\n  Element.prototype.getOriginDataByPoint = function (point) {\n    var _a;\n\n    var xScale = this.getXScale();\n    var yScale = this.getYScale();\n    var coord = this.get('coord');\n    var invertPoint = coord.invert(point);\n    var xValue = xScale.invert(invertPoint.x);\n    var yValue = yScale.invert(invertPoint.y);\n    var xField = xScale.field;\n    var yField = yScale.field;\n    return _a = {}, _a[xField] = xValue, _a[yField] = yValue, _a;\n  };\n  /**\n   * @protected\n   * 根据数据获取图形的关键点数据\n   * @param obj 数据对象\n   */\n\n\n  Element.prototype.createShapePointsCfg = function (obj) {\n    var xScale = this.getXScale();\n    var yScale = this.getYScale();\n\n    var x = this._normalizeValues(obj[xScale.field], xScale);\n\n    var y; // 存在没有 y 的情况\n\n    if (yScale) {\n      y = this._normalizeValues(obj[yScale.field], yScale);\n    } else {\n      y = obj.y ? obj.y : 0.1;\n    }\n\n    return {\n      x: x,\n      y: y,\n      y0: yScale ? yScale.scale(this.getYMinValue()) : undefined\n    };\n  };\n  /**\n   * @protected\n   * 根据数据生成图形\n   * @param data 需要绘制的数据集合\n   * @param container 图形容器\n   * @param shapeFactory shape 的管理对象\n   * @param index 索引值\n   */\n\n\n  Element.prototype.draw = function (data, container, shapeFactory, index) {\n    for (var i = 0, len = data.length; i < len; i += 1) {\n      var obj = data[i];\n      this.drawPoint(obj, container, shapeFactory, index + i);\n    }\n  };\n  /**\n   * @protected\n   * 绘制具体的 shape\n   * @param obj 需要绘制的一套数据\n   * @param container 图形容器\n   * @param shapeFactory  shape 的管理对象\n   * @param index 索引值\n   */\n\n\n  Element.prototype.drawPoint = function (obj, container, shapeFactory, index) {\n    var shape = obj.shape;\n    var cfg = this.getDrawCfg(obj);\n    var geomShape = shapeFactory.drawShape(shape, cfg, container);\n    this.appendShapeInfo(geomShape, index);\n  };\n  /**\n   * 构造绘图图形需要的属性\n   * @param obj 数据\n   */\n\n\n  Element.prototype.getDrawCfg = function (obj) {\n    var cfg = {\n      origin: obj,\n      x: obj.x,\n      y: obj.y,\n      color: obj.color,\n      size: obj.size,\n      shape: obj.shape,\n      isInCircle: this.isInCircle(),\n      opacity: obj.opacity\n    };\n    var styleOptions = this.get('styleOptions');\n\n    if (styleOptions) {\n      cfg.style = this._getStyleCfg(styleOptions, obj[FIELD_ORIGIN]);\n    }\n\n    if (this.get('generatePoints')) {\n      cfg.points = obj.points;\n      cfg.nextPoints = obj.nextPoints;\n    }\n\n    cfg.id = this.getShapeId(obj[FIELD_ORIGIN]);\n    return cfg;\n  };\n\n  Element.prototype.clearInner = function () {\n    // this.clearActivedShapes();\n    // this.clearSelected();\n    var shapeContainer = this.get('shapeContainer');\n    shapeContainer && shapeContainer.clear(); // 由于 Labels 对应的模块需要生成group，所以这个地方需要删除\n\n    var labelController = this.get('labelController');\n    labelController && labelController.clear();\n    this.set('attrs', {});\n    this.set('groupScales', null);\n    var sizeController = this.get('sizeController');\n    sizeController && sizeController.clear();\n    var tooltipController = this.get('tooltipController');\n    tooltipController.clear(); // todo clear other controller\n  }; // 创建图形属性相关的配置项\n\n\n  Element.prototype._createAttrOption = function (attrName, field, cfg) {\n    if (_.isObject(field)) {\n      this._setAttrOptions(attrName, field);\n    } else {\n      var attrCfg = {};\n\n      if (_.isNumber(field)) {\n        // size(3), opacity(0.8)\n        attrCfg.values = [field];\n      } else {\n        attrCfg.fields = parseFields(field);\n      }\n\n      if (cfg) {\n        if (_.isFunction(cfg)) {\n          attrCfg.callback = cfg;\n        } else {\n          attrCfg.values = cfg;\n        }\n      }\n\n      this._setAttrOptions(attrName, attrCfg);\n    }\n  }; // 初始化容器\n\n\n  Element.prototype._initContainer = function () {\n    var container = this.get('container');\n    var view = this.get('view'); // element 所在的 view\n\n    var viewId = view.get('id');\n    var visible = this.get('visible');\n    var shapeContainer = container.addGroup({\n      viewId: viewId,\n      visible: visible\n    });\n    this.set('shapeContainer', shapeContainer);\n  }; // 初始化 element 相关的控制器\n\n\n  Element.prototype._initController = function () {\n    // tooltipController\n    var tooltipController = new TooltipController(this);\n    this.set('tooltipController', tooltipController); // labelController\n\n    var labelController = new LabelController(this);\n    this.set('labelController', labelController);\n  }; // 存储用户设置的图形属性配置项\n\n\n  Element.prototype._setAttrOptions = function (name, cfg) {\n    var attrOptions = this.get('attrOptions');\n    attrOptions[name] = cfg;\n  }; // 给字段创建度量\n\n\n  Element.prototype.createScale = function (field, data) {\n    var view = this.get('view');\n    var scales = this.get('scales');\n    var scale = scales[field];\n\n    if (!scale) {\n      scale = view._initScale(field, data);\n      scales[field] = scale;\n    }\n\n    return scale;\n  }; // 初始化 Attribute 实例同时生成相关的 scale 度量\n\n\n  Element.prototype._initAttrs = function (data) {\n    var _this = this;\n\n    var attrs = this.get('attrs'); // attribute 实例\n\n    var attrOptions = this.get('attrOptions'); // 传入的配置\n\n    var coord = this.get('coord');\n    var theme = this.get('theme');\n    var geomType = this.get('type'); // 遍历每一个 attrOption，各自创建 Attribute 实例\n\n    _.each(attrOptions, function (option, type) {\n      var attrOption = __assign({}, option);\n\n      var callback = attrOption.callback,\n          values = attrOption.values,\n          _a = attrOption.fields,\n          fields = _a === void 0 ? [] : _a; // 饼图的特殊逻辑，填充 position 上的一维映射\n\n      if (type === 'position' && fields.length === 1 && coord.type === 'theta') {\n        fields.unshift('1');\n      } // 给每一个字段创建 scale\n\n\n      var scales = _.map(fields, function (field) {\n        return _this.createScale(field, data);\n      }); // 饼图需要填充满整个空间\n\n\n      if (coord.type === 'theta' && type === 'position' && scales.length > 1) {\n        var yScale = scales[1];\n        yScale.change({\n          nice: false,\n          min: 0,\n          max: Math.max.apply(null, yScale.values)\n        });\n      }\n\n      attrOption.scales = scales;\n\n      if (_.indexOf(['color', 'size', 'shape', 'opacity'], type) !== -1 && scales.length === 1 && scales[0].isIdentity) {\n        // 用户在图形通道上声明了常量字段 color('red'), size(5)\n        attrOption.values = scales[0].values;\n      } else if (!callback && !values) {\n        // 用户没有指定任何规则，则使用默认的映射规则\n        if (type === 'size') {\n          attrOption.values = theme.sizes;\n        } else if (type === 'shape') {\n          attrOption.values = theme.shapes[geomType] || [];\n        } else if (type === 'opacity') {\n          attrOption.values = theme.opacities;\n        } else if (type === 'color' && scales.length) {\n          // TODO 需要优化\n          var valuesLen = scales[0].values.length;\n\n          if (valuesLen <= 10) {\n            attrOption.values = theme.colors;\n          } else {\n            attrOption.values = theme.colors_20;\n          }\n        }\n      }\n\n      var attrCtor = getAttribute(type);\n      attrs[type] = new attrCtor(attrOption);\n    });\n  }; // 更新发生层叠后的数据对应的度量范围\n\n\n  Element.prototype._updateStackRange = function (field, scale, dataArray) {\n    var mergeArray = _.flatten(dataArray);\n\n    var min = scale.min;\n    var max = scale.max;\n\n    for (var i = 0, len = mergeArray.length; i < len; i += 1) {\n      var obj = mergeArray[i];\n      var tmpMin = Math.min.apply(null, obj[field]);\n      var tmpMax = Math.max.apply(null, obj[field]);\n\n      if (tmpMin < min) {\n        min = tmpMin;\n      }\n\n      if (tmpMax > max) {\n        max = tmpMax;\n      }\n    }\n\n    if (min < scale.min || max > scale.max) {\n      scale.change({\n        min: min,\n        max: max\n      });\n    }\n  }; // 对数据进行分组\n\n\n  Element.prototype._groupData = function (data) {\n    var groupScales = this.getGroupScales();\n    var fields = groupScales.map(function (scale) {\n      return scale.field;\n    });\n    return _.group(data, fields);\n  }; // 数据调整前保存原始数据\n\n\n  Element.prototype._saveOrigin = function (data) {\n    return _.map(data, function (origin) {\n      var _a;\n\n      return __assign(__assign({}, origin), (_a = {}, _a[FIELD_ORIGIN] = origin, _a));\n    });\n  }; // 将分类数据翻译成数据, 仅对位置相关的度量进行数字化处理\n\n\n  Element.prototype._numeric = function (data) {\n    var positionAttr = this.getAttr('position');\n    var scales = positionAttr.scales;\n\n    for (var j = 0, len = data.length; j < len; j += 1) {\n      var obj = data[j];\n\n      for (var i = 0; i < Math.min(2, scales.length); i += 1) {\n        var scale = scales[i];\n\n        if (scale.isCategory) {\n          var field = scale.field;\n          obj[field] = scale.translate(obj[field]); // TODO\n        }\n      }\n    }\n  }; // 处理数据：分组、存储原始数据、将分类数据数字化\n\n\n  Element.prototype._processData = function (data) {\n    var _this = this;\n\n    var groupedArray = this._groupData(data);\n\n    return _.map(groupedArray, function (subData) {\n      var tempData = _this._saveOrigin(subData);\n\n      _this._numeric(tempData);\n\n      return tempData;\n    });\n  }; // 进行数据调整\n\n\n  Element.prototype._adjustData = function (dataArray) {\n    var _this = this;\n\n    var adjustOptions = this.get('adjustOptions');\n    var result = dataArray;\n\n    if (adjustOptions) {\n      var theme = this.get('theme');\n      var xScale_1 = this.getXScale();\n      var yScale_1 = this.getYScale();\n      var xField_1 = xScale_1.field;\n      var yField_1 = yScale_1 ? yScale_1.field : null;\n      adjustOptions.forEach(function (adjust) {\n        var adjustCfg = __assign({\n          xField: xField_1,\n          yField: yField_1\n        }, adjust);\n\n        var type = adjust.type;\n\n        if (type === 'dodge') {\n          var adjustNames = [];\n\n          if (xScale_1.isCategory || xScale_1.isIdentity) {\n            adjustNames.push('x');\n          } else if (!yScale_1) {\n            adjustNames.push('y');\n          } else {\n            throw new Error('dodge is not support linear attribute, please use category attribute!');\n          }\n\n          adjustCfg.adjustNames = adjustNames;\n          adjustCfg.dodgeRatio = _this.get('widthRatio').column;\n        } else if (type === 'stack') {\n          var coord = _this.get('coord');\n\n          if (!yScale_1) {\n            // 一维的情况下获取高度和默认size\n            adjustCfg.height = coord.getHeight();\n            var size = _this.getDefaultValue('size') || 3;\n            adjustCfg.size = size;\n          } // 不进行 transpose 时，用户又没有设置这个参数时，默认从上向下\n\n\n          if (!coord.isTransposed && _.isNil(adjustCfg.reverseOrder)) {\n            adjustCfg.reverseOrder = true;\n          }\n        }\n\n        var adjustCtor = getAdjust(type);\n        var adjustInstance = new adjustCtor(adjustCfg);\n        result = adjustInstance.process(result);\n\n        if (type === 'stack' && yScale_1) {\n          _this._updateStackRange(yField_1, yScale_1, result);\n        }\n      });\n    }\n\n    return result;\n  }; // 获取 element 对应 shape 的工厂对象\n\n\n  Element.prototype._getShapeFactory = function () {\n    var shapeFactory = this.get('shapeFactory');\n\n    if (!shapeFactory) {\n      var shapeType = this.get('shapeType');\n      shapeFactory = getShapeFactory(shapeType);\n      this.set('shapeFactory', shapeFactory);\n    }\n\n    return shapeFactory;\n  }; // 生成 shape 的关键点\n\n\n  Element.prototype._generatePoints = function (data) {\n    var shapeFactory = this._getShapeFactory();\n\n    var shapeAttr = this.getAttr('shape');\n\n    for (var i = 0, len = data.length; i < len; i += 1) {\n      var obj = data[i];\n      var cfg = this.createShapePointsCfg(obj);\n      var shape = shapeAttr ? this.getAttrValues(shapeAttr, obj) : null;\n      var points = shapeFactory.getShapePoints(shape, cfg);\n      obj.points = points;\n    }\n  }; // 将数据归一化\n\n\n  Element.prototype._normalizeValues = function (values, scale) {\n    var rst = [];\n\n    if (_.isArray(values)) {\n      for (var i = 0, len = values.length; i < len; i += 1) {\n        var v = values[i];\n        rst.push(scale.scale(v));\n      }\n    } else {\n      rst = scale.scale(values);\n    }\n\n    return rst;\n  }; // 将数据映射至图形空间前的操作：排序以及关键点的生成\n\n\n  Element.prototype._beforeMapping = function (dataArray) {\n    var _this = this;\n\n    if (this.get('sortable')) {\n      var xScale_2 = this.getXScale();\n      var field_1 = xScale_2.field;\n\n      _.each(dataArray, function (data) {\n        data.sort(function (v1, v2) {\n          return xScale_2.translate(v1[field_1]) - xScale_2.translate(v2[field_1]); // TODO\n        });\n      });\n    }\n\n    if (this.get('generatePoints')) {\n      _.each(dataArray, function (data) {\n        _this._generatePoints(data);\n      });\n\n      _.each(dataArray, function (data, index) {\n        var nextData = dataArray[index + 1];\n\n        if (nextData) {\n          data[0].nextPoints = nextData[0].points;\n        }\n      });\n    }\n  }; // 将数据映射至图形空间\n\n\n  Element.prototype._mapping = function (data) {\n    var attrs = this.get('attrs');\n    var mappedData = [];\n\n    for (var i = 0, len = data.length; i < len; i += 1) {\n      var record = data[i];\n      var newRecord = {\n        _origin: record[FIELD_ORIGIN],\n        points: record.points,\n        nextPoints: record.nextPoints\n      };\n\n      for (var k in attrs) {\n        if (attrs.hasOwnProperty(k)) {\n          var attr = attrs[k];\n          var names = attr.names;\n          var values = this.getAttrValues(attr, record);\n\n          if (names.length > 1) {\n            // position 之类的生成多个字段的属性\n            for (var j = 0; j < values.length; j += 1) {\n              var val = values[j];\n              var name_1 = names[j];\n              newRecord[name_1] = _.isArray(val) && val.length === 1 ? val[0] : val; // 只有一个值时返回第一个属性值\n            }\n          } else {\n            // newRecord[names[0]] = values.length === 1 ? values[0] : values;\n            // FIXME: 目前只有 color 通道是受 attr 结果统一为数组的影响的，暂时这么调整\n            if (values.length === 1 || names[0] === 'color') {\n              newRecord[names[0]] = values[0];\n            } else {\n              newRecord[names[0]] = values;\n            }\n          }\n        }\n      }\n\n      this._convertPoint(newRecord); // 将 x、y 转换成画布坐标\n\n\n      mappedData.push(newRecord);\n    }\n\n    return mappedData;\n  }; // 将归一化的坐标值转换成画布坐标\n\n\n  Element.prototype._convertPoint = function (mappedRecord) {\n    var x = mappedRecord.x,\n        y = mappedRecord.y;\n\n    if (_.isNil(x) || _.isNil(y)) {\n      return;\n    }\n\n    var rstX;\n    var rstY;\n    var obj;\n    var coord = this.get('coord');\n\n    if (_.isArray(y) && _.isArray(x)) {\n      rstX = [];\n      rstY = [];\n\n      for (var i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n        obj = coord.convertPoint({\n          x: x[i],\n          y: y[j]\n        });\n        rstX.push(obj.x);\n        rstY.push(obj.y);\n      }\n    } else if (_.isArray(y)) {\n      rstY = [];\n      y.forEach(function (yVal) {\n        obj = coord.convertPoint({\n          x: x,\n          y: yVal\n        });\n\n        if (rstX && rstX !== obj.x) {\n          if (!_.isArray(rstX)) {\n            rstX = [rstX];\n          }\n\n          rstX.push(obj.x);\n        } else {\n          rstX = obj.x;\n        }\n\n        rstY.push(obj.y);\n      });\n    } else if (_.isArray(x)) {\n      rstX = [];\n      x.forEach(function (xVal) {\n        obj = coord.convertPoint({\n          x: xVal,\n          y: y\n        });\n\n        if (rstY && rstY !== obj.y) {\n          if (!_.isArray(rstY)) {\n            rstY = [rstY];\n          }\n\n          rstY.push(obj.y);\n        } else {\n          rstY = obj.y;\n        }\n\n        rstX.push(obj.x);\n      });\n    } else {\n      var point = coord.convertPoint({\n        x: x,\n        y: y\n      });\n      rstX = point.x;\n      rstY = point.y;\n    }\n\n    mappedRecord.x = rstX;\n    mappedRecord.y = rstY;\n  }; // 获取 style 配置\n\n\n  Element.prototype._getStyleCfg = function (styleOptions, origin) {\n    var _a = styleOptions.fields,\n        fields = _a === void 0 ? [] : _a,\n        callback = styleOptions.callback,\n        cfg = styleOptions.cfg;\n\n    if (cfg) {\n      // 用户直接配置样式属性\n      return cfg;\n    }\n\n    var params = fields.map(function (field) {\n      return origin[field];\n    });\n    return callback.apply(void 0, params);\n  }; // 对数据进行排序\n\n\n  Element.prototype._sort = function (mappedArray) {\n    var xScale = this.getXScale();\n    var xField = xScale.field;\n\n    _.each(mappedArray, function (itemArr) {\n      itemArr.sort(function (obj1, obj2) {\n        return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n      });\n    });\n\n    this.set('dataArray', mappedArray);\n  };\n\n  return Element;\n}(Base);\n\nexport default Element;","import * as _ from '@antv/util';\nvar EVENT_TYPES = ['start', 'process', 'end', 'reset'];\n\nvar Interaction =\n/** @class */\nfunction () {\n  function Interaction(cfg) {\n    var defaultCfg = this._getDefaultCfg();\n\n    _.assign(this, defaultCfg, cfg);\n\n    this.canvas = this.view.get('canvas');\n    this._eventHandlers = [];\n\n    this._bindEvents();\n  }\n\n  Interaction.prototype._getDefaultCfg = function () {\n    return {\n      startEvent: 'mousedown',\n      processEvent: 'mousemove',\n      endEvent: 'mouseup',\n      resetEvent: 'dblclick'\n    };\n  };\n\n  Interaction.prototype._start = function (ev) {\n    this.preStart(ev);\n    this.start(ev);\n    this.afterStart(ev);\n  };\n\n  Interaction.prototype.preStart = function (ev) {};\n\n  Interaction.prototype.start = function (ev) {};\n\n  Interaction.prototype.afterStart = function (ev) {};\n\n  Interaction.prototype._process = function (ev) {\n    this.preProcess(ev);\n    this.process(ev);\n    this.afterProcess(ev);\n  };\n\n  Interaction.prototype.preProcess = function (ev) {};\n\n  Interaction.prototype.process = function (ev) {};\n\n  Interaction.prototype.afterProcess = function (ev) {};\n\n  Interaction.prototype._end = function (ev) {\n    this.preEnd(ev);\n    this.end(ev);\n    this.afterEnd(ev);\n  };\n\n  Interaction.prototype.preEnd = function (ev) {};\n\n  Interaction.prototype.end = function (ev) {};\n\n  Interaction.prototype.afterEnd = function (ev) {};\n\n  Interaction.prototype._reset = function (ev) {\n    this.preReset(ev);\n    this.reset(ev);\n    this.afterReset(ev);\n  };\n\n  Interaction.prototype.preReset = function (ev) {};\n\n  Interaction.prototype.reset = function (ev) {};\n\n  Interaction.prototype.afterReset = function (ev) {};\n\n  Interaction.prototype._bindEvents = function () {\n    var _this = this;\n\n    _.each(EVENT_TYPES, function (type) {\n      var eventName = _this[type + \"Event\"];\n\n      var handler = _.wrapBehavior(_this, \"_\" + type);\n\n      _this.view.on(eventName, handler);\n\n      _this._eventHandlers.push({\n        type: eventName,\n        handler: handler\n      });\n    });\n  };\n\n  Interaction.prototype._unbindEvents = function () {\n    var _this = this;\n\n    var eventHandlers = this._eventHandlers;\n\n    _.each(eventHandlers, function (eh) {\n      _this.view.off(eh.type, eh.handler);\n    });\n  };\n\n  Interaction.prototype.destroy = function () {\n    this._unbindEvents();\n\n    this._reset();\n  };\n\n  return Interaction;\n}();\n\nexport default Interaction;","export var INTERACTION_MAP = {};\nexport var getInteraction = function getInteraction(type) {\n  return INTERACTION_MAP[type];\n};\nexport var registerInteraction = function registerInteraction(type, ctor) {\n  // 注册的时候，需要校验 type 重名，不区分大小写\n  if (getInteraction(type)) {\n    throw new Error(\"Interaction type '\" + type + \"' existed.\");\n  } // 存储到 map 中\n\n\n  INTERACTION_MAP[type] = ctor;\n};","import { __assign, __extends, __spreadArrays } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Base from '../base';\nimport Global from '../global';\nimport Animate from '../animate';\nimport ScaleController from './controller/scale';\nimport CoordController from './controller/coordinate';\nimport AnnController from './controller/annotation';\nimport LegendController from './controller/legend';\nimport AxisController from './controller/axis';\nimport TooltipController from './controller/tooltip';\nimport ShapeStateController from './controller/shape-state';\nimport EventController from './controller/event';\nimport { getTheme } from '../theme';\nimport { getFacet } from '../facet';\nimport { getElement } from '../element';\nimport { getInteraction } from '../interaction';\nimport { BBox } from '@antv/g';\nimport { parsePadding } from '../util'; // 判断极坐标是否是一个整圆\n\nfunction isFullCircle(coord) {\n  if (coord.isPolar) {\n    var startAngle = coord.startAngle,\n        endAngle = coord.endAngle;\n    return endAngle - startAngle === Math.PI * 2;\n  }\n\n  return false;\n}\n\nvar FIELD_ORIGIN = '_origin'; // TODO maintaining options\n\nvar View =\n/** @class */\nfunction (_super) {\n  __extends(View, _super);\n\n  function View(cfg) {\n    var _this = _super.call(this, __assign({\n      animate: Global.animate,\n      widthRatio: Global.widthRatio,\n      canvas: null,\n      container: null,\n      coord: null,\n      elements: [],\n      guideController: null,\n      id: _.uniqueId('view_'),\n      options: {},\n      padding: Global.theme.padding,\n      parent: null,\n      scaleController: null,\n      scales: {},\n      start: {\n        x: 0,\n        y: 0\n      },\n      end: {\n        x: 1,\n        y: 1\n      },\n      width: null,\n      height: null,\n      theme: null,\n      title: null,\n      views: [],\n      visible: true,\n      backgroundStyle: {},\n      interactions: {}\n    }, cfg)) || this;\n\n    _this.init();\n\n    return _this;\n  }\n\n  View.prototype.axis = function (field, cfg) {\n    var options = this.get('options') || {};\n\n    if (field === false) {\n      options.axes = false;\n\n      _.set(options, 'axes', false);\n    } else if (_.isObject(field)) {\n      _.set(options, ['axes', 'fields'], field);\n    } else if (_.isString(field)) {\n      _.set(options, ['axes', 'fields', field], cfg);\n    } else {\n      _.set(options, 'axes', cfg);\n    }\n\n    return this;\n  }; // TODO: 图表标题配置\n\n\n  View.prototype.title = function (options) {};\n\n  View.prototype.tooltip = function (visible, cfg) {\n    var options = this.get('options');\n\n    if (!options.tooltip) {\n      options.tooltip = {};\n    }\n\n    if (visible === false) {\n      options.tooltip = false;\n    } else if (_.isObject(visible)) {\n      _.mix(options.tooltip, visible);\n    } else {\n      _.mix(options.tooltip, cfg);\n    }\n\n    return this;\n  };\n\n  View.prototype.legend = function (field, cfg) {\n    var options = this.get('options');\n\n    if (field === false) {\n      // 整体关闭图例\n      _.set(options, 'legends', false);\n    } else if (_.isObject(field)) {\n      // 全局配置图例\n      _.set(options, 'legends', field);\n    } else if (_.isString(field)) {\n      _.set(options, ['legends', 'fields', field], cfg);\n    } else {\n      _.set(options, 'legends', cfg);\n    }\n\n    return this;\n  }; // 静态标注\n\n\n  View.prototype.annotation = function () {\n    return this.get('annotationController');\n  }; // data\n  // 更新数据\n\n\n  View.prototype.changeData = function (data) {\n    this.emit('beforechangedata');\n    this.set('data', data);\n\n    this._initData();\n\n    this.emit('afterchangedata');\n    this.repaint();\n    return this;\n  }; // 加载数据\n\n\n  View.prototype.data = function (data) {\n    this.set('data', data);\n\n    this._initData();\n\n    return this;\n  };\n\n  View.prototype.scale = function (field, cfg) {\n    var options = this.get('options');\n    var scaleDefs = options.scales;\n\n    if (_.isObject(field)) {\n      _.mix(scaleDefs, field);\n    } else {\n      scaleDefs[field] = cfg;\n    }\n\n    return this;\n  }; // 过滤需要绘制的数据，但是不会改变传入的数据源，如果存在对应的图例，则过滤掉的字段置灰\n\n\n  View.prototype.filter = function (field, condition) {\n    var options = this.get('options');\n\n    if (!options.filters) {\n      options.filters = {};\n    }\n\n    options.filters[field] = condition;\n    return this;\n  };\n\n  View.prototype.coordinate = function (type, cfg) {\n    var coordController = this.get('coordController');\n\n    if (_.isObject(type)) {\n      coordController.reset(type);\n    } else {\n      coordController.reset({\n        type: type,\n        cfg: cfg\n      });\n    }\n\n    return coordController;\n  };\n  /**\n   * 创建新的子 view\n   * @param cfg\n   */\n\n\n  View.prototype.createView = function (cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    } // view 中已有的子 views 数组\n\n\n    var views = this.get('views');\n\n    var newCfg = __assign({\n      theme: this.get('theme'),\n      parent: this,\n      container: this.get('panelGroup'),\n      canvas: this.get('canvas'),\n      animate: this.get('animate')\n    }, cfg); // options 中的配置\n\n\n    newCfg.options = _.mix({}, this._getSharedOptions(), cfg.options);\n    var view = new View(newCfg);\n    view.set('id', _.uniqueId('view_')); // 标识 ID，防止同用户设定的 id 重名\n\n    views.push(view);\n    this.emit('addview', {\n      view: view\n    });\n    return view;\n  };\n  /**\n   * 移除 view\n   * @param view\n   */\n\n\n  View.prototype.removeView = function (view) {\n    var views = this.get('views');\n\n    _.pull(views, view);\n\n    view.destroy();\n  };\n  /**\n   * 分面操作\n   * @param option\n   */\n\n\n  View.prototype.facet = function (option) {\n    // 先销毁掉之前的分面\n    var preFacet = this.get('facet');\n    if (preFacet) preFacet.destroy(); // 创建新的分面\n\n    var type = _.get(option, 'type');\n\n    var ctor = getFacet(type);\n    if (!ctor) throw new Error(\"facet '\" + type + \"' is not exist!\");\n    this.set('facet', new ctor(this, option));\n  };\n  /**\n   * 配置动画参数\n   * @param enable\n   */\n\n\n  View.prototype.animate = function (enable) {\n    var options = this.get('options');\n    options.animate = enable;\n    this.set('animate', enable);\n    return this;\n  };\n\n  View.prototype.render = function (stopDrawing) {\n    this._clearInner();\n\n    this.emit('beforerender');\n\n    this._beforeRender();\n\n    this.emit('beforedraw');\n\n    this._drawGuides();\n\n    this._drawElements(); // 渲染 facet\n\n\n    this._renderFacet(); // TODO children\n\n\n    if (this.get('views').length) {\n      _.each(this.get('views'), function (view) {\n        view.render(stopDrawing);\n      });\n    }\n\n    this._addBackShape();\n\n    this._canvasDraw(stopDrawing);\n\n    this.emit('afterdraw');\n    this.emit('afterrender');\n    this.set('rendered', true);\n    return this;\n  };\n\n  View.prototype.changeVisible = function (visible, stopDrawing) {\n    _.each(this.get('elements'), function (element) {\n      element.changeVisible(visible, true);\n    });\n\n    this.get('container').set('visible', visible);\n    var annotationController = this.get('annotationController');\n    annotationController && annotationController.changeVisible(visible);\n    var axisController = this.get('axisController');\n    axisController && axisController.changeVisible(visible);\n\n    if (!stopDrawing) {\n      this.get('canvas').draw();\n    }\n  };\n\n  View.prototype.isShapeInView = function (shape) {\n    var id = this.get('id');\n    var shapeViewId = shape.get('viewId');\n\n    if (shapeViewId) {\n      return shapeViewId === id;\n    }\n\n    {\n      var container = this.get('container');\n      var parent_1 = shape.get('parent');\n\n      while (parent_1) {\n        if (parent_1 === container) {\n          shape.set('viewId', this.get('id'));\n          return true;\n        }\n\n        parent_1 = parent_1.get('parent');\n      }\n    }\n    return false;\n  };\n\n  View.prototype.isPointInView = function (point) {\n    var viewRange = this.get('viewRange');\n\n    if (point.x > viewRange.minX && point.x < viewRange.maxX && point.y > viewRange.minY && point.y < viewRange.maxY) {\n      return true;\n    }\n\n    return false;\n  };\n  /**\n   * 获取 x 轴的度量\n   */\n\n\n  View.prototype.getXScale = function () {\n    var elements = this.get('elements');\n\n    if (elements.length) {\n      return elements[0].getXScale();\n    }\n\n    return null;\n  };\n  /**\n   * 获取 y 轴所有的度量\n   */\n\n\n  View.prototype.getYScales = function () {\n    var elements = this.get('elements');\n    var yScales = [];\n    elements.forEach(function (element) {\n      var yScale = element.getYScale();\n\n      if (yScale && _.indexOf(yScales, yScale) === -1) {\n        yScales.push(yScale);\n      }\n    });\n    return yScales;\n  };\n  /**\n   * 获取原始数据对应的画布坐标\n   * @param data 原始数据\n   */\n\n\n  View.prototype.getXY = function (data) {\n    var coord = this.get('coord');\n\n    var xScales = this._getScales('x');\n\n    var yScales = this._getScales('y');\n\n    var x;\n    var y;\n\n    for (var field in data) {\n      if (xScales[field]) {\n        x = xScales[field].scale(data[field]);\n      }\n\n      if (yScales[field]) {\n        y = yScales[field].scale(data[field]);\n      }\n    }\n\n    if (!_.isNil(x) && !_.isNil(y)) {\n      return coord.convert({\n        x: x,\n        y: y\n      });\n    }\n\n    return null;\n  };\n  /**\n   * 根据传入的坐标展示该点对应的 tooltip 内容\n   * @param point 画布坐标\n   */\n\n\n  View.prototype.showTooltip = function (point) {\n    var tooltipController = this.get('tooltipController');\n    tooltipController.showTooltip(point, this);\n    return this;\n  };\n  /**\n   * 隐藏 tooltip\n   */\n\n\n  View.prototype.hideTooltip = function () {\n    var tooltipController = this.get('tooltipController');\n    tooltipController.hideTooltip();\n    return this;\n  };\n  /**\n   * 根据传入的画布坐标，获取该处的 tooltip 上的记录信息\n   * @param point 画布坐标点\n   */\n\n\n  View.prototype.getTooltipItems = function (point) {\n    var rst = []; // const elements = this.get('elements');\n\n    var elements = this.getElements();\n\n    _.each(elements, function (element) {\n      var dataArray = element.get('dataArray');\n      var items = [];\n\n      _.each(dataArray, function (data) {\n        var tmpPoint = element.findPoint(point, data);\n\n        if (tmpPoint) {\n          var subItems = element.getTooltipItems(tmpPoint);\n          items = items.concat(subItems);\n        }\n      });\n\n      rst = rst.concat(items);\n    });\n\n    return rst;\n  }; // lifecycle\n\n\n  View.prototype.init = function () {\n    this._initTheme();\n\n    this._initLayers();\n\n    this.initRegion();\n\n    this._initOptions();\n\n    this._initControllers();\n\n    this._bindEvents();\n\n    if (this.get('data')) {\n      this._initData();\n    }\n  };\n\n  View.prototype.destroy = function () {\n    this._clearEvents();\n\n    this.off(); // events\n\n    this.clear(); // UI, models, etc.\n\n    this.clearAllInteractions(); // clearAllInteractions需要在_destroyViewGroups前面，因为某些interaction依赖group\n\n    this._destroyViewGroups();\n\n    _super.prototype.destroy.call(this);\n  };\n\n  View.prototype.clear = function () {\n    this.set('isUpdate', false);\n\n    this._clearInner();\n\n    this._destroyElements();\n\n    return this;\n  };\n  /**\n   * 清空并重绘\n   */\n\n\n  View.prototype.repaint = function () {\n    this.set('isUpdate', true); // 标识符，用于更新动画\n    // this._clearInner();\n\n    this.render();\n    return this;\n  };\n  /* 还有其他的一些 view 数据获取的方法 */\n\n  /**\n   * 深度遍历所有的 shape，执行回调函数\n   * @param fn 回调函数包含参数：record,shape,element,view\n   * @return view 当前视图\n   */\n\n\n  View.prototype.eachShape = function (fn) {\n    var _this = this;\n\n    var views = this.get('views');\n    var canvas = this.get('canvas'); // 先深度遍历 views\n\n    _.each(views, function (view) {\n      view.eachShape(fn);\n    }); // 在遍历当前 view 中的 elements\n\n\n    var elements = this.get('elements');\n\n    _.each(elements, function (element) {\n      // 遍历每一个 shape\n      var shapes = element.getShapes();\n\n      _.each(shapes, function (shape) {\n        var origin = shape.get('origin');\n\n        if (_.isArray(origin)) {\n          var arr = origin.map(function (obj) {\n            return obj[FIELD_ORIGIN];\n          });\n          fn(arr, shape, element, _this);\n        } else {\n          var obj = origin[FIELD_ORIGIN];\n          fn(obj, shape, element, _this);\n        }\n      });\n    });\n\n    canvas.draw();\n    return this;\n  };\n  /**\n   * 获得所有的 element，\n   * @param recursive 是否递归获取，默认为 false\n   */\n\n\n  View.prototype.getElements = function (recursive) {\n    if (recursive === void 0) {\n      recursive = false;\n    }\n\n    var elements = __spreadArrays(this.get('elements'));\n\n    if (recursive) {\n      var views = this.get('views');\n\n      _.each(views, function (view) {\n        elements = elements.concat(view.getElements(recursive));\n      });\n    }\n\n    return elements;\n  };\n  /**\n   * 获取过滤后的值（需要显示的值）\n   * @param field 度量\n   * @return  滤后的值\n   */\n\n\n  View.prototype.getFilteredValues = function (field) {\n    var scale = this.get('scales')[field];\n    var values = scale.values;\n\n    var filters = this._getFilters();\n\n    var rst;\n\n    if (filters && filters[field]) {\n      rst = values.filter(filters[field]);\n    } else {\n      rst = values.slice(0);\n    }\n\n    return rst;\n  };\n  /**\n   * 获取被过滤的值（不需显示的值）\n   * @param field 度量\n   * @return 滤出的值\n   */\n\n\n  View.prototype.getFilteredOutValues = function (field) {\n    var scale = this.get('scales')[field];\n    var values = scale.values;\n\n    var filters = this._getFilters();\n\n    var rst;\n\n    if (filters && filters[field]) {\n      rst = values.filter(function (v) {\n        return !filters[field](v);\n      });\n    } else {\n      rst = [];\n    }\n\n    return rst;\n  };\n  /**\n   * 设置图形active状态量\n   * @param exp 状态量的值\n   * @param draw 是否触发canvas重绘\n   */\n\n\n  View.prototype.setActive = function (exp, draw) {\n    if (draw === void 0) {\n      draw = true;\n    }\n\n    var shapeStateController = this.get('shapeStateController');\n    shapeStateController.setState('active', exp, draw);\n    return this;\n  };\n  /**\n   * 设置图形selected状态量\n   * @param exp 状态量的值\n   * @param draw 是否触发canvas重绘\n   */\n\n\n  View.prototype.setSelected = function (exp, draw) {\n    if (draw === void 0) {\n      draw = true;\n    }\n\n    var shapeStateController = this.get('shapeStateController');\n    shapeStateController.setState('selected', exp, draw);\n    return this;\n  };\n  /**\n   * 设置图形inactive状态量\n   * @param exp 状态量的值\n   * @param draw 是否触发canvas重绘\n   */\n\n\n  View.prototype.setInactive = function (exp, draw) {\n    if (draw === void 0) {\n      draw = true;\n    }\n\n    var shapeStateController = this.get('shapeStateController');\n    shapeStateController.setState('inactive', exp, draw);\n    return this;\n  };\n\n  View.prototype.clearAllInteractions = function () {\n    var interactions = this.get('interactions');\n\n    _.each(interactions, function (interaction, key) {\n      interaction.destroy();\n      delete interactions[key];\n    });\n\n    return this;\n  };\n\n  View.prototype.clearInteraction = function (type) {\n    var interactions = this.get('interactions');\n\n    if (interactions[type]) {\n      interactions[type].destroy();\n      delete interactions[type];\n    }\n\n    return this;\n  };\n\n  View.prototype.interaction = function (type, cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    cfg.view = this;\n    var Ctor = getInteraction(type);\n    var interaction = new Ctor(cfg);\n\n    this._setInteraction(type, interaction);\n\n    return this;\n  }; // private / protected methods\n  // if facet exist, render it.\n\n\n  View.prototype._renderFacet = function () {\n    var facet = this.get('facet');\n    if (facet) facet.render();\n  };\n  /* 获得可以共享给子 view 的配置信息\n   * @private\n   */\n\n\n  View.prototype._getSharedOptions = function () {\n    var options = this.get('options');\n    var scales = options.scales,\n        coord = options.coord,\n        axes = options.axes;\n    return {\n      scales: scales,\n      coord: coord,\n      axes: axes\n    };\n  };\n\n  View.prototype._getFilters = function () {\n    var options = this.get('options');\n    return options.filters;\n  }; // TODO 在 extend 之前，保留 private，如果 Plot 类有调用，再改为 protected\n\n\n  View.prototype._initTheme = function () {\n    var theme = this.get('theme');\n    var viewTheme = {};\n    var newTheme = {};\n\n    if (_.isObject(theme)) {\n      newTheme = theme;\n    } else if (_.isString(theme)) {\n      newTheme = getTheme(theme);\n    }\n\n    _.deepMix(viewTheme, Global.theme, newTheme);\n\n    this.set('theme', viewTheme);\n  };\n\n  View.prototype._bindEvents = function () {\n    var eventController = this.get('eventController');\n    eventController.bindEvents();\n  };\n\n  View.prototype._clearEvents = function () {\n    var eventController = this.get('eventController');\n    eventController.clearEvents();\n  };\n\n  View.prototype._initLayers = function () {\n    var container = this.get('container');\n    var backgroundGroup = container.addGroup({\n      name: 'backgroundGroup',\n      zIndex: 0,\n      viewId: this.get('id')\n    });\n    var panelGroup = container.addGroup({\n      name: 'panelGroup',\n      zIndex: 1,\n      viewId: this.get('id')\n    });\n    var frontgroundGroup = container.addGroup({\n      name: 'frontgroundGroup',\n      zIndex: 2\n    });\n    this.set('frontgroundGroup', frontgroundGroup);\n    this.set('backgroundGroup', backgroundGroup);\n    this.set('panelGroup', panelGroup);\n  }; // 生成 view 以及绘图区域的范围\n\n\n  View.prototype.initRegion = function () {\n    // TODO: AutoPadding 场景\n    var _a = this.get('start'),\n        startX = _a.x,\n        startY = _a.y;\n\n    var _b = this.get('end'),\n        endX = _b.x,\n        endY = _b.y;\n\n    var parent = this.get('parent');\n\n    if (parent) {\n      var _c = parent.get('panelRange'),\n          width = _c.width,\n          height = _c.height,\n          tl = _c.tl; // 判断 start 和 end 是像素值还是 0 - 1 范围的数据\n\n\n      if (endX - startX <= 1) {\n        // 0 -1 返回的数据，将其转换为像素值\n        startX *= width;\n        startY *= height;\n        endX *= width;\n        endY *= height;\n      }\n\n      startX += tl.x;\n      endX += tl.x;\n      startY += tl.y;\n      endY += tl.y;\n    } else if (endX - startX <= 1) {\n      var width = this.get('width');\n      var height = this.get('height');\n      startX *= width;\n      startY *= height;\n      endX *= width;\n      endY *= height;\n    } // else {\n    //   startX = 0;\n    //   startY = 0;\n    //   endX = this.get('width');\n    //   endY = this.get('height');\n    // }\n\n\n    var viewWidth = endX - startX;\n    var viewHeight = endY - startY;\n    this.set('viewRange', new BBox(startX, startY, viewWidth, viewHeight)); // 获取子 view 整体范围（包含坐标轴）\n\n    var padding = parsePadding(this.get('padding'));\n    var top = padding[0],\n        right = padding[1],\n        bottom = padding[2],\n        left = padding[3];\n    var panelRange = new BBox(startX + left, startY + top, viewWidth - left - right, viewHeight - top - bottom);\n    this.set('panelRange', panelRange); // 获取子 view 绘图区域范围，即 elements 绘图范围\n  };\n\n  View.prototype._initData = function () {// now do nothing here.\n  };\n\n  View.prototype._initOptions = function () {\n    var _this = this;\n\n    var options = _.mix({}, this.get('options')); // shadow copy\n\n\n    if (!options.scales) {\n      options.scales = {};\n    }\n\n    if (!options.coord) {\n      options.coord = {};\n    } // animate 默认为 true，只有显示设置为 false 的时候，才为 false\n\n\n    if (!_.isUndefined(options.animate)) {\n      this.set('animate', !!options.animate);\n    } // TODO guides, annotations\n\n\n    if (options.elements && options.elements.length) {\n      _.each(options.elements, function (cfg) {\n        _this._createElement(cfg);\n      });\n    }\n\n    var scaleController = this.get('scaleController');\n\n    if (scaleController) {\n      scaleController.defs = options.scales;\n    }\n\n    var coordController = this.get('coordController');\n\n    if (coordController) {\n      coordController.reset(options.coord);\n    }\n\n    this.set('options', options);\n  };\n\n  View.prototype._drawGuides = function () {\n    if (!this.get('keepLegend')) {\n      this._renderLegend();\n    }\n\n    this._renderAnnotations();\n\n    this._renderAxes();\n\n    this._renderTooltip();\n  };\n\n  View.prototype._renderAxes = function () {\n    var options = this.get('options');\n    var axesOptions = options.axes;\n\n    if (axesOptions === false) {\n      return; // 不渲染\n    }\n\n    var axisController = this.get('axisController'); // 如果直接传入 this.get('backgroundGroup')，当调用 axisController.clear() 时，会将 annotationController 创建的 backgroundGroup 销毁\n\n    axisController.container = this.get('backgroundGroup').addGroup({\n      name: 'axisGroup'\n    });\n    axisController.coord = this.get('coord');\n    axisController.options = _.get(options, 'axes', {});\n    var xScale = this.getXScale();\n    var yScales = this.getYScales();\n    var viewId = this.get('id');\n    axisController.createAxis(xScale, yScales, viewId);\n  };\n\n  View.prototype._renderTooltip = function () {\n    var options = this.get('options'); // 用户没有配置 tooltip 或者未显示关闭，则进行 tooltip 的渲染\n\n    if (_.isNil(options.tooltip) || options.tooltip !== false) {\n      var tooltipController = this.get('tooltipController');\n      tooltipController.options = options.tooltip || {};\n      tooltipController.renderTooltip();\n    }\n  };\n\n  View.prototype._initControllers = function () {\n    var options = this.get('options');\n    var theme = this.get('theme');\n    var canvas = this.get('canvas');\n    var scaleController = new ScaleController(options.scales); // TODO 支持透传图表尺寸等\n\n    this.set('scaleController', scaleController);\n    var coordController = new CoordController(options.coord);\n    this.set('coordController', coordController);\n    var eventController = new EventController({\n      canvas: this.get('canvas'),\n      view: this\n    });\n    this.set('eventController', eventController);\n    var shapeStateController = new ShapeStateController({\n      view: this\n    });\n    this.set('shapeStateController', shapeStateController);\n    var legendController = new LegendController({\n      view: this\n    });\n    this.set('legendController', legendController);\n    var annotationController = new AnnController({\n      theme: this.get('theme'),\n      view: this,\n      frontgroundGroup: this.get('frontgroundGroup').addGroup(),\n      backgroundGroup: this.get('backgroundGroup').addGroup(),\n      // @ts-ignore\n      options: options.annotations || []\n    });\n    this.set('annotationController', annotationController);\n    var axisController = new AxisController({\n      canvas: canvas,\n      theme: theme\n    });\n    this.set('axisController', axisController);\n    var tooltipController = new TooltipController({\n      view: this,\n      theme: theme\n    });\n    this.set('tooltipController', tooltipController);\n  };\n\n  View.prototype._initScale = function (field, data) {\n    if (data === void 0) {\n      data = [];\n    }\n\n    var scales = this.get('scales'); // const parent = this.get('parent');\n\n    var scale = scales[field];\n    var _data = data; // let scale = scales[field];\n    // const filteredData = this.get('filteredData'); // 过滤后的数据\n\n    var legendFields = this._getLegendFields(); // 过滤导致数据为空或者 field 字2段参与了图例生成，都使用全局数据，使图例过滤前后图形映射通道保持一致\n\n\n    if (!_data.length || legendFields.indexOf(field) !== -1) {\n      _data = this.get('data') || [];\n    }\n\n    var scaleController = this.get('scaleController');\n\n    if (!scale) {\n      scale = scaleController.createScale(field, _data); // TODO due with scale syncing, etc.\n\n      scales[field] = scale; // 存储至 scales 变量中\n    }\n\n    return scale;\n  };\n\n  View.prototype._createElement = function (cfg) {\n    var type = cfg.type;\n    var element;\n\n    if (getElement(type)) {\n      var elementCfg = __assign(__assign({}, cfg), {\n        container: this.get('panelGroup').addGroup(),\n        frontgroundGroup: this.get('frontgroundGroup').addGroup(),\n        view: this,\n        canvas: this.get('canvas'),\n        theme: this.get('theme')\n      });\n\n      var ElementCtor = getElement(type);\n      element = new ElementCtor(elementCfg);\n\n      _.each(cfg, function (v, k) {\n        if (element[k]) {\n          element[k](v); // 只支持 options\n        }\n      });\n\n      this._addElement(element);\n    }\n  };\n\n  View.prototype._addElement = function (element) {\n    var elements = this.get('elements');\n    elements.push(element);\n    element.bindStates();\n  };\n\n  View.prototype._drawElements = function () {\n    this.emit('beforedrawelements');\n\n    _.each(this.get('elements'), function (element) {\n      element.paint();\n    });\n\n    this.emit('afterdrawelements');\n  };\n\n  View.prototype._clearElements = function () {\n    _.each(this.get('elements'), function (element) {\n      element.clear();\n    });\n  };\n\n  View.prototype._destroyElements = function () {\n    var elements = this.get('elements');\n\n    while (elements.length > 0) {\n      var element = elements.shift();\n      element.destroy();\n    }\n  };\n\n  View.prototype._clearInner = function () {\n    this.set('scales', {});\n    this.emit('beforeclearinner');\n    var options = this.get('options');\n    options.elements = [];\n\n    this._clearElements(); // clear facet\n\n\n    var facet = this.get('facet');\n    if (facet) facet.clear();\n    var annotationController = this.get('annotationController');\n    annotationController && annotationController.reset();\n    var axisController = this.get('axisController');\n    axisController && axisController.clear();\n    var tooltipController = this.get('tooltipController');\n    tooltipController && tooltipController.clear(); // 当不需要保留图例的时候，需要将图例清空，否则 legend 还会残留\n\n    if (!this.get('keepLegend')) {\n      var legendController = this.get('legendController');\n      legendController && legendController.clear();\n    } // _addBackShape() 在 render() 方法中调用，为了防止重复创建，需要清空\n\n\n    var backgroundGroup = this.get('backgroundGroup');\n    var panelGroup = this.get('panelGroup');\n    backgroundGroup.get('backShape') && backgroundGroup.get('backShape').remove();\n    panelGroup.get('backShape') && panelGroup.get('backShape').remove();\n    this.emit('afterclearinner');\n  };\n\n  View.prototype._beforeRender = function () {\n    _.each(this.get('views'), function (view) {\n      view._beforeRender();\n    });\n\n    this._initView();\n  };\n\n  View.prototype._initView = function () {\n    this._execFilters();\n\n    this._initCoord();\n\n    this.emit('beforeinitelements');\n\n    this._initElements();\n\n    this._adjustScales();\n  };\n\n  View.prototype._initCoord = function () {\n    var panelRange = this.get('panelRange');\n    var coordController = this.get('coordController');\n    var coord = coordController.createCoord(panelRange.bl, panelRange.tr);\n    this.set('coord', coord);\n  };\n\n  View.prototype._getScales = function (dim) {\n    var elements = this.get('elements');\n    return _.reduce(elements, function (result, element) {\n      var scale = dim === 'x' ? element.getXScale() : element.getYScale();\n\n      if (scale && !_.has(result, scale.field)) {\n        result[scale.field] = scale;\n      }\n\n      return result;\n    }, {});\n  };\n\n  View.prototype._initElements = function () {\n    var filteredData = this.get('filteredData');\n    var coord = this.get('coord');\n    var viewId = this.get('id');\n    var options = this.get('options');\n    var animate = this.get('animate');\n    var widthRatio = this.get('widthRatio');\n    var isShareTooltip = options.tooltip && options.tooltip.shared;\n\n    _.each(this.get('elements'), function (element, i) {\n      element.set('data', filteredData);\n      element.set('coord', coord);\n      element.set('id', viewId + \"-element-\" + i);\n      element.set('animate', animate);\n      element.set('widthRatio', _.deepMix({}, widthRatio, element.get('widthRatio')));\n      _.isBoolean(isShareTooltip) && element.set('shareTooltip', isShareTooltip);\n      element.init();\n    });\n  };\n\n  View.prototype._adjustScales = function () {\n    // 调整分类度量的 range 属性\n    this._adjustCategoryScalesRange(); // 特殊逻辑：柱状图数值轴默认从 0 开始\n\n\n    var elements = this.get('elements');\n    var scaleDefs = this.get('scaleController').defs;\n    elements.forEach(function (element) {\n      if (element.get('type') === 'interval') {\n        var yScale = element.getYScale();\n        var field = yScale.field,\n            min = yScale.min,\n            max = yScale.max,\n            type = yScale.type; // 如果用户使用 view.scale() 自己定义了 min，则以用户的为准\n        // time 类型不做调整\n\n        if (!(scaleDefs[field] && scaleDefs[field].min) && type !== 'time') {\n          if (min > 0) {\n            yScale.change({\n              min: 0\n            });\n          } else if (max <= 0) {\n            // 当柱状图全为负值时也需要从 0 开始生长\n            yScale.change({\n              max: 0\n            });\n          }\n        }\n      }\n    });\n  }; // 调整 x y 两个维度分类度量的 range 属性\n\n\n  View.prototype._adjustCategoryScalesRange = function () {\n    var coord = this.get('coord');\n    var xScale = this.getXScale();\n    var yScales = this.getYScales();\n    var widthRatio = this.get('widthRatio');\n    var scales = [];\n    xScale && scales.push(xScale); // 一维图表没有 x 度量\n\n    scales = scales.concat(yScales);\n    var inFullCircle = isFullCircle(coord);\n    var scaleController = this.get('scaleController');\n    var scaleDefs = scaleController.defs;\n    scales.forEach(function (scale) {\n      var field = scale.field,\n          values = scale.values; // 分类或者常量度量，同时用户没有通过 view.scale() 配置 range 属性\n\n      if ((scale.isCategory || scale.isIdentity) && values && !(scaleDefs[field] && scaleDefs[field].range)) {\n        var count = values.length;\n        var range = void 0;\n\n        if (count === 1) {\n          range = [0.5, 1]; // 只有一个分类时,防止计算出现 [ 0.5,0.5 ] 的状态\n        } else {\n          var wr = 1;\n          var offset = 0;\n\n          if (inFullCircle) {\n            if (!coord.isTransposed) {\n              range = [0, 1 - 1 / count];\n            } else {\n              wr = widthRatio.multiplePie;\n              offset = 1 / count * wr;\n              range = [offset / 2, 1 - offset / 2];\n            }\n          } else {\n            offset = 1 / count * 1 / 2; // 两边留下分类空间的一半\n\n            range = [offset, 1 - offset]; // 坐标轴最前面和最后面留下空白防止绘制柱状图时\n          }\n        }\n\n        scale.range = range;\n      }\n    });\n  }; // 过滤数据\n\n\n  View.prototype._execFilters = function () {\n    var data = this.get('data');\n    var result = this.get('data') || [];\n\n    var filters = this._getFilters();\n\n    if (filters) {\n      result = result.filter(function (obj) {\n        var rst = true;\n\n        _.each(filters, function (callback, field) {\n          if (callback) {\n            rst = callback(obj[field], obj);\n\n            if (!rst) {\n              return false;\n            }\n          }\n        });\n\n        return rst;\n      });\n    }\n\n    this.set('filteredData', result);\n  };\n\n  View.prototype._addBackShape = function () {\n    // TODO：再飞，有没有更好的办法？\n    // add backgroundGroup backShape\n    var backgroundGroup = this.get('backgroundGroup');\n    var viewRange = this.get('viewRange');\n    var backShapeAttrs = {\n      x: viewRange.x,\n      y: viewRange.y,\n      width: viewRange.width,\n      height: viewRange.height,\n      fill: 'rgba(255,255,255,0)'\n    };\n\n    var backgroundStyle = _.mix(this.get('theme').backgroundStyle, this.get('backgroundStyle'));\n\n    var backgroundBackShape = backgroundGroup.addShape('rect', {\n      attrs: _.mix(backShapeAttrs, backgroundStyle),\n      zIndex: -1\n    });\n    backgroundGroup.set('backShape', backgroundBackShape);\n    backgroundGroup.sort(); // add panelGroup backShape\n\n    var panelGroup = this.get('panelGroup');\n    var panelRange = this.get('panelRange');\n    var panelBackShape = panelGroup.addShape('rect', {\n      attrs: {\n        x: panelRange.x,\n        y: panelRange.y,\n        width: panelRange.width,\n        height: panelRange.height,\n        fill: 'rgba(255,255,255,0)'\n      },\n      zIndex: -1\n    });\n    panelGroup.set('backShape', panelBackShape);\n    panelGroup.sort();\n  };\n\n  View.prototype._destroyViewGroups = function () {\n    this.get('frontgroundGroup').remove();\n    this.get('backgroundGroup').remove();\n    this.get('panelGroup').remove();\n    this.set('frontgroundGroup', null);\n    this.set('backgroundGroup', null);\n    this.set('panelGroup', null);\n  };\n\n  View.prototype._canvasDraw = function (stopDrawing) {\n    var canvas = this.get('canvas');\n\n    if (!stopDrawing) {\n      var views = this.get('views'); // sorting\n\n      if (this.get('animate')) {\n        // start animation\n        var isUpdate_1 = this.get('isUpdate');\n\n        _.each(views, function (view) {\n          Animate.execAnimation(view, isUpdate_1);\n        });\n\n        Animate.execAnimation(this, isUpdate_1);\n        canvas.draw();\n      } else {\n        canvas.draw();\n      }\n    }\n  };\n\n  View.prototype._renderLegend = function () {\n    var legendController = this.get('legendController');\n    legendController.render();\n  };\n\n  View.prototype._renderAnnotations = function () {\n    var coord = this.get('coord');\n    var annotationController = this.get('annotationController');\n    annotationController.xScales = this._getScales('x');\n    annotationController.yScales = this._getScales('y');\n    annotationController.render(coord);\n  };\n\n  View.prototype._getLegendFields = function () {\n    var fields = [];\n    var elements = this.get('elements');\n    elements.forEach(function (element) {\n      var elementFields = element.getLegendFields();\n      fields = fields.concat(elementFields);\n    });\n    return _.uniq(fields);\n  }; // interaction相关\n\n\n  View.prototype._setInteraction = function (type, interaction) {\n    var interactions = this.get('interactions');\n\n    if (interactions[type]) {\n      interactions[type].destroy();\n    }\n\n    interactions[type] = interaction;\n  };\n\n  return View;\n}(Base);\n\nexport default View; // TODO mixin element methods\n\nexport var registerViewPrototype = function registerViewPrototype(key, Ctor) {\n  View.prototype[key] = function (cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    cfg.view = this;\n    cfg.theme = this.get('theme');\n    cfg.container = this.get('panelGroup').addGroup();\n    cfg.frontgroundGroup = this.get('frontgroundGroup').addGroup();\n    cfg.canvas = this.get('canvas');\n    var element = new Ctor(cfg);\n\n    this._addElement(element);\n\n    return element;\n  };\n};","import * as _ from '@antv/util';\n/**\n * 解析 padding 格式为标准的上、右、下、左格式\n * @param padding 内边距，可以是数组、数字或者 'auto'\n */\n\nexport function parsePadding(padding) {\n  var top;\n  var left;\n  var right;\n  var bottom;\n\n  if (_.isNumber(padding) || _.isString(padding)) {\n    top = left = right = bottom = padding;\n  } else if (_.isArray(padding)) {\n    top = padding[0];\n    right = !_.isNil(padding[1]) ? padding[1] : padding[0];\n    bottom = !_.isNil(padding[2]) ? padding[2] : padding[0];\n    left = !_.isNil(padding[3]) ? padding[3] : right;\n  }\n\n  return [top, right, bottom, left];\n}","import { __assign, __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport { Canvas } from '@antv/g';\nimport * as _ from '@antv/util';\nimport Global from '../global';\nimport View from './view';\n\nvar Plot =\n/** @class */\nfunction (_super) {\n  __extends(Plot, _super);\n\n  function Plot(cfg) {\n    return _super.call(this, __assign({\n      containerDOM: null,\n      containerId: null,\n      width: Global.width,\n      height: Global.height,\n      pixelRatio: Global.pixelRatio,\n      renderer: Global.renderer,\n      forceFit: false\n    }, cfg)) || this;\n  }\n\n  Plot.prototype.init = function () {\n    this.set('id', _.uniqueId('chart'));\n\n    this._initCanvas();\n\n    this._initEvents();\n\n    _super.prototype.init.call(this);\n  };\n  /**\n   * 修改画布的大小，用于外部做自适应\n   * @param width\n   * @param height\n   * @param autoRender\n   */\n\n\n  Plot.prototype.changeSize = function (width, height, autoRender) {\n    if (autoRender === void 0) {\n      autoRender = true;\n    }\n\n    var canvas = this.get('canvas');\n    canvas.changeSize(width, height); // 设置宽高之后，重新计算 region 大小（viewRange、panelRange）\n\n    this.set('width', width);\n    this.set('height', height);\n    this.initRegion();\n\n    if (autoRender) {\n      // 重新绘制\n      this.render();\n      this.emit('afterchangesize');\n    }\n\n    return this;\n  };\n\n  Plot.prototype.render = function (stopDrawing) {\n    _super.prototype.render.call(this, stopDrawing);\n\n    this.get('canvas').draw();\n    return this;\n  };\n\n  Plot.prototype.destroy = function () {\n    window.removeEventListener('resize', _.getWrapBehavior(this, '_initForceFitEvent'));\n\n    _super.prototype.destroy.call(this);\n  };\n\n  Plot.prototype._initCanvas = function () {\n    var canvas = new Canvas({\n      containerDOM: this.get('containerDOM'),\n      containerId: this.get('containerId'),\n      width: this.get('width'),\n      height: this.get('height'),\n      renderer: this.get('renderer'),\n      pixelRatio: this.get('pixelRatio')\n    });\n    this.set('canvas', canvas);\n    this.set('container', canvas);\n\n    if (this.get('forceFit')) {\n      var container = this._getContainerDOM();\n\n      var width = domUtil.getWidth(container, this.get('width'));\n      this.set('width', width);\n    }\n  };\n\n  Plot.prototype._initEvents = function () {\n    if (this.get('forceFit')) {\n      window.addEventListener('resize', _.wrapBehavior(this, '_initForceFitEvent'));\n    }\n  };\n\n  Plot.prototype._initForceFitEvent = function () {\n    var timer = setTimeout(_.wrapBehavior(this, 'forceFit'), 200);\n    clearTimeout(this.get('resizeTimer'));\n    this.set('resizeTimer', timer);\n  };\n  /**\n   * 自适应宽度\n   * @chainable\n   * @return {Chart} 图表对象\n   */\n\n\n  Plot.prototype.forceFit = function () {\n    if (this.destroyed) {\n      return;\n    }\n\n    var container = this._getContainerDOM();\n\n    var oldWidth = this.get('width');\n    var width = domUtil.getWidth(container, oldWidth);\n\n    if (width !== 0 && width !== oldWidth) {\n      var height = this.get('height');\n      this.changeSize(width, height);\n    }\n\n    return this;\n  };\n\n  Plot.prototype._getContainerDOM = function () {\n    var container = this.get('containerDOM');\n\n    if (!_.isElement(container)) {\n      container = document.getElementById(this.get('containerId'));\n    }\n\n    return container;\n  };\n\n  return Plot;\n}(View);\n\nexport default Plot;","/**\n * 提供绘制 shape 时的一些通用方法\n */\nimport * as _ from '@antv/util';\nexport function splitPoints(obj) {\n  var points = [];\n  var x = obj.x;\n  var y = obj.y;\n  y = _.isArray(y) ? y : [y];\n\n  _.each(y, function (yItem, index) {\n    var point = {\n      x: _.isArray(x) ? x[index] : x,\n      y: yItem\n    };\n    points.push(point);\n  });\n\n  return points;\n} // rename addFillAttrs\n\nexport function setFillStyle(attrs, cfg) {\n  var color = cfg.color,\n      opacity = cfg.opacity;\n\n  if (color) {\n    attrs.fill = color;\n  }\n\n  if (_.isNumber(opacity)) {\n    attrs.opacity = attrs.fillOpacity = opacity;\n  }\n} // rename addStrokeAttrs\n\nexport function setStrokeStyle(attrs, cfg) {\n  var color = cfg.color,\n      opacity = cfg.opacity;\n\n  if (color) {\n    attrs.stroke = color;\n  }\n\n  if (_.isNumber(opacity)) {\n    attrs.opacity = attrs.strokeOpacity = opacity;\n  }\n}","/**\n * @description Area Element shapes\n */\nimport * as _ from '@antv/util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { setFillStyle, setStrokeStyle } from '../util/shape';\nimport { getSplinePath, getLinePath } from '../util/path';\n\nfunction getLineAttrs(cfg) {\n  var lineAttrs = cfg.style;\n  setStrokeStyle(lineAttrs, cfg);\n\n  if (_.isNumber(cfg.size)) {\n    lineAttrs.lineWidth = cfg.size;\n  }\n\n  return lineAttrs;\n}\n\nfunction getFillAttrs(cfg) {\n  var areaAttrs = cfg.style;\n  setFillStyle(areaAttrs, cfg);\n  return areaAttrs;\n}\n\nfunction getPath(cfg, smooth, shape) {\n  var path = [];\n  var pointsArr = [];\n  var topLinePoints = []; // area 区域上部分\n\n  var bottomLinePoints = []; // area 区域下部分\n\n  var isInCircle = cfg.isInCircle;\n\n  _.each(cfg.points, function (point) {\n    topLinePoints.push(point[1]);\n    bottomLinePoints.push(point[0]);\n  });\n\n  bottomLinePoints = bottomLinePoints.reverse();\n  pointsArr.push(topLinePoints, bottomLinePoints);\n\n  _.each(pointsArr, function (pointsData, index) {\n    var subPath = [];\n    var points = shape.parsePoints(pointsData);\n    var p1 = points[0];\n\n    if (isInCircle) {\n      points.push({\n        x: p1.x,\n        y: p1.y\n      });\n    }\n\n    if (smooth) {\n      subPath = getSplinePath(points, false, cfg.constraint);\n    } else {\n      subPath = getLinePath(points, false);\n    }\n\n    if (index > 0) {\n      subPath[0][0] = 'L';\n    }\n\n    path = path.concat(subPath);\n  });\n\n  path.push(['Z']);\n  return path;\n} // TODO: 目前这个 marker 是一个矩形，不适用于 area，有以下几种解决方案：\n// 1. marker 可能需要支持 group，这样就可以恢复到之前矩形上方加一个描边\n// 2. 使用 circle marker\n// get marker style\n\n\nfunction _getMarkerAttr(markerCfg) {\n  return {\n    symbol: function symbol(x, y) {\n      return [['M', x - 5.5, y - 4], ['L', x + 5.5, y - 4], ['L', x + 5.5, y + 4], ['L', x - 5.5, y + 4], ['Z']];\n    },\n    radius: 5,\n    fill: markerCfg.color\n  };\n} // 当只有一个数据时绘制点\n\n\nfunction drawPointShape(shapeObj, cfg, container) {\n  var coord = shapeObj._coord;\n  var point = coord.convertPoint(cfg.points[0][1]);\n  return container.addShape('circle', {\n    attrs: _.mix({\n      x: point.x,\n      y: point.y,\n      r: 2,\n      fill: cfg.color\n    }, cfg.style)\n  });\n}\n\nvar AreaShapeFactory = registerShapeFactory('area', {\n  defaultShapeType: 'area',\n\n  /**\n   * @override\n   * @protected\n   * 计算点 如果存在多个点，分割成单个的点, 不考虑多个x对应一个y的情况\n   * 单点则补上y0点\n   */\n  getDefaultPoints: function getDefaultPoints(pointInfo) {\n    var x = pointInfo.x;\n    var y = pointInfo.y;\n    var y0 = pointInfo.y0;\n    y = _.isArray(y) ? y : [y0, y];\n    return y.map(function (yItem) {\n      return {\n        x: x,\n        y: yItem\n      };\n    });\n  },\n  drawShape: function drawShape(type, cfg, container) {\n    var shape = this.getShape(type);\n    var shapeName = shape.name;\n    var theme = this._theme;\n\n    if (theme && theme.area && theme.area[shapeName]) {\n      var defaultShapeStyle = theme.area[shapeName].default;\n      cfg.style = _.mix({}, defaultShapeStyle, cfg.style);\n    }\n\n    var gShape = cfg.points.length === 1 && cfg.showSinglePoint ? drawPointShape(this, cfg, container) : shape.draw(cfg, container);\n\n    if (gShape) {\n      gShape.set('origin', cfg.origin);\n      gShape.id = cfg.splitedIndex ? cfg.id + cfg.splitedIndex : cfg.id;\n      gShape.name = this.name;\n    }\n\n    return gShape;\n  },\n  getMarkerStyle: function getMarkerStyle(type, markerCfg) {\n    var shape = this.getShape(type);\n    var markerStyle;\n\n    if (shape.getMarkerStyle) {\n      markerStyle = shape.getMarkerStyle(markerCfg);\n    } else {\n      markerStyle = _getMarkerAttr(markerCfg);\n    }\n\n    var theme = this._theme;\n    var shapeName = shape.name;\n\n    if (theme && theme.area && theme.area[shapeName]) {\n      markerStyle = _.mix({}, theme.area[shapeName].default, markerStyle);\n    }\n\n    return markerStyle;\n  }\n}); // 默认：填充区域图\n\nregisterShape('area', 'area', {\n  draw: function draw(cfg, container) {\n    var attrs = getFillAttrs(cfg);\n    var path = getPath(cfg, false, this);\n    return container.addShape('path', {\n      attrs: _.mix(attrs, {\n        path: path\n      })\n    });\n  }\n}); // 填充平滑区域图\n\nregisterShape('area', 'smooth', {\n  draw: function draw(cfg, container) {\n    var attrs = getFillAttrs(cfg);\n    var coord = this.getCoord(); // 曲线的限制\n\n    cfg.constraint = [[coord.start.x, coord.end.y], [coord.end.x, coord.start.y]];\n    var path = getPath(cfg, true, this);\n    return container.addShape('path', {\n      attrs: _.mix(attrs, {\n        path: path\n      })\n    });\n  }\n}); // 封闭的折线\n\nregisterShape('area', 'line', {\n  draw: function draw(cfg, container) {\n    var attrs = getLineAttrs(cfg);\n    var path = getPath(cfg, false, this);\n    return container.addShape('path', {\n      attrs: _.mix(attrs, {\n        path: path\n      })\n    });\n  }\n}); // 封闭的平滑线\n\nregisterShape('area', 'smoothLine', {\n  draw: function draw(cfg, container) {\n    var attrs = getLineAttrs(cfg);\n    var path = getPath(cfg, true, this);\n    return container.addShape('path', {\n      attrs: _.mix(attrs, {\n        path: path\n      })\n    });\n  }\n});\nexport default AreaShapeFactory;","import * as _ from '@antv/util';\n/**\n * 分割数据，用于处理存在 null、undefined 值的折线图、区域图\n * @param data 需要进行分割的数据\n * @param connectNulls 是否连接空值数据\n * @param field 字段名\n */\n\nexport function splitData(data, connectNulls, field) {\n  if (!data.length) return [];\n  var splitData = [];\n  var tmp = [];\n  var yValue;\n  data.forEach(function (obj) {\n    yValue = obj._origin ? obj._origin[field] : obj[field];\n\n    if (connectNulls) {\n      // 如果忽视 Null 直接连接节点，则将 value = null 的数据过滤掉\n      if (!_.isNil(yValue)) {\n        tmp.push(obj);\n      }\n    } else {\n      if (_.isArray(yValue) && _.isNil(yValue[0]) || _.isNil(yValue)) {\n        if (tmp.length) {\n          splitData.push(tmp);\n          tmp = [];\n        }\n      } else {\n        tmp.push(obj);\n      }\n    }\n  });\n  tmp.length && splitData.push(tmp);\n  return splitData;\n}","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Element from './base';\nimport AreaShapeFactory from './shape/area';\nimport { splitData } from './util/split-data';\n\nvar Area =\n/** @class */\nfunction (_super) {\n  __extends(Area, _super);\n\n  function Area(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'area',\n      shapeType: 'area',\n      generatePoints: true,\n      sortable: true,\n      connectNulls: false,\n      showSinglePoint: false\n    }, cfg)) || this;\n\n    _this.set('shapeFactory', AreaShapeFactory);\n\n    return _this;\n  }\n\n  Area.prototype.draw = function (data, container, shapeFactory, index) {\n    var _this = this;\n\n    var cfg = this.getDrawCfg(data[0]);\n    var splitArray = splitData(data, this.get('connectNulls'), this.getYScale().field);\n    cfg.origin = data; // path,line,area 等图的origin 是整个序列\n\n    _.each(splitArray, function (subData, splitedIndex) {\n      cfg.splitedIndex = splitedIndex; // 传入分割片段索引 用于生成id\n\n      var points = subData.map(function (obj) {\n        return obj.points;\n      });\n      cfg.points = points;\n      var geomShape = shapeFactory.drawShape(cfg.shape, cfg, container);\n\n      _this.appendShapeInfo(geomShape, index + splitedIndex);\n    });\n  };\n\n  return Area;\n}(Element);\n\nexport default Area;","/**\n * @description 计算 element shape 的 size 辅助类\n */\nimport * as _ from '@antv/util'; // 已经排序后的数据查找距离最小的\n\nfunction findMinDistance(arr, scale) {\n  var count = arr.length;\n  var sourceArr = arr; // 日期类型的 values 经常上文本类型，所以需要转换一下\n\n  if (_.isString(sourceArr[0])) {\n    sourceArr = arr.map(function (v) {\n      return scale.translate(v);\n    });\n  }\n\n  var distance = sourceArr[1] - sourceArr[0];\n\n  for (var i = 2; i < count; i++) {\n    var tmp = sourceArr[i] - sourceArr[i - 1];\n\n    if (distance > tmp) {\n      distance = tmp;\n    }\n  }\n\n  return distance;\n}\n\nvar SizeController =\n/** @class */\nfunction () {\n  function SizeController(element) {\n    this.element = null;\n    this.element = element;\n  }\n  /**\n   * 获取数据对应的实际画布大小\n   * @param record 图形数据\n   */\n\n\n  SizeController.prototype.getSize = function (record) {\n    var size = this._getSizeValue(record);\n\n    if (_.isUndefined(size)) {\n      var defaultSize = this._getDefaultSize();\n\n      return this._toCoordinateSize(defaultSize);\n    }\n\n    return size;\n  };\n  /**\n   * 获取数据对应归一化后的 size 值\n   * @param record 图形数据\n   */\n\n\n  SizeController.prototype.getNormalizedSize = function (record) {\n    var size = this._getSizeValue(record);\n\n    if (_.isUndefined(size)) {\n      return this._getDefaultSize();\n    }\n\n    return this._toNormalizedSize(size);\n  };\n\n  SizeController.prototype.clear = function () {\n    this._defaultSize = null;\n  }; // 根据 size 图形属性对应获取数据映射后的 size 值\n\n\n  SizeController.prototype._getSizeValue = function (record) {\n    var result;\n    var element = this.element;\n    var sizeAttr = element.getAttr('size');\n\n    if (sizeAttr) {\n      result = element.getAttrValues(sizeAttr, record)[0];\n    }\n\n    return result;\n  };\n\n  SizeController.prototype._getDodgeCount = function (dataArray) {\n    var element = this.element;\n    var adjusts = element.get('adjustOptions');\n    var dodgeBy;\n\n    _.each(adjusts, function (adjust) {\n      if (adjust.type === 'dodge') {\n        dodgeBy = adjust.dodgeBy;\n        return false;\n      }\n    });\n\n    if (dodgeBy) {\n      var mergeData = _.flatten(dataArray);\n\n      var values = _.valuesOfKey(mergeData, dodgeBy);\n\n      return values.length;\n    }\n\n    return dataArray.length;\n  }; // 计算默认大小\n\n\n  SizeController.prototype._getDefaultSize = function () {\n    var widthRatio = this.element.get('widthRatio');\n    var defaultSize = this._defaultSize;\n\n    if (!defaultSize) {\n      var element = this.element;\n      var coord = element.get('coord');\n      var xScale = element.getXScale();\n      var xValues = xScale.values;\n      var dataArray = element.get('dataArray');\n      var count = xValues.length;\n\n      if (xScale.isLinear && xValues.length > 1) {\n        // Linear 类型用户有可能设置了 min, max 范围所以需要根据数据最小区间计算 count\n        xValues.sort();\n        var interval = findMinDistance(xValues, xScale);\n        count = (xScale.max - xScale.min) / interval;\n\n        if (xValues.length > count) {\n          count = xValues.length;\n        }\n      }\n\n      var range = xScale.range;\n      var normalizedSize = 1 / count;\n      var wr = 1;\n\n      if (element.isInCircle()) {\n        if (coord.isTransposed && count > 1) {\n          // 极坐标下多层环图\n          wr = widthRatio.multiplePie;\n        } else {\n          wr = widthRatio.rose;\n        }\n        /* if (dataArray.length > 1) {\n          normalizedSize *= (range[1] - range[0]);\n        } */\n\n      } else {\n        if (xScale.isLinear) {\n          normalizedSize *= range[1] - range[0];\n        }\n\n        wr = widthRatio.column; // 柱状图要除以2\n      }\n\n      normalizedSize *= wr;\n\n      if (element.hasAdjust('dodge')) {\n        var dodgeCount = this._getDodgeCount(dataArray);\n\n        normalizedSize = normalizedSize / dodgeCount;\n      }\n\n      this._defaultSize = normalizedSize;\n      return normalizedSize;\n    }\n\n    return defaultSize;\n  }; // 获取坐标系 x 轴的长度\n\n\n  SizeController.prototype._getCoordinateWidth = function () {\n    var element = this.element;\n    var coord = element.get('coord');\n\n    if (element.isInCircle() && !coord.isTransposed) {\n      // 极坐标下 width 为弧长\n      return (coord.endAngle - coord.startAngle) * coord.getRadius();\n    }\n\n    var start = coord.convertPoint({\n      x: 0,\n      y: 0\n    });\n    var end = coord.convertPoint({\n      x: 1,\n      y: 0\n    });\n    var width = 0;\n\n    if (start && end) {\n      width = Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n    }\n\n    return width;\n  }; // 将归一化的数值转换成实际像素大小\n\n\n  SizeController.prototype._toCoordinateSize = function (normalizedSize) {\n    var coordinateWidth = this._getCoordinateWidth();\n\n    return normalizedSize * coordinateWidth;\n  }; // 将实际像素大小进行归一化处理\n\n\n  SizeController.prototype._toNormalizedSize = function (size) {\n    var coordinateWidth = this._getCoordinateWidth();\n\n    return size / coordinateWidth;\n  };\n\n  return SizeController;\n}();\n\nexport default SizeController;","/**\n * @description Box Element shapes\n */\nimport * as _ from '@antv/util';\nimport { setStrokeStyle } from '../util/shape';\nimport { registerShape, registerShapeFactory } from './base';\n\nfunction _parseValue(oldValue) {\n  var value = oldValue;\n\n  if (!_.isArray(oldValue)) {\n    value = [oldValue];\n  }\n\n  var min = value[0]; // 最小值\n\n  var max = value[value.length - 1]; // 最大值\n\n  var min1 = value.length > 1 ? value[1] : min;\n  var max1 = value.length > 3 ? value[3] : max;\n  var median = value.length > 2 ? value[2] : min1;\n  return {\n    min: min,\n    max: max,\n    min1: min1,\n    max1: max1,\n    median: median\n  };\n}\n\nfunction addPoints(from, to) {\n  _.each(from, function (subArr) {\n    to.push({\n      x: subArr[0],\n      y: subArr[1]\n    });\n  });\n}\n\nfunction getAttrs(cfg) {\n  var lineAttrs = cfg.style;\n  setStrokeStyle(lineAttrs, cfg);\n  return lineAttrs;\n}\n\nfunction _getBoxPoints(pointX, pointY, width) {\n  var points = [];\n  var pointsArray;\n  var obj;\n  var x = pointX;\n  var y = pointY;\n\n  if (_.isArray(y)) {\n    // position('x*range')\n    // 2维\n    obj = _parseValue(y);\n    pointsArray = [[x - width / 2, obj.max], [x + width / 2, obj.max], [x, obj.max], [x, obj.max1], [x - width / 2, obj.min1], [x - width / 2, obj.max1], [x + width / 2, obj.max1], [x + width / 2, obj.min1], [x, obj.min1], [x, obj.min], [x - width / 2, obj.min], [x + width / 2, obj.min], [x - width / 2, obj.median], [x + width / 2, obj.median]];\n  } else {\n    // position('range*1') 一维图表\n    y = y || 0.5;\n    obj = _parseValue(x);\n    pointsArray = [[obj.min, y - width / 2], [obj.min, y + width / 2], [obj.min, y], [obj.min1, y], [obj.min1, y - width / 2], [obj.min1, y + width / 2], [obj.max1, y + width / 2], [obj.max1, y - width / 2], [obj.max1, y], [obj.max, y], [obj.max, y - width / 2], [obj.max, y + width / 2], [obj.median, y - width / 2], [obj.median, y + width / 2]];\n  }\n\n  addPoints(pointsArray, points);\n  return points;\n}\n\nfunction _getBoxPath(points) {\n  var path = [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['M', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['M', points[4].x, points[4].y], ['L', points[5].x, points[5].y], ['L', points[6].x, points[6].y], ['L', points[7].x, points[7].y], ['L', points[4].x, points[4].y], ['Z'], ['M', points[8].x, points[8].y], ['L', points[9].x, points[9].y], ['M', points[10].x, points[10].y], ['L', points[11].x, points[11].y], ['M', points[12].x, points[12].y], ['L', points[13].x, points[13].y]];\n  return path;\n}\n\nvar BoxShapeFactory = registerShapeFactory('box', {\n  defaultShapeType: 'box'\n}); // 箱线图\n\nregisterShape('box', 'box', {\n  getPoints: function getPoints(pointInfo) {\n    return _getBoxPoints(pointInfo.x, pointInfo.y, pointInfo.size);\n  },\n  draw: function draw(cfg, container) {\n    var attrs = getAttrs(cfg);\n\n    var path = _getBoxPath(cfg.points);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: _.mix(attrs, {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    return {\n      symbol: function symbol(x, y, r) {\n        var yValues = [y - 6, y - 3, y, y + 3, y + 6];\n\n        var points = _getBoxPoints(x, yValues, r);\n\n        return [['M', points[0].x + 1, points[0].y], ['L', points[1].x - 1, points[1].y], ['M', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['M', points[4].x, points[4].y], ['L', points[5].x, points[5].y], ['L', points[6].x, points[6].y], ['L', points[7].x, points[7].y], ['L', points[4].x, points[4].y], ['Z'], ['M', points[8].x, points[8].y], ['L', points[9].x, points[9].y], ['M', points[10].x + 1, points[10].y], ['L', points[11].x - 1, points[11].y], ['M', points[12].x, points[12].y], ['L', points[13].x, points[13].y]];\n      },\n      radius: 6,\n      lineWidth: 1,\n      stroke: markerCfg.color\n    };\n  }\n});\nexport default BoxShapeFactory;","import { __assign, __extends } from \"tslib\";\nimport Element from './base';\nimport SizeController from './controller/size';\nimport BoxShapeFactory from './shape/box';\n\nvar Box =\n/** @class */\nfunction (_super) {\n  __extends(Box, _super);\n\n  function Box(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'box',\n      shapeType: 'box',\n      generatePoints: true\n    }, cfg)) || this; // 初始化 sizeController\n\n\n    var sizeController = new SizeController(_this);\n\n    _this.set('sizeController', sizeController);\n\n    _this.set('shapeFactory', BoxShapeFactory);\n\n    return _this;\n  }\n\n  Box.prototype.createShapePointsCfg = function (obj) {\n    var cfg = _super.prototype.createShapePointsCfg.call(this, obj);\n\n    cfg.size = this.getNormalizedSize(obj);\n    return cfg;\n  };\n\n  return Box;\n}(Element);\n\nexport default Box;","/**\n * @description Edge Element shapes\n * @author xinming002@gmail.com\n */\nimport * as _ from '@antv/util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { getLinePath } from '../util/path';\nimport { splitPoints, setStrokeStyle } from '../util/shape';\nvar CORNER_PERCENT = 1 / 3; // 获取图形属性\n\nfunction _getAttrs(cfg) {\n  var lineAttrs = cfg.style;\n  setStrokeStyle(lineAttrs, cfg);\n  return lineAttrs;\n} // 获取Marker的图形属性\n\n\nfunction _getMarkerAttrs(cfg) {\n  var markerStyle = {\n    symbol: 'circle',\n    radius: 4.5\n  };\n  setStrokeStyle(markerStyle, cfg);\n  return markerStyle;\n} // 获取Cubic Bezier路径\n\n\nfunction _getCPath(from, to) {\n  var points = [];\n  points.push({\n    x: from.x,\n    y: from.y * (1 - 1 / 2) + to.y * 1 / 2\n  });\n  points.push({\n    y: from.y * (1 - 1 / 2) + to.y * 1 / 2,\n    x: to.x\n  });\n  points.push(to);\n  var sub = ['C'];\n\n  _.each(points, function (point) {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n} // 获取Quadratic Bezier路径\n\n\nfunction _getQPath(to, center) {\n  var points = [];\n  points.push({\n    x: center.x,\n    y: center.y\n  });\n  points.push(to);\n  var sub = ['Q'];\n\n  _.each(points, function (point) {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n}\n\nfunction _createSmoothPath(from, to) {\n  var sub = _getCPath(from, to);\n\n  var path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction _createArcPath(from, to, center) {\n  var sub = _getQPath(to, center);\n\n  var path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction _createArcWeightPath(points, center) {\n  var arc1 = _getQPath(points[1], center);\n\n  var arc2 = _getQPath(points[3], center);\n\n  var path = [['M', points[0].x, points[0].y]];\n  path.push(arc2);\n  path.push(['L', points[3].x, points[3].y]);\n  path.push(['L', points[2].x, points[2].y]);\n  path.push(arc1);\n  path.push(['L', points[1].x, points[1].y]);\n  path.push(['L', points[0].x, points[0].y]);\n  path.push(['Z']);\n  return path;\n}\n\nfunction _createRectPath(from, to) {\n  var points = [];\n  points.push({\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n    x: from.x\n  });\n  points.push({\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n    x: to.x\n  });\n  points.push(to);\n  var path = [['M', from.x, from.y]];\n\n  _.each(points, function (point) {\n    path.push(['L', point.x, point.y]);\n  });\n\n  return path;\n}\n\nvar EdgeShapeFactory = registerShapeFactory('edge', {\n  defaultShapeType: 'line',\n  getDefaultPoints: function getDefaultPoints(pointInfo) {\n    return splitPoints(pointInfo);\n  },\n  getMarkerStyle: function getMarkerStyle(type, markerCfg) {\n    var shape = this.getShape(type);\n    var markerStyle;\n\n    if (shape.getMarkerStyle) {\n      markerStyle = shape.getMarkerStyle(markerCfg);\n    } else {\n      markerStyle = _getMarkerAttrs(markerCfg);\n    }\n\n    var theme = this._theme;\n    var shapeName = shape.name;\n\n    if (theme && theme.edge && theme.edge[shapeName]) {\n      markerStyle = _.mix({}, theme.edge[shapeName].default, markerStyle);\n    }\n\n    return markerStyle;\n  }\n});\nregisterShape('edge', 'line', {\n  draw: function draw(cfg, container) {\n    var isInCircle = cfg.isInCircle;\n    var points = this.parsePoints(cfg.points);\n\n    var attrCfg = _getAttrs(cfg);\n\n    var path = getLinePath(points, isInCircle);\n    var line = container.addShape('path', {\n      attrs: _.mix(attrCfg, {\n        path: path\n      })\n    });\n    return line;\n  }\n});\nregisterShape('edge', 'vhv', {\n  draw: function draw(cfg, container) {\n    var points = cfg.points;\n\n    var attrCfg = _getAttrs(cfg);\n\n    var path = _createRectPath(points[0], points[1]);\n\n    path = this.parsePath(path);\n    var line = container.addShape('path', {\n      attrs: _.mix(attrCfg, {\n        path: path\n      })\n    });\n    return line;\n  }\n});\nregisterShape('edge', 'smooth', {\n  draw: function draw(cfg, container) {\n    var points = cfg.points;\n\n    var attrCfg = _getAttrs(cfg);\n\n    var path = _createSmoothPath(points[0], points[1]);\n\n    path = this.parsePath(path);\n    var line = container.addShape('path', {\n      attrs: _.mix(attrCfg, {\n        path: path\n      })\n    });\n    return line;\n  }\n}); // 弧线包括:\n// 1. 笛卡尔坐标系下的半圆弧线\n// 2. 极坐标系下以圆心为控制点的二阶曲线\n// 3. 笛卡尔坐标系下带权重的三阶曲线\n// 4. 极坐标系下带权重的以圆心为控制点的二阶曲线\n\nregisterShape('edge', 'arc', {\n  draw: function draw(cfg, container) {\n    var points = cfg.points;\n    var type = points.length > 2 ? 'weight' : 'normal';\n\n    var attrCfg = _getAttrs(cfg);\n\n    var line;\n    var path;\n\n    if (cfg.isInCircle) {\n      var center = {\n        x: 0,\n        y: 1\n      };\n\n      if (type === 'normal') {\n        path = _createArcPath(points[0], points[1], center);\n      } else {\n        attrCfg.fill = attrCfg.stroke;\n        path = _createArcWeightPath(points, center);\n      }\n\n      path = this.parsePath(path);\n      line = container.addShape('path', {\n        attrs: _.mix(attrCfg, {\n          path: path\n        })\n      });\n    } else {\n      if (type === 'normal') {\n        points = this.parsePoints(points);\n        line = container.addShape('arc', {\n          attrs: _.mix(attrCfg, {\n            x: (points[1].x + points[0].x) / 2,\n            y: points[0].y,\n            r: Math.abs(points[1].x - points[0].x) / 2,\n            startAngle: Math.PI,\n            endAngle: Math.PI * 2\n          })\n        });\n      } else {\n        path = [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y]];\n\n        var c1 = _getCPath(points[1], points[3]);\n\n        var c2 = _getCPath(points[2], points[0]);\n\n        path.push(c1);\n        path.push(['L', points[3].x, points[3].y]);\n        path.push(['L', points[2].x, points[2].y]);\n        path.push(c2);\n        path.push(['Z']);\n        path = this.parsePath(path);\n        attrCfg.fill = attrCfg.stroke;\n        line = container.addShape('path', {\n          attrs: _.mix(attrCfg, {\n            path: path\n          })\n        });\n      }\n    }\n\n    return line;\n  }\n});\nexport default EdgeShapeFactory;","/**\n * @description 关系图的边\n */\nimport { __assign, __extends } from \"tslib\";\nimport Element from './base';\nimport EdgeShapeFactory from './shape/edge';\n\nvar Edge =\n/** @class */\nfunction (_super) {\n  __extends(Edge, _super);\n\n  function Edge(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'edge',\n      generatePoints: true,\n      shapeType: 'edge',\n      shareTooltip: false\n    }, cfg)) || this;\n\n    _this.set('shapeFactory', EdgeShapeFactory);\n\n    return _this;\n  }\n\n  return Edge;\n}(Element);\n\nexport default Edge;","import { __assign, __extends } from \"tslib\";\nimport { colorUtil } from '../dependents';\nimport Element from './base';\nimport * as _ from '@antv/util';\nvar ORIGIN_FIELD = '_origin';\nvar SHADOW_CANVAS = 'shadowCanvas';\nvar VALUE_RANGE = 'valueRange';\nvar IMAGE_SHAPE = 'imageShape';\nvar MAPPED_DATA = 'mappedData';\nvar GRAY_SCALE_BLURRED_CANVAS = 'grayScaleBlurredCanvas';\nvar HEATMAP_SIZE = 'heatmapSize';\n\nvar Heatmap =\n/** @class */\nfunction (_super) {\n  __extends(Heatmap, _super);\n\n  function Heatmap(cfg) {\n    return _super.call(this, __assign({\n      type: 'heatmap',\n      shapeType: 'point',\n      paletteCache: {}\n    }, cfg)) || this;\n  }\n\n  Heatmap.prototype._prepareRange = function () {\n    var data = this.get(MAPPED_DATA);\n    var colorAttr = this.getAttr('color');\n    var colorField = colorAttr.scales[0].field;\n    var min = Infinity;\n    var max = -Infinity;\n    data.forEach(function (row) {\n      var value = row[ORIGIN_FIELD][colorField];\n\n      if (value > max) {\n        max = value;\n      }\n\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    var range = [min, max];\n    this.set(VALUE_RANGE, range);\n  };\n\n  Heatmap.prototype._prepareSize = function () {\n    var radius = this.getDefaultValue('size');\n\n    if (!_.isNumber(radius)) {\n      radius = this.getDefaultSize();\n    }\n\n    var styleOptions = this.get('styleOptions');\n    var blur = styleOptions && _.isObject(styleOptions.cfg) ? styleOptions.cfg.blur : null;\n\n    if (!_.isFinite(blur) || blur === null) {\n      blur = radius / 2;\n    }\n\n    this.set(HEATMAP_SIZE, {\n      blur: blur,\n      radius: radius\n    });\n  };\n\n  Heatmap.prototype.getDefaultSize = function () {\n    var position = this.getAttr('position');\n    var coord = this.get('coord');\n    var radius = Math.min(coord.width / (position.scales[0].ticks.length * 4), coord.height / (position.scales[1].ticks.length * 4));\n    return radius;\n  };\n\n  Heatmap.prototype._colorize = function (img) {\n    var colorAttr = this.getAttr('color');\n    var pixels = img.data;\n    var paletteCache = this.get('paletteCache');\n\n    for (var i = 3; i < pixels.length; i += 4) {\n      var alpha = pixels[i]; // get gradient color from opacity value\n\n      if (alpha) {\n        var palette = void 0;\n\n        if (paletteCache[alpha]) {\n          palette = paletteCache[alpha];\n        } else {\n          palette = colorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n          paletteCache[alpha] = palette;\n        } // const palette = colorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n\n\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  };\n\n  Heatmap.prototype._prepareGreyScaleBlurredCircle = function (r, blur) {\n    var circleCanvas = this.get(GRAY_SCALE_BLURRED_CANVAS);\n\n    if (!circleCanvas) {\n      circleCanvas = document.createElement('canvas');\n      this.set(GRAY_SCALE_BLURRED_CANVAS, circleCanvas);\n    }\n\n    var r2 = r + blur;\n    var ctx = circleCanvas.getContext('2d');\n    circleCanvas.width = circleCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, circleCanvas.width, circleCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, r, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  };\n\n  Heatmap.prototype._drawGrayScaleBlurredCircle = function (x, y, r, alpha, ctx) {\n    var circleCanvas = this.get(GRAY_SCALE_BLURRED_CANVAS);\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(circleCanvas, x - r, y - r);\n  };\n\n  Heatmap.prototype._getShadowCanvasCtx = function () {\n    var canvas = this.get(SHADOW_CANVAS);\n\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.set(SHADOW_CANVAS, canvas);\n    }\n\n    var viewRange = this.get('view').get('viewRange');\n    canvas.width = viewRange.width;\n    canvas.height = viewRange.height;\n    return canvas.getContext('2d');\n  };\n\n  Heatmap.prototype._clearShadowCanvasCtx = function () {\n    var ctx = this._getShadowCanvasCtx();\n\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  };\n\n  Heatmap.prototype._getImageShape = function () {\n    var imageShape = this.get(IMAGE_SHAPE);\n\n    if (imageShape) {\n      return imageShape;\n    }\n\n    var container = this.get('container');\n    imageShape = container.addShape('Image', {});\n    this.set(IMAGE_SHAPE, imageShape);\n    return imageShape;\n  };\n\n  Heatmap.prototype.clear = function () {\n    this._clearShadowCanvasCtx();\n\n    _super.prototype.clear.call(this);\n  };\n\n  Heatmap.prototype.drawWithRange = function (range) {\n    // canvas size\n    var _a = this.get('coord'),\n        start = _a.start,\n        end = _a.end,\n        width = _a.width,\n        height = _a.height; // value, range, etc\n    // const valueField = this.getAttr('color').field;\n\n\n    var valueField = this.getAttr('color').scales[0].field;\n    var size = this.get(HEATMAP_SIZE); // prepare shadow canvas context\n\n    this._clearShadowCanvasCtx();\n\n    var ctx = this._getShadowCanvasCtx(); // filter data\n\n\n    var data = this.get(MAPPED_DATA);\n\n    if (range) {\n      data = data.filter(function (row) {\n        return row[ORIGIN_FIELD][valueField] <= range[1] && row[ORIGIN_FIELD][valueField] >= range[0];\n      });\n    } // step1. draw points with shadow\n\n\n    var scale = this.get('scales')[valueField];\n\n    for (var i = 0; i < data.length; i++) {\n      var obj = data[i];\n      var cfg = this.getDrawCfg(obj);\n      var alpha = scale.scale(obj[ORIGIN_FIELD][valueField]); // @ts-ignore\n\n      this._drawGrayScaleBlurredCircle(cfg.x - start.x, cfg.y - end.y, size.radius + size.blur, alpha, ctx);\n    } // step2. convert pixels\n\n\n    var colored = ctx.getImageData(0, 0, width, height);\n\n    this._clearShadowCanvasCtx();\n\n    this._colorize(colored);\n\n    ctx.putImageData(colored, 0, 0);\n    var image = new Image();\n    image.src = ctx.canvas.toDataURL('image/png');\n\n    var imageShape = this._getImageShape();\n\n    imageShape.attr({\n      x: start.x,\n      y: end.y,\n      width: width,\n      height: height,\n      img: image\n    });\n  };\n\n  Heatmap.prototype.draw = function (data) {\n    this.set(MAPPED_DATA, data);\n\n    this._prepareRange();\n\n    this._prepareSize();\n\n    var size = this.get(HEATMAP_SIZE);\n\n    this._prepareGreyScaleBlurredCircle(size.radius, size.blur);\n\n    var range = this.get(VALUE_RANGE);\n    this.drawWithRange(range); // super.draw(data, container, shapeFactory, index);\n  };\n\n  return Heatmap;\n}(Element);\n\nexport default Heatmap;","/**\n * 为不同的 element shape 定义对应的 marker symbol\n */\nvar SQRT_3 = Math.sqrt(3); // Line shape 对应的 symbols\n\nexport var LineSymbols = {\n  line: function line(x, y, r) {\n    return [['M', x - r, y], ['L', x + r, y]];\n  },\n  smooth: function smooth(x, y, r) {\n    return [['M', x - r, y], ['A', r / 2, r / 2, 0, 1, 1, x, y], ['A', r / 2, r / 2, 0, 1, 0, x + r, y]];\n  },\n  hv: function hv(x, y, r) {\n    return [['M', x - r - 1, y - 2.5], ['L', x, y - 2.5], ['L', x, y + 2.5], ['L', x + r + 1, y + 2.5]];\n  },\n  vh: function vh(x, y, r) {\n    return [['M', x - r - 1, y + 2.5], ['L', x, y + 2.5], ['L', x, y - 2.5], ['L', x + r + 1, y - 2.5]];\n  },\n  hvh: function hvh(x, y, r) {\n    return [['M', x - (r + 1), y + 2.5], ['L', x - r / 2, y + 2.5], ['L', x - r / 2, y - 2.5], ['L', x + r / 2, y - 2.5], ['L', x + r / 2, y + 2.5], ['L', x + r + 1, y + 2.5]];\n  },\n  vhv: function vhv(x, y) {\n    // 宽 13px，高 8px\n    return [['M', x - 5, y + 2.5], ['L', x - 5, y], ['L', x, y], ['L', x, y - 3], ['L', x, y + 3], ['L', x + 6.5, y + 3]];\n  }\n}; // Point shape 对应的 symbols\n\nexport var PointSymbols = {\n  hexagon: function hexagon(x, y, r) {\n    var diffX = r / 2 * SQRT_3;\n    return [['M', x, y - r], ['L', x + diffX, y - r / 2], ['L', x + diffX, y + r / 2], ['L', x, y + r], ['L', x - diffX, y + r / 2], ['L', x - diffX, y - r / 2], ['Z']];\n  },\n  bowtie: function bowtie(x, y, r) {\n    var diffY = r - 1.5;\n    return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n  },\n  cross: function cross(x, y, r) {\n    return [['M', x - r, y - r], ['L', x + r, y + r], ['M', x + r, y - r], ['L', x - r, y + r]];\n  },\n  tick: function tick(x, y, r) {\n    return [['M', x - r / 2, y - r], ['L', x + r / 2, y - r], ['M', x, y - r], ['L', x, y + r], ['M', x - r / 2, y + r], ['L', x + r / 2, y + r]];\n  },\n  plus: function plus(x, y, r) {\n    return [['M', x - r, y], ['L', x + r, y], ['M', x, y - r], ['L', x, y + r]];\n  },\n  hyphen: function hyphen(x, y, r) {\n    return [['M', x - r, y], ['L', x + r, y]];\n  },\n  line: function line(x, y, r) {\n    return [['M', x, y - r], ['L', x, y + r]];\n  }\n}; // interval 对应的 symbols\n\nexport var IntervalSymbols = {\n  tick: function tick(x, y, r) {\n    return [['M', x - r / 2, y - r], ['L', x + r / 2, y - r], ['M', x, y - r], ['L', x, y + r], ['M', x - r / 2, y + r], ['L', x + r / 2, y + r]];\n  },\n  line: function line(x, y, r) {\n    return [['M', x, y - r], ['L', x, y + r]];\n  }\n};","import { __assign } from \"tslib\";\n/**\n * @description Interval Element shapes\n */\n\nimport * as _ from '@antv/util';\nimport { Marker } from '@antv/g';\nimport { registerShapeFactory, registerShape } from './base';\nimport { setFillStyle, setStrokeStyle } from '../util/shape';\nimport { getPointAngle } from '../util/path';\nimport { IntervalSymbols } from '../util/symbol';\n\n_.each(IntervalSymbols, function (func, symbol) {\n  // Interval 中需要用到的 symbol\n  // 使用 Marker 提供的静态方法注册进去\n  // 用户有可能使用动态加载 Element，所以需要注册\n  Marker.symbolsFactory.register(symbol, func);\n}); // 获取填充图形的图形属性\n\n\nfunction _getFillAttrs(cfg) {\n  var attrs = cfg.style;\n  setFillStyle(attrs, cfg);\n  return attrs;\n} // 获取描边图形的图形属性\n\n\nfunction _getLineAttrs(cfg) {\n  var attrs = cfg.style;\n  setStrokeStyle(attrs, cfg);\n  return attrs;\n} // 根据数据点生成矩形的四个关键点\n\n\nfunction _getRectPoints(cfg, isPyramid) {\n  if (isPyramid === void 0) {\n    isPyramid = false;\n  }\n\n  var x = cfg.x,\n      y = cfg.y,\n      y0 = cfg.y0,\n      size = cfg.size; // 有 4 种情况，\n  // 1. x, y 都不是数组\n  // 2. y是数组，x不是\n  // 3. x是数组，y不是\n  // 4. x, y 都是数组\n\n  var yMin;\n  var yMax;\n\n  if (_.isArray(y)) {\n    yMin = y[0];\n    yMax = y[1];\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  var xMin;\n  var xMax;\n\n  if (_.isArray(x)) {\n    xMin = x[0];\n    xMax = x[1];\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  var points = [{\n    x: xMin,\n    y: yMin\n  }, {\n    x: xMin,\n    y: yMax\n  }];\n\n  if (isPyramid) {\n    // 绘制尖底漏斗图\n    // 金字塔漏斗图的关键点\n    // 1\n    // |   2\n    // 0\n    points.push({\n      x: xMax,\n      y: (yMax + yMin) / 2\n    });\n  } else {\n    // 矩形的四个关键点，结构如下（左下角顺时针连接）\n    // 1 ---- 2\n    // |      |\n    // 0 ---- 3\n    points.push({\n      x: xMax,\n      y: yMax\n    }, {\n      x: xMax,\n      y: yMin\n    });\n  }\n\n  return points;\n} // 根据矩形关键点绘制 path\n\n\nfunction _getRectPath(points) {\n  var path = [];\n  var firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n\n  for (var i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n\n  path.push(['L', firstPoint.x, firstPoint.y]); // 需要闭合\n\n  path.push(['z']);\n  return path;\n} // 根据数据点生成 Line 的两个关键点\n\n\nfunction _getLinePoints(cfg) {\n  var x = cfg.x,\n      y = cfg.y,\n      y0 = cfg.y0;\n\n  if (_.isArray(y)) {\n    return y.map(function (yItem, idx) {\n      return {\n        x: _.isArray(x) ? x[idx] : x,\n        y: yItem\n      };\n    });\n  }\n\n  return [{\n    x: x,\n    y: y\n  }, {\n    x: x,\n    y: y0\n  }];\n} // 根据数据点生成 tick shape 的 6 个关键点\n\n\nfunction _getTickPoints(cfg) {\n  var x = cfg.x,\n      y = cfg.y,\n      y0 = cfg.y0,\n      size = cfg.size;\n  var yMin;\n  var yMax;\n\n  if (_.isArray(y)) {\n    yMin = y[0];\n    yMax = y[1];\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  var xMax = x + size / 2;\n  var xMin = x - size / 2; // tick 关键点顺序\n  // 0 - 2 - 1\n  //     |\n  // 4 - 3 - 5\n\n  return [{\n    x: xMin,\n    y: yMax\n  }, {\n    x: xMax,\n    y: yMax\n  }, {\n    x: x,\n    y: yMax\n  }, {\n    x: x,\n    y: yMin\n  }, {\n    x: xMin,\n    y: yMin\n  }, {\n    x: xMax,\n    y: yMin\n  }];\n} // 根据 tick 关键点绘制 path\n\n\nfunction _getTickPath(points) {\n  return [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['M', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['M', points[4].x, points[4].y], ['L', points[5].x, points[5].y]];\n} // 根据关键点绘制漏斗图的 path\n\n\nfunction _getFunnelPath(cfg, isFunnel) {\n  var path = [];\n  var points = cfg.points,\n      nextPoints = cfg.nextPoints;\n\n  if (!_.isNil(nextPoints)) {\n    path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', nextPoints[1].x, nextPoints[1].y], ['L', nextPoints[0].x, nextPoints[0].y], ['Z']);\n  } else if (isFunnel) {\n    path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['Z']);\n  } else {\n    path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], // [ 'L', points[2].x, points[2].y ],\n    ['Z']);\n  }\n\n  return path;\n}\n\nfunction _getThetaAngle(point, coord) {\n  var startAngle;\n  var endAngle;\n  var startPoint;\n  var endPoint;\n\n  if (!_.isArray(point.x) && _.isArray(point.y)) {\n    // 如果x是一个值，y是数组，将x转成数组\n    point.x = [point.x, point.x];\n  }\n\n  if (_.isArray(point.x)) {\n    startPoint = {\n      x: point.x[0],\n      y: point.y[0]\n    };\n    endPoint = {\n      x: point.x[1],\n      y: point.y[1]\n    };\n    startAngle = getPointAngle(coord, startPoint);\n    endAngle = getPointAngle(coord, endPoint);\n\n    if (endAngle <= startAngle) {\n      // 考虑占比百分百的情形\n      endAngle = endAngle + Math.PI * 2;\n    }\n  } else {\n    endPoint = point;\n    startAngle = coord.startAngle;\n    endAngle = getPointAngle(coord, endPoint);\n  }\n\n  return {\n    startAngle: startAngle,\n    endAngle: endAngle\n  };\n}\n\nvar IntervalShapeFactory = registerShapeFactory('interval', {\n  defaultShapeType: 'rect',\n  getDefaultPoints: function getDefaultPoints(pointInfo) {\n    return _getRectPoints(pointInfo);\n  }\n}); // 默认 rect\n\nregisterShape('interval', 'rect', {\n  draw: function draw(cfg, container) {\n    var attrs = _getFillAttrs(cfg);\n\n    var path = _getRectPath(cfg.points);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var isInCircle = markerCfg.isInCircle;\n    var markerStyle = {\n      symbol: isInCircle ? 'circle' : 'square',\n      radius: isInCircle ? 4.5 : 4\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // 描边矩形\n\nregisterShape('interval', 'hollowInterval', {\n  draw: function draw(cfg, container) {\n    var attrs = _getLineAttrs(cfg);\n\n    var path = _getRectPath(cfg.points);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var isInCircle = markerCfg.isInCircle;\n    var markerStyle = {\n      symbol: isInCircle ? 'circle' : 'square',\n      radius: isInCircle ? 4.5 : 4\n    };\n    setStrokeStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // 直线柱图\n\nregisterShape('interval', 'line', {\n  getPoints: function getPoints(pointInfo) {\n    return _getLinePoints(pointInfo);\n  },\n  draw: function draw(cfg, container) {\n    var attrs = _getLineAttrs(cfg);\n\n    attrs.lineWidth = cfg.size || 1;\n\n    var path = _getRectPath(cfg.points);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'line',\n      radius: 5\n    };\n    setStrokeStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // I 形柱状图\n\nregisterShape('interval', 'tick', {\n  getPoints: function getPoints(pointInfo) {\n    return _getTickPoints(pointInfo);\n  },\n  draw: function draw(cfg, container) {\n    var attrs = _getLineAttrs(cfg);\n\n    var path = _getTickPath(cfg.points);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'tick',\n      radius: 5\n    };\n    setStrokeStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // 漏斗图\n\nregisterShape('interval', 'funnel', {\n  getPoints: function getPoints(pointInfo) {\n    pointInfo.size = pointInfo.size * 2; // 漏斗图的 size 是柱状图的两倍\n\n    return _getRectPoints(pointInfo);\n  },\n  draw: function draw(cfg, container) {\n    var attrs = _getFillAttrs(cfg);\n\n    var path = _getFunnelPath(cfg, true);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'square',\n      radius: 4\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // 金字塔图，即尖底漏斗图\n\nregisterShape('interval', 'pyramid', {\n  getPoints: function getPoints(pointInfo) {\n    pointInfo.size = pointInfo.size * 2; // 漏斗图的 size 是柱状图的两倍\n\n    return _getRectPoints(pointInfo, true);\n  },\n  draw: function draw(cfg, container) {\n    var attrs = _getFillAttrs(cfg);\n\n    var path = _getFunnelPath(cfg, false);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'square',\n      radius: 4\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // TODO：top-line 这个 shape 后续是否可以直接由上层业务自己去封装\n// 带顶部描边的柱状图，用于满足业务视觉上对层叠柱状图以及直方图描边的需求\n\nregisterShape('interval', 'top-line', {\n  draw: function draw(cfg, container) {\n    var attrs = _.mix({}, _getFillAttrs(cfg));\n\n    var style = cfg.style,\n        points = cfg.points;\n\n    var rectPath = _getRectPath(points);\n\n    rectPath = this.parsePath(rectPath);\n    delete attrs.stroke; // 不允许为柱子描边\n\n    var rectShape = container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        zIndex: 0,\n        path: rectPath\n      })\n    }); // 绘制 top line\n\n    var topLinePath = [['M', points[1].x, points[1].y], ['L', points[2].x, points[2].y]];\n    container.addShape('path', {\n      zIndex: 1,\n      attrs: {\n        stroke: style.stroke || 'white',\n        lineWidth: style.lineWidth || 1,\n        path: this.parsePath(topLinePath)\n      }\n    });\n    return rectShape;\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var isInCircle = markerCfg.isInCircle;\n    var markerStyle = {\n      symbol: isInCircle ? 'circle' : 'square',\n      radius: isInCircle ? 4.5 : 4\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n});\nexport default IntervalShapeFactory;","import { __assign, __extends } from \"tslib\";\nimport Element from './base';\nimport SizeController from './controller/size';\nimport IntervalShapeFactory from './shape/interval';\n\nvar Interval =\n/** @class */\nfunction (_super) {\n  __extends(Interval, _super);\n\n  function Interval(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'interval',\n      shapeType: 'interval',\n      generatePoints: true\n    }, cfg)) || this; // 初始化 sizeController\n\n\n    var sizeController = new SizeController(_this);\n\n    _this.set('sizeController', sizeController); // 设置 IntervalShapeFactory\n\n\n    _this.set('shapeFactory', IntervalShapeFactory);\n\n    return _this;\n  }\n\n  Interval.prototype.createShapePointsCfg = function (obj) {\n    var cfg = _super.prototype.createShapePointsCfg.call(this, obj);\n\n    cfg.size = this.getNormalizedSize(obj); // 获取每条数据对应的 size 归一化后的值\n\n    return cfg;\n  };\n\n  Interval.prototype.isShareTooltip = function () {\n    var isShareTooltip = this.get('shareTooltip');\n    var coord = this.get('coord');\n    var coordType = coord.type;\n\n    if (coordType === 'theta' || coordType === 'polar' && coord.isTransposed) {\n      isShareTooltip = false; // 饼图不合并\n    }\n\n    return isShareTooltip;\n  };\n\n  return Interval;\n}(Element);\n\nexport default Interval;","import * as _ from '@antv/util';\nimport { setFillStyle, setStrokeStyle } from '../util/shape';\nimport { registerShapeFactory, registerShape } from './base';\n\nfunction _sortValue(oldValue) {\n  var value = oldValue;\n\n  if (!_.isArray(oldValue)) {\n    value = [oldValue];\n  } // 从大到小排序\n\n\n  var sorted = value.sort(function (a, b) {\n    return a < b ? 1 : -1;\n  });\n  var length = sorted.length;\n\n  if (length < 4) {\n    var min = sorted[length - 1];\n\n    for (var i = 0; i < 4 - length; i++) {\n      sorted.push(min);\n    }\n  }\n\n  return sorted;\n}\n\nfunction _getPoints(x, y, width) {\n  var yValues = _sortValue(y);\n\n  var points = [{\n    x: x,\n    y: yValues[0]\n  }, {\n    x: x,\n    y: yValues[1]\n  }, {\n    x: x - width / 2,\n    y: yValues[2]\n  }, {\n    x: x - width / 2,\n    y: yValues[1]\n  }, {\n    x: x + width / 2,\n    y: yValues[1]\n  }, {\n    x: x + width / 2,\n    y: yValues[2]\n  }, {\n    x: x,\n    y: yValues[2]\n  }, {\n    x: x,\n    y: yValues[3]\n  }]; // 按照顺时针连接\n\n  return points;\n}\n\nfunction _getPath(points) {\n  var path = [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['M', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['L', points[4].x, points[4].y], ['L', points[5].x, points[5].y], ['Z'], ['M', points[6].x, points[6].y], ['L', points[7].x, points[7].y]];\n  return path;\n}\n\nfunction _getAttrs(cfg) {\n  var lineAttrs = cfg.style;\n  setFillStyle(lineAttrs, cfg);\n  setStrokeStyle(lineAttrs, cfg);\n  return lineAttrs;\n}\n\nvar KLineShapeFactory = registerShapeFactory('kline', {\n  defaultShapeType: 'kline'\n});\nregisterShape('kline', 'kline', {\n  getPoints: function getPoints(pointInfo) {\n    return _getPoints(pointInfo.x, pointInfo.y, pointInfo.size);\n  },\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getPath(cfg.points);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: _.mix(attrs, {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    return {\n      symbol: function symbol(x, y, r) {\n        var yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n\n        var points = _getPoints(x, yValues, r);\n\n        return [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['M', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['L', points[4].x, points[4].y], ['L', points[5].x, points[5].y], ['Z'], ['M', points[6].x, points[6].y], ['L', points[7].x, points[7].y]];\n      },\n      lineWidth: 1,\n      stroke: markerCfg.color,\n      fill: markerCfg.color,\n      radius: 6\n    };\n  }\n});\nexport default KLineShapeFactory;","import { __assign, __extends } from \"tslib\";\nimport Element from './base';\nimport SizeController from './controller/size';\nimport KLineShapeFactory from './shape/k-line';\n\nvar KLine =\n/** @class */\nfunction (_super) {\n  __extends(KLine, _super);\n\n  function KLine(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'kline',\n      shapeType: 'kline',\n      generatePoints: true\n    }, cfg)) || this;\n\n    var sizeController = new SizeController(_this);\n\n    _this.set('sizeController', sizeController);\n\n    _this.set('shapeFactory', KLineShapeFactory);\n\n    return _this;\n  }\n\n  KLine.prototype.createShapePointsCfg = function (obj) {\n    var cfg = _super.prototype.createShapePointsCfg.call(this, obj);\n\n    cfg.size = this.getNormalizedSize(obj);\n    return cfg;\n  };\n\n  return KLine;\n}(Element);\n\nexport default KLine;","import { __assign } from \"tslib\";\n/**\n * @description line shapes\n */\n\nimport * as _ from '@antv/util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints, setStrokeStyle } from '../util/shape';\nimport { LineSymbols } from '../util/symbol';\nvar DOT_LINEDASH = [1, 1];\nvar DASH_LINEDASH = [5.5, 1]; // 获取图形属性\n\nfunction _getAttrs(cfg) {\n  var lineAttrs = cfg.style;\n  setStrokeStyle(lineAttrs, cfg);\n\n  if (cfg.size) {\n    lineAttrs.lineWidth = cfg.size;\n  }\n\n  return lineAttrs;\n} // 获取 Marker 的图形属性\n\n\nfunction _getMarkerAttrs(cfg) {\n  var markerAttrs = {\n    lineWidth: 2,\n    radius: 6\n  };\n  setStrokeStyle(markerAttrs, cfg);\n  return markerAttrs;\n} // 当只有一个数据时绘制点\n\n\nfunction _drawPointShape(cfg, container) {\n  var point = cfg.points[0];\n  return container.addShape('circle', {\n    attrs: {\n      x: point.x,\n      y: point.y,\n      r: 2,\n      fill: cfg.color\n    }\n  });\n} // 获取带有上下区间的 path\n\n\nfunction _getRangePath(points, smooth, isInCircle, cfg) {\n  var isStack = cfg.isStack;\n  var topPoints = [];\n  var bottomPoints = [];\n\n  for (var i = 0, len = points.length; i < len; i++) {\n    var point = points[i];\n    var tmp = splitPoints(point);\n    bottomPoints.push(tmp[0]);\n    topPoints.push(tmp[1]);\n  }\n\n  var topPath = _getSinglePath(topPoints, smooth, isInCircle, cfg);\n\n  var bottomPath = _getSinglePath(bottomPoints, smooth, isInCircle, cfg);\n\n  if (isStack) {\n    return topPath;\n  }\n\n  return topPath.concat(bottomPath);\n} // 单条 path\n\n\nfunction _getSinglePath(points, smooth, isInCircle, cfg) {\n  var path;\n\n  if (!smooth) {\n    path = getLinePath(points, false);\n    isInCircle && path.push(['Z']);\n  } else {\n    // 直角坐标系下绘制曲线时限制最大值、最小值\n    var constraint = cfg.constraint;\n    isInCircle && points.length && points.push({\n      x: points[0].x,\n      y: points[0].y\n    });\n    path = getSplinePath(points, false, constraint);\n  }\n\n  return path;\n} // get line path\n\n\nfunction _getPath(cfg, smooth) {\n  var points = cfg.points,\n      isInCircle = cfg.isInCircle;\n  var first = points[0];\n  return _.isArray(first.y) ? _getRangePath(points, smooth, isInCircle, cfg) : _getSinglePath(points, smooth, isInCircle, cfg);\n}\n\nfunction _interpPoints(points, fn) {\n  var tmpPoints = [];\n\n  _.each(points, function (point, index) {\n    var nextPoint = points[index + 1];\n    tmpPoints.push(point);\n\n    if (nextPoint) {\n      tmpPoints = tmpPoints.concat(fn(point, nextPoint));\n    }\n  });\n\n  return tmpPoints;\n} // 插值的图形path，不考虑null\n\n\nfunction _getInterPath(points) {\n  var path = points.map(function (point, index) {\n    return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n  });\n  return path;\n} // 插值的图形\n\n\nfunction _getInterPointShapeCfg(cfg, fn) {\n  var points = _interpPoints(cfg.points, fn);\n\n  return _getInterPath(points);\n}\n\nvar LineShapeFactory = registerShapeFactory('line', {\n  defaultShapeType: 'line',\n  drawShape: function drawShape(type, cfg, container) {\n    var shape = this.getShape(type); // 因为覆盖了 ShapeFactotyBase.drawShape 方法，所以记得要应用 shape 主题配置\n\n    var shapeName = shape.name;\n    var theme = this._theme;\n\n    if (theme && theme.line && theme.line[shapeName]) {\n      var defaultShapeStyle = theme.line[shapeName].default;\n      cfg.style = _.mix({}, defaultShapeStyle, cfg.style);\n    }\n\n    var gShape = cfg.points.length === 1 && cfg.showSinglePoint ? _drawPointShape(cfg, container) : shape.draw(cfg, container);\n\n    if (gShape) {\n      gShape.setSilent('origin', cfg.origin);\n      gShape.id = cfg.splitedIndex ? cfg.id + cfg.splitedIndex : cfg.id;\n      gShape.name = this.name;\n    }\n\n    return gShape;\n  },\n  getMarkerStyle: function getMarkerStyle(type, markerCfg) {\n    var shape = this.getShape(type);\n    var markerStyle;\n\n    if (shape.getMarkerStyle) {\n      markerStyle = shape.getMarkerStyle(markerCfg);\n    } else {\n      markerStyle = _getMarkerAttrs(markerCfg);\n      var symbol = LineSymbols[type];\n\n      if (type === 'dot') {\n        symbol = LineSymbols.line;\n        markerStyle.lineDash = markerStyle.lineDash || DOT_LINEDASH;\n      }\n\n      if (type === 'dash') {\n        symbol = LineSymbols.line;\n        markerStyle.lineDash = markerStyle.lineDash || DASH_LINEDASH;\n      }\n\n      markerStyle.symbol = symbol;\n    }\n\n    var theme = this._theme;\n    var shapeName = shape.name;\n\n    if (theme && theme.line && theme.line[shapeName]) {\n      markerStyle = _.mix({}, theme.line[shapeName].default, markerStyle);\n    }\n\n    return markerStyle;\n  }\n}); // 开始往 LineShapeFactory 注册具体的 shape\n\nregisterShape('line', 'line', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getPath(cfg, false);\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  }\n}); // 点线 ···\n\nregisterShape('line', 'dot', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getPath(cfg, false);\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({\n        lineDash: DOT_LINEDASH\n      }, attrs), {\n        path: path\n      })\n    });\n  }\n}); // 断线 - - -\n\nregisterShape('line', 'dash', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getPath(cfg, false);\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({\n        lineDash: DASH_LINEDASH\n      }, attrs), {\n        path: path\n      })\n    });\n  }\n}); // 平滑曲线\n\nregisterShape('line', 'smooth', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var coord = this.getCoord(); // 曲线的限制\n\n    cfg.constraint = [[coord.start.x, coord.end.y], [coord.end.x, coord.start.y]];\n\n    var path = _getPath(cfg, true);\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  }\n}); // step line,\n\nregisterShape('line', 'hv', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\n      return [{\n        x: nextPoint.x,\n        y: point.y\n      }];\n    });\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  }\n});\nregisterShape('line', 'vh', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\n      return [{\n        x: point.x,\n        y: nextPoint.y\n      }];\n    });\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  }\n});\nregisterShape('line', 'hvh', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\n      var middleX = (nextPoint.x + point.x) / 2;\n      return [{\n        x: middleX,\n        y: point.y\n      }, {\n        x: middleX,\n        y: nextPoint.y\n      }];\n    });\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  }\n});\nregisterShape('line', 'vhv', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\n      var middleY = (point.y + nextPoint.y) / 2;\n      return [{\n        x: point.x,\n        y: middleY\n      }, {\n        x: nextPoint.x,\n        y: middleY\n      }];\n    });\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  }\n});\nexport default LineShapeFactory;","import { __assign, __extends } from \"tslib\";\n/**\n * @description path，路径图，用于绘制无序的线图\n */\n\nimport * as _ from '@antv/util';\nimport Element from './base';\nimport { splitData } from './util/split-data';\nimport LineShapeFactory from './shape/line';\n\nvar Path =\n/** @class */\nfunction (_super) {\n  __extends(Path, _super);\n\n  function Path(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'path',\n      shapeType: 'line',\n      connectNulls: false,\n      showSinglePoint: false\n    }, cfg)) || this;\n\n    _this.set('shapeFactory', LineShapeFactory); // 设置 path 对应的 shapeFactory\n\n\n    return _this;\n  }\n  /**\n   * @override\n   * 构造绘制 path 需要的属性\n   * @param obj 数据\n   */\n\n\n  Path.prototype.getDrawCfg = function (obj) {\n    var drawCfg = _super.prototype.getDrawCfg.call(this, obj);\n\n    var isStack = this.hasAdjust('stack');\n    return __assign(__assign({}, drawCfg), {\n      isStack: isStack,\n      showSinglePoint: this.get('showSinglePoint')\n    });\n  };\n\n  Path.prototype.draw = function (data, container, shapeFactory, index) {\n    var _this = this;\n\n    var splitArray = splitData(data, this.get('connectNulls'), this.getYScale().field);\n    var cfg = this.getDrawCfg(data[0]);\n    cfg.origin = data; // path,line 等图的 origin 是整个数据序列\n\n    _.each(splitArray, function (subData, splitedIndex) {\n      if (!_.isEmpty(subData)) {\n        cfg.splitedIndex = splitedIndex; // 传入分割片段索引 用于生成id\n\n        cfg.points = subData;\n        var geomShape = shapeFactory.drawShape(cfg.shape, cfg, container);\n\n        _this.appendShapeInfo(geomShape, index + splitedIndex);\n      }\n    });\n  };\n\n  return Path;\n}(Element);\n\nexport default Path;","/**\n * @description Line，有序的线图\n */\nimport { __assign, __extends } from \"tslib\";\nimport Path from './path';\n\nvar Line =\n/** @class */\nfunction (_super) {\n  __extends(Line, _super);\n\n  function Line(cfg) {\n    return _super.call(this, __assign({\n      type: 'line',\n      sortable: true\n    }, cfg)) || this;\n  }\n\n  return Line;\n}(Path);\n\nexport default Line;","import { __assign } from \"tslib\";\n/**\n * Point shape factory\n */\n\nimport { Marker } from '@antv/g';\nimport * as _ from '@antv/util';\nimport * as pathUtil from '@antv/path-util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { splitPoints, setStrokeStyle, setFillStyle } from '../util/shape';\nimport { PointSymbols } from '../util/symbol';\n\n_.each(PointSymbols, function (func, symbol) {\n  // point 中需要用到这么些 Marker.symbol\n  // 使用 Marker 提供的静态方法注册进去\n  Marker.symbolsFactory.register(symbol, func);\n});\n\nvar SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangleDown'];\nvar HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n\nfunction getFillAttrs(cfg) {\n  var pointAttrs = cfg.style;\n  setFillStyle(pointAttrs, cfg);\n\n  if (_.isNumber(cfg.size)) {\n    pointAttrs.radius = cfg.size;\n  }\n\n  return pointAttrs;\n}\n\nfunction getLineAttrs(cfg) {\n  var pointAttrs = cfg.style;\n  setStrokeStyle(pointAttrs, cfg);\n\n  if (_.isNumber(cfg.size)) {\n    pointAttrs.radius = cfg.size;\n  }\n\n  return pointAttrs;\n}\n\nfunction getRectPath(cfg) {\n  var x = cfg.points[0].x;\n  var y = cfg.points[0].y;\n  var w = cfg.size[0];\n  var h = cfg.size[1];\n  var path = [['M', x - 0.5 * w, y - 0.5 * h], ['L', x + 0.5 * w, y - 0.5 * h], ['L', x + 0.5 * w, y + 0.5 * h], ['L', x - 0.5 * w, y + 0.5 * h], ['z']];\n  return path;\n}\n\nvar PointShapeFactory = registerShapeFactory('point', {\n  defaultShapeType: 'hollowCircle',\n  getDefaultPoints: function getDefaultPoints(pointInfo) {\n    return splitPoints(pointInfo);\n  }\n}); // 用于桑基图的节点\n\nregisterShape('point', 'rect', {\n  draw: function draw(cfg, container) {\n    var rectAttrs = getFillAttrs(cfg);\n    var path = getRectPath(cfg);\n    path = this.parsePath(path);\n    var gShape = container.addShape('path', {\n      attrs: _.mix(rectAttrs, {\n        path: path\n      })\n    });\n    return gShape;\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'rect',\n      radius: 4.5\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // 所有的 SHAPES 都注册一下\n\n_.each(SHAPES, function (shape) {\n  registerShape('point', shape, {\n    draw: function draw(cfg, container) {\n      var attrs = getFillAttrs(cfg);\n      return container.addShape('Marker', {\n        attrs: __assign(__assign({}, attrs), {\n          symbol: shape,\n          x: cfg.x,\n          y: cfg.y\n        })\n      });\n    },\n    getMarkerStyle: function getMarkerStyle(markerCfg) {\n      var markerStyle = {\n        symbol: shape,\n        radius: 4.5\n      };\n      setFillStyle(markerStyle, markerCfg);\n      return markerStyle;\n    }\n  }); // 添加该 shape 对应的 hollow-shape\n\n  registerShape('point', \"hollow\" + _.upperFirst(shape), {\n    draw: function draw(cfg, container) {\n      var attrs = getLineAttrs(cfg);\n      return container.addShape('Marker', {\n        attrs: __assign(__assign({}, attrs), {\n          symbol: shape,\n          x: cfg.x,\n          y: cfg.y\n        })\n      });\n    },\n    getMarkerStyle: function getMarkerStyle(markerCfg) {\n      var markerStyle = {\n        symbol: shape,\n        radius: 4.5\n      };\n      setStrokeStyle(markerStyle, markerCfg);\n      return markerStyle;\n    }\n  });\n}); // 添加 hollowShapes\n\n\n_.each(HOLLOW_SHAPES, function (shape) {\n  registerShape('point', shape, {\n    draw: function draw(cfg, container) {\n      var attrs = getLineAttrs(cfg);\n      return container.addShape('Marker', {\n        attrs: __assign(__assign({}, attrs), {\n          symbol: shape,\n          x: cfg.x,\n          y: cfg.y\n        })\n      });\n    },\n    getMarkerStyle: function getMarkerStyle(markerCfg) {\n      var markerStyle = {\n        symbol: shape,\n        radius: 4.5\n      };\n      setStrokeStyle(markerStyle, markerCfg);\n      return markerStyle;\n    }\n  });\n}); // image\n\n\nregisterShape('point', 'image', {\n  draw: function draw(cfg, container) {\n    cfg.points = this.parsePoints(cfg.points);\n    return container.addShape('image', {\n      attrs: {\n        x: cfg.points[0].x - cfg.size / 2,\n        y: cfg.points[0].y - cfg.size,\n        width: cfg.size,\n        height: cfg.size,\n        img: cfg.shape[1]\n      }\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'circle',\n      radius: 4.5\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // path 解析，缓存一下\n\nvar pathMetaParser = _.memoize(function (path) {\n  var segments = pathUtil.parsePathString(path);\n\n  var nums = _.flatten(segments).filter(function (num) {\n    return _.isNumber(num);\n  });\n\n  return {\n    range: Math.max.apply(null, nums) - Math.min.apply(null, nums),\n    segments: segments\n  };\n}); // path\n\n\nregisterShape('point', 'path', {\n  draw: function draw(cfg, container) {\n    var attrs = _.mix({}, getLineAttrs(cfg), getFillAttrs(cfg));\n\n    var path = cfg.shape[1];\n    var size = cfg.size || 10;\n    var pathMeta = pathMetaParser(path);\n    var scale = size / pathMeta.range;\n    var transform = [];\n\n    if (attrs.rotate) {\n      transform.push(['r', attrs.rotate / 180 * Math.PI]);\n      delete attrs.rotate;\n    }\n\n    var shape = container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: pathMeta.segments\n      })\n    });\n    transform.push(['s', scale, scale], ['t', cfg.x, cfg.y]);\n    shape.transform(transform);\n    return shape;\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'circle',\n      radius: 4.5\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n});\nexport default PointShapeFactory;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Element from './base';\nimport PointShapeFactory from './shape/point';\n/**\n * Point 类型的几何图形\n * 绘制散点图\n */\n\nvar Point =\n/** @class */\nfunction (_super) {\n  __extends(Point, _super);\n\n  function Point(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'point',\n      shapeType: 'point',\n      generatePoints: true,\n      shareTooltip: false\n    }, cfg)) || this; // 每一个 Element 对应一个确定的 shapeFactory\n\n\n    _this.set('shapeFactory', PointShapeFactory);\n\n    return _this;\n  } // overwrite\n\n\n  Point.prototype.drawPoint = function (obj, container, shapeFactory, index) {\n    var _this = this;\n\n    var shape = obj.shape;\n    var cfg = this.getDrawCfg(obj);\n\n    if (_.isArray(obj.y)) {\n      var hasStackAdjust_1 = this.hasAdjust('stack');\n\n      _.each(obj.y, function (y, idx) {\n        cfg.y = y;\n        cfg.yIndex = idx;\n\n        if (!hasStackAdjust_1 || idx !== 0) {\n          var geomShape = shapeFactory.drawShape(shape, cfg, container);\n\n          _this.appendShapeInfo(geomShape, index + idx);\n        }\n      });\n    } else if (!_.isNil(obj.y)) {\n      var geomShape = shapeFactory.drawShape(shape, cfg, container);\n      this.appendShapeInfo(geomShape, index);\n    }\n  };\n\n  return Point;\n}(Element);\n\nexport default Point;","import * as _ from '@antv/util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { setFillStyle, setStrokeStyle } from '../util/shape';\n\nfunction getAttrs(cfg) {\n  var attrs = cfg.style;\n  setFillStyle(attrs, cfg);\n  return attrs;\n}\n\nfunction getHollowAttrs(cfg) {\n  var attrs = cfg.style;\n  setStrokeStyle(attrs, cfg);\n  return attrs;\n}\n\nfunction getPath(points) {\n  var flag = points[0];\n  var i = 1;\n  var path = [['M', flag.x, flag.y]];\n\n  while (i < points.length) {\n    var c = points[i];\n\n    if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n      path.push(['L', c.x, c.y]);\n\n      if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n        flag = points[i + 1];\n        path.push(['Z']);\n        path.push(['M', flag.x, flag.y]);\n        i++;\n      }\n    }\n\n    i++;\n  }\n\n  if (!_.isEqual(path[path.length - 1], flag)) {\n    path.push(['L', flag.x, flag.y]);\n  }\n\n  path.push(['Z']);\n  return path;\n}\n\nfunction getMarkerAttrs(markerCfg) {\n  var markerStyle = {\n    symbol: 'square',\n    radius: 4\n  };\n  setFillStyle(markerStyle, markerCfg);\n  return markerStyle;\n}\n\nvar PolygonShapeFactory = registerShapeFactory('polygon', {\n  defaultShapeType: 'polygon',\n  getDefaultPoints: function getDefaultPoints(pointInfo) {\n    var points = [];\n\n    _.each(pointInfo.x, function (subX, index) {\n      var subY = pointInfo.y[index];\n      points.push({\n        x: subX,\n        y: subY\n      });\n    });\n\n    return points;\n  }\n});\nregisterShape('polygon', 'polygon', {\n  draw: function draw(cfg, container) {\n    if (!_.isEmpty(cfg.points)) {\n      var attrs = getAttrs(cfg);\n      var path = getPath(cfg.points);\n      path = this.parsePath(path);\n      return container.addShape('path', {\n        attrs: _.mix(attrs, {\n          path: path\n        })\n      });\n    }\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    return getMarkerAttrs(markerCfg);\n  }\n});\nregisterShape('polygon', 'hollow', {\n  draw: function draw(cfg, container) {\n    if (!_.isEmpty(cfg.points)) {\n      var attrs = getHollowAttrs(cfg);\n      var path = getPath(cfg.points);\n      path = this.parsePath(path);\n      return container.addShape('path', {\n        attrs: _.mix(attrs, {\n          path: path\n        })\n      });\n    }\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    return getMarkerAttrs(markerCfg);\n  }\n});\nexport default PolygonShapeFactory;","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport Element from './base';\nimport PolygonShapeFactory from './shape/polygon';\n/**\n * Polygon 多边形\n */\n\nvar Polygon =\n/** @class */\nfunction (_super) {\n  __extends(Polygon, _super);\n\n  function Polygon(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'polygon',\n      shapeType: 'polygon',\n      generatePoints: true,\n      shareTooltip: false\n    }, cfg)) || this;\n\n    _this.set('shapeFactory', PolygonShapeFactory);\n\n    return _this;\n  }\n\n  Polygon.prototype.createShapePointsCfg = function (obj) {\n    var cfg = _super.prototype.createShapePointsCfg.call(this, obj);\n\n    var x = cfg.x;\n    var y = cfg.y;\n    var temp;\n\n    if (!(Util.isArray(x) && Util.isArray(y))) {\n      // x y 都是数组时，不做处理\n      var xScale = this.getXScale();\n      var yScale = this.getYScale(); // scale 中保证了 values 都会有，所以去掉之前的逻辑判断\n\n      var xCount = xScale.values.length;\n      var yCount = yScale.values.length;\n      var xOffset = 0.5 * 1 / xCount;\n      var yOffset = 0.5 * 1 / yCount;\n\n      if (xScale.isCategory && yScale.isCategory) {\n        // 如果x,y都是分类\n        // @ts-ignore\n        x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n        y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n      } else if (Util.isArray(x)) {\n        // x 是数组\n        temp = x;\n        x = [temp[0], temp[0], temp[1], temp[1]];\n        y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n      } else if (Util.isArray(y)) {\n        // y 是数组\n        temp = y;\n        y = [temp[0], temp[1], temp[1], temp[0]]; // @ts-ignore\n\n        x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n      }\n\n      cfg.x = x;\n      cfg.y = y;\n    }\n\n    return cfg;\n  };\n\n  return Polygon;\n}(Element);\n\nexport default Polygon;","import { __assign } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { splitPoints, setFillStyle } from '../util/shape';\n\nfunction getFillAttrs(cfg) {\n  var textAttrs = cfg.style;\n  setFillStyle(textAttrs, cfg);\n\n  if (_.isNumber(cfg.size)) {\n    // 如果设置了size，则text的字体大小由size决定\n    textAttrs.fontSize = cfg.size;\n  }\n\n  return textAttrs;\n}\n\nvar TextShapeFactory = registerShapeFactory('text', {\n  defaultShapeType: 'text',\n  getDefaultPoints: function getDefaultPoints(pointInfo) {\n    return splitPoints(pointInfo);\n  }\n});\nregisterShape('text', 'text', {\n  draw: function draw(cfg, container) {\n    var attrs = getFillAttrs(cfg);\n    var shape = container.addShape('text', {\n      attrs: __assign(__assign({}, attrs), {\n        x: cfg.x,\n        y: cfg.y,\n        text: cfg.text\n      })\n    });\n    return shape;\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'circle',\n      radius: 4.5\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n});\nexport default TextShapeFactory;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { FIELD_ORIGIN } from './base';\nimport Point from './point';\nimport TextShapeFactory from './shape/text';\nimport { parseFields } from './util/parse-fields';\n/**\n * Text 类型的几何图形\n */\n\nvar Text =\n/** @class */\nfunction (_super) {\n  __extends(Text, _super);\n\n  function Text(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'text',\n      shapeType: 'text'\n    }, cfg)) || this; // 每一个 Element 对应一个确定的 shapeFactory\n\n\n    _this.set('shapeFactory', TextShapeFactory);\n\n    return _this;\n  }\n\n  Text.prototype.content = function (field, callback) {\n    if (_.isObject(field)) {\n      this.set('contentOptions', field);\n    } else {\n      var fields = parseFields(field);\n      this.set('contentOptions', {\n        fields: fields,\n        callback: callback\n      });\n    }\n\n    return this;\n  }; // 获取 content 配置\n\n\n  Text.prototype._getContent = function (contentOptions, origin) {\n    var fields = contentOptions.fields || [];\n    var callback = contentOptions.callback;\n\n    if (callback) {\n      // content({ fields: [ 'a', 'b' ], callback(a, b) {} })\n      var params = fields.map(function (field) {\n        return origin[field];\n      });\n      return callback.apply(void 0, params);\n    }\n\n    return origin[fields[0]]; // content({ fields: [ 'a' ] })\n  };\n  /**\n   * @override\n   * @desc 添加content内容,复写cfg.text\n   */\n\n\n  Text.prototype.getDrawCfg = function (obj) {\n    var cfg = _super.prototype.getDrawCfg.call(this, obj);\n\n    var contentOptions = this.get('contentOptions');\n\n    if (contentOptions) {\n      cfg.text = this._getContent(contentOptions, obj[FIELD_ORIGIN]);\n    }\n\n    return cfg;\n  };\n\n  return Text;\n}(Point);\n\nexport default Text;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { Facet } from './base';\n/**\n * TODO 暂时欠缺 title、axis 的渲染逻辑\n */\n\nvar Rect =\n/** @class */\nfunction (_super) {\n  __extends(Rect, _super);\n\n  function Rect(view, cfg) {\n    return _super.call(this, view, __assign({\n      /**\n       * 是否默认显示每个分面的title\n       */\n      showTitle: true,\n\n      /**\n       * 是否自动修改坐标轴的信息\n       */\n      autoSetAxis: true,\n\n      /**\n       * View 的内边框\n       */\n      padding: 16\n    }, cfg)) || this;\n  }\n\n  Rect.prototype.generateFacets = function (data) {\n    var _this = this;\n\n    var fields = this.cfg.fields;\n    var columnField = fields[0],\n        rowField = fields[1];\n    var rst = [];\n    var columnValuesLength = 0;\n    var rowValuesLength = 0;\n    var columnValues = [];\n    var rowValues = [];\n\n    if (columnField) {\n      columnValues = this.getFieldValues(data, columnField);\n      columnValuesLength = columnValues.length;\n    }\n\n    if (rowField) {\n      rowValues = this.getFieldValues(data, rowField);\n      rowValuesLength = rowValues.length;\n    } // 获取每个维度对应的frame\n\n\n    columnValues.forEach(function (xVal, xIndex) {\n      rowValues.forEach(function (yVal, yIndex) {\n        var conditions = [{\n          field: columnField,\n          value: xVal,\n          values: columnValues\n        }, {\n          field: rowField,\n          value: yVal,\n          values: rowValues\n        }];\n\n        var facetData = _.filter(data, function (data) {\n          // 过滤出全部满足条件的数据\n          return _.every(conditions, function (condition) {\n            var field = condition.field,\n                value = condition.value;\n            return data[field] === value;\n          });\n        });\n\n        var facet = {\n          type: _this.cfg.type,\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField: columnField,\n          rowField: rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength: columnValuesLength,\n          rowValuesLength: rowValuesLength,\n          data: facetData,\n          region: _this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex)\n        };\n        rst.push(facet);\n      });\n    });\n    return rst;\n  };\n\n  Rect.prototype.renderAxis = function () {// todo\n  };\n\n  Rect.prototype.renderTitle = function () {// todo\n  };\n\n  return Rect;\n}(Facet);\n\nexport { Rect };","import { __spreadArrays } from \"tslib\";\n/**\n * 判断text是否可用, title description\n *\n * @param source\n */\n\nexport function isTextUsable(source) {\n  if (!source) return false;\n  if (source.visible === true && typeof source.text === 'string' && source.text.trim()) return true;\n  return false;\n}\n/**\n * 为字符串添加换行符\n * @param source - 字符串数组 ['a', 'b', 'c']\n * @param breaks - 要添加换行的index\n *\n * @example\n * ```js\n * breakText(['a','b','c'], [1])\n *\n * // a\\nbc\n * ```\n */\n\nexport function breakText(source, breaks) {\n  var result = __spreadArrays(source);\n\n  breaks.forEach(function (pos, index) {\n    result.splice(pos + index, 0, '\\n');\n  });\n  return result.join('');\n}","import * as G from '@antv/g';\nimport * as Util from '@antv/util';\nimport * as Interface from './interface';\nexport { Util };\nexport { G };\nexport { Interface };\nexport { default as Plot } from './plot/plot';\nexport { default as View } from './plot/view';\nimport { Element, getElement, registerElement } from './element';\nimport Area from './element/area';\nimport Box from './element/box';\nimport Edge from './element/edge';\nimport Heatmap from './element/heatmap';\nimport Interval from './element/interval';\nimport Kline from './element/k-line';\nimport Line from './element/line';\nimport Path from './element/path';\nimport Point from './element/point';\nimport Polygon from './element/polygon';\nimport * as Shape from './element/shape/base';\nimport Text from './element/text'; // 注册 element\n\nregisterElement('Line', Line);\nregisterElement('Path', Path);\nregisterElement('Point', Point);\nregisterElement('Interval', Interval);\nregisterElement('Edge', Edge);\nregisterElement('Polygon', Polygon);\nregisterElement('Area', Area);\nregisterElement('Box', Box);\nregisterElement('Kline', Kline);\nregisterElement('Text', Text);\nregisterElement('Heatmap', Heatmap);\nexport { registerElement, getElement, Element };\nexport { registerShape, registerShapeFactory, getShapeFactory } from './element/shape/base';\nexport { Shape };\nimport { Facet, registerFacet } from './facet';\nimport { Rect } from './facet/rect';\nregisterFacet('rect', Rect);\nexport { registerFacet, Facet };\nexport { registerInteraction, getInteraction, Interaction } from './interaction';\nexport { default as Global, setTheme, version } from './global';\nexport { registerTheme, getTheme } from './theme';\nimport Animate from './animate/animate';\nexport { Animate };\nexport { registerScale, getScale, Scale } from '@antv/scale';\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust';\nexport { getCoordinate, Coordinate } from '@antv/coord';\nexport { getAttribute, Attribute } from '@antv/attr';\nimport * as Option from './plot/interface';\nexport { Option };\nexport { registerElementLabels, getElementLabels, ElementLabels } from './element/controller/label/';","import { __assign } from \"tslib\";\nimport { BBox, Text } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { breakText } from '../util/common';\n/**\n * 图表的文字描述，一般用于生成图表的标题和副标题\n */\n\nvar TextDescription =\n/** @class */\nfunction () {\n  function TextDescription(cfg) {\n    this.position = 'top';\n    this.destroyed = false;\n\n    _.assign(this, cfg);\n\n    this._init();\n  }\n\n  TextDescription.prototype.getBBox = function () {\n    var _this = this;\n\n    if (this.shape) {\n      var bbox = this.shape.getBBox();\n\n      if (this.index === 0) {\n        return bbox;\n      }\n\n      var padding_1 = this.plot.theme.description.padding;\n\n      if (_.isArray(padding_1)) {\n        _.each(padding_1, function (it, index) {\n          if (typeof padding_1[index] === 'function') {\n            padding_1[index] = padding_1[index](_this.plot.options.legend.position);\n          }\n        });\n      }\n\n      return new BBox(bbox.maxX, bbox.minY, bbox.width, bbox.height + padding_1[2]);\n    }\n\n    return null;\n  };\n\n  TextDescription.prototype.clear = function () {\n    if (this.shape) {\n      this.shape.attr('text', '');\n    }\n  };\n\n  TextDescription.prototype.destroy = function () {\n    if (this.shape) {\n      this.shape.remove();\n    }\n\n    this.destroyed = true;\n  };\n\n  TextDescription.prototype._init = function () {\n    var content = this._textWrapper();\n\n    this.shape = this.container.addShape('text', {\n      attrs: _.mix({\n        x: this.leftMargin,\n        y: this.topMargin,\n        text: content\n      }, this.style)\n    });\n    this.shape.name = this.name;\n  };\n  /**\n   * 当text过长时，默认换行\n   * 1. 注意初始text带换行符的场景\n   */\n\n\n  TextDescription.prototype._textWrapper = function () {\n    var width = this.wrapperWidth;\n    var style = this.style;\n    var textContent = this.text;\n    var tShape = new Text({\n      attrs: __assign({\n        text: '',\n        x: 0,\n        y: 0\n      }, style)\n    });\n    var textArr = textContent.split('\\n');\n    var wrappedTextArr = textArr.map(function (wrappedText) {\n      var text = '';\n      var chars = wrappedText.split('');\n      var breakIndex = [];\n\n      for (var i = 0; i < chars.length; i++) {\n        var item = chars[i];\n        tShape.attr('text', text += item);\n        var currentWidth = tShape.getBBox().width - 1;\n\n        if (currentWidth > width) {\n          // 如果是第一个字符就大于宽度不做任何换行处理\n          if (i === 0) {\n            break;\n          }\n\n          breakIndex.push(i);\n          text = '';\n        }\n      }\n\n      return breakText(chars, breakIndex);\n    });\n    tShape.remove();\n    return wrappedTextArr.join('\\n');\n  };\n\n  return TextDescription;\n}();\n\nexport default TextDescription;","import { isNil } from '@antv/util';\nexport var combineFormatter = function combineFormatter() {\n  var formatters = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    formatters[_i] = arguments[_i];\n  }\n\n  return function (text, item, idx) {\n    return formatters.reduce(function (curText, formatter) {\n      return formatter(curText, item, idx);\n    }, text);\n  };\n};\nexport var getNoopFormatter = function getNoopFormatter() {\n  return function (text, item, idx) {\n    return text;\n  };\n};\nexport var getPrecisionFormatter = function getPrecisionFormatter(precision) {\n  return function (text, item, idx) {\n    var num = Number(text);\n    return isNaN(num) || isNil(precision) ? text : num.toFixed(precision);\n  };\n};\nexport var getSuffixFormatter = function getSuffixFormatter(suffix) {\n  return function (text, item, idx) {\n    return isNil(suffix) ? text : text + \" \" + suffix;\n  };\n};","import { __assign, __rest } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { combineFormatter, getNoopFormatter, getPrecisionFormatter, getSuffixFormatter } from '../../util/formatter';\n\nfunction propertyMapping(source, target, field) {\n  if (source[field]) {\n    target[field] = source[field];\n  }\n}\n\nvar AxisParser =\n/** @class */\nfunction () {\n  function AxisParser(cfg) {\n    this.config = false;\n    this.plot = cfg.plot;\n    this.dim = cfg.dim;\n    this.init();\n  }\n\n  AxisParser.prototype.init = function () {\n    this.config = false;\n    var theme = this.plot.getPlotTheme();\n    this.themeConfig = theme && theme.axis && theme.axis[this.dim];\n\n    if (this._needDraw()) {\n      this._styleParser();\n    }\n  };\n\n  AxisParser.prototype._styleParser = function () {\n    this.config = __assign({}, this.localProps);\n    this._isVisible('line') ? this._lineParser() : this.config.line = null;\n    this._isVisible('grid') ? this._gridParser() : this.config.grid = null;\n    this._isVisible('tickLine') ? this._tickLineParser() : this.config.tickLine = null;\n    this._isVisible('label') ? this._labelParser() : this.config.label = null;\n    this._isVisible('title') ? this._titleParser() : this.config.title = null;\n    propertyMapping(this.localProps, this.config, 'autoHideLabel');\n    propertyMapping(this.localProps, this.config, 'autoRotateLabel');\n    propertyMapping(this.localProps, this.config, 'autoRotateTitle');\n  };\n\n  AxisParser.prototype._needDraw = function () {\n    /** 如果在图表配置项里没有设置坐标轴整体的visibility则去对应的theme取 */\n    var propos = this.plot.options;\n    var propsConfig = propos[this.dim + \"Axis\"] ? propos[this.dim + \"Axis\"] : {};\n\n    var config = _.deepMix({}, this.themeConfig, propsConfig);\n\n    this.localProps = config;\n\n    if (config.visible) {\n      return true;\n    }\n\n    return false;\n  };\n\n  AxisParser.prototype._lineParser = function () {\n    this.config.line = this.localProps.line;\n\n    if (this.localProps.line.style) {\n      this.config.line = this.localProps.line.style;\n    }\n\n    this.applyThemeConfig('line');\n  };\n\n  AxisParser.prototype._gridParser = function () {\n    var _this = this;\n\n    var gridCfg = this.localProps.grid;\n    var style = gridCfg.style;\n\n    if (_.isFunction(style)) {\n      // @see g2/component/src/axis/base:_renderGrid\n      this.config.grid = function (text, index, count) {\n        var cfg = style(text, index, count);\n        return _.deepMix({}, _.get(_this.themeConfig, \"grid.style\"), cfg);\n      };\n    } else if (style) {\n      this.config.grid = style;\n      this.applyThemeConfig('grid');\n    }\n  };\n\n  AxisParser.prototype._tickLineParser = function () {\n    this.config.tickLine = this.localProps.tickLine;\n\n    if (this.localProps.tickLine.style) {\n      this.config.tickLine = this.localProps.tickLine.style;\n    }\n\n    this.applyThemeConfig('tickLine');\n  };\n\n  AxisParser.prototype._labelParser = function () {\n    var _a = this.localProps.label,\n        style = _a.style,\n        restLabelProps = __rest(_a, [\"style\"]);\n\n    var labelConfig = __assign({}, restLabelProps);\n\n    if (style) {\n      labelConfig.textStyle = this.localProps.label.style;\n    }\n\n    labelConfig.textStyle = _.deepMix({}, _.get(this.themeConfig, 'label.style'), labelConfig.textStyle);\n    var formatter = this.parseFormatter(labelConfig);\n    labelConfig.formatter = formatter;\n    this.config.label = labelConfig;\n  };\n\n  AxisParser.prototype._titleParser = function () {\n    var titleConfig = __assign({}, this.localProps.title);\n\n    var _a = this.localProps.title,\n        visible = _a.visible,\n        style = _a.style,\n        text = _a.text;\n\n    if (!visible) {\n      this.config.showTitle = false;\n    } else {\n      this.config.showTitle = true;\n\n      if (style) {\n        titleConfig.textStyle = style;\n      }\n\n      titleConfig.textStyle = _.deepMix({}, _.get(this.config, 'title.style'), titleConfig.textStyle);\n\n      if (text) {\n        titleConfig.text = text;\n      }\n    }\n\n    this.config.title = titleConfig;\n  };\n\n  AxisParser.prototype._isVisible = function (name) {\n    if (this.localProps[name] && this.localProps[name].visible) {\n      return true;\n    }\n\n    return false;\n  };\n\n  AxisParser.prototype.applyThemeConfig = function (type) {\n    this.config[type] = _.deepMix({}, _.get(this.themeConfig, type + \".style\"), this.config[type]);\n  };\n\n  AxisParser.prototype.parseFormatter = function (labelConfig) {\n    var formatter = combineFormatter(getNoopFormatter(), getPrecisionFormatter(labelConfig.precision), getSuffixFormatter(labelConfig.suffix));\n\n    if (labelConfig.formatter) {\n      formatter = combineFormatter(labelConfig.formatter, labelConfig.formatter);\n    }\n\n    return formatter;\n  };\n\n  return AxisParser;\n}();\n\nexport default AxisParser;","import * as matrixUtil from '@antv/matrix-util';\nimport * as _ from '@antv/util';\n\nfunction magnitude(v) {\n  var sum = 0;\n\n  _.each(v, function (value) {\n    sum += value * value;\n  });\n\n  return Math.sqrt(sum);\n}\n\nfunction dotProduct2D(va, vb) {\n  return va.x * vb.y + va.y * vb.x;\n}\n\nfunction angleTo(va, vb) {\n  var magA = magnitude(va);\n  var magB = magnitude(vb);\n  var dot = dotProduct2D(va, vb);\n  var angle = Math.acos(dot / magA / magB);\n  return angle;\n}\n\nfunction crossProduct2D(va, vb) {\n  var magA = magnitude(va);\n  var magB = magnitude(vb);\n  var dot = dotProduct2D(va, vb);\n  var angle = Math.acos(dot / magA / magB);\n  return magA * magB * Math.sin(angle);\n}\n\nfunction crossProduct3D(va, vb) {\n  var ax = va.x,\n      ay = va.y,\n      az = va.z;\n  var bx = vb.x,\n      by = vb.y,\n      bz = vb.z;\n  var x = ay * bz - az * by;\n  var y = az * bx - ax * bz;\n  var z = ax * by - ay * bx;\n  return {\n    x: x,\n    y: y,\n    z: z\n  };\n}\n\nfunction sub2D(va, vb) {\n  return {\n    x: va.x - vb.x,\n    y: va.y - vb.y\n  };\n}\n\nfunction applyMatrix(point, matrix, tag) {\n  if (tag === void 0) {\n    tag = 1;\n  }\n\n  var vector = [point.x, point.y, tag];\n  matrixUtil.vec3.transformMat3(vector, vector, matrix);\n  return {\n    x: vector[0],\n    y: vector[1]\n  };\n}\n\nfunction isBetween(value, min, max) {\n  return value >= min && value <= max;\n}\n\nvar tolerance = 0.001;\n\nfunction getLineIntersect(p0, p1, p2, p3) {\n  var E = {\n    x: p2.x - p0.x,\n    y: p2.y - p0.y\n  };\n  var D0 = {\n    x: p1.x - p0.x,\n    y: p1.y - p0.y\n  };\n  var D1 = {\n    x: p3.x - p2.x,\n    y: p3.y - p2.y\n  };\n  var kross = D0.x * D1.y - D0.y * D1.x;\n  var sqrKross = kross * kross;\n  var sqrLen0 = D0.x * D0.x + D0.y * D0.y;\n  var sqrLen1 = D1.x * D1.x + D1.y * D1.y;\n  var point = null;\n\n  if (sqrKross > tolerance * sqrLen0 * sqrLen1) {\n    var s = (E.x * D1.y - E.y * D1.x) / kross;\n    var t = (E.x * D0.y - E.y * D0.x) / kross;\n\n    if (isBetween(s, 0, 1) && isBetween(t, 0, 1)) {\n      point = {\n        x: p0.x + s * D0.x,\n        y: p0.y + s * D0.y\n      };\n    }\n  }\n\n  return point;\n}\n\nfunction isPointInPolygon(p, polygon) {\n  /** 射线法 */\n  var inside = false;\n\n  for (var i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    var xi = polygon[i].x;\n    var yi = polygon[i].y;\n    var xj = polygon[j].x;\n    var yj = polygon[j].y;\n    var intersect = yi > p.y !== yj > p.y && p.x <= (xj - xi) * (p.y - yi) / (yj - yi) + xi;\n\n    if (intersect) {\n      inside = !inside;\n    }\n  }\n\n  return inside;\n}\n\nfunction sqr(v) {\n  return v * v;\n}\n\nfunction dist2(a, b) {\n  return Math.sqrt(sqr(a.x - b.x) + sqr(a.y - b.y));\n}\n\nfunction distBetweenPoints(a, b) {\n  return Math.sqrt(sqr(a.x - b.x) + sqr(a.y - b.y));\n}\n\nfunction distBetweenPointLine(p, p1, p2) {\n  var l2 = dist2(p1, p2);\n\n  if (l2 === 0) {\n    return dist2(p, p1);\n  }\n\n  var t = ((p.x - p1.x) * (p2.x - p1.x) + (p.y - p1.y) * (p2.y - p1.y)) / l2;\n  t = Math.max(0, Math.min(1, t));\n  var distSquare = dist2(p, {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  });\n  return Math.sqrt(distSquare);\n} // todo：待优化 https://blog.csdn.net/WilliamSun0122/article/details/77994526\n\n\nfunction minDistBetweenPointPolygon(p, polygon) {\n  var min = Infinity;\n  /** vertice to vertice */\n\n  _.each(polygon, function (v) {\n    var dist = Math.sqrt(dist2(v, p));\n\n    if (min > dist) {\n      min = dist;\n    }\n  });\n  /** vertice to edge */\n\n\n  for (var i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    var xi = polygon[i].x;\n    var yi = polygon[i].y;\n    var xj = polygon[j].x;\n    var yj = polygon[j].y;\n    var dist = distBetweenPointLine(p, {\n      x: xi,\n      y: yi\n    }, {\n      x: xj,\n      y: yj\n    });\n\n    if (min > dist) {\n      min = dist;\n    }\n  }\n\n  return min;\n}\n\nfunction isPolygonIntersection(polyA, polyB) {\n  for (var _i = 0, polyA_1 = polyA; _i < polyA_1.length; _i++) {\n    var p = polyA_1[_i];\n    var inside = isPointInPolygon(p, polyB);\n\n    if (inside) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction minDistBetweenConvexPolygon(polyA, polyB) {\n  if (isPolygonIntersection(polyA, polyB)) {\n    return 0;\n  }\n\n  var minA = Infinity;\n  var minB = Infinity;\n\n  _.each(polyA, function (v) {\n    var localMin = minDistBetweenPointPolygon(v, polyB);\n\n    if (minA > localMin) {\n      minA = localMin;\n    }\n  });\n\n  _.each(polyB, function (v) {\n    var localMin = minDistBetweenPointPolygon(v, polyA);\n\n    if (minB > localMin) {\n      minB = localMin;\n    }\n  });\n\n  return Math.min(minA, minB);\n}\n\nfunction bboxOnRotate(shape) {\n  var bbox = shape.getBBox();\n  var x = bbox.minX;\n  var y = bbox.minY;\n  /*\n   * step1: 获得旋转后的shape包围盒\n   * 将包围盒对齐到原点，apply旋转矩阵\n   * 移回原来的位置\n   */\n\n  var bboxWidth = bbox.tr.x - bbox.tl.x;\n  var bboxHeight = bbox.bl.y - bbox.tl.y; // const matrix = shape.getTotalMatrix();\n\n  var matrix = shape.attr('matrix');\n  var ulMatrix = [matrix[0], matrix[1], 0, matrix[3], matrix[4], 0, 0, 0, 1];\n  var top_left = applyMatrix({\n    x: 0,\n    y: 0\n  }, ulMatrix);\n  top_left.x += x;\n  top_left.y += y;\n  var top_right = applyMatrix({\n    x: bboxWidth,\n    y: 0\n  }, ulMatrix);\n  top_right.x += x;\n  top_right.y += y;\n  var bottom_left = applyMatrix({\n    x: 0,\n    y: bboxHeight\n  }, ulMatrix);\n  bottom_left.x += x;\n  bottom_left.y += y;\n  var bottom_right = applyMatrix({\n    x: bboxWidth,\n    y: bboxHeight\n  }, ulMatrix);\n  bottom_right.x += x;\n  bottom_right.y += y;\n  /** step2：根据旋转后的画布位置重新计算包围盒，以免图形进行旋转后上下颠倒 */\n\n  var points = [top_left, top_right, bottom_left, bottom_right];\n  points.sort(function (a, b) {\n    return a.y - b.y;\n  });\n  var minY = points[0].y;\n  var maxY = points[points.length - 1].y;\n  var tops = [points[0], points[1]];\n  var bottoms = [points[2], points[3]];\n  var topLeft = tops[0].x < tops[1].x ? tops[0] : tops[1];\n  var topRight = tops[0].x < tops[1].x ? tops[1] : tops[0];\n  var bottomLeft = bottoms[0].x < bottoms[1].x ? bottoms[0] : bottoms[1];\n  var bottomRight = bottoms[0].x < bottoms[1].x ? bottoms[1] : bottoms[0];\n  points.sort(function (a, b) {\n    return a.x - b.x;\n  });\n  var minX = points[0].x;\n  var maxX = points[points.length - 1].x;\n  var node = {\n    width: maxX - minX,\n    height: maxY - minY,\n    left: minX,\n    right: maxX,\n    top: minY,\n    bottom: maxY,\n    topLeft: topLeft,\n    topRight: topRight,\n    bottomLeft: bottomLeft,\n    bottomRight: bottomRight,\n    centerX: minX + (maxX - minX) / 2,\n    centerY: minY + (maxY - minY) / 2\n  };\n  return node;\n}\n/**\n * 线简化算法\n */\n\n\nvar THRESHOLD = 2;\n\nfunction lineSimplification(points) {\n  if (points.length < 5) {\n    return points;\n  }\n\n  return DouglasPeucker(points, THRESHOLD);\n} // https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm\n\n\nfunction DouglasPeucker(points, threshold) {\n  var result;\n  var max = -Infinity;\n  var index = 0;\n  var endIndex = points.length - 1;\n\n  for (var i = 1; i < endIndex; i++) {\n    var point = points[i];\n    var line = {\n      start: points[0],\n      end: points[endIndex]\n    };\n    var dist = distBetweenPointLine(point, line.start, line.end);\n\n    if (dist > max) {\n      max = dist;\n      index = i;\n    }\n  }\n\n  if (max > threshold) {\n    var list1 = DouglasPeucker(points.slice(0, index + 1), threshold);\n    var list2 = DouglasPeucker(points.slice(index, points.length), threshold);\n    result = list1.concat(list2);\n  } else {\n    result = [points[0], points[points.length - 1]];\n  }\n\n  return result;\n}\n/** 统计的以后迁出去，暂时先放这里 */\n\n\nfunction getMedian(array) {\n  var list = _.clone(array);\n\n  list.sort(function (a, b) {\n    return a - b;\n  });\n  var half = Math.floor(list.length / 2);\n\n  if (list.length % 2) {\n    return list[half];\n  }\n\n  return (list[half - 1] + list[half]) / 2.0;\n}\n\nfunction getMean(array) {\n  var sum = 0;\n\n  _.each(array, function (num) {\n    sum += num;\n  });\n\n  return sum / array.length;\n}\n\nfunction sturges(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n\nexport { applyMatrix, isBetween, getLineIntersect, isPointInPolygon, distBetweenPoints, distBetweenPointLine, isPolygonIntersection, minDistBetweenConvexPolygon, bboxOnRotate, dotProduct2D, crossProduct2D, crossProduct3D, sub2D, angleTo, lineSimplification, getMedian, getMean, sturges, dist2 };","import { getScale } from '@antv/scale';\nimport * as _ from '@antv/util';\nimport { getMean, getMedian } from '../util/math';\n\nvar GuideLine =\n/** @class */\nfunction () {\n  function GuideLine(cfg) {\n    _.assign(this, cfg);\n\n    this._init();\n  }\n\n  GuideLine.prototype._init = function () {\n    var props = this.plot.options;\n    var defaultStyle = this.getDefaultStyle();\n    var baseConfig = {\n      type: 'line',\n      top: true,\n      start: this.cfg.start,\n      end: this.cfg.end\n    };\n    baseConfig.line = _.deepMix({}, defaultStyle.line, {\n      style: this.cfg.lineStyle\n    });\n    baseConfig.text = _.deepMix({}, defaultStyle.text, this.cfg.text);\n\n    if (this.cfg.type) {\n      var stateValue = this._getState(this.cfg.type);\n\n      var minValue = this._getState('min');\n\n      var maxValue = this._getState('max');\n\n      var Scale = getScale('linear'); // 重新组织scale并使用scale的min和max来计算guide point的百分比位置，以避免受nice的影响\n\n      var scale = new Scale(_.mix({}, {\n        min: this.plot.type === 'column' ? 0 : minValue,\n        max: maxValue,\n        nice: true,\n        values: this.values\n      }, this.plot.config.scales[props.yField]));\n      var percent = (1.0 - scale.scale(stateValue)) * 100 + \"%\";\n      var start = ['0%', percent];\n      var end = ['100%', percent];\n      this.config = _.mix({\n        start: start,\n        end: end\n      }, baseConfig);\n    } else {\n      this.config = baseConfig;\n    }\n  };\n\n  GuideLine.prototype._getState = function (type) {\n    this.values = this._extractValues();\n\n    if (type === 'median') {\n      return getMedian(this.values);\n    }\n\n    if (type === 'mean') {\n      return getMean(this.values);\n    }\n\n    if (type === 'max') {\n      return Math.max.apply(Math, this.values);\n    }\n\n    if (type === 'min') {\n      return Math.min.apply(Math, this.values);\n    }\n  };\n\n  GuideLine.prototype._extractValues = function () {\n    var props = this.plot.options;\n    var field = props.yField;\n    var values = [];\n\n    _.each(props.data, function (d) {\n      values.push(d[field]);\n    });\n\n    return values;\n  };\n\n  GuideLine.prototype.getDefaultStyle = function () {\n    this.getDefaultTextAlign();\n    return {\n      line: {\n        style: {\n          lineWidth: 2,\n          stroke: '#333333',\n          opacity: 0.7,\n          lineDash: [0, 0]\n        }\n      },\n      text: {\n        offsetY: -5,\n        style: {\n          fontSize: 14,\n          stroke: 'white',\n          lineWidth: 2,\n          textAlign: this.getDefaultTextAlign()\n        }\n      }\n    };\n  };\n\n  GuideLine.prototype.getDefaultTextAlign = function () {\n    var textConfig = this.cfg.text;\n\n    if (textConfig) {\n      if (!textConfig.position || textConfig.position === 'start') {\n        return 'left';\n      }\n\n      if (textConfig.position === 'center') {\n        return 'center';\n      }\n\n      if (textConfig.position === 'end') {\n        return 'right';\n      }\n    }\n  };\n\n  return GuideLine;\n}();\n\nexport default GuideLine;","import * as _ from '@antv/util'; // import { compare } from '../../base/controller/state';\n// 对axis label和label样式进行缓存\n\nvar labels;\nvar originAttrs;\n\nfunction onActive(plot, condition) {\n  if (!labels) {\n    getAllAxisLabels(plot);\n  }\n\n  _.each(labels, function (label, index) {\n    var _a = beforeCompare(label, condition),\n        labelData = _a.labelData,\n        con = _a.con;\n\n    if (compare(labelData, con)) {\n      var originAttr = originAttrs[index];\n      var disableStyle = labelActiveStyle(originAttr);\n      label.shape.attr(disableStyle);\n    }\n  });\n}\n\nfunction onDisable(plot, condition) {\n  if (!labels) {\n    getAllAxisLabels(plot);\n  }\n\n  _.each(labels, function (label, index) {\n    var _a = beforeCompare(label, condition),\n        labelData = _a.labelData,\n        con = _a.con;\n\n    if (compare(labelData, con)) {\n      var originAttr = originAttrs[index];\n      var disableStyle = labelDisableStyle(originAttr);\n      label.shape.attr(disableStyle);\n    }\n  });\n}\n\nfunction getAllAxisLabels(plot) {\n  labels = [];\n  originAttrs = [];\n  var axes = plot.view.get('axisController').axes;\n\n  _.each(axes, function (axis) {\n    var labelArr = [];\n    var scale = getScale(plot, axis);\n    var labelShapes = axis.get('labelRenderer').get('group').get('children');\n\n    _.each(labelShapes, function (shape) {\n      if (shape.type === 'text') {\n        labelArr.push({\n          shape: shape\n        });\n        originAttrs.push(shape.attr());\n      }\n    });\n\n    if (scale) {\n      // 取到scale values作为原始数据，避免被label format的影响\n      var ticks_1 = scale.ticks,\n          field_1 = scale.field;\n\n      _.each(labelArr, function (label, index) {\n        label.value = ticks_1[index];\n        label.scaleField = field_1;\n        label.type = scale.type;\n      });\n    }\n\n    labels.push.apply(labels, labelArr);\n  });\n} // 获取坐标轴对应的scale\n\n\nfunction getScale(plot, axis) {\n  var props = plot.options;\n  var dim = 'y';\n  var position = axis.get('position');\n\n  if (position === 'bottom' || position === 'top') {\n    dim = 'x';\n  }\n\n  var scaleField = props[dim + \"Field\"];\n  return plot.view.get('scales')[scaleField];\n}\n\nfunction beforeCompare(label, condition) {\n  var _a;\n\n  var labelData = (_a = {}, _a[label.scaleField] = label.value, _a);\n\n  var con = _.clone(condition);\n\n  if (label.type === 'time' && _.isObject(condition) && !_.isFunction(con.exp)) {\n    con.exp = new Date(con.exp).getTime();\n  }\n\n  return {\n    labelData: labelData,\n    con: con\n  };\n}\n\nfunction labelDisableStyle(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.2\n  };\n}\n\nfunction labelActiveStyle(style) {\n  return {\n    opacity: 1,\n    fontWeight: 600,\n    fill: 'red'\n  };\n}\n\nfunction compare(origin, condition) {\n  if (!_.isFunction(condition)) {\n    var name_1 = condition.name,\n        exp = condition.exp;\n\n    if (!origin[name_1]) {\n      return false;\n    }\n\n    if (_.isFunction(exp)) {\n      return exp(origin[name_1]);\n    }\n\n    return origin[name_1] === exp;\n  }\n\n  return condition(origin);\n}\n\nexport default {\n  active: onActive,\n  selected: onActive,\n  disable: onDisable\n};","import { __assign, __rest, __spreadArrays } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { combineFormatter, getNoopFormatter, getPrecisionFormatter, getSuffixFormatter } from '../../util/formatter';\n\nvar LabelParser =\n/** @class */\nfunction () {\n  function LabelParser(cfg) {\n    this.config = {};\n\n    var plot = cfg.plot,\n        rest = __rest(cfg, [\"plot\"]);\n\n    this.plot = plot;\n    this.originConfig = rest;\n    this.init(cfg);\n  }\n\n  LabelParser.prototype.getConfig = function () {\n    return this.config;\n  };\n\n  LabelParser.prototype.init = function (cfg) {\n    var _this = this;\n\n    _.assign(this.config, cfg);\n\n    this.config.callback = function (val) {\n      var restArgs = [];\n\n      for (var _i = 1; _i < arguments.length; _i++) {\n        restArgs[_i - 1] = arguments[_i];\n      }\n\n      return _this.parseCallBack.apply(_this, __spreadArrays([val], restArgs));\n    };\n  };\n\n  LabelParser.prototype.parseCallBack = function (val) {\n    var restArgs = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      restArgs[_i - 1] = arguments[_i];\n    }\n\n    var labelProps = this.originConfig;\n    var theme = this.plot.getPlotTheme();\n\n    var config = __assign({}, labelProps);\n\n    this.parseOffset(labelProps, config);\n\n    if (labelProps.position) {\n      if (_.isFunction(labelProps.position)) {\n        config.position = labelProps.position(val);\n      } else {\n        config.position = labelProps.position;\n      }\n    }\n\n    this.parseFormatter.apply(this, __spreadArrays([config, val], restArgs));\n\n    if (labelProps.style) {\n      if (_.isFunction(labelProps.style)) {\n        config.textStyle = labelProps.style(val);\n      } else {\n        config.textStyle = labelProps.style;\n      }\n    }\n\n    config.textStyle = _.deepMix({}, _.get(theme, 'label.style'), config.textStyle);\n\n    if (labelProps.autoRotate) {\n      config.autoRotate = labelProps.autoRotate;\n    }\n\n    return config;\n  };\n\n  LabelParser.prototype.parseOffset = function (props, config) {\n    var mapper = ['offset', 'offsetX', 'offsetY'];\n    var count = 0;\n\n    _.each(mapper, function (m) {\n      if (_.has(props, m)) {\n        config[m] = props[m];\n        count++;\n      }\n    }); // 如用户没有设置offset，而label position又为middle时，则默认设置offset为0\n\n\n    if (count === 0 && _.get(props, 'position') === 'middle') {\n      config.offset = 0;\n    }\n  };\n\n  LabelParser.prototype.parseFormatter = function (config) {\n    var values = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      values[_i - 1] = arguments[_i];\n    }\n\n    var labelProps = this.originConfig;\n    config.formatter = combineFormatter(getNoopFormatter(), getPrecisionFormatter(labelProps.precision), getSuffixFormatter(labelProps.suffix));\n\n    if (labelProps.formatter) {\n      config.formatter = combineFormatter(config.formatter, labelProps.formatter);\n    }\n  };\n\n  return LabelParser;\n}();\n\nexport default LabelParser;","import { __extends } from \"tslib\";\n/**\n * 可插拔的状态量管理机\n */\n// todo: 后续还需要加入交互互斥的维护机制\n\nimport EventEmitter from '@antv/event-emitter';\nimport * as _ from '@antv/util';\n\nvar StateManager =\n/** @class */\nfunction (_super) {\n  __extends(StateManager, _super);\n\n  function StateManager(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this._states = {};\n    _this._stateStack = {};\n    return _this;\n  }\n\n  StateManager.prototype.setState = function (name, exp) {\n    this._stateStack[name] = exp;\n\n    this._onUpdate();\n  };\n\n  StateManager.prototype.getState = function (name) {\n    return this._states[name];\n  };\n\n  StateManager.prototype.getAllStates = function () {\n    return this._states;\n  };\n\n  StateManager.prototype.clear = function () {\n    this._states = {};\n    this._stateStack = {};\n\n    if (this._changeTimer) {\n      clearTimeout(this._changeTimer);\n      this._changeTimer = null;\n    }\n  };\n\n  StateManager.prototype._onUpdate = function () {\n    var _this = this;\n\n    var stateStack = this._stateStack;\n\n    if (this._changeTimer) {\n      clearTimeout(this._changeTimer);\n      this._changeTimer = null;\n    }\n\n    this._changeTimer = setTimeout(function () {\n      // for (const name in stateStack) {\n      _.each(stateStack, function (exp, name) {\n        var state = stateStack[name];\n\n        if (!_this._states[name] || _this._states[name] !== exp) {\n          // update states\n          _this._states[name] = exp; // dispatch state event\n\n          _this._triggerEvent(name, state);\n        }\n      }); // }\n      // clear stack\n\n\n      _this._stateStack = {};\n    }, 16);\n  };\n\n  StateManager.prototype._triggerEvent = function (name, exp) {\n    this.emit(name + \":change\", {\n      name: name,\n      exp: exp\n    });\n  };\n\n  return StateManager;\n}(EventEmitter);\n\nexport default StateManager;","import * as _ from '@antv/util';\nimport { getComponentStateMethod } from '../../components/factory';\nimport { onEvent } from '../../util/event';\nimport StateManager from '../../util/state-manager';\nexport function compare(origin, condition) {\n  if (!_.isFunction(condition)) {\n    var name_1 = condition.name,\n        exp = condition.exp;\n\n    if (_.isFunction(exp)) {\n      return exp(origin[name_1]);\n    }\n\n    return origin[name_1] === exp;\n  }\n\n  return condition(origin);\n}\n\nvar StateController =\n/** @class */\nfunction () {\n  function StateController(cfg) {\n    this.shapeContainers = [];\n\n    _.assign(this, cfg);\n  }\n\n  StateController.prototype.createStateManager = function (cfg) {\n    this.stateManager = new StateManager(cfg);\n  };\n\n  StateController.prototype.bindStateManager = function (manager, cfg) {\n    this.stateManager = manager;\n\n    if (cfg.setState) {\n      this._updateStateProcess(cfg.setState);\n    }\n\n    if (cfg.onStateChange) {\n      this._stateChangeProcess(cfg.onStateChange);\n    }\n  };\n\n  StateController.prototype.defaultStates = function (states) {\n    var _this = this;\n\n    _.each(states, function (state, type) {\n      var condition = state.condition,\n          style = state.style,\n          related = state.related;\n\n      _this.setState({\n        type: type,\n        condition: condition,\n        related: related\n      });\n    });\n  };\n\n  StateController.prototype.setState = function (cfg) {\n    var _this = this;\n\n    var type = cfg.type,\n        condition = cfg.condition,\n        related = cfg.related;\n\n    if (!this.shapes) {\n      this.shapes = this._getShapes();\n      this.originAttrs = this._getOriginAttrs();\n    } // this.resetZIndex();\n\n\n    _.each(this.shapes, function (shape, index) {\n      var shapeOrigin = shape.get('origin');\n      var origin = _.isArray(shapeOrigin) ? shapeOrigin[0]._origin : shapeOrigin._origin;\n\n      if (compare(origin, condition)) {\n        var stateStyle = cfg.style ? cfg.style : _this._getDefaultStateStyle(type, shape);\n        var originAttr = _this.originAttrs[index];\n        var attrs = void 0;\n\n        if (_.isFunction(stateStyle)) {\n          attrs = stateStyle(originAttr);\n        } else {\n          attrs = _.mix({}, originAttr, stateStyle);\n        }\n\n        shape.attr(attrs);\n\n        _this.setZIndex(type, shape); // const canvas = this.plot.canvas;\n        // canvas.draw();\n\n      }\n    }); // 组件与图形对状态量的响应不一定同步\n\n\n    if (related) {\n      this._parserRelated(type, related, condition);\n    }\n\n    this.plot.canvas.draw();\n  };\n\n  StateController.prototype._updateStateProcess = function (setStateCfg) {\n    var _this = this;\n\n    _.each(setStateCfg, function (cfg) {\n      var state = cfg.state;\n      var handler;\n\n      if (_.isFunction(state)) {\n        handler = function handler(e) {\n          var s = state(e);\n\n          _this.stateManager.setState(s.name, s.exp);\n        };\n      } else {\n        handler = function handler() {\n          _this.stateManager.setState(state.name, state.exp);\n        };\n      }\n\n      if (cfg.event) {\n        onEvent(_this.plot, _this._eventParser(cfg.event), handler);\n      } else {\n        handler();\n      }\n    });\n  };\n\n  StateController.prototype._stateChangeProcess = function (onChangeCfg) {\n    var _this = this;\n\n    _.each(onChangeCfg, function (cfg) {\n      _this.stateManager.on(cfg.name + \":change\", function (props) {\n        cfg.callback(props, _this.plot);\n      });\n    });\n  };\n\n  StateController.prototype._getShapes = function () {\n    var _this = this;\n\n    var shapes = [];\n    var geoms = this.plot.view.get('elements');\n\n    _.each(geoms, function (geom) {\n      var shapeContainer = geom.get('shapeContainer');\n\n      _this.shapeContainers.push(shapeContainer);\n\n      if (!geom.destroyed) {\n        shapes.push.apply(shapes, geom.getShapes());\n      }\n    });\n\n    return shapes;\n  };\n\n  StateController.prototype._getOriginAttrs = function () {\n    var attrs = [];\n\n    _.each(this.shapes, function (shape) {\n      attrs.push(_.clone(shape.attr()));\n    });\n\n    return attrs;\n  }; // 将g2 geomtry转为plot层geometry\n\n\n  StateController.prototype._eventParser = function (event) {\n    var eventCfg = event.split(':');\n    var eventTarget = this.plot.geometryParser('g2', eventCfg[0]);\n    var eventName = eventCfg[1];\n    return eventTarget + \":\" + eventName;\n  };\n\n  StateController.prototype._getDefaultStateStyle = function (type, shape) {\n    var theme = this.plot.theme;\n    var plotGeomType = this.plot.geometryParser('plot', shape.name);\n    var styleField = plotGeomType + \"Style\";\n\n    if (theme[styleField]) {\n      var style = theme[styleField][type];\n\n      if (_.isFunction(style)) {\n        style = style(shape.attr());\n      }\n\n      return style;\n    }\n\n    return {};\n  };\n\n  StateController.prototype._parserRelated = function (type, related, condition) {\n    var _this = this;\n\n    _.each(related, function (r) {\n      if (_this.plot[r]) {\n        // fixme: 自定义组件\n        // this.plot[r].setState(type, condition);\n        var method = getComponentStateMethod(r, type);\n        method(_this.plot, condition);\n      }\n    });\n  }; // private set\n\n\n  StateController.prototype.setZIndex = function (stateType, shape) {\n    if (stateType === 'active' || stateType === 'selected') {\n      // shape.setZIndex(1);\n      var children = shape.get('parent').get('children');\n      children[children.length - 1].setZIndex(0);\n      shape.setZIndex(1);\n    }\n  };\n\n  StateController.prototype.resetZIndex = function () {\n    _.each(this.shapeContainers, function (container) {\n      var children = container.get('children');\n      children.sort(function (obj1, obj2) {\n        return obj1._INDEX - obj2._INDEX;\n      });\n    });\n  };\n\n  return StateController;\n}();\n\nexport default StateController;","import * as _ from '@antv/util';\nimport { compare } from '../../base/controller/state'; // 对label和label样式进行缓存\n\nvar labels;\nvar originAttrs;\n\nfunction onActive(plot, condition) {\n  if (!labels) {\n    getAllLabels(plot);\n  }\n\n  _.each(labels, function (label, index) {\n    var origin = label.get('origin');\n\n    if (compare(origin, condition)) {\n      var originAttr = originAttrs[index];\n\n      var style = _.mix({}, originAttr, {\n        opacity: 1\n      });\n\n      label.attr(style);\n    }\n  });\n}\n\nfunction onDisable(plot, condition) {\n  if (!labels) {\n    getAllLabels(plot);\n  }\n\n  _.each(labels, function (label, index) {\n    var origin = label.get('origin');\n\n    if (compare(origin, condition)) {\n      var originAttr = originAttrs[index];\n      var disableStyle = labelDisableStyle(originAttr);\n      label.attr(disableStyle);\n    }\n  });\n}\n\nfunction getAllLabels(plot) {\n  labels = [];\n  originAttrs = [];\n  var geoms = plot.view.get('elements');\n\n  _.each(geoms, function (geom) {\n    var geomLabels = geom.get('labels');\n\n    if (geomLabels) {\n      _.each(geomLabels, function (label) {\n        labels.push(label);\n        originAttrs.push(label.attr());\n      });\n    }\n  });\n}\n\nfunction labelDisableStyle(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.2\n  };\n}\n\nexport default {\n  active: onActive,\n  selected: onActive,\n  disable: onDisable\n};","// components parser\nimport AxisParser from './axis/parser';\nimport GuideLine from './guide-line';\nimport LabelParser from './label/parser'; // components state methods\n\nimport axisState from './axis/state';\nimport labelState from './label/state';\nimport tooltipState from './tooltip/state';\nvar COMPONENT_MAPPER = {\n  axis: AxisParser,\n  label: LabelParser,\n  guideLine: GuideLine\n};\nvar STATE_MAPPER = {\n  tooltip: tooltipState,\n  label: labelState,\n  axis: axisState\n};\nexport function getComponent(name, cfg) {\n  var Components = COMPONENT_MAPPER[name];\n  return new Components(cfg).config;\n}\nexport function getComponentStateMethod(name, type) {\n  return STATE_MAPPER[name][type];\n}","import * as _ from '@antv/util';\nimport { compare } from '../../base/controller/state';\nvar POSITION_MAPPER = ['xField', 'yField', 'angleField'];\n\nfunction onActive(plot, condition) {\n  var props = plot.options; // 获取state condition对应在画布的位置，只有在state condition对应字段为位置映射字段时，tooltip才会对齐进行响应\n\n  if (shouldActive(props, condition)) {\n    var data = props.data;\n\n    _.each(data, function (d) {\n      if (compare(d, condition)) {\n        var point = plot.view.getXY(d); // 调用showTooltip方法\n\n        plot.view.on('tooltip:create', function (e) {\n          processState(condition, e, false);\n        });\n        plot.view.showTooltip(point);\n      }\n    });\n  }\n}\n\nfunction onDisable(plot, condition) {\n  plot.view.on('tooltip:change', function (e) {\n    processState(condition, e, true);\n  });\n}\n\nfunction processState(condition, e, inverse) {\n  var expected = inverse ? false : true;\n\n  var originItems = _.clone(e.items);\n\n  e.items.splice(0);\n\n  _.each(originItems, function (item) {\n    var origin = item.point._origin;\n\n    if (compare(origin, condition) === expected) {\n      e.items.push(item);\n    }\n  });\n}\n\nfunction shouldActive(props, condition) {\n  var fields = getPositionField(props);\n  return !_.isFunction(condition) && fields.indexOf(condition.name);\n}\n\nfunction getPositionField(props) {\n  var fields = [];\n\n  _.each(POSITION_MAPPER, function (v) {\n    if (_.has(props, v)) {\n      fields.push(v);\n    }\n  });\n\n  return fields;\n}\n\nexport default {\n  active: onActive,\n  selected: onActive,\n  disable: onDisable\n};","import { __extends } from \"tslib\";\nimport { Interaction } from '@antv/g2';\n\nvar BaseInteraction =\n/** @class */\nfunction (_super) {\n  __extends(BaseInteraction, _super);\n\n  function BaseInteraction(cfg, viewLayer, interactionRange, interaction) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.viewLayer = viewLayer;\n    _this.interactionRange = interactionRange;\n    _this.interactionConfig = interaction;\n\n    _this.render();\n\n    return _this;\n  }\n\n  BaseInteraction.registerInteraction = function (type, ctor) {\n    BaseInteraction.GLOBAL_INTERACTION_MAP[type] = ctor;\n  };\n\n  BaseInteraction.registerPlotInteraction = function (plotType, type, ctor) {\n    if (!BaseInteraction.PLOT_INTERACTION_MAP[plotType]) {\n      BaseInteraction.PLOT_INTERACTION_MAP[plotType] = {};\n    }\n\n    BaseInteraction.PLOT_INTERACTION_MAP[plotType][type] = ctor;\n  };\n\n  BaseInteraction.getInteraction = function (type, plotType) {\n    if (plotType && BaseInteraction.PLOT_INTERACTION_MAP[plotType] && BaseInteraction[plotType][type]) {\n      return BaseInteraction.PLOT_INTERACTION_MAP[plotType][type];\n    }\n\n    return BaseInteraction.GLOBAL_INTERACTION_MAP[type];\n  };\n\n  BaseInteraction.getInteractionRange = function (layerRange, interaction) {\n    return undefined;\n  };\n\n  BaseInteraction.prototype.destroy = function () {\n    this.clear();\n\n    _super.prototype.destroy.call(this);\n  };\n\n  BaseInteraction.prototype.getViewLayer = function () {\n    return this.viewLayer;\n  };\n\n  BaseInteraction.prototype.getRange = function () {\n    return this.interactionRange;\n  };\n\n  BaseInteraction.prototype.getInteractionConfig = function () {\n    return this.interactionConfig;\n  };\n\n  BaseInteraction.prototype.render = function () {};\n\n  BaseInteraction.prototype.clear = function () {};\n\n  BaseInteraction.GLOBAL_INTERACTION_MAP = {};\n  BaseInteraction.PLOT_INTERACTION_MAP = {};\n  return BaseInteraction;\n}(Interaction);\n\nexport default BaseInteraction;","var DEFAULT_STYLE = {\n  trackColor: 'rgba(0,0,0,0)',\n  thumbColor: 'rgba(0,0,0,0.15)',\n  size: 8,\n  lineCap: 'round'\n};\nexport var DEFAULT_THEME = {\n  // 默认样式\n  default: DEFAULT_STYLE,\n  // 鼠标 hover 的样式\n  hover: {\n    thumbColor: 'rgba(0,0,0,0.2)'\n  }\n};","import { __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { DEFAULT_THEME } from './style';\n\nvar ScrollBar =\n/** @class */\nfunction (_super) {\n  __extends(ScrollBar, _super);\n\n  function ScrollBar(scrollBarCfg) {\n    var _this = _super.call(this) || this; // 通过拖拽开始的事件是 mousedown 还是 touchstart 来决定是移动端还是 pc 端\n\n\n    _this._isMobile = false;\n\n    _this._onStartEvent = function (isMobile) {\n      return function (e) {\n        _this._isMobile = isMobile; // 阻止冒泡\n\n        e.event.preventDefault();\n        var event = _this._isMobile ? _.get(e.event, 'touches.0', e) : e;\n        var clientX = event.clientX,\n            clientY = event.clientY; // 将开始的点记录下来\n\n        _this._startPos = _this.isHorizontal ? clientX : clientY;\n\n        _this._bindLaterEvent();\n      };\n    }; // 点击滑道的事件回调,移动滑块位置\n\n\n    _this._onTrackClick = function (e) {\n      var containerDOM = _this.get('canvas').get('containerDOM');\n\n      var rect = containerDOM.getBoundingClientRect();\n      var clientX = e.clientX,\n          clientY = e.clientY;\n      var offset = _this.isHorizontal ? clientX - rect.left - _this.position.x - _this.thumbLen / 2 : clientY - rect.top - _this.position.y - _this.thumbLen / 2;\n\n      var newOffset = _this._validateRange(offset);\n\n      _this.updateThumbOffset(newOffset);\n    }; // 拖拽滑块的事件回调\n    // 这里是 dom 原生事件，绑定在 dom 元素上的\n\n\n    _this._onMouseMove = function (e) {\n      e.preventDefault();\n      var event = _this._isMobile ? _.get(e, 'touches.0', e) : e;\n      var clientX = event.clientX;\n      var clientY = event.clientY; // 鼠标松开的位置\n\n      var endPos = _this.isHorizontal ? clientX : clientY; // 滑块需要移动的距离, 由于这里是对滑块监听，所以移动的距离就是 diffDis, 如果监听对象是 container dom，则需要算比例\n\n      var diff = endPos - _this._startPos; // 更新 _startPos\n\n      _this._startPos = endPos;\n\n      _this.updateThumbOffset(_this.thumbOffset + diff);\n    }; // 滑块鼠标松开事件回调\n\n\n    _this._onMouseUp = function (e) {\n      // 松开鼠标时，清除所有事件\n      e.preventDefault();\n\n      _this._clearEvents();\n    };\n\n    _this._onTrackMouseOver = function (e) {\n      var thumbColor = _this.theme.hover.thumbColor;\n\n      _this.thumbShape.attr('stroke', thumbColor);\n\n      _this.get('canvas').draw();\n    };\n\n    _this._onTrackMouseOut = function (e) {\n      var thumbColor = _this.theme.default.thumbColor;\n\n      _this.thumbShape.attr('stroke', thumbColor);\n\n      _this.get('canvas').draw();\n    };\n\n    var _a = scrollBarCfg.isHorizontal,\n        isHorizontal = _a === void 0 ? false : _a,\n        trackLen = scrollBarCfg.trackLen,\n        thumbLen = scrollBarCfg.thumbLen,\n        position = scrollBarCfg.position,\n        _b = scrollBarCfg.minThumbLen,\n        minThumbLen = _b === void 0 ? 20 : _b,\n        _c = scrollBarCfg.thumbOffset,\n        thumbOffset = _c === void 0 ? 0 : _c,\n        theme = scrollBarCfg.theme;\n    _this.isHorizontal = isHorizontal;\n    _this.thumbOffset = thumbOffset;\n    _this.trackLen = trackLen;\n    _this.thumbLen = thumbLen;\n    _this.position = position;\n    _this.minThumbLen = minThumbLen;\n    _this.theme = _.deepMix({}, DEFAULT_THEME, theme);\n\n    _this._initScrollBar();\n\n    return _this;\n  }\n  /**\n   * 当前滑块滑动的位置 0 ~ 1\n   */\n\n\n  ScrollBar.prototype.current = function () {\n    var thumbRate = this.thumbLen / this.trackLen;\n    var offsetRate = this.thumbOffset / this.trackLen;\n    return offsetRate / (1 - thumbRate);\n  };\n  /**\n   * 更新滑道长度\n   * @param newTrackLen 新的滑块长度\n   */\n\n\n  ScrollBar.prototype.updateTrackLen = function (newTrackLen) {\n    // 如果更新后的 trackLen 没改变，无需执行后续逻辑\n    if (this.trackLen === newTrackLen) {\n      return;\n    } // 更新滑道长度的时候，同时按比例更新滑块长度和 offset(增大视窗或者减小视窗的场景))\n\n\n    var thumbRate = this.thumbLen / this.trackLen;\n    var offsetRate = this.thumbOffset / this.trackLen;\n    var newThumbLen = newTrackLen * thumbRate;\n    var newOffset = newTrackLen * offsetRate;\n    this.trackLen = newTrackLen;\n\n    if (this.isHorizontal) {\n      this.trackShape.attr('x2', newTrackLen);\n    } else {\n      this.trackShape.attr('y2', newTrackLen);\n    }\n\n    this.updateThumbLen(newThumbLen);\n    this.updateThumbOffset(newOffset);\n\n    this._renderNewScrollBar();\n  };\n  /**\n   * 更新滑块长度\n   * @param newThumbLen 新的滑道长度\n   */\n\n\n  ScrollBar.prototype.updateThumbLen = function (newThumbLen) {\n    // 如果更新后的 thumbLen 没改变，无需执行后续逻辑\n    if (this.thumbLen === newThumbLen) {\n      return;\n    }\n\n    this.thumbLen = newThumbLen;\n\n    if (this.isHorizontal) {\n      this.thumbShape.attr('x2', this.thumbOffset + newThumbLen);\n    } else {\n      this.thumbShape.attr('y2', this.thumbOffset + newThumbLen);\n    }\n\n    this._renderNewScrollBar();\n  };\n  /**\n   * 更新滑块的 offset 值\n   * @param offset\n   */\n\n\n  ScrollBar.prototype.updateThumbOffset = function (offset) {\n    var newOffset = this._validateRange(offset); // 如果更新后的 offset 与原值相同，则不改变\n\n\n    if (this.thumbOffset === newOffset) {\n      return;\n    }\n\n    this.thumbOffset = newOffset;\n\n    if (this.isHorizontal) {\n      this.thumbShape.attr({\n        x1: newOffset,\n        x2: newOffset + this.thumbLen\n      });\n    } else {\n      this.thumbShape.attr({\n        y1: newOffset,\n        y2: newOffset + this.thumbLen\n      });\n    }\n\n    this._renderNewScrollBar();\n  };\n  /**\n   * 更新滑道位置\n   * @param newPos 新的滑块位置\n   */\n\n\n  ScrollBar.prototype.updateScrollBarPos = function (newPos) {\n    if (newPos.x === this.position.x && newPos.y === this.position.y) {\n      return;\n    }\n\n    this.position = newPos;\n    this.scrollBarGroup.move(newPos.x, newPos.y);\n\n    this._renderNewScrollBar();\n  }; // 绘制新的 scrollBar\n\n\n  ScrollBar.prototype._renderNewScrollBar = function () {\n    // 发送事件\n    this.emit('scrollchange', {\n      thumbOffset: this.thumbOffset,\n      ratio: _.clamp(this.thumbOffset / (this.trackLen - this.thumbLen), 0, 1)\n    }); // 渲染\n\n    this.get('canvas').draw();\n  };\n\n  ScrollBar.prototype.updateTheme = function (theme) {\n    this.theme = _.deepMix({}, DEFAULT_THEME, theme);\n    this.thumbShape.attr('stroke', this.theme.default.thumbColor);\n    this.thumbShape.attr('lineWidth', this.theme.default.size);\n    this.thumbShape.attr('lineCap', this.theme.default.lineCap);\n    this.get('canvas').draw();\n  }; // 初始化 scrollBar\n\n\n  ScrollBar.prototype._initScrollBar = function () {\n    this.scrollBarGroup = this._createScrollBarGroup();\n    this.scrollBarGroup.move(this.position.x, this.position.y); // 绑定事件\n\n    this._bindEvents();\n  }; // 创建 scrollBar 的 group\n\n\n  ScrollBar.prototype._createScrollBarGroup = function () {\n    var group = this.addGroup({\n      className: this.isHorizontal ? 'horizontalBar' : 'verticalBar'\n    });\n    this.trackShape = this._createTrackShape(group);\n    this.thumbShape = this._createThumbShape(group);\n    return group;\n  }; // 创建滑道的 shape\n\n\n  ScrollBar.prototype._createTrackShape = function (group) {\n    var _a = this.theme.default,\n        lineCap = _a.lineCap,\n        trackColor = _a.trackColor,\n        size = _a.size;\n\n    if (this.isHorizontal) {\n      return group.addShape('line', {\n        attrs: {\n          x1: 0,\n          y1: size / 2,\n          x2: this.trackLen,\n          y2: size / 2,\n          lineWidth: size,\n          stroke: trackColor,\n          lineCap: lineCap\n        }\n      });\n    }\n\n    return group.addShape('line', {\n      attrs: {\n        x1: size / 2,\n        y1: 0,\n        x2: size / 2,\n        y2: this.trackLen,\n        lineWidth: size,\n        stroke: trackColor,\n        lineCap: lineCap\n      }\n    });\n  }; // 创建滑块的 shape\n\n\n  ScrollBar.prototype._createThumbShape = function (group) {\n    var _a = this.theme.default,\n        size = _a.size,\n        lineCap = _a.lineCap,\n        thumbColor = _a.thumbColor;\n\n    if (this.isHorizontal) {\n      return group.addShape('line', {\n        attrs: {\n          x1: this.thumbOffset,\n          y1: size / 2,\n          x2: this.thumbOffset + this.thumbLen,\n          y2: size / 2,\n          lineWidth: size,\n          stroke: thumbColor,\n          lineCap: lineCap,\n          cursor: 'default'\n        }\n      });\n    }\n\n    return group.addShape('line', {\n      attrs: {\n        x1: size / 2,\n        y1: this.thumbOffset,\n        x2: size / 2,\n        y2: this.thumbOffset + this.thumbLen,\n        lineWidth: size,\n        stroke: thumbColor,\n        lineCap: lineCap,\n        cursor: 'default'\n      }\n    });\n  }; // 事件绑定\n\n\n  ScrollBar.prototype._bindEvents = function () {\n    this.on('mousedown', this._onStartEvent(false)); // 因为上层交叉表交互 prevent 事件，导致 containerDOM 上的 mouseup 事件没有执行，\n    // 整个拖拽过程没有 cancel 掉。\n\n    this.on('mouseup', this._onMouseUp);\n    this.on('touchstart', this._onStartEvent(true));\n    this.on('touchend', this._onMouseUp);\n    this.trackShape.on('click', this._onTrackClick);\n    this.thumbShape.on('mouseover', this._onTrackMouseOver);\n    this.thumbShape.on('mouseout', this._onTrackMouseOut);\n  };\n\n  ScrollBar.prototype._bindLaterEvent = function () {\n    var containerDOM = this.get('canvas').get('containerDOM');\n    var events = [];\n\n    if (this._isMobile) {\n      events = [domUtil.addEventListener(containerDOM, 'touchmove', this._onMouseMove), domUtil.addEventListener(containerDOM, 'touchend', this._onMouseUp), domUtil.addEventListener(containerDOM, 'touchcancel', this._onMouseUp)];\n    } else {\n      events = [domUtil.addEventListener(containerDOM, 'mousemove', this._onMouseMove), domUtil.addEventListener(containerDOM, 'mouseup', this._onMouseUp), // 为了保证划出 canvas containerDom 时还没触发 mouseup\n      domUtil.addEventListener(containerDOM, 'mouseleave', this._onMouseUp)];\n    }\n\n    this._clearEvents = function () {\n      events.forEach(function (e) {\n        e.remove();\n      });\n    };\n  }; // 判断滑块位置是否超出滑道区域\n\n\n  ScrollBar.prototype._validateRange = function (offset) {\n    var newOffset = offset;\n\n    if (offset + this.thumbLen > this.trackLen) {\n      newOffset = this.trackLen - this.thumbLen;\n    } else if (offset + this.thumbLen < this.thumbLen) {\n      newOffset = 0;\n    }\n\n    return newOffset;\n  };\n\n  return ScrollBar;\n}(Group);\n\nexport default ScrollBar;","import { __assign, __extends } from \"tslib\";\nimport { Group, Path } from '@antv/g';\nvar DIR_MAPPER = {\n  right: 90 * Math.PI / 180,\n  left: (360 - 90) * Math.PI / 180,\n  up: 0,\n  down: 180 * Math.PI / 180\n};\n\nvar Arrow =\n/** @class */\nfunction (_super) {\n  __extends(Arrow, _super);\n\n  function Arrow(cfg) {\n    var _this = _super.call(this) || this; // 解构，追加默认值\n\n\n    var _a = cfg.position,\n        position = _a === void 0 ? {\n      x: 0,\n      y: 0\n    } : _a,\n        _b = cfg.width,\n        width = _b === void 0 ? 10 : _b,\n        _c = cfg.height,\n        height = _c === void 0 ? 10 : _c,\n        _d = cfg.direction,\n        direction = _d === void 0 ? 'right' : _d,\n        _e = cfg.shapeAttrs,\n        shapeAttrs = _e === void 0 ? {} : _e;\n    _this.position = position;\n    _this.width = width;\n    _this.height = height;\n    _this.direction = direction;\n    _this.shapeAttrs = shapeAttrs;\n\n    _this._init();\n\n    return _this;\n  }\n\n  Arrow.prototype._init = function () {\n    var _this = this;\n\n    var centerX = this.width / 2;\n    var centerY = this.height / 2;\n    var points = [{\n      x: 0,\n      y: -centerY\n    }, {\n      x: -centerX,\n      y: centerY\n    }, {\n      x: centerX,\n      y: centerY\n    }];\n    var shape = new Path({\n      attrs: __assign({\n        path: [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['Z']]\n      }, this.shapeAttrs)\n    });\n    this.add(shape); // rotate\n\n    this.rotate(DIR_MAPPER[this.direction]); // move to\n\n    this.move(this.position.x, this.position.y);\n    shape.on('click', function (e) {\n      e.stopPropagation();\n\n      _this.emit('click', e);\n    });\n  };\n\n  return Arrow;\n}(Group);\n\nexport default Arrow;","import { __assign, __extends } from \"tslib\";\n/**\n * Icon 需求和设计：https://yuque.antfin-inc.com/eva-engine/specs/sh9uyn\n * 使用 icon font\n */\n\nimport { Group } from '@antv/g';\n\nvar Icon =\n/** @class */\nfunction (_super) {\n  __extends(Icon, _super);\n\n  function Icon(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    var _a = cfg.position,\n        position = _a === void 0 ? {\n      x: 0,\n      y: 0\n    } : _a,\n        icon = cfg.icon,\n        _b = cfg.text,\n        text = _b === void 0 ? '' : _b,\n        _c = cfg.spacing,\n        spacing = _c === void 0 ? 8 : _c,\n        iconStyle = cfg.iconStyle,\n        textStyle = cfg.textStyle,\n        _d = cfg.interactive,\n        interactive = _d === void 0 ? false : _d;\n    _this.position = position;\n    _this.icon = icon;\n    _this.text = text;\n    _this.spacing = spacing; // todo 默认样式\n\n    _this.iconStyle = __assign({\n      fontFamily: 'iconfont',\n      fontSize: 16,\n      textAlign: 'left',\n      textBaseline: 'top',\n      fill: '#1890ff'\n    }, iconStyle);\n    _this.textStyle = __assign({\n      fontSize: 12,\n      textAlign: 'left',\n      textBaseline: 'middle',\n      fill: '#000'\n    }, textStyle);\n    _this.interactive = interactive; // 渲染\n\n    _this._initIcon();\n\n    if (_this.interactive) {\n      _this._bindEvent();\n    }\n\n    return _this;\n  } // 绘制 icon\n\n\n  Icon.prototype._initIcon = function () {\n    var _a = this.position,\n        x = _a.x,\n        y = _a.y;\n    var icon = String.fromCharCode(parseInt(this.icon, 16)); // icon\n\n    var iconShape = this.addShape('text', {\n      attrs: __assign({\n        x: x,\n        y: y,\n        text: icon\n      }, this.iconStyle)\n    }); // text\n\n    if (this.text) {\n      var iconBBox = iconShape.getBBox();\n      this.addShape('text', {\n        attrs: __assign({\n          x: x + iconBBox.width + this.spacing,\n          y: y + iconBBox.height / 2,\n          text: this.text\n        }, this.textStyle)\n      });\n    } // 背景\n\n\n    var bbox = this.getBBox();\n    this.bg = this.addShape('rect', {\n      attrs: {\n        x: bbox.x,\n        y: bbox.y,\n        width: bbox.width,\n        height: bbox.height,\n        radius: 2,\n        fill: '#fff'\n      },\n      zIndex: -1\n    });\n    this.sort();\n  };\n  /**\n   * 绑定事件：\n   * 1. hover 加背景\n   * 2. 点击 emit 出去\n   * @private\n   */\n\n\n  Icon.prototype._bindEvent = function () {\n    var _this = this;\n\n    this.on('mouseover', function () {\n      _this.bg.attr('fill', '#F5F5F5');\n\n      _this.get('canvas').draw();\n    });\n    this.on('mouseout', function () {\n      _this.bg.attr('fill', '#fff');\n\n      _this.get('canvas').draw();\n    });\n  };\n\n  return Icon;\n}(Group);\n\nexport default Icon;","export var BACKGROUND_STYLE = {\n  // fill: 'red',\n  opacity: 0\n};\nexport var LINE_STYLE = {\n  stroke: '#C5C5C5',\n  strokeOpacity: 0.85\n};\nexport var AREA_STYLE = {\n  fill: '#CACED4',\n  opacity: 0.85\n};","import { __spreadArrays } from \"tslib\";\nimport * as pathUtil from '@antv/path-util';\nimport Category from '@antv/scale/lib/category';\nimport Linear from '@antv/scale/lib/linear';\nimport * as _ from '@antv/util';\n/**\n * 点数组转 path\n * @param points\n */\n\nfunction pointsToPath(points) {\n  return _.map(points, function (p, idx) {\n    var command = idx === 0 ? 'M' : 'L';\n    var x = p[0],\n        y = p[1];\n    return [command, x, y];\n  });\n}\n/**\n * 将点连接成路径 path\n * @param points\n */\n\n\nexport function getLinePath(points) {\n  return pointsToPath(points);\n}\n/**\n * 将点连成平滑的曲线\n * @param points\n */\n\nexport function getSmoothLinePath(points) {\n  if (points.length <= 2) {\n    // 两点以内直接绘制成路径\n    return getLinePath(points);\n  }\n\n  var data = [];\n\n  _.each(points, function (p) {\n    // 当前点和上一个点一样的时候，忽略掉\n    if (!_.isEqual(p, data.slice(data.length - 2))) {\n      data.push(p[0], p[1]);\n    }\n  }); // const constraint = [ // 范围\n  //   [ 0, 0 ],\n  //   [ 1, 1 ],\n  // ];\n\n\n  var path = pathUtil.catmullRom2Bezier(data, false);\n\n  var _a = _.head(points),\n      x = _a[0],\n      y = _a[1];\n\n  path.unshift(['M', x, y]);\n  return path;\n}\n/**\n * 将数据转成 path，利用 scale 的归一化能力\n * @param data\n * @param width\n * @param height\n * @param smooth\n */\n\nexport function dataToPath(data, width, height, smooth) {\n  if (smooth === void 0) {\n    smooth = true;\n  } // 利用 scale 来获取 y 上的映射\n\n\n  var y = new Linear({\n    values: data\n  });\n  var x = new Category({\n    values: _.map(data, function (v, idx) {\n      return idx;\n    })\n  });\n\n  var points = _.map(data, function (v, idx) {\n    return [x.scale(idx) * width, height - y.scale(v) * height];\n  });\n\n  return smooth ? getSmoothLinePath(points) : getLinePath(points);\n}\n/**\n * 线 path 转 area path\n * @param path\n * @param width\n * @param height\n */\n\nexport function linePathToAreaPath(path, width, height) {\n  var areaPath = __spreadArrays(path);\n\n  areaPath.push(['L', width, 0]);\n  areaPath.push(['L', 0, height]);\n  areaPath.push(['Z']);\n  return areaPath;\n}","import { __assign, __extends } from \"tslib\";\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { AREA_STYLE, BACKGROUND_STYLE, LINE_STYLE } from './constant';\nimport { dataToPath, linePathToAreaPath } from './path';\n/**\n * 缩略趋势图\n */\n\nvar Trend =\n/** @class */\nfunction (_super) {\n  __extends(Trend, _super);\n\n  function Trend(cfg) {\n    var _this = _super.call(this) || this;\n\n    var _a = cfg.x,\n        x = _a === void 0 ? 0 : _a,\n        _b = cfg.y,\n        y = _b === void 0 ? 0 : _b,\n        _c = cfg.width,\n        width = _c === void 0 ? 200 : _c,\n        _d = cfg.height,\n        height = _d === void 0 ? 16 : _d,\n        _e = cfg.smooth,\n        smooth = _e === void 0 ? true : _e,\n        _f = cfg.isArea,\n        isArea = _f === void 0 ? false : _f,\n        _g = cfg.data,\n        data = _g === void 0 ? [] : _g,\n        backgroundStyle = cfg.backgroundStyle,\n        lineStyle = cfg.lineStyle,\n        areaStyle = cfg.areaStyle;\n    _this.x = x;\n    _this.y = y;\n    _this.width = width;\n    _this.height = height;\n    _this.data = data;\n    _this.smooth = smooth;\n    _this.isArea = isArea;\n    _this.backgroundStyle = _.assign({}, BACKGROUND_STYLE, backgroundStyle);\n    _this.lineStyle = _.assign({}, LINE_STYLE, lineStyle);\n    _this.areaStyle = _.assign({}, AREA_STYLE, areaStyle);\n\n    _this._initial();\n\n    return _this;\n  }\n  /**\n   * 构造\n   * @private\n   */\n\n\n  Trend.prototype._initial = function () {\n    var _a = this,\n        x = _a.x,\n        y = _a.y,\n        width = _a.width,\n        height = _a.height,\n        data = _a.data,\n        smooth = _a.smooth,\n        isArea = _a.isArea,\n        backgroundStyle = _a.backgroundStyle,\n        lineStyle = _a.lineStyle,\n        areaStyle = _a.areaStyle; // 背景\n\n\n    this.backgroundShape = this.addShape('rect', {\n      attrs: __assign({\n        x: 0,\n        y: 0,\n        width: width,\n        height: height\n      }, backgroundStyle)\n    });\n    var path = dataToPath(data, width, height, smooth); // 线\n\n    this.lineShape = this.addShape('path', {\n      attrs: __assign({\n        path: path\n      }, lineStyle)\n    }); // area\n    // 在 path 的基础上，增加两个坐标点\n\n    var areaPath = linePathToAreaPath(path, width, height);\n\n    if (isArea) {\n      this.areaShape = this.addShape('path', {\n        attrs: __assign({\n          path: areaPath\n        }, areaStyle)\n      });\n    } // 统一移动到对应的位置\n\n\n    this.move(x, y);\n  };\n\n  return Trend;\n}(Group);\n\nexport default Trend;","/**\n * 一些默认的样式配置\n */\nexport var BACKGROUND_STYLE = {\n  fill: '#416180 ',\n  opacity: 0.05\n};\nexport var FOREGROUND_STYLE = {\n  fill: '#5B8FF9',\n  opacity: 0.15,\n  cursor: 'move'\n};\nexport var DEFAULT_HANDLER_WIDTH = 10;\nexport var HANDLER_STYLE = {\n  width: DEFAULT_HANDLER_WIDTH,\n  height: 24\n};\nexport var TEXT_STYLE = {\n  textBaseline: 'middle',\n  fill: '#000',\n  opacity: 0.45\n};\nexport var SLIDER_CHANGE = 'sliderchange';","import { __assign, __extends } from \"tslib\";\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nvar DEFAULT_STYLE = {\n  fill: '#F7F7F7',\n  stroke: '#BFBFBF',\n  radius: 2,\n  opacity: 1,\n  cursor: 'ew-resize',\n  // 高亮的颜色\n  highLightFill: '#FFF'\n};\n\nvar Handler =\n/** @class */\nfunction (_super) {\n  __extends(Handler, _super);\n\n  function Handler(cfg) {\n    var _this = _super.call(this) || this;\n\n    var _a = cfg.x,\n        x = _a === void 0 ? 0 : _a,\n        _b = cfg.y,\n        y = _b === void 0 ? 0 : _b,\n        _c = cfg.width,\n        width = _c === void 0 ? 10 : _c,\n        _d = cfg.height,\n        height = _d === void 0 ? 24 : _d,\n        _e = cfg.style,\n        style = _e === void 0 ? {} : _e;\n    _this.x = x;\n    _this.y = y;\n    _this.width = width;\n    _this.height = height;\n    _this.style = __assign(__assign({}, DEFAULT_STYLE), style);\n\n    _this._initial();\n\n    return _this;\n  }\n  /**\n   * 设置位置 x\n   * @param x\n   */\n\n\n  Handler.prototype.setX = function (x) {\n    this.setXY(x, undefined);\n  };\n  /**\n   * 设置位置 y\n   * @param y\n   */\n\n\n  Handler.prototype.setY = function (y) {\n    this.setXY(undefined, y);\n  };\n\n  Handler.prototype.setXY = function (x, y) {\n    if (_.isNumber(x)) {\n      this.x = x;\n    }\n\n    if (_.isNumber(y)) {\n      this.y = y;\n    }\n\n    this._updateXY();\n  };\n  /**\n   * 初始化组件\n   * @private\n   */\n\n\n  Handler.prototype._initial = function () {\n    var _a = this,\n        width = _a.width,\n        height = _a.height,\n        style = _a.style;\n\n    var fill = style.fill,\n        stroke = style.stroke,\n        radius = style.radius,\n        opacity = style.opacity,\n        cursor = style.cursor; // 按钮框框\n\n    this.background = this.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        fill: fill,\n        stroke: stroke,\n        radius: radius,\n        opacity: opacity,\n        cursor: cursor\n      }\n    }); // 两根竖线\n\n    var x1 = 1 / 3 * width;\n    var x2 = 2 / 3 * width;\n    var y1 = 1 / 4 * height;\n    var y2 = 3 / 4 * height;\n    this.addShape('line', {\n      attrs: {\n        x1: x1,\n        y1: y1,\n        x2: x1,\n        y2: y2,\n        stroke: stroke,\n        cursor: cursor\n      }\n    });\n    this.addShape('line', {\n      attrs: {\n        x1: x2,\n        y1: y1,\n        x2: x2,\n        y2: y2,\n        stroke: stroke,\n        cursor: cursor\n      }\n    }); // 移动到对应的位置\n\n    this._updateXY();\n\n    this._bindEvents();\n  };\n\n  Handler.prototype._bindEvents = function () {\n    var _this = this;\n\n    this.on('mouseenter', function () {\n      var highLightFill = _this.style.highLightFill;\n\n      _this.background.attr('fill', highLightFill);\n\n      _this._getCanvas().draw();\n    });\n    this.on('mouseleave', function () {\n      var fill = _this.style.fill;\n\n      _this.background.attr('fill', fill);\n\n      _this._getCanvas().draw();\n    });\n  };\n\n  Handler.prototype._updateXY = function () {\n    this.move(this.x, this.y);\n  };\n  /**\n   * 因为 get('canvas') 因为构建顺序问题，导致不存在，所以采用这种方式拿到 canvas\n   * @private\n   */\n\n\n  Handler.prototype._getCanvas = function () {\n    var t = this;\n\n    while (t.get('parent')) {\n      t = t.get('parent');\n    } // 最顶层的 parent 就是 canvas 实例\n\n\n    return t;\n  };\n\n  return Handler;\n}(Group);\n\nexport default Handler;","/**\n * @file 基于 G 的缩略轴组件（Slider 组件）\n * @author hustcc\n */\nimport { __assign, __extends } from \"tslib\";\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nimport Trend from '../trend';\nimport { BACKGROUND_STYLE, DEFAULT_HANDLER_WIDTH, FOREGROUND_STYLE, HANDLER_STYLE, SLIDER_CHANGE, TEXT_STYLE } from './constant';\nimport Handler from './handler';\n/**\n * 缩略轴组件\n * 设计稿：https://yuque.antfin-inc.com/antv/cfksca/432935?artboard_type=artboard&view=&from=#comment-518267\n */\n\nvar Slider =\n/** @class */\nfunction (_super) {\n  __extends(Slider, _super);\n\n  function Slider(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.prevX = 0;\n    _this.prevY = 0;\n\n    _this.onMouseDown = function (handler) {\n      return function (e) {\n        // 1. 记录点击的滑块\n        _this.currentHandler = handler; // 2. 存储当前点击位置\n\n        var event = e.event;\n        event.stopPropagation();\n        event.preventDefault(); // 兼容移动端获取数据\n\n        _this.prevX = _.get(event, 'touches.0.pageX', event.pageX);\n        _this.prevY = _.get(event, 'touches.0.pageY', event.pageY); // 3. 开始滑动的时候，绑定 move 和 up 事件\n\n        var containerDOM = _this.get('canvas').get('containerDOM');\n\n        containerDOM.addEventListener('mousemove', _this.onMouseMove);\n        containerDOM.addEventListener('mouseup', _this.onMouseUp);\n        containerDOM.addEventListener('mouseleave', _this.onMouseUp); // 移动端事件\n\n        containerDOM.addEventListener('touchmove', _this.onMouseMove);\n        containerDOM.addEventListener('touchend', _this.onMouseUp);\n        containerDOM.addEventListener('touchcancel', _this.onMouseUp);\n      };\n    };\n\n    _this.onMouseMove = function (e) {\n      // 滑动过程中，计算偏移，更新滑块，然后 emit 数据出去\n      e.stopPropagation();\n      e.preventDefault();\n\n      var x = _.get(e, 'touches.0.pageX', e.pageX);\n\n      var y = _.get(e, 'touches.0.pageY', e.pageY); // 横向的 slider 只处理 x\n\n\n      var offsetX = x - _this.prevX;\n\n      var offsetXRange = _this.adjustOffsetRange(offsetX / _this.width); // 更新 start end range 范围\n\n\n      _this.updateStartEnd(offsetXRange); // 更新 ui\n\n\n      _this._updateUI();\n\n      _this.prevX = x;\n      _this.prevY = y;\n\n      _this.get('canvas').draw(); // 因为存储的 start、end 可能不一定是按大小存储的，所以排序一下，对外是 end >= start\n\n\n      _this.emit(SLIDER_CHANGE, [_this.start, _this.end].sort());\n    };\n\n    _this.onMouseUp = function () {\n      // 结束之后，取消绑定的事件\n      if (_this.currentHandler) {\n        _this.currentHandler = undefined;\n      }\n\n      var containerDOM = _this.get('canvas').get('containerDOM');\n\n      if (containerDOM) {\n        containerDOM.removeEventListener('mousemove', _this.onMouseMove);\n        containerDOM.removeEventListener('mouseup', _this.onMouseUp); // 防止滑动到 canvas 外部之后，状态丢失\n\n        containerDOM.removeEventListener('mouseleave', _this.onMouseUp); // 移动端事件\n\n        containerDOM.removeEventListener('touchmove', _this.onMouseMove);\n        containerDOM.removeEventListener('touchend', _this.onMouseUp);\n        containerDOM.removeEventListener('touchcancel', _this.onMouseUp);\n      }\n    };\n\n    var _a = cfg.x,\n        x = _a === void 0 ? 0 : _a,\n        _b = cfg.y,\n        y = _b === void 0 ? 0 : _b,\n        _c = cfg.width,\n        width = _c === void 0 ? 100 : _c,\n        _d = cfg.height,\n        height = _d === void 0 ? 16 : _d,\n        trendCfg = cfg.trendCfg,\n        _e = cfg.backgroundStyle,\n        backgroundStyle = _e === void 0 ? {} : _e,\n        _f = cfg.foregroundStyle,\n        foregroundStyle = _f === void 0 ? {} : _f,\n        _g = cfg.handlerStyle,\n        handlerStyle = _g === void 0 ? {} : _g,\n        _h = cfg.textStyle,\n        textStyle = _h === void 0 ? {} : _h,\n        // 缩略轴的初始位置\n    _j = cfg.start,\n        // 缩略轴的初始位置\n    start = _j === void 0 ? 0 : _j,\n        _k = cfg.end,\n        end = _k === void 0 ? 1 : _k,\n        _l = cfg.minText,\n        minText = _l === void 0 ? '' : _l,\n        _m = cfg.maxText,\n        maxText = _m === void 0 ? '' : _m; // position size\n\n    _this.x = x;\n    _this.y = y;\n    _this.width = width;\n    _this.height = height;\n    _this.trendCfg = trendCfg; // style\n\n    _this.backgroundStyle = __assign(__assign({}, BACKGROUND_STYLE), backgroundStyle);\n    _this.foregroundStyle = __assign(__assign({}, FOREGROUND_STYLE), foregroundStyle);\n    _this.handlerStyle = __assign(__assign({}, HANDLER_STYLE), handlerStyle);\n    _this.textStyle = __assign(__assign({}, TEXT_STYLE), textStyle); // 初始信息\n\n    _this.start = start;\n    _this.end = end;\n    _this.minText = minText;\n    _this.maxText = maxText;\n\n    _this._initial();\n\n    return _this;\n  }\n  /**\n   * 更新配置\n   * @param cfg\n   */\n\n\n  Slider.prototype.update = function (cfg) {\n    var x = cfg.x,\n        y = cfg.y,\n        width = cfg.width,\n        height = cfg.height,\n        minText = cfg.minText,\n        maxText = cfg.maxText,\n        start = cfg.start,\n        end = cfg.end; // start、end 只能是 0~1 范围\n\n    this.start = Math.min(1, Math.max(start, 0));\n    this.end = Math.min(1, Math.max(end, 0)); // 如果传了则更新，没有传则不更新\n    // @ts-ignore\n\n    _.assign(this, {\n      x: x,\n      y: y,\n      width: width,\n      height: height,\n      minText: minText,\n      maxText: maxText\n    }); // 更新 ui，不自动绘制\n\n\n    this._updateUI();\n  };\n  /**\n   * 初始化组件结构\n   * @private\n   */\n\n\n  Slider.prototype._initial = function () {\n    var width = this.width;\n    var height = this.height; // 趋势图数据\n\n    if (_.size(_.get(this.trendCfg, 'data'))) {\n      this.trendShape = new Trend(__assign({\n        x: 0,\n        y: 0,\n        width: width,\n        height: height\n      }, this.trendCfg));\n      this.add(this.trendShape);\n    } // 1. 背景\n\n\n    this.backgroundShape = this.addShape('rect', {\n      attrs: __assign({\n        x: 0,\n        y: 0,\n        width: width,\n        height: height\n      }, this.backgroundStyle)\n    }); // 2. 左右文字\n\n    this.minTextShape = this.addShape('text', {\n      attrs: __assign({\n        // x: 0,\n        y: height / 2,\n        textAlign: 'right',\n        text: this.minText,\n        silent: false\n      }, this.textStyle)\n    });\n    this.maxTextShape = this.addShape('text', {\n      attrs: __assign({\n        // x: 0,\n        y: height / 2,\n        textAlign: 'left',\n        text: this.maxText,\n        silent: false\n      }, this.textStyle)\n    }); // 3. 前景 选中背景框\n\n    this.foregroundShape = this.addShape('rect', {\n      attrs: __assign({\n        // x: 0,\n        y: 0,\n        // width: 0,\n        height: height\n      }, this.foregroundStyle)\n    }); // 滑块相关的大小信息\n\n    var handlerWidth = _.get(this.handlerStyle, 'width', 10);\n\n    var handlerHeight = _.get(this.handlerStyle, 'height', 24); // 4. 左右滑块\n\n\n    this.minHandlerShape = new Handler(__assign({\n      x: 0,\n      y: (height - handlerHeight) / 2,\n      width: width,\n      height: handlerHeight,\n      cursor: 'ew-resize'\n    }, this.handlerStyle));\n    this.add(this.minHandlerShape);\n    this.maxHandlerShape = new Handler(__assign({\n      x: 0,\n      y: (height - handlerHeight) / 2,\n      width: width,\n      height: handlerHeight,\n      cursor: 'ew-resize'\n    }, this.handlerStyle));\n    this.add(this.maxHandlerShape); // 根据 start end 更新 ui 的位置信息\n\n    this._updateUI(); // 移动到对应的位置\n\n\n    this.move(this.x, this.y); // 绑定事件鼠标事件\n\n    this._bindEvents();\n  };\n  /**\n   * 绑定事件：\n   *  - 点击\n   *  - 滑动\n   *  - 拖拽\n   *  - 滚动\n   * @private\n   */\n\n\n  Slider.prototype._bindEvents = function () {\n    // 1. 左滑块的滑动\n    this.minHandlerShape.on('mousedown', this.onMouseDown(this.minHandlerShape));\n    this.minHandlerShape.on('touchstart', this.onMouseDown(this.minHandlerShape)); // 2. 右滑块的滑动\n\n    this.maxHandlerShape.on('mousedown', this.onMouseDown(this.maxHandlerShape));\n    this.maxHandlerShape.on('touchstart', this.onMouseDown(this.maxHandlerShape)); // 3. 前景选中区域\n\n    this.foregroundShape.on('mousedown', this.onMouseDown(this.foregroundShape));\n    this.foregroundShape.on('touchstart', this.onMouseDown(this.foregroundShape));\n  };\n  /**\n   * 调整 offsetRange，因为一些范围的限制\n   * @param offsetRange\n   */\n\n\n  Slider.prototype.adjustOffsetRange = function (offsetRange) {\n    // 针对不同的滑动组件，处理的方式不同\n    switch (this.currentHandler) {\n      case this.minHandlerShape:\n        {\n          var min = 0 - this.start;\n          var max = 1 - this.start;\n          return Math.min(max, Math.max(min, offsetRange));\n        }\n\n      case this.maxHandlerShape:\n        {\n          var min = 0 - this.end;\n          var max = 1 - this.end;\n          return Math.min(max, Math.max(min, offsetRange));\n        }\n\n      case this.foregroundShape:\n        {\n          var min = 0 - this.start;\n          var max = 1 - this.end;\n          return Math.min(max, Math.max(min, offsetRange));\n        }\n\n      default:\n        return 0;\n    }\n  };\n\n  Slider.prototype.updateStartEnd = function (offsetRange) {\n    // 操作不同的组件，反馈不一样\n    switch (this.currentHandler) {\n      case this.minHandlerShape:\n        this.start += offsetRange;\n        break;\n\n      case this.maxHandlerShape:\n        this.end += offsetRange;\n        break;\n\n      case this.foregroundShape:\n        this.start += offsetRange;\n        this.end += offsetRange;\n        break;\n    }\n  };\n  /**\n   * 根据移动的比例来更新 ui\n   * @private\n   */\n\n\n  Slider.prototype._updateUI = function () {\n    var _this = this;\n\n    var min = this.start * this.width;\n    var max = this.end * this.width; // 1. foreground\n\n    this.foregroundShape.attr('x', min);\n    this.foregroundShape.attr('width', max - min); // 滑块相关的大小信息\n\n    var handlerWidth = _.get(this.handlerStyle, 'width', DEFAULT_HANDLER_WIDTH); // 设置文本\n\n\n    this.minTextShape.attr('text', this.minText);\n    this.maxTextShape.attr('text', this.maxText);\n\n    var _a = this._dodgeText([min, max]),\n        minAttrs = _a[0],\n        maxAttrs = _a[1]; // 2. 左侧滑块和文字位置\n\n\n    this.minHandlerShape.setX(min - handlerWidth / 2); // this.minText.attr('x', min);\n\n    _.each(minAttrs, function (v, k) {\n      return _this.minTextShape.attr(k, v);\n    }); // 3. 右侧滑块和文字位置\n\n\n    this.maxHandlerShape.setX(max - handlerWidth / 2); // this.maxText.attr('x', max);\n\n    _.each(maxAttrs, function (v, k) {\n      return _this.maxTextShape.attr(k, v);\n    });\n  };\n  /**\n   * 调整 text 的位置，自动躲避\n   * 根据位置，调整返回新的位置\n   * @param range\n   */\n\n\n  Slider.prototype._dodgeText = function (range) {\n    var _a, _b;\n\n    var PADDING = 2;\n\n    var handlerWidth = _.get(this.handlerStyle, 'width', DEFAULT_HANDLER_WIDTH);\n\n    var minTextShape = this.minTextShape;\n    var maxTextShape = this.maxTextShape;\n    var min = range[0],\n        max = range[1];\n    var sorted = false; // 如果交换了位置，则对应的 min max 也交互\n\n    if (min > max) {\n      _a = [max, min], min = _a[0], max = _a[1];\n      _b = [maxTextShape, minTextShape], minTextShape = _b[0], maxTextShape = _b[1];\n      sorted = true;\n    } // 避让规则，优先显示在两侧，只有显示不下的时候，才显示在中间\n\n\n    var minBBox = minTextShape.getBBox();\n    var maxBBox = maxTextShape.getBBox();\n    var minAttrs = minBBox.width > min - PADDING ? {\n      x: min + handlerWidth / 2 + PADDING,\n      textAlign: 'left'\n    } : {\n      x: min - handlerWidth / 2 - PADDING,\n      textAlign: 'right'\n    };\n    var maxAttrs = maxBBox.width > this.width - max - PADDING ? {\n      x: max - handlerWidth / 2 - PADDING,\n      textAlign: 'right'\n    } : {\n      x: max + handlerWidth / 2 + PADDING,\n      textAlign: 'left'\n    };\n    return !sorted ? [minAttrs, maxAttrs] : [maxAttrs, minAttrs];\n  };\n\n  return Slider;\n}(Group);\n\nexport default Slider;","import { flatten, groupBy, map } from '@antv/util';\n/**\n * 按照scale字段values中的start和end信息从全部数据中取出对应的部分\n *\n * @param field scale field\n * @param values scale values\n * @param data original data\n * @param range range start & end\n */\n\nexport var getDataByScaleRange = function getDataByScaleRange(field, values, data, _a, vertical) {\n  var start = _a[0],\n      end = _a[1];\n\n  if (vertical === void 0) {\n    vertical = false;\n  }\n\n  var groupedData = groupBy(data, field);\n  var newValues = vertical ? values.slice(values.length - end, values.length - start) : values.slice(start, end);\n  return flatten(map(newValues, function (value) {\n    return groupedData[value] || [];\n  }));\n};","import { __assign, __extends } from \"tslib\";\nimport { BBox } from '@antv/g';\nimport { ScrollBar } from '@antv/gui';\nimport { clamp, get, isEqual, map, throttle } from '@antv/util';\nimport BaseInteraction from './base';\nimport { getDataByScaleRange } from './helper/data-range';\nvar DEFAULT_PADDING = 4;\nvar DEFAULT_SIZE = 8;\nvar DEFAULT_CATEGORY_SIZE = 32;\nvar MIN_THUMB_LENGTH = 8;\nvar SCROLL_BAR_Z_INDEX = 999;\n\nvar getValidScrollBarConfig = function getValidScrollBarConfig(cfg) {\n  if (cfg === void 0) {\n    cfg = {};\n  }\n\n  var _cfg = __assign({\n    type: 'horizontal',\n    categorySize: DEFAULT_CATEGORY_SIZE,\n    width: DEFAULT_SIZE,\n    height: DEFAULT_SIZE,\n    padding: [0, 0, 0, 0]\n  }, cfg); // default padding\n\n\n  if (!cfg.padding) {\n    _cfg.padding = _cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n  }\n\n  return _cfg;\n};\n\nvar ScrollBarInteraction =\n/** @class */\nfunction (_super) {\n  __extends(ScrollBarInteraction, _super);\n\n  function ScrollBarInteraction() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.onChangeFn = throttle(_this.onChange.bind(_this), 20, {\n      leading: true\n    });\n    return _this;\n  }\n\n  ScrollBarInteraction.getInteractionRange = function (layerRange, interaction) {\n    var config = getValidScrollBarConfig(interaction);\n    var _a = config.padding,\n        paddingTop = _a[0],\n        paddingRight = _a[1],\n        paddingBottom = _a[2],\n        paddingLeft = _a[3];\n\n    if (config.type === 'horizontal') {\n      return new BBox(layerRange.minX, layerRange.maxY - config.height - paddingTop - paddingBottom, layerRange.width, config.height + paddingTop + paddingBottom);\n    } else {\n      return new BBox(layerRange.maxX - config.width - paddingLeft - paddingRight, layerRange.minY, config.width + paddingLeft + paddingRight, layerRange.height);\n    }\n  };\n\n  ScrollBarInteraction.prototype.render = function () {\n    var _this = this;\n\n    var view = this.view;\n    this.ratio = 0;\n    this.thumbOffset = 0;\n    view.on('afterrender', function () {\n      var padding = _this.view.get('padding'); // if we're not in `auto padding` process\n\n\n      if (!isEqual([0, 0, 0, 0], padding)) {\n        if (!_this.trackLen) {\n          _this.measureScrollBar();\n\n          _this.changeViewData(_this.getScrollRange());\n        } else {\n          _this.renderScrollbar();\n        }\n      }\n    });\n  };\n\n  ScrollBarInteraction.prototype.clear = function () {\n    if (this.scrollBar) {\n      this.scrollBar.destroy();\n      this.scrollBar = null;\n    }\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = null;\n    }\n\n    this.trackLen = null;\n    this.thumbLen = null;\n  };\n\n  ScrollBarInteraction.prototype.renderScrollbar = function () {\n    var config = getValidScrollBarConfig(this.getInteractionConfig());\n    var range = this.getRange();\n    var isHorizontal = config.type !== 'vertical';\n    var panelRange = this.view.get('panelRange');\n    var _a = config.padding,\n        paddingTop = _a[0],\n        paddingLeft = _a[3];\n    var position = isHorizontal ? {\n      x: panelRange.minX + paddingLeft,\n      y: range.tl.y + paddingTop\n    } : {\n      x: range.tl.x + paddingLeft,\n      y: panelRange.minY + paddingTop\n    };\n\n    if (!this.scrollBar) {\n      this.container = this.canvas.addGroup();\n      this.scrollBar = new ScrollBar({\n        isHorizontal: isHorizontal,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        position: position,\n        thumbOffset: this.ratio * this.trackLen\n      });\n      this.container.add(this.scrollBar);\n      this.scrollBar.set('zIndex', SCROLL_BAR_Z_INDEX);\n      this.scrollBar.on('scrollchange', this.onChangeFn);\n    } else {\n      this.scrollBar.updateTrackLen(this.trackLen);\n      this.scrollBar.updateThumbLen(this.thumbLen);\n      this.scrollBar.updateScrollBarPos(position);\n      this.scrollBar.updateThumbOffset(this.thumbOffset);\n    }\n  };\n\n  ScrollBarInteraction.prototype.measureScrollBar = function () {\n    var config = getValidScrollBarConfig(this.getInteractionConfig());\n    var _a = config.padding,\n        paddingTop = _a[0],\n        paddingRight = _a[1],\n        paddingBottom = _a[2],\n        paddingLeft = _a[3];\n    var isHorizontal = config.type !== 'vertical';\n    var panelRange = this.view.get('panelRange');\n    var xScale = this.view.getXScale();\n    var yScales = this.view.getYScales();\n    this.cnt = xScale.values.length;\n    this.xScaleCfg = {\n      field: xScale.field,\n      values: xScale.values || []\n    };\n    this.yScalesCfg = map(yScales, function (item) {\n      return {\n        field: item.field,\n        type: item.type,\n        min: item.min,\n        max: item.max,\n        ticks: item.ticks,\n        formatter: item.formatter\n      };\n    });\n    this.step = Math.floor((isHorizontal ? panelRange.width : panelRange.height) / config.categorySize);\n    this.trackLen = isHorizontal ? panelRange.width - paddingLeft - paddingRight : panelRange.height - paddingTop - paddingBottom;\n    this.thumbLen = Math.max(this.trackLen * clamp(this.step / xScale.values.length, 0, 1), MIN_THUMB_LENGTH);\n  };\n\n  ScrollBarInteraction.prototype.getScrollRange = function () {\n    var startIdx = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    var endIdx = Math.min(startIdx + this.step, this.cnt);\n    return [startIdx, endIdx];\n  };\n\n  ScrollBarInteraction.prototype.changeViewData = function (_a) {\n    var _this = this;\n\n    var startIdx = _a[0],\n        endIdx = _a[1];\n    var config = getValidScrollBarConfig(this.getInteractionConfig());\n    var viewLayer = this.getViewLayer();\n    var meta = viewLayer.options.meta;\n    var origData = viewLayer.getData();\n    var newData = getDataByScaleRange(this.xScaleCfg.field, this.xScaleCfg.values, origData, [startIdx, endIdx], config.type === 'vertical'); // ScrollBar在滚动过程中保持\b\bY轴上scale配置: min/max/ticks\n\n    this.yScalesCfg.forEach(function (cfg) {\n      var metaCfg = get(meta, cfg.field) || {};\n\n      _this.view.scale(cfg.field, __assign(__assign({\n        formatter: cfg.formatter\n      }, metaCfg), {\n        type: cfg.type,\n        min: cfg.min,\n        max: cfg.max\n      }));\n    });\n    this.view.set('data', newData);\n    this.view.repaint();\n  };\n\n  ScrollBarInteraction.prototype.onChange = function (_a) {\n    var ratio = _a.ratio,\n        thumbOffset = _a.thumbOffset;\n    this.ratio = ratio;\n    this.thumbOffset = thumbOffset;\n    var origAnimation = this.view.get('animation');\n    this.view.animate(false);\n    this.changeViewData(this.getScrollRange());\n    this.view.animate(origAnimation);\n  };\n\n  return ScrollBarInteraction;\n}(BaseInteraction);\n\nexport default ScrollBarInteraction;","import { __assign, __extends } from \"tslib\";\nimport { BBox } from '@antv/g';\nimport { Slider } from '@antv/gui';\nimport { clamp, head, last, map, size, throttle } from '@antv/util';\nimport BaseInteraction from './base';\nimport { getDataByScaleRange } from './helper/data-range';\nvar DEFAULT_PADDING = 4;\nvar DEFAULT_SIZE = 16;\n\nvar getValidSliderConfig = function getValidSliderConfig(cfg) {\n  if (cfg === void 0) {\n    cfg = {};\n  }\n\n  var _cfg = __assign({\n    type: 'horizontal',\n    start: 0,\n    end: 1,\n    width: undefined,\n    height: undefined,\n    padding: [0, 0, 0, 0],\n    backgroundColor: undefined,\n    foregroundColor: undefined\n  }, cfg); // default padding\n\n\n  if (!cfg.padding) {\n    _cfg.padding = _cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n  } // default size\n\n\n  if (!cfg.height) {\n    _cfg.height = DEFAULT_SIZE;\n  }\n\n  if (!cfg.width) {\n    _cfg.width = DEFAULT_SIZE;\n  } // start & end\n\n\n  var start = clamp(Math.min(_cfg.start, _cfg.end), 0, 1);\n  var end = clamp(Math.max(_cfg.start, _cfg.end), 0, 1);\n  _cfg.start = start;\n  _cfg.end = end;\n  return _cfg;\n};\n\nvar SliderInteraction =\n/** @class */\nfunction (_super) {\n  __extends(SliderInteraction, _super);\n\n  function SliderInteraction() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.onChangeFn = throttle(_this.onChange.bind(_this), 20, {\n      leading: true\n    });\n    return _this;\n  }\n\n  SliderInteraction.getInteractionRange = function (layerRange, interaction) {\n    var config = getValidSliderConfig(interaction);\n\n    var _a = config.padding || [0, 0, 0, 0],\n        paddingTop = _a[0],\n        paddingRight = _a[1],\n        paddingBottom = _a[2],\n        paddingLeft = _a[3];\n\n    if (config.type === 'horizontal') {\n      return new BBox(layerRange.minX, layerRange.maxY - config.height - paddingTop - paddingBottom, layerRange.width, config.height + paddingTop + paddingBottom);\n    } else {\n      return new BBox(layerRange.maxX - config.width - paddingLeft - paddingRight, layerRange.minY, config.width + paddingLeft + paddingRight, layerRange.height);\n    }\n  };\n\n  SliderInteraction.prototype.render = function () {\n    var _this = this; // 设置初始化的 start/end\n\n\n    var config = getValidSliderConfig(this.getInteractionConfig());\n    this.curStart = config.start;\n    this.curEnd = config.end;\n    this.xScaleCfg = undefined; // 等待 view 每次 render 完成后更新 slider 组件\n\n    this.view.on('afterrender', function () {\n      if (!_this.xScaleCfg) {\n        // 初始化配置和数据\n        var xScale = _this.view.getXScale();\n\n        _this.xScaleCfg = {\n          field: xScale.field,\n          values: xScale.values || []\n        }; // 初始化 data\n\n        _this.view.set('data', _this.getSliderData(_this.curStart, _this.curEnd));\n\n        _this.view.repaint();\n      } else {\n        _this.renderSlider();\n      }\n    });\n  };\n\n  SliderInteraction.prototype.clear = function () {\n    if (this.slider) {\n      this.slider.destroy();\n      this.slider = null;\n    }\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = null;\n    }\n  };\n\n  SliderInteraction.prototype.renderSlider = function () {\n    if (!this.slider) {\n      this.container = this.canvas.addGroup();\n      this.slider = new Slider(this.getSliderConfig());\n      this.slider.on('sliderchange', this.onChangeFn);\n      this.container.add(this.slider);\n    } else {\n      this.slider.update(this.getSliderConfig());\n    }\n  };\n\n  SliderInteraction.prototype.getSliderConfig = function () {\n    var view = this.view;\n    var panelRange = view.get('panelRange');\n    var range = this.getRange();\n    var config = getValidSliderConfig(this.getInteractionConfig());\n\n    var _a = config || {},\n        _b = _a.padding,\n        padding = _b === void 0 ? [0, 0, 0, 0] : _b,\n        foregroundColor = _a.foregroundColor,\n        backgroundColor = _a.backgroundColor;\n\n    var paddingTop = padding[0],\n        paddingRight = padding[1],\n        paddingBottom = padding[2],\n        paddingLeft = padding[3];\n\n    var _c = this.getSliderMinMaxText(this.curStart, this.curEnd),\n        minText = _c.minText,\n        maxText = _c.maxText;\n\n    var cfg = {\n      x: panelRange.minX + paddingLeft,\n      y: range.tl.y + paddingTop,\n      width: panelRange.width - paddingLeft - paddingRight,\n      height: range.height - paddingTop - paddingBottom,\n      start: this.curStart,\n      end: this.curEnd,\n      minText: minText,\n      maxText: maxText,\n      trendCfg: {\n        data: this.getSliderTrendData(),\n        isArea: false,\n        smooth: false\n      },\n      foregroundStyle: {},\n      backgroundStyle: {}\n    };\n\n    if (foregroundColor) {\n      cfg.foregroundStyle.fill = foregroundColor;\n    }\n\n    if (backgroundColor) {\n      cfg.backgroundStyle.fill = backgroundColor;\n    }\n\n    return cfg;\n  };\n\n  SliderInteraction.prototype.getSliderTrendData = function () {\n    var _a = this.getViewLayer().options,\n        data = _a.data,\n        yField = _a.yField;\n    return map(data, function (item) {\n      return item[yField];\n    });\n  };\n\n  SliderInteraction.prototype.getSliderData = function (start, end) {\n    var origData = this.getViewLayer().getData();\n    var length = size(this.xScaleCfg.values);\n    var startIdx = Math.round(start * length);\n    var endIdx = Math.max(startIdx + 1, Math.round(end * length));\n    return getDataByScaleRange(this.xScaleCfg.field, this.xScaleCfg.values, origData, [startIdx, endIdx]);\n  };\n\n  SliderInteraction.prototype.getSliderMinMaxText = function (start, end) {\n    var _a = this.getViewLayer().options,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        xField = _a.xField;\n    var length = size(data);\n    var startIdx = Math.round(start * length);\n    var endIdx = Math.max(startIdx + 1, Math.round(end * length));\n    var newData = data.slice(startIdx, endIdx);\n    return {\n      minText: head(newData)[xField],\n      maxText: last(newData)[xField]\n    };\n  };\n\n  SliderInteraction.prototype.onChange = function (range) {\n    var view = this.view;\n    var start = clamp(Math.min(range[0], range[1]), 0, 1);\n    var end = clamp(Math.max(range[0], range[1]), 0, 1);\n    var data = this.getSliderData(start, end);\n\n    var _a = this.getSliderMinMaxText(start, end),\n        minText = _a.minText,\n        maxText = _a.maxText;\n\n    this.curStart = start;\n    this.curEnd = end;\n    this.slider.update({\n      start: start,\n      end: end,\n      minText: minText,\n      maxText: maxText\n    });\n    var origAnimation = view.get('animation');\n    view.animate(false);\n    view.changeData(data);\n    view.animate(origAnimation);\n  };\n\n  return SliderInteraction;\n}(BaseInteraction);\n\nexport default SliderInteraction;","import BaseInteraction from './base';\nimport ScrollBarInteraction from './scrollbar';\nimport SliderInteraction from './slider';\nBaseInteraction.registerInteraction('slider', SliderInteraction);\nBaseInteraction.registerInteraction('scrollbar', ScrollBarInteraction);\nexport * from './base';\nexport default BaseInteraction;","import { BBox } from '@antv/g';\nimport * as _ from '@antv/util';\n/**\n * 处理图表padding的逻辑：\n * 注册参与padding的自定义组件\n */\n\nvar PaddingController =\n/** @class */\nfunction () {\n  function PaddingController(cfg) {\n    this.innerPaddingComponents = [];\n    this.outerPaddingComponents = [];\n    this.plot = cfg.plot;\n  }\n\n  PaddingController.prototype.registerPadding = function (component, type, checkIfExist) {\n    if (type === void 0) {\n      type = 'outer';\n    }\n\n    if (checkIfExist === void 0) {\n      checkIfExist = false;\n    }\n\n    if (type === 'inner') {\n      if (checkIfExist) {\n        if (!this.innerPaddingComponents.find(function (c) {\n          return c == component;\n        })) {\n          this.innerPaddingComponents.push(component);\n        }\n      } else {\n        this.innerPaddingComponents.push(component);\n      }\n    } else {\n      if (checkIfExist) {\n        if (!this.outerPaddingComponents.find(function (c) {\n          return c == component;\n        })) {\n          this.outerPaddingComponents.push(component);\n        }\n      } else {\n        this.outerPaddingComponents.push(component);\n      }\n    }\n  };\n  /**\n   * 清除已经注册的元素\n   */\n\n\n  PaddingController.prototype.clear = function () {\n    this.innerPaddingComponents = []; // 一些组件是在view渲染完成之后渲染初始化的\n    // TODO: afterRender的什么时候清除\n\n    this.outerPaddingComponents = _.filter(this.outerPaddingComponents, function (component) {\n      return component.afterRender;\n    });\n  };\n\n  PaddingController.prototype.clearOuterComponents = function () {\n    _.each(this.outerPaddingComponents, function (component) {\n      if (component.afterRender) {\n        component.destroy();\n      }\n    });\n\n    this.outerPaddingComponents = [];\n  };\n\n  PaddingController.prototype.getPadding = function () {\n    var props = this.plot.options;\n    var padding = props.padding ? props.padding : this.plot.config.theme.padding;\n\n    if (padding === 'auto') {\n      return [0, 0, 0, 0];\n    }\n\n    return padding;\n  };\n  /** view层的padding计算 */\n\n\n  PaddingController.prototype.processAutoPadding = function () {\n    var padding = this._getInnerAutoPadding();\n\n    this.plot.updateConfig({\n      padding: padding\n    });\n    this.plot.render();\n  };\n\n  PaddingController.prototype.processOuterPadding = function () {\n    var viewMinX = this.plot.layerBBox.minX;\n    var viewMaxX = this.plot.layerBBox.maxX;\n    var viewMinY = this.plot.layerBBox.minY;\n    var viewMaxY = this.plot.layerBBox.maxY;\n\n    _.each(this.outerPaddingComponents, function (component) {\n      var position = component.position;\n\n      var _a = component.getBBox(),\n          minX = _a.minX,\n          maxX = _a.maxX,\n          minY = _a.minY,\n          maxY = _a.maxY;\n\n      if (maxY >= viewMinY && maxY <= viewMaxY && position === 'top') {\n        viewMinY = maxY;\n      }\n\n      if (minY >= viewMinY && minY <= viewMaxY && position === 'bottom') {\n        viewMaxY = minY;\n      }\n\n      if (maxX > viewMinX && maxX <= viewMaxX && position === 'left') {\n        viewMinX = maxX;\n      }\n\n      if (minX >= viewMinX && maxX <= viewMaxX && position === 'right') {\n        viewMaxX = minX;\n      }\n    });\n\n    return new BBox(viewMinX, viewMinY, viewMaxX - viewMinX, viewMaxY - viewMinY);\n  };\n\n  PaddingController.prototype._getInnerAutoPadding = function () {\n    var props = this.plot.options;\n    var view = this.plot.view;\n    var viewRange = view.get('viewRange');\n    var maxX = viewRange.maxX,\n        maxY = viewRange.maxY;\n    var bleeding = this.plot.config.theme.bleeding;\n\n    if (_.isArray(bleeding)) {\n      _.each(bleeding, function (it, index) {\n        if (typeof bleeding[index] === 'function') {\n          bleeding[index] = bleeding[index](props);\n        }\n      });\n    }\n\n    this.plot.config.theme.legend.margin = bleeding;\n    this.bleeding = _.clone(bleeding); // 参与auto padding的components: axis legend\n\n    var components_bbox = [view.get('panelRange')];\n\n    this._getAxis(view, components_bbox);\n\n    var box = this._mergeBBox(components_bbox);\n\n    this._getLegend(view, components_bbox, box);\n\n    box = this._mergeBBox(components_bbox); // 参与auto padding的自定义组件\n\n    var components = this.innerPaddingComponents;\n\n    _.each(components, function (obj) {\n      var component = obj;\n      var bbox = component.getBBox();\n      components_bbox.push(bbox);\n    });\n\n    box = this._mergeBBox(components_bbox);\n    var minY = box.minY;\n    /** 极坐标下padding计算错误问题 */\n\n    if (minY === viewRange.minY) {\n      minY = 0;\n    }\n\n    var padding = [0 - minY + this.bleeding[0], box.maxX - maxX + this.bleeding[1], box.maxY - maxY + this.bleeding[2], 0 - box.minX + this.bleeding[3]];\n    this.adjustAxisPadding(view, padding); // label、annotation等\n\n    var panelPadding = this._getPanel(view, box);\n\n    padding[0] += panelPadding[0];\n    padding[1] += panelPadding[1];\n    padding[2] += panelPadding[2];\n    padding[3] += panelPadding[3];\n    return padding;\n  };\n\n  PaddingController.prototype._getAxis = function (view, bboxes) {\n    var axes = view.get('axisController').axes;\n\n    if (axes.length > 0) {\n      _.each(axes, function (a) {\n        var axis = a;\n        var bbox = axis.get('group').getBBox();\n        bboxes.push(bbox);\n      });\n    }\n  };\n\n  PaddingController.prototype._getLegend = function (view, bboxes, box) {\n    var _this = this;\n\n    var viewRange = view.get('viewRange');\n    var legends = view.get('legendController').legends;\n\n    if (legends.length > 0) {\n      _.each(legends, function (l) {\n        var legend = l;\n\n        _this._adjustLegend(legend, view, box);\n\n        var legendBBox = legend.getBBox();\n        var width = legendBBox.width,\n            height = legendBBox.height;\n        var x = 0;\n        var y = 0;\n        var position = legend.get('position').split('-');\n\n        if (position[0] === 'right') {\n          x = viewRange.maxX;\n          y = legendBBox.minY;\n        }\n\n        if (position[0] === 'left') {\n          x = box.minX - width;\n          y = legendBBox.minY;\n        }\n\n        if (position[0] === 'top') {\n          x = legendBBox.minX;\n          y = -height;\n        }\n\n        if (position[0] === 'bottom') {\n          x = legendBBox.minX;\n          y = viewRange.maxY + height;\n        }\n\n        var bbox = new BBox(x, y, width, height);\n        bboxes.push(bbox);\n\n        var innerPadding = _this._getLegendInnerPadding(legend);\n\n        _this._mergeBleeding(innerPadding);\n      });\n    }\n  };\n\n  PaddingController.prototype._getPanel = function (view, box) {\n    var groups = [];\n    var geoms = view.get('elements');\n\n    _.each(geoms, function (geom) {\n      if (geom.get('labelController')) {\n        var labelContainer = geom.get('labelController').labelsContainer;\n\n        if (labelContainer) {\n          groups.push(labelContainer);\n        }\n      }\n    });\n\n    var minX = Infinity;\n    var maxX = -Infinity;\n    var minY = Infinity;\n    var maxY = -Infinity;\n\n    _.each(groups, function (group) {\n      var children = group.get('children');\n      children.forEach(function (child) {\n        if (child.type === 'group' && child.get('children').length === 0) {\n          return;\n        }\n\n        var bbox = child.getBBox();\n\n        if (bbox.minX < minX) {\n          minX = bbox.minX;\n        }\n\n        if (bbox.maxX > maxX) {\n          maxX = bbox.maxX;\n        }\n\n        if (bbox.minY < minY) {\n          minY = bbox.minY;\n        }\n\n        if (bbox.maxY > maxY) {\n          maxY = bbox.maxY;\n        }\n      });\n    });\n\n    var panelRange = view.get('panelRange'); //right\n\n    var rightDist = Math.max(maxX - parseFloat(panelRange.maxX), 0);\n\n    if (rightDist > 0) {\n      var ratio = panelRange.width / (panelRange.width + rightDist);\n      rightDist *= ratio;\n    } //left\n\n\n    var leftDist = Math.max(parseFloat(panelRange.minX) - minX, 0);\n\n    if (leftDist > 0) {\n      var ratio = panelRange.width / (panelRange.width + leftDist);\n      leftDist *= ratio;\n    } //top\n\n\n    var topDist = Math.max(parseFloat(panelRange.minY) - minY, 0);\n\n    if (topDist > 0) {\n      var ratio = panelRange.height / (panelRange.height + topDist);\n      topDist *= ratio;\n    } //bottom\n\n\n    var bottomDist = Math.max(maxY - parseFloat(panelRange.maxY), 0);\n\n    if (bottomDist > 0) {\n      var ratio = panelRange.height / (panelRange.height + bottomDist);\n      bottomDist *= ratio;\n    }\n\n    return [topDist, rightDist, bottomDist, leftDist];\n  };\n\n  PaddingController.prototype._mergeBBox = function (bboxes) {\n    var minX = Infinity;\n    var maxX = -Infinity;\n    var minY = Infinity;\n    var maxY = -Infinity;\n\n    _.each(bboxes, function (bbox) {\n      var box = bbox;\n      minX = Math.min(box.minX, minX);\n      maxX = Math.max(box.maxX, maxX);\n      minY = Math.min(box.minY, minY);\n      maxY = Math.max(box.maxY, maxY);\n    });\n\n    return {\n      minX: minX,\n      maxX: maxX,\n      minY: minY,\n      maxY: maxY\n    }; // return new BBox(minX, minY, maxX - minX, maxY - minY);\n  };\n\n  PaddingController.prototype._adjustLegend = function (legend, view, box) {\n    var position = legend.get('position').split('-');\n    var container = legend.get('container');\n    var bbox = container.getBBox();\n\n    var _a = view.get('viewRange'),\n        width = _a.width,\n        height = _a.height,\n        maxX = _a.maxX,\n        minX = _a.minX,\n        maxY = _a.maxY,\n        minY = _a.minY;\n\n    if (position[0] === 'right') {\n      container.move(width, minY);\n    }\n\n    if (position[0] === 'left') {\n      container.move(box.minX - bbox.width, minY);\n    }\n\n    if (position[0] === 'top') {\n      container.move(0, box.minY - bbox.height);\n    }\n\n    if (position[0] === 'bottom') {\n      container.move(0, Math.max(maxY, box.maxY));\n    }\n  };\n\n  PaddingController.prototype._getLegendInnerPadding = function (legend) {\n    var innerPadding = this.plot.theme.legend.innerPadding;\n    var position = legend.get('position').split('-');\n\n    if (position[0] === 'top') {\n      return [innerPadding[0], 0, 0, 0];\n    }\n\n    if (position[0] === 'bottom') {\n      return [0, 0, innerPadding[2], 0];\n    }\n\n    if (position[0] === 'left') {\n      return [0, 0, 0, innerPadding[3]];\n    }\n\n    if (position[0] === 'right') {\n      return [0, innerPadding[1], 0, 0];\n    }\n  };\n\n  PaddingController.prototype._mergeBleeding = function (source) {\n    var target = this.bleeding;\n\n    if (source.length !== target.length) {\n      return;\n    }\n\n    for (var i = 0; i < source.length; i++) {\n      target[i] += source[i];\n    }\n  };\n\n  PaddingController.prototype.adjustAxisPadding = function (view, padding) {\n    // 3.6.x Axis组件的 autoRotate padding 修正\n    var xAxis = view.get('axisController').axes[0];\n\n    if (!xAxis || !xAxis.get('autoRotateLabel') || !xAxis.getOffsetByRotateAngle) {\n      return;\n    }\n\n    var labelRenderer = xAxis.get('labelRenderer');\n    var labels = labelRenderer.getLabels();\n    var curOffset = xAxis.getOffsetByRotateAngle(xAxis.get('autoRotateAngle'));\n    var curTotalWidth = Math.abs(xAxis.get('end').x - xAxis.get('start').x); // 如果只有一项数据, 平均宽度 = 总宽\n\n    var curAvgWidth = curTotalWidth; // 当多项数据时，根据 label 位置计算均宽\n\n    if (labels.length > 1) {\n      curAvgWidth = Math.abs(labels[1].attr('x') - labels[0].attr('x'));\n    }\n\n    var newTotalWidth = curTotalWidth - padding[1] - padding[3];\n    var newAvgWidth = curAvgWidth * newTotalWidth / curTotalWidth;\n    var newOffset = xAxis.getOffsetByRotateAngle(xAxis.getAutoRotateAngleByAvgWidth(newAvgWidth));\n\n    if (newOffset > curOffset) {\n      padding[2] += newOffset - curOffset;\n    }\n  };\n\n  return PaddingController;\n}();\n\nexport default PaddingController;","var COLOR = '#5B8FF9';\nexport var COLOR_PLATE_10 = ['#5B8FF9', '#5AD8A6', '#5D7092', '#F6BD16', '#E8684A', '#6DC8EC', '#9270CA', '#FF9D4D', '#269A99', '#FF99C3'];\nexport var COLOR_PLATE_20 = ['#5B8FF9', '#BDD2FD', '#5AD8A6', '#BDEFDB', '#5D7092', '#C2C8D5', '#F6BD16', '#FBE5A2', '#E8684A', '#F6C3B7', '#6DC8EC', '#B6E3F5', '#9270CA', '#D3C6EA', '#FF9D4D', '#FFD8B8', '#269A99', '#AAD8D8', '#FF99C3', '#FFD6E7'];\nimport { some } from '@antv/util';\nexport var DESCRIPTION_BOTTOM_MARGIN = function DESCRIPTION_BOTTOM_MARGIN(legendPosition) {\n  if (legendPosition && legendPosition.split('-')[0] === 'top') {\n    return 12;\n  }\n\n  return 24;\n};\nexport var TOP_BLEEDING = function TOP_BLEEDING(props) {\n  var titleVisible = props.title && props.title.visible;\n  var descriptionVisible = props.description && props.description.visible;\n\n  if (titleVisible || descriptionVisible) {\n    // 由 title/description 的 bottom-padding 负责\n    return 12;\n  }\n\n  return 24;\n};\nexport var BOTTOM_BLEEDING = function BOTTOM_BLEEDING(props) {\n  if (some(props.interactions || [], function (interaction) {\n    return (interaction.type === 'slider' || interaction.type === 'scrollbar') && (interaction.cfg && interaction.cfg.type) !== 'vertical';\n  })) {\n    return 8;\n  }\n\n  return 24;\n};\nexport var DEFAULT_GLOBAL_THEME = {\n  width: 400,\n  height: 400,\n  bleeding: [TOP_BLEEDING, 24, BOTTOM_BLEEDING, 24],\n  padding: 'auto',\n  defaultColor: COLOR,\n  colors: COLOR_PLATE_10,\n  colors_20: COLOR_PLATE_20,\n  title: {\n    padding: [24, 24, 24, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 18,\n    fill: 'black',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 20,\n    alignWithAxis: false\n  },\n  description: {\n    padding: [10, 24, DESCRIPTION_BOTTOM_MARGIN, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 12,\n    fill: 'grey',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 16,\n    alignWithAxis: false\n  },\n  axis: {\n    y: {\n      visible: true,\n      position: 'left',\n      autoHideLabel: false,\n      autoRotateLabel: false,\n      autoRotateTitle: true,\n      grid: {\n        visible: true,\n        style: {\n          stroke: 'rgba(0, 0, 0, 0.15)',\n          lineWidth: 1,\n          lineDash: [0, 0]\n        }\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          lineWidth: 1\n        }\n      },\n      tickLine: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0,0,0,0.45)',\n          lineWidth: 0.5,\n          length: 4\n        }\n      },\n      label: {\n        visible: true,\n        offset: 8,\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12\n        }\n      },\n      title: {\n        visible: false,\n        offset: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.65)',\n          fontSize: 12,\n          textBaseline: 'bottom'\n        }\n      }\n    },\n    x: {\n      visible: true,\n      position: 'bottom',\n      autoHideLabel: false,\n      autoRotateLabel: false,\n      autoRotateTitle: false,\n      grid: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0, 0, 0, 0.15)',\n          lineWidth: 1,\n          lineDash: [0, 0]\n        }\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          lineWidth: 1\n        }\n      },\n      tickLine: {\n        visible: true,\n        style: {\n          length: 4,\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          lineWidth: 0.5\n        }\n      },\n      label: {\n        visible: true,\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12\n        },\n        offset: 16\n      },\n      title: {\n        visible: false,\n        offset: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.65)',\n          fontSize: 12\n        }\n      }\n    },\n    circle: {\n      autoHideLabel: false,\n      autoRotateLabel: true,\n      autoRotateTitle: true,\n      // gridType: 'line',\n      grid: {\n        style: {\n          lineDash: null,\n          lineWidth: 1,\n          stroke: 'rgba(0, 0, 0, 0.15)'\n        }\n      },\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: 'rgba(0, 0, 0, 0.45)'\n        }\n      },\n      tickLine: {\n        style: {\n          lineWidth: 1,\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          length: 4,\n          alignWithLabel: true\n        }\n      },\n      label: {\n        offset: 16,\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12\n        }\n      },\n      title: {\n        offset: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.65)',\n          fontSize: 12\n        }\n      }\n    },\n    radius: {\n      label: {\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12\n        }\n      }\n    }\n  },\n  legend: {\n    flipPage: false,\n    position: 'bottom-center',\n    // 距离panelRange的距离\n    innerPadding: [16, 16, 16, 16],\n    margin: [0, 24, 24, 24]\n  },\n  label: {\n    offset: 12,\n    textStyle: {\n      fill: 'rgba(0, 0, 0, 0.65)'\n    },\n    style: {\n      fill: 'rgba(0, 0, 0, 0.65)',\n      stroke: '#ffffff',\n      lineWidth: 2\n    }\n  },\n  tooltip: {\n    'g2-tooltip': {\n      boxShadow: '0px 0px 8px rgba(0,0,0,0.15)'\n    }\n  }\n};","import * as _ from '@antv/util';\nimport { DEFAULT_GLOBAL_THEME } from './default';\nimport { DEFAULT_DARK_THEME } from './dark';\n/** 所有的全局主题 */\n\nvar GLOBAL_THEME_MAP = {\n  default: DEFAULT_GLOBAL_THEME,\n  dark: DEFAULT_DARK_THEME\n};\n/**\n * 注册全局主题\n * @param name\n * @param theme\n */\n\nexport function registerGlobalTheme(name, theme) {\n  var defaultTheme = getGlobalTheme();\n  GLOBAL_THEME_MAP[name.toLowerCase()] = _.deepMix({}, defaultTheme, theme);\n}\n/**\n * 获取默认主题\n * @param name 如果 name 为空，则返回默认的主题，否则返回指定 name 的主题\n */\n\nexport function getGlobalTheme(name) {\n  if (name === void 0) {\n    name = 'default';\n  }\n\n  var theme = GLOBAL_THEME_MAP[name.toLowerCase()];\n\n  if (theme) {\n    return theme;\n  } // 如没有找到，则使用当前全局主题替代\n\n\n  console.warn(\"error in theme: Can't find the theme named %s. Please register theme first.\", name);\n  return DEFAULT_GLOBAL_THEME;\n}","import { DESCRIPTION_BOTTOM_MARGIN, TOP_BLEEDING, BOTTOM_BLEEDING } from './default';\nexport var DEFAULT_DARK_THEME = {\n  backgroundStyle: {\n    fill: '#262626'\n  },\n  defaultColor: '#5B8FF9',\n  width: 400,\n  height: 400,\n  bleeding: [TOP_BLEEDING, 24, BOTTOM_BLEEDING, 24],\n  padding: 'auto',\n  title: {\n    padding: [24, 24, 24, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 18,\n    fontWeight: 'bold',\n    fill: 'rgba(255,255,255,0.65)',\n    stroke: 'rgba(0,0,0,0.95)',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 20,\n    alignWithAxis: false\n  },\n  description: {\n    padding: [10, 24, DESCRIPTION_BOTTOM_MARGIN, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 12,\n    fill: 'rgba(255, 255, 255, 0.65)',\n    stroke: 'rgba(0,0,0,0.95)',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 16,\n    alignWithAxis: false\n  },\n  axis: {\n    y: {\n      visible: true,\n      position: 'left',\n      autoHideLabel: false,\n      autoRotateLabel: false,\n      autoRotateTitle: true,\n      grid: {\n        visible: true,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.15)',\n          lineWidth: 1,\n          lineDash: [0, 0]\n        }\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.45)',\n          lineWidth: 1\n        }\n      },\n      tickLine: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.45)',\n          lineWidth: 0.5,\n          length: 4\n        }\n      },\n      label: {\n        visible: true,\n        offset: 8,\n        textStyle: {\n          fill: 'rgba(255, 255, 255, 0.45)',\n          fontSize: 12\n        }\n      },\n      title: {\n        visible: false,\n        offset: 12,\n        style: {\n          fill: 'rgba(255, 255, 255, 0.65)',\n          fontSize: 12,\n          textBaseline: 'bottom'\n        }\n      }\n    },\n    x: {\n      visible: true,\n      position: 'bottom',\n      autoHideLabel: false,\n      autoRotateLabel: false,\n      autoRotateTitle: false,\n      grid: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.15)',\n          lineWidth: 1,\n          lineDash: [0, 0]\n        }\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.45)'\n        }\n      },\n      tickLine: {\n        visible: true,\n        style: {\n          length: 4,\n          stroke: 'rgba(255, 255, 255, 0.45)',\n          lineWidth: 0.5\n        }\n      },\n      label: {\n        visible: true,\n        textStyle: {\n          fill: 'rgba(255, 255, 255, 0.65)',\n          fontSize: 12\n        },\n        offset: 16\n      },\n      title: {\n        visible: false,\n        offset: 12,\n        style: {\n          fill: 'rgba(255, 255, 255, 0.65)',\n          fontSize: 12\n        }\n      }\n    },\n    circle: {\n      autoHideLabel: false,\n      autoRotateLabel: true,\n      autoRotateTitle: true,\n      // gridType: 'line',\n      grid: {\n        style: {\n          lineDash: null,\n          lineWidth: 1,\n          stroke: '#E3E8EC'\n        }\n      },\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#BFBFBF'\n        }\n      },\n      tickLine: {\n        style: {\n          lineWidth: 1,\n          stroke: '#bdc8d3',\n          length: 4,\n          alignWithLabel: true\n        }\n      },\n      label: {\n        offset: 16,\n        textStyle: {\n          fill: '#a0a4aa',\n          fontSize: 12\n        }\n      },\n      title: {\n        offset: 12,\n        style: {\n          fill: '#767b84',\n          fontSize: 12\n        }\n      }\n    },\n    radius: {\n      label: {\n        offset: 12,\n        textStyle: {\n          fill: '#a0a4aa',\n          fontSize: 12\n        }\n      }\n    }\n  },\n  legend: {\n    flipPage: false,\n    position: 'bottom-center',\n    // 距离panelRange的距离\n    innerPadding: [16, 16, 16, 16]\n  },\n  label: {\n    offset: 12,\n    textStyle: {\n      fill: 'rgba(255, 255, 255, 0.65)'\n    },\n    style: {\n      fill: 'rgba(255, 255, 255, 0.65)',\n      lineWidth: 1\n    }\n  },\n  tooltip: {\n    'g2-tooltip': {\n      backgroundColor: 'rgba(33,33,33, 0.95)',\n      boxShadow: '0px 0px 8px rgba(0,0,0,0.65)',\n      color: 'rgba(255, 255, 255, 0.65)'\n    }\n  }\n};","/**\n * 所有的 plot theme object，每个图类型只会存在一个 theme\n */\nvar PLOT_THEME_MAP = {};\n/**\n * 注册新的图表主题\n * @param type\n * @param theme\n */\n\nexport function registerTheme(type, theme) {\n  PLOT_THEME_MAP[type.toLowerCase()] = theme;\n}\n/**\n * 根据类型获取主题\n * @param type\n */\n\nexport function getTheme(type) {\n  return PLOT_THEME_MAP[type.toLowerCase()] || {};\n}","import * as StyleParser from '../util/style-parser';\nexport function extractAxis(desAxis, axis) {\n  if (!axis) {\n    return desAxis;\n  }\n\n  StyleParser.AxisStyleParser(desAxis, axis);\n  return desAxis;\n}\nexport function processAxisVisible(axisCfg) {\n  if (axisCfg.line && axisCfg.line.visible === false) {\n    axisCfg.line = null;\n  }\n\n  if (axisCfg.grid && axisCfg.grid.visible === false) {\n    axisCfg.grid = null;\n  }\n\n  if (axisCfg.tickLine && axisCfg.tickLine.visible === false) {\n    axisCfg.tickLine = null;\n  }\n\n  if (axisCfg.title && axisCfg.title.visible === false) {\n    axisCfg.title = null;\n  }\n\n  if (axisCfg.label && axisCfg.label.visible === false) {\n    axisCfg.label = null;\n  }\n}","// 存储一些共用部分\nexport var DEFAULT_RESPONSIVE_THEME = {\n  axis: {\n    x: {\n      category: {\n        constraints: [{\n          name: 'elementDist'\n        }],\n        rules: {\n          elementDist: [{\n            name: 'textWrapper',\n            option: {\n              lineNumber: 2\n            }\n          }, {\n            name: 'textRotation',\n            option: {\n              degree: 45\n            }\n          }, {\n            name: 'textRotation',\n            option: {\n              degree: 90\n            }\n          }, {\n            name: 'textAbbreviate',\n            option: {\n              abbreviateBy: 'end'\n            }\n          }, {\n            name: 'textHide'\n          }]\n        }\n      },\n      linear: {\n        constraints: [{\n          name: 'elementDist'\n        }],\n        rules: {\n          elementDist: [{\n            name: 'nodesResampling',\n            option: {\n              keep: ['end']\n            }\n          }, {\n            name: 'textRotation',\n            option: {\n              degree: 45\n            }\n          }, {\n            name: 'textRotation',\n            option: {\n              degree: 90\n            }\n          }, {\n            name: 'robustAbbrevaite',\n            option: {\n              unit: 'thousand',\n              decimal: 1,\n              abbreviateBy: 'end'\n            }\n          }, {\n            name: 'textHide'\n          }]\n        }\n      },\n      dateTime: {\n        constraints: [{\n          name: 'elementDist'\n        }],\n        rules: {\n          elementDist: [{\n            name: 'datetimeStringAbbrevaite'\n          }, {\n            name: 'nodesResamplingByAbbrevate',\n            option: {\n              keep: ['end']\n            }\n          }, {\n            name: 'textRotation',\n            option: {\n              degree: 45\n            }\n          }, {\n            name: 'textRotation',\n            option: {\n              degree: 90\n            }\n          }, {\n            name: 'nodesResampling'\n          }, {\n            name: 'nodesResampling'\n          }, {\n            name: 'textHide'\n          }]\n        }\n      }\n    },\n    y: {\n      linear: {\n        constraints: [{\n          name: 'elementDistVertical'\n        }, {\n          name: 'elementWidth'\n        }],\n        rules: {\n          elementDistVertical: [{\n            name: 'nodesResampling'\n          }, {\n            name: 'textHide'\n          }],\n          elementWidth: [{\n            name: 'digitsAbbreviate'\n          }, {\n            name: 'textHide'\n          }]\n        }\n      },\n      category: {\n        constraints: [{\n          name: 'elementDistVertical'\n        }, {\n          name: 'elementWidth'\n        }],\n        rules: {\n          elementDistVertical: [{\n            name: 'nodesResampling'\n          }, {\n            name: 'textHide'\n          }],\n          elementWidth: [{\n            name: 'textAbbreviate',\n            option: {\n              abbreviateBy: 'end'\n            }\n          }, {\n            name: 'textHide'\n          }]\n        }\n      }\n    }\n  }\n};","import * as _ from '@antv/util';\nimport { DEFAULT_RESPONSIVE_THEME } from './default';\n/**\n * 所有的响应式主题配置\n */\n\nvar RESPONSIVE_THEME_MAP = {\n  default: DEFAULT_RESPONSIVE_THEME\n};\n/**\n * 添加一个响应式主题配置\n * @param name\n * @param theme\n */\n\nexport function registerResponsiveTheme(name, theme) {\n  RESPONSIVE_THEME_MAP[name.toLowerCase()] = _.deepMix({}, DEFAULT_RESPONSIVE_THEME, theme);\n}\n/**\n * 获取一个响应式主题配置，如果找不到则返回默认\n * @param name\n */\n\nexport function getResponsiveTheme(name) {\n  var theme = RESPONSIVE_THEME_MAP[name.toLowerCase()];\n  return theme ? theme : DEFAULT_RESPONSIVE_THEME;\n}","import * as G2 from '@antv/g2';\nimport * as _ from '@antv/util'; // import Theme from '../../theme';\n\nimport { convertToG2Theme, getGlobalTheme, getTheme } from '../../theme';\nimport { processAxisVisible } from '../../util/axis';\nimport { getResponsiveTheme } from '../../util/responsive/theme';\n/**\n * 负责图表theme的管理\n */\n\nvar G2DefaultTheme = G2.Global.theme;\n\nvar ThemeController =\n/** @class */\nfunction () {\n  function ThemeController() {}\n  /**\n   * 获取指定的全局theme\n   * @param theme\n   */\n\n\n  ThemeController.getGlobalTheme = function (theme) {\n    if (_.isString(theme)) {\n      return getGlobalTheme(theme);\n    }\n\n    return _.deepMix({}, getGlobalTheme(), theme);\n  };\n  /**\n   * 通过 theme 和图表类型，获取当前 plot 对应的主题\n   * @param props\n   * @param type\n   */\n\n\n  ThemeController.prototype.getPlotTheme = function (props, type) {\n    var theme = props.theme;\n\n    if (_.isString(theme)) {\n      return _.deepMix({}, getGlobalTheme(theme), getTheme(type));\n    }\n\n    return _.deepMix({}, getGlobalTheme(), getTheme(type), theme);\n  };\n  /**\n   * 获取转化成 G2 的结构主题\n   * @param props\n   * @param type\n   */\n\n\n  ThemeController.prototype.getTheme = function (props, type) {\n    var plotG2Theme = convertToG2Theme(this.getPlotTheme(props, type));\n\n    var g2Theme = _.deepMix({}, G2DefaultTheme, plotG2Theme); // this._processVisible(g2Theme);\n\n\n    return g2Theme;\n  };\n\n  ThemeController.prototype.getResponsiveTheme = function (type) {\n    return getResponsiveTheme(type) || getResponsiveTheme('default');\n  };\n\n  ThemeController.prototype._processVisible = function (theme) {\n    processAxisVisible(theme.axis.left);\n    processAxisVisible(theme.axis.right);\n    processAxisVisible(theme.axis.top);\n    processAxisVisible(theme.axis.bottom);\n    return theme;\n  };\n\n  return ThemeController;\n}();\n\nexport default ThemeController;","import * as _ from '@antv/util';\n/**\n * mutable 的方式修改 axis 配置\n * @param axis\n */\n// function convertToG2Axis(axis: any): void {\n//   if (axis.line && axis.line.style) {\n//     const lineStyle = axis.line.style;\n//     delete axis.line.style;\n//     _.mix(axis.line, lineStyle);\n//   }\n//   if (axis.tickLine) {\n//     const tickLineStyle = axis.tickLine.style;\n//     delete axis.tickLine.style;\n//     _.mix(axis.tickLine, tickLineStyle);\n//   }\n//   if (axis.grid) {\n//     const gridStyle = axis.grid.style;\n//     delete axis.grid.style;\n//     _.mix(axis.grid, gridStyle);\n//   }\n//   if (axis.label) {\n//     if (axis.label.style) {\n//       axis.label.textStyle = axis.label.style;\n//       delete axis.label.style;\n//     }\n//   }\n//   if (axis.title) {\n//     if (axis.title.style) {\n//       axis.title.textStyle = axis.title.style;\n//       delete axis.title.style;\n//     }\n//   }\n// }\n\n/**\n * 将图形主题转换成 g2 theme 格式\n * @param plotTheme\n */\n\nexport function convertToG2Theme(plotTheme) {\n  var g2Theme = _.clone(plotTheme);\n  /** tempo: legend margin设置为0 */\n\n\n  if (!g2Theme.legend) {\n    g2Theme.legend = {};\n  } // g2Theme.legend.margin = [0, 0, 0, 0];\n  // if (g2Theme.axis) {\n  //   if (g2Theme.axis.x) {\n  //     convertToG2Axis(g2Theme.axis.x);\n  //     g2Theme.axis.bottom = {};\n  //     _.deepMix(g2Theme.axis.bottom, g2Theme.axis.x, { position: 'bottom' });\n  //     g2Theme.axis.top = {};\n  //     _.deepMix(g2Theme.axis.top, g2Theme.axis.x, { position: 'top' });\n  //     delete g2Theme.axis.x;\n  //   }\n  //   if (g2Theme.axis.y) {\n  //     convertToG2Axis(g2Theme.axis.y);\n  //     g2Theme.axis.left = {};\n  //     _.deepMix(g2Theme.axis.left, g2Theme.axis.y, { position: 'left' });\n  //     g2Theme.axis.right = {};\n  //     _.deepMix(g2Theme.axis.right, g2Theme.axis.y, { position: 'right' });\n  //     delete g2Theme.axis.y;\n  //   }\n  // }\n\n\n  return g2Theme;\n}","import { __extends } from \"tslib\";\nimport { Rect } from '@antv/g';\nimport * as G2 from '@antv/g2';\nimport * as _ from '@antv/util';\nimport TextDescription from '../components/description';\nimport { getComponent } from '../components/factory';\nimport BaseInteraction from '../interaction/index';\nimport { EVENT_MAP, onEvent } from '../util/event';\nimport PaddingController from './controller/padding';\nimport StateController from './controller/state';\nimport ThemeController from './controller/theme';\nimport Layer from './layer';\nimport { isTextUsable } from '../util/common';\n\nvar ViewLayer =\n/** @class */\nfunction (_super) {\n  __extends(ViewLayer, _super);\n\n  function ViewLayer(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.interactions = [];\n    _this.options = _this.getOptions(props);\n    _this.initialOptions = _.deepMix({}, _this.options);\n    _this.paddingController = new PaddingController({\n      plot: _this\n    });\n    _this.stateController = new StateController({\n      plot: _this\n    });\n    _this.themeController = new ThemeController();\n    return _this;\n  }\n\n  ViewLayer.getDefaultOptions = function (props) {\n    return {\n      title: {\n        visible: false,\n        text: ''\n      },\n      description: {\n        visible: false,\n        text: ''\n      },\n      padding: 'auto',\n      legend: {\n        visible: true,\n        position: 'bottom-center'\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        crosshairs: {\n          type: 'y'\n        }\n      },\n      xAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: false,\n        grid: {\n          visible: false\n        },\n        line: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false,\n          offset: 12\n        }\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: true\n        },\n        line: {\n          visible: false\n        },\n        tickLine: {\n          visible: false\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false,\n          offset: 12\n        }\n      },\n      label: {\n        visible: false\n      }\n    };\n  };\n\n  ViewLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props); // @ts-ignore\n\n\n    var defaultOptions = this.constructor.getDefaultOptions(props);\n    return _.deepMix({}, options, defaultOptions, props);\n  };\n\n  ViewLayer.prototype.beforeInit = function () {\n    _super.prototype.beforeInit.call(this);\n  };\n\n  ViewLayer.prototype.init = function () {\n    var _this = this;\n\n    _super.prototype.init.call(this);\n\n    this.theme = this.themeController.getTheme(this.options, this.type);\n    this.config = {\n      scales: {},\n      legends: {},\n      tooltip: {\n        showTitle: true,\n        triggerOn: 'mousemove',\n        inPanel: true,\n        useHtml: true\n      },\n      axes: {\n        fields: {}\n      },\n      coord: {\n        type: 'cartesian'\n      },\n      elements: [],\n      annotations: [],\n      interactions: {},\n      theme: this.theme,\n      panelRange: {},\n      animate: true\n    };\n    this.paddingController.clear();\n    this.drawTitle();\n    this.drawDescription();\n    this.coord();\n    this.scale();\n    this.axis();\n    this.tooltip();\n    this.legend();\n    this.addGeometry();\n    this.annotation();\n    this.animation();\n    this.viewRange = this.getViewRange();\n    this.paddingController.clearOuterComponents();\n    this.view = new G2.View({\n      width: this.width,\n      height: this.height,\n      canvas: this.canvas,\n      container: this.container,\n      padding: this.paddingController.getPadding(),\n      data: this.processData(this.options.data),\n      theme: this.theme,\n      options: this.config,\n      start: {\n        x: this.viewRange.minX,\n        y: this.viewRange.minY\n      },\n      end: {\n        x: this.viewRange.maxX,\n        y: this.viewRange.maxY\n      }\n    });\n    this.applyInteractions();\n    this.view.on('afterrender', function () {\n      _this.afterRender();\n    });\n  };\n\n  ViewLayer.prototype.afterInit = function () {\n    _super.prototype.afterInit.call(this);\n\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n\n    if (this.options.padding !== 'auto') {\n      this.parseEvents();\n    }\n  };\n\n  ViewLayer.prototype.afterRender = function () {\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n\n    var options = this.options;\n    var padding = options.padding ? options.padding : this.config.theme.padding;\n    /** defaultState */\n\n    if (options.defaultState && padding !== 'auto') {\n      this.stateController.defaultStates(options.defaultState);\n    }\n\n    this.addGeomCliper();\n    /** autopadding */\n\n    if (padding === 'auto') {\n      this.paddingController.processAutoPadding();\n    }\n  };\n  /** 完整生命周期渲染 */\n\n\n  ViewLayer.prototype.render = function () {\n    _super.prototype.render.call(this);\n\n    var data = this.options.data;\n\n    if (!_.isEmpty(data)) {\n      this.view.render();\n    }\n  };\n  /** 销毁 */\n\n\n  ViewLayer.prototype.destroy = function () {\n    this.doDestroy();\n\n    _super.prototype.destroy.call(this);\n  };\n  /** 更新配置项 */\n\n\n  ViewLayer.prototype.updateConfig = function (cfg) {\n    this.doDestroy();\n\n    if (!cfg.padding && this.initialOptions.padding && this.initialOptions.padding === 'auto') {\n      cfg.padding = 'auto';\n    }\n\n    this.options = _.deepMix({}, this.options, cfg);\n    this.processOptions(this.options);\n  };\n\n  ViewLayer.prototype.changeData = function (data) {\n    this.options.data = this.processData(data);\n    this.view.changeData(this.options.data);\n  }; // plot 不断销毁重建，需要一个api获取最新的plot\n\n\n  ViewLayer.prototype.getPlot = function () {\n    return this.view;\n  }; // 获取对应的G2 Theme\n\n\n  ViewLayer.prototype.getTheme = function () {\n    return this.theme;\n  };\n\n  ViewLayer.prototype.getResponsiveTheme = function () {\n    return this.themeController.getResponsiveTheme(this.type);\n  }; // 获取对应的Plot Theme\n\n\n  ViewLayer.prototype.getPlotTheme = function () {\n    return this.themeController.getPlotTheme(this.options, this.type);\n  }; // 绑定一个外部的stateManager\n\n\n  ViewLayer.prototype.bindStateManager = function (stateManager, cfg) {\n    this.stateController.bindStateManager(stateManager, cfg);\n  }; // 响应状态量更新的快捷方法\n\n\n  ViewLayer.prototype.setActive = function (condition, style) {\n    this.stateController.setState({\n      type: 'active',\n      condition: condition,\n      style: style\n    });\n  };\n\n  ViewLayer.prototype.setSelected = function (condition, style) {\n    this.stateController.setState({\n      type: 'selected',\n      condition: condition,\n      style: style\n    });\n  };\n\n  ViewLayer.prototype.setDisable = function (condition, style) {\n    this.stateController.setState({\n      type: 'disable',\n      condition: condition,\n      style: style\n    });\n  };\n\n  ViewLayer.prototype.setNormal = function (condition) {\n    this.stateController.setState({\n      type: 'normal',\n      condition: condition,\n      style: {}\n    });\n  }; // 获取 ViewLayer 的数据项\n\n\n  ViewLayer.prototype.getData = function (start, end) {\n    return this.processData((this.options.data || []).slice(start, end));\n  };\n\n  ViewLayer.prototype.processData = function (data) {\n    return data;\n  };\n\n  ViewLayer.prototype.scale = function () {\n    /** scale meta配置 */\n    // 1. this.config.scales中已有子图形在处理xAxis/yAxis是写入的xField/yField对应的scale信息，这里再检查用户设置的meta，将meta信息合并到默认的scale中\n    // 2. 同时xAxis/yAxis中的type优先级更高，覆盖meta中的type配置\n    var scaleTypes = _.mapValues(this.config.scales, function (scaleConfig) {\n      var type = scaleConfig.type;\n      return type ? {\n        type: type\n      } : {};\n    });\n\n    var scales = _.deepMix({}, this.config.scales, this.options.meta || {}, scaleTypes);\n\n    this.setConfig('scales', scales);\n  };\n\n  ViewLayer.prototype.axis = function () {\n    var xAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'x'\n    });\n    var yAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'y'\n    });\n    var axesConfig = {\n      fields: {}\n    };\n    axesConfig.fields[this.options.xField] = xAxis_parser;\n    axesConfig.fields[this.options.yField] = yAxis_parser;\n    /** 存储坐标轴配置项到config */\n\n    this.setConfig('axes', axesConfig);\n  };\n\n  ViewLayer.prototype.tooltip = function () {\n    if (this.options.tooltip.visible === false) {\n      this.setConfig('tooltip', false);\n      return;\n    }\n\n    this.setConfig('tooltip', _.deepMix({}, _.get(this.options, 'tooltip')));\n\n    _.deepMix(this.config.theme.tooltip, this.options.tooltip.style);\n  };\n\n  ViewLayer.prototype.legend = function () {\n    if (this.options.legend.visible === false) {\n      this.setConfig('legends', false);\n      return;\n    }\n\n    var flipOption = _.get(this.options, 'legend.flipPage');\n\n    var clickable = _.get(this.options, 'legend.clickable');\n\n    this.setConfig('legends', {\n      position: _.get(this.options, 'legend.position'),\n      formatter: _.get(this.options, 'legend.formatter'),\n      offsetX: _.get(this.options, 'legend.offsetX'),\n      offsetY: _.get(this.options, 'legend.offsetY'),\n      clickable: _.isUndefined(clickable) ? true : clickable,\n      // wordSpacing: _.get(this.options, 'legend.wordSpacing'),\n      flipPage: flipOption\n    });\n  };\n\n  ViewLayer.prototype.annotation = function () {\n    var _this = this;\n\n    var config = [];\n\n    if (this.config.coord.type === 'cartesian' && this.options.guideLine) {\n      _.each(this.options.guideLine, function (line) {\n        var guideLine = getComponent('guideLine', {\n          plot: _this,\n          cfg: line\n        });\n        config.push(guideLine);\n      });\n    }\n\n    this.setConfig('annotations', config);\n  };\n\n  ViewLayer.prototype.animation = function () {\n    if (this.options.animation === false || this.options.padding === 'auto') {\n      this.config.animate = false;\n    }\n  };\n\n  ViewLayer.prototype.applyInteractions = function () {\n    var _this = this;\n\n    var _a = this.options.interactions,\n        interactions = _a === void 0 ? [] : _a;\n\n    if (this.interactions) {\n      this.interactions.forEach(function (inst) {\n        inst.destroy();\n      });\n    }\n\n    this.interactions = [];\n    interactions.forEach(function (interaction) {\n      var Ctor = BaseInteraction.getInteraction(interaction.type, _this.type);\n\n      if (Ctor) {\n        var inst = new Ctor({\n          view: _this.view\n        }, _this, Ctor.getInteractionRange(_this.layerBBox, interaction.cfg), interaction.cfg);\n\n        _this.interactions.push(inst);\n      }\n    });\n  };\n  /** 设置G2 config，带有类型推导 */\n\n\n  ViewLayer.prototype.setConfig = function (key, config) {\n    if (key === 'element') {\n      this.config.elements.push(config);\n      return;\n    }\n\n    if (config === false) {\n      this.config[key] = false;\n      return;\n    }\n\n    _.assign(this.config[key], config);\n  };\n\n  ViewLayer.prototype.parseEvents = function (eventParser) {\n    var _this = this;\n\n    var options = this.options;\n\n    if (options.events) {\n      _super.prototype.parseEvents.call(this, options.events);\n\n      var eventmap_1 = eventParser ? eventParser.EVENT_MAP : EVENT_MAP;\n\n      _.each(options.events, function (e, k) {\n        if (_.isFunction(e)) {\n          var eventName = eventmap_1[k] || k;\n          var handler = e;\n          onEvent(_this, eventName, handler);\n        }\n      });\n    }\n  };\n\n  ViewLayer.prototype.drawTitle = function () {\n    var props = this.options;\n    var range = this.layerBBox;\n\n    if (this.title) {\n      this.title.destroy();\n      this.title = null;\n    }\n\n    if (isTextUsable(props.title)) {\n      var width = this.width;\n      var theme = this.config.theme;\n      var title = new TextDescription({\n        leftMargin: range.minX + theme.title.padding[3],\n        topMargin: range.minY + theme.title.padding[0],\n        text: props.title.text,\n        style: _.mix(theme.title, props.title.style),\n        wrapperWidth: width - theme.title.padding[3] - theme.title.padding[1],\n        container: this.container.addGroup(),\n        theme: theme,\n        index: isTextUsable(props.description) ? 0 : 1,\n        plot: this,\n        name: 'title'\n      });\n      this.title = title;\n      this.paddingController.registerPadding(title, 'outer');\n    }\n  };\n\n  ViewLayer.prototype.drawDescription = function () {\n    var props = this.options;\n    var range = this.layerBBox;\n\n    if (this.description) {\n      this.description.destroy();\n      this.description = null;\n    }\n\n    if (isTextUsable(props.description)) {\n      var width = this.width;\n      var theme = this.config.theme;\n      var topMargin = 0;\n\n      if (this.title) {\n        var titleBBox = this.title.getBBox();\n        topMargin += titleBBox.minY + titleBBox.height;\n        topMargin += theme.description.padding[0];\n      } else {\n        // 无title的情况下使用title的上padding\n        topMargin += range.minY + theme.title.padding[0];\n      }\n\n      var description = new TextDescription({\n        leftMargin: range.minX + theme.description.padding[3],\n        topMargin: topMargin,\n        text: props.description.text,\n        style: _.mix(theme.description, props.description.style),\n        wrapperWidth: width - theme.description.padding[3] - theme.description.padding[1],\n        container: this.container.addGroup(),\n        theme: theme,\n        index: 1,\n        plot: this,\n        name: 'description'\n      });\n      this.description = description;\n      this.paddingController.registerPadding(description, 'outer');\n    }\n  };\n  /** 抽取destroy和updateConfig共有代码为_destroy方法 */\n\n\n  ViewLayer.prototype.doDestroy = function () {\n    this.doDestroyInteractions();\n    /** 销毁g2.view实例 */\n\n    if (!this.view.destroyed) {\n      this.view.destroy();\n    }\n  };\n\n  ViewLayer.prototype.doDestroyInteractions = function () {\n    // 移除注册的 interactions\n    if (this.interactions) {\n      this.interactions.forEach(function (inst) {\n        inst.destroy();\n      });\n    }\n\n    this.interactions = [];\n  };\n\n  ViewLayer.prototype.getViewRange = function () {\n    var _this = this; // 有 Range 的 Interaction 参与 ViewMargin 计算\n\n\n    var _a = this.options.interactions,\n        interactions = _a === void 0 ? [] : _a;\n    var layerBBox = this.layerBBox;\n    interactions.forEach(function (interaction) {\n      var Ctor = BaseInteraction.getInteraction(interaction.type, _this.type);\n      var range = Ctor && Ctor.getInteractionRange(layerBBox, interaction.cfg);\n      var position = '';\n\n      if (range) {\n        // 先只考虑 Range 靠边的情况\n        if (range.bottom === layerBBox.bottom && range.top > layerBBox.top) {\n          // margin[2] += range.height;\n          position = 'bottom';\n        } else if (range.right === layerBBox.right && range.left > layerBBox.left) {\n          // margin[1] += range.width;\n          position = 'right';\n        } else if (range.left === layerBBox.left && range.right > layerBBox.right) {\n          // margin[3] += range.width;\n          position = 'left';\n        } else if (range.top === layerBBox.top && range.bottom > layerBBox.bottom) {\n          // margin[0] += range.height;\n          position = 'top';\n        }\n\n        _this.paddingController.registerPadding({\n          getBBox: function getBBox() {\n            return range;\n          },\n          position: position\n        }, 'outer');\n      }\n    });\n    var viewRange = this.paddingController.processOuterPadding();\n    return viewRange;\n  }; // 临时解决scale min & max的图形截取\n\n\n  ViewLayer.prototype.addGeomCliper = function () {\n    var panelRange = this.view.get('panelRange');\n    var cliper = new Rect({\n      attrs: {\n        x: panelRange.minX,\n        y: panelRange.minY,\n        width: panelRange.width,\n        height: panelRange.height\n      }\n    });\n    var geoms = this.view.get('elements');\n\n    _.each(geoms, function (geom) {\n      var cliperContainer = geom.get('shapeContainer');\n      var preCliper = cliperContainer.attr('clip');\n\n      if (preCliper) {\n        preCliper.remove();\n      }\n\n      cliperContainer.attr('clip', cliper);\n    });\n  };\n\n  return ViewLayer;\n}(Layer);\n\nexport default ViewLayer;","import { modifyCSS } from '@antv/dom-util';\nimport { Canvas } from '@antv/g';\nimport * as _ from '@antv/util';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport { getGlobalTheme } from '../../theme/global';\nimport ThemeController from './theme';\n/**\n * Canvas controller\n * 1. create G.Canvas, destroy G.Canvas\n * 2. process auto fit container\n * 3. API for G.Canvas\n */\n\nvar CanvasController =\n/** @class */\nfunction () {\n  function CanvasController(cfg) {\n    var _this = this;\n    /**\n     * when the container size changed, trigger it after 300ms.\n     */\n\n\n    this.onResize = _.debounce(function () {\n      if (_this.plot.destroyed) {\n        return;\n      }\n\n      var _a = _this.getCanvasSize(),\n          width = _a.width,\n          height = _a.height;\n      /** height measure不准导致重复 forceFit */\n\n\n      if (_this.width === width\n      /*&& this.height === height*/\n      ) {\n          return;\n        } // got new width, height, re-render the plot\n\n\n      _this.width = width;\n      _this.height = height;\n\n      _this.plot.updateConfig({\n        width: width,\n        height: height\n      });\n\n      _this.plot.render();\n    }, 300);\n    var containerDOM = cfg.containerDOM,\n        plot = cfg.plot;\n    this.containerDOM = containerDOM;\n    this.plot = plot;\n    this.init();\n  }\n  /**\n   * get canvas size from props.\n   * @returns the width, height of canvas\n   */\n\n\n  CanvasController.prototype.getCanvasSize = function () {\n    var theme = getGlobalTheme();\n    var width = this.plot.width ? this.plot.width : theme.width;\n    var height = this.plot.height ? this.plot.height : theme.height; // if forceFit = true, then use the container's size as default.\n\n    if (this.plot.forceFit) {\n      width = this.containerDOM.offsetWidth ? this.containerDOM.offsetWidth : width;\n      height = this.containerDOM.offsetHeight ? this.containerDOM.offsetHeight : height;\n    }\n\n    return {\n      width: width,\n      height: height\n    };\n  };\n  /**\n   * get the canvas dom\n   * @returns Canvas DOM\n   */\n\n\n  CanvasController.prototype.getCanvasDOM = function () {\n    return this.canvas.get('canvasDOM');\n  };\n  /**\n   * update the plot size\n   */\n\n\n  CanvasController.prototype.updateCanvasSize = function () {\n    var _a = this.getCanvasSize(),\n        width = _a.width,\n        height = _a.height;\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height); // this.plot.updateRange();\n  };\n  /**\n   * 根据主题调整canvas样式\n   */\n\n\n  CanvasController.prototype.updateCanvasTheme = function () {\n    var theme = this.plot.theme;\n    var globalTheme = ThemeController.getGlobalTheme(theme);\n\n    var fill = _.get(globalTheme, 'backgroundStyle.fill');\n\n    if (fill) {\n      this.updateCanvasStyle({\n        backgroundColor: fill\n      });\n    }\n  };\n  /**\n   * update the canvas dom styles\n   * @param styles\n   */\n\n\n  CanvasController.prototype.updateCanvasStyle = function (styles) {\n    modifyCSS(this.getCanvasDOM(), styles);\n  };\n  /**\n   * destroy the plot, remove resize event.\n   */\n\n\n  CanvasController.prototype.destroy = function () {\n    // remove event\n    if (this.resizeObserver) {\n      this.resizeObserver.unobserve(this.containerDOM);\n      this.resizeObserver.disconnect();\n      this.containerDOM = null;\n    } // remove G.Canvas\n\n\n    this.canvas.destroy();\n  };\n  /**\n   * when forceFit = true, then bind the event to listen the container size change\n   */\n\n\n  CanvasController.prototype.bindForceFit = function () {\n    var forceFit = this.plot.forceFit; // use ResizeObserver to listen the container size change.\n\n    if (forceFit) {\n      this.resizeObserver = new ResizeObserver(this.onResize);\n      this.resizeObserver.observe(this.containerDOM);\n    }\n  };\n  /**\n   * init life circle\n   */\n\n\n  CanvasController.prototype.init = function () {\n    this.initGCanvas();\n    this.bindForceFit();\n  };\n  /**\n   * init G.Canvas instance\n   */\n\n\n  CanvasController.prototype.initGCanvas = function () {\n    /** 创建canvas */\n    var _a = this.plot,\n        _b = _a.renderer,\n        renderer = _b === void 0 ? 'canvas' : _b,\n        pixelRatio = _a.pixelRatio;\n\n    var _c = this.getCanvasSize(),\n        width = _c.width,\n        height = _c.height;\n\n    this.canvas = new Canvas({\n      containerDOM: this.containerDOM,\n      width: width,\n      height: height,\n      renderer: renderer,\n      pixelRatio: pixelRatio\n    });\n    this.width = width;\n    this.height = height;\n    this.updateCanvasTheme();\n  };\n\n  return CanvasController;\n}();\n\nexport default CanvasController;","import * as _ from '@antv/util';\n\nfunction isSameShape(shape1, shape2) {\n  if (shape1 && shape2 && shape1 === shape2) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isPointInBBox(point, bbox) {\n  if (point.x >= bbox.minX && point.x <= bbox.maxX && point.y >= bbox.minY && point.y <= bbox.maxY) {\n    return true;\n  }\n\n  return false;\n}\n\nvar EventController =\n/** @class */\nfunction () {\n  function EventController(cfg) {\n    this.plot = cfg.plot;\n    this.canvas = cfg.canvas;\n    this.pixelRatio = this.canvas.get('pixelRatio');\n    this.eventHandlers = [];\n  }\n\n  EventController.prototype.bindEvents = function () {\n    this.addEvent(this.canvas, 'mousedown', _.wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'mousemove', _.wrapBehavior(this, 'onMove'));\n    this.addEvent(this.canvas, 'mouseup', _.wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'click', _.wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'dblclick', _.wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'contextmenu', _.wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'wheel', _.wrapBehavior(this, 'onEvents'));\n  };\n\n  EventController.prototype.clearEvents = function () {\n    var eventHandlers = this.eventHandlers;\n\n    _.each(eventHandlers, function (eh) {\n      eh.target.off(eh.type, eh.handler);\n    });\n  };\n\n  EventController.prototype.addEvent = function (target, eventType, handler) {\n    target.on(eventType, handler);\n    this.eventHandlers.push({\n      target: target,\n      type: eventType,\n      handler: handler\n    });\n  };\n\n  EventController.prototype.onEvents = function (ev) {\n    var eventObj = this.getEventObj(ev);\n    var target = ev.target; // 判断是否拾取到view以外的shape\n\n    if (target.isShape && !this.isShapeInView(target) && target.name) {\n      this.plot.emit(target.name + \":\" + ev.type, ev);\n    }\n\n    this.plot.emit(\"\" + ev.type, eventObj); // layer事件\n\n    var layers = this.plot.getLayers();\n\n    if (layers.length > 0) {\n      this.onLayerEvent(layers, eventObj, ev.type);\n    }\n  };\n\n  EventController.prototype.onMove = function (ev) {\n    var target = ev.target;\n    var eventObj = this.getEventObj(ev); // shape的mouseenter, mouseleave和mousemove事件\n\n    if (target.isShape && !this.isShapeInView(target) && target.name) {\n      this.plot.emit(target.name + \":\" + ev.type, eventObj); // mouseleave & mouseenter\n\n      if (this.lastShape && !isSameShape(target, this.lastShape)) {\n        if (this.lastShape) {\n          this.plot.emit(this.lastShape.name + \":mouseleave\", eventObj);\n        }\n\n        this.plot.emit(target.name + \":mouseenter\", eventObj);\n      }\n\n      this.lastShape = target;\n    }\n\n    this.plot.emit('mousemove', eventObj); // layer事件\n\n    var layers = this.plot.getLayers();\n\n    if (layers.length > 0) {\n      this.onLayerEvent(layers, eventObj, 'mousemove');\n    }\n  };\n\n  EventController.prototype.isShapeInView = function (shape) {\n    var groupName = ['frontgroundGroup', 'backgroundGroup', 'panelGroup'];\n    var parent = shape.get('parent');\n\n    while (parent) {\n      var parentName = parent.get('name');\n\n      if (parentName && _.contains(groupName, parentName)) {\n        return true;\n      }\n\n      parent = parent.get('parent');\n    }\n\n    return false;\n  };\n\n  EventController.prototype.getEventObj = function (ev) {\n    var obj = {\n      x: ev.x / this.pixelRatio,\n      y: ev.y / this.pixelRatio,\n      target: ev.target,\n      event: ev.event\n    };\n    return obj;\n  };\n\n  EventController.prototype.onLayerEvent = function (layers, eventObj, eventName) {\n    var _this = this;\n\n    _.each(layers, function (layer) {\n      var bbox = layer.getGlobalBBox();\n\n      if (isPointInBBox({\n        x: eventObj.x,\n        y: eventObj.y\n      }, bbox)) {\n        layer.emit(\"\" + eventName, eventObj);\n        var subLayers = layer.layers;\n\n        if (subLayers.length > 0) {\n          _this.onLayerEvent(subLayers, eventObj, eventName);\n        }\n      }\n    });\n  };\n\n  return EventController;\n}();\n\nexport default EventController;","/** 所有统计图形 */\nvar GLOBAL_PLOT_MAP = {};\nexport function registerPlotType(name, ctr) {\n  GLOBAL_PLOT_MAP[name.toLowerCase()] = ctr;\n}\nexport function getPlotType(name) {\n  return GLOBAL_PLOT_MAP[name.toLowerCase()];\n}","import { __extends } from \"tslib\";\nimport EventEmitter from '@antv/event-emitter';\nimport * as _ from '@antv/util';\nimport CanvasController from './controller/canvas';\nimport EventController from './controller/event';\nimport { getPlotType } from './global';\nimport Layer from './layer';\nimport ViewLayer from './view-layer';\nimport { CANVAS_EVENT_MAP } from '../util/event';\n\nvar BasePlot =\n/** @class */\nfunction (_super) {\n  __extends(BasePlot, _super);\n\n  function BasePlot(container, props) {\n    var _this = _super.call(this) || this;\n\n    _this.containerDOM = typeof container === 'string' ? document.getElementById(container) : container;\n    _this.forceFit = !_.isNil(props.forceFit) ? props.forceFit : _.isNil(props.width) && _.isNil(props.height);\n    _this.renderer = props.renderer || 'canvas';\n    _this.pixelRatio = props.pixelRatio || null;\n    _this.width = props.width;\n    _this.height = props.height;\n    _this.theme = props.theme;\n    _this.canvasController = new CanvasController({\n      containerDOM: _this.containerDOM,\n      plot: _this\n    });\n    /** update layer properties */\n\n    _this.width = _this.canvasController.width;\n    _this.height = _this.canvasController.height;\n    _this.canvas = _this.canvasController.canvas;\n    _this.layers = [];\n    _this.destroyed = false;\n\n    _this.createLayers(props);\n    /** bind events */\n\n\n    _this.eventController = new EventController({\n      plot: _this,\n      canvas: _this.canvasController.canvas\n    });\n\n    _this.eventController.bindEvents();\n\n    _this.parseEvents(props);\n\n    return _this;\n  }\n  /** 生命周期 */\n\n\n  BasePlot.prototype.destroy = function () {\n    this.eachLayer(function (layer) {\n      layer.destroy();\n    });\n    this.canvasController.destroy();\n    this.eventController.clearEvents();\n    this.layers = [];\n    this.destroyed = true;\n  };\n  /**\n   * 重新绘制图形\n   */\n\n\n  BasePlot.prototype.repaint = function () {\n    this.canvasController.canvas.draw();\n  };\n\n  BasePlot.prototype.updateConfig = function (config, all) {\n    if (all === void 0) {\n      all = false;\n    }\n\n    if (all) {\n      this.eachLayer(function (layer) {\n        if (layer instanceof ViewLayer) {\n          layer.updateConfig(config);\n        }\n      });\n    } else {\n      var layer = this.layers[0];\n\n      if (layer instanceof Layer) {\n        layer.updateConfig(config);\n      }\n    }\n\n    if (config.width) {\n      this.width = config.width;\n    }\n\n    if (config.height) {\n      this.height = config.height;\n    }\n\n    if (config.theme) {\n      this.theme = config.theme;\n    }\n\n    this.canvasController.updateCanvasSize();\n    this.canvasController.updateCanvasTheme();\n  };\n\n  BasePlot.prototype.changeData = function (data, all) {\n    if (all === void 0) {\n      all = false;\n    }\n\n    if (all) {\n      this.eachLayer(function (layer) {\n        if (layer instanceof ViewLayer) {\n          layer.changeData(data);\n        }\n      });\n    } else {\n      var layer = this.layers[0];\n\n      if (layer instanceof ViewLayer) {\n        layer.changeData(data);\n      }\n    }\n  };\n\n  BasePlot.prototype.getPlotTheme = function () {\n    var layer = this.layers[0];\n    return layer.getPlotTheme();\n  };\n\n  BasePlot.prototype.getData = function () {\n    var layer = this.layers[0];\n    return layer.getData();\n  };\n  /**\n   * 绑定一个外部的stateManager\n   * 先直接传递给各个子 Layer\n   *\n   *  @param stateManager\n   *  @param cfg\n   */\n\n\n  BasePlot.prototype.bindStateManager = function (stateManager, cfg) {\n    this.eachLayer(function (layer) {\n      if (layer instanceof ViewLayer) {\n        layer.bindStateManager(stateManager, cfg);\n      }\n    });\n  };\n  /**\n   * 响应状态量更新的快捷方法\n   *\n   *  @param condition\n   * @param style\n   */\n\n\n  BasePlot.prototype.setActive = function (condition, style) {\n    this.eachLayer(function (layer) {\n      if (layer instanceof ViewLayer) {\n        layer.setActive(condition, style);\n      }\n    });\n  };\n\n  BasePlot.prototype.setSelected = function (condition, style) {\n    this.eachLayer(function (layer) {\n      if (layer instanceof ViewLayer) {\n        layer.setSelected(condition, style);\n      }\n    });\n  };\n\n  BasePlot.prototype.setDisable = function (condition, style) {\n    this.eachLayer(function (layer) {\n      if (layer instanceof ViewLayer) {\n        layer.setDisable(condition, style);\n      }\n    });\n  };\n\n  BasePlot.prototype.setNormal = function (condition) {\n    this.eachLayer(function (layer) {\n      if (layer instanceof ViewLayer) {\n        layer.setNormal(condition);\n      }\n    });\n  };\n  /**\n   * 获取图形下的图层 Layer，默认第一个 Layer\n   * @param idx\n   */\n\n\n  BasePlot.prototype.getLayer = function (idx) {\n    if (idx === void 0) {\n      idx = 0;\n    }\n\n    return this.layers[idx];\n  };\n\n  BasePlot.prototype.getCanvas = function () {\n    return this.canvasController.canvas;\n  };\n\n  BasePlot.prototype.getLayers = function () {\n    return this.layers;\n  };\n\n  BasePlot.prototype.render = function () {\n    this.eachLayer(function (layer) {\n      return layer.render();\n    });\n  };\n\n  BasePlot.prototype.eachLayer = function (cb) {\n    _.each(this.layers, cb);\n  };\n  /**\n   * add children layer\n   * @param layer\n   */\n\n\n  BasePlot.prototype.addLayer = function (layer) {\n    var idx = _.findIndex(this.layers, function (item) {\n      return item === layer;\n    });\n\n    if (idx < 0) {\n      this.layers.push(layer);\n    }\n  };\n\n  BasePlot.prototype.createLayers = function (props) {\n    if (props.layers) {// TODO: combo plot\n    } else if (props.type) {\n      var viewLayerCtr = getPlotType(props.type);\n\n      var viewLayerProps = _.deepMix({}, props, {\n        canvas: this.canvasController.canvas,\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height\n      });\n\n      var viewLayer = new viewLayerCtr(viewLayerProps);\n      this.addLayer(viewLayer);\n    }\n  };\n\n  BasePlot.prototype.parseEvents = function (props) {\n    var _this = this;\n\n    var eventsName = _.keys(CANVAS_EVENT_MAP);\n\n    if (props.events) {\n      _.each(props.events, function (e, k) {\n        if (_.contains(eventsName, k) && _.isFunction(e)) {\n          var eventName = CANVAS_EVENT_MAP[k] || k;\n          var handler = e;\n\n          _this.on(eventName, handler);\n        }\n      });\n    }\n  };\n\n  return BasePlot;\n}(EventEmitter);\n\nexport default BasePlot;","import * as _ from '@antv/util';\n\nvar ElementParser =\n/** @class */\nfunction () {\n  function ElementParser(cfg) {\n    _.assign(this, cfg);\n\n    this.init();\n  }\n\n  ElementParser.prototype.init = function () {\n    this.config = {\n      type: this.type,\n      position: {\n        fields: this.positionFields\n      },\n      widthRatio: {\n        // 宽度所占的分类的比例\n        column: this.widthRatio || 3 / 5,\n        rose: 0.9999999,\n        multiplePie: 1 / 1.3\n      }\n    };\n  };\n\n  return ElementParser;\n}();\n\nexport default ElementParser;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementParser from '../base';\n\nvar AreaParser =\n/** @class */\nfunction (_super) {\n  __extends(AreaParser, _super);\n\n  function AreaParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  AreaParser.prototype.init = function () {\n    var props = this.plot.options;\n    this.config = {\n      type: 'area',\n      position: {\n        fields: [props.xField, props.yField]\n      },\n      connectNulls: props.connectNulls || false\n    };\n\n    if (props.smooth) {\n      this.config.shape = {\n        values: ['smooth']\n      };\n    }\n\n    if (this._getColorMappingField() || props.color) {\n      this.parseColor();\n    }\n\n    if (props.areaStyle || props.area && props.area.style) {\n      this.parseStyle();\n    }\n  };\n\n  AreaParser.prototype.parseColor = function () {\n    var props = this.plot.options;\n    var config = {};\n\n    var colorMappingField = this._getColorMappingField();\n\n    if (colorMappingField) {\n      config.fields = colorMappingField;\n    }\n\n    if (_.has(props, 'color')) {\n      var color = props.color;\n\n      if (_.isString(color)) {\n        config.values = [color];\n      } else if (_.isFunction(color)) {\n        config.callback = color;\n      } else {\n        config.values = color;\n      }\n    }\n\n    this.config.color = config;\n  };\n\n  AreaParser.prototype.parseStyle = function () {\n    var props = this.plot.options;\n    var styleProps = props.areaStyle ? props.areaStyle : props.area.style;\n    var config = {};\n\n    if (_.isFunction(styleProps) && props.seriesField) {\n      config.fields = [props.seriesField];\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n\n    this.config.style = config;\n  };\n\n  AreaParser.prototype._getColorMappingField = function () {\n    var props = this.plot.options;\n    var colorMapper = ['stackField', 'seriesField'];\n\n    for (var _i = 0, colorMapper_1 = colorMapper; _i < colorMapper_1.length; _i++) {\n      var m = colorMapper_1[_i];\n\n      if (_.get(props, m)) {\n        return [props[m]];\n      }\n    }\n  };\n\n  return AreaParser;\n}(ElementParser);\n\nexport default AreaParser;","/**\n * @description path 计算、转换的辅助工具\n */\nimport * as matrixUtil from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nvar vector2 = matrixUtil.vec2;\n\nfunction _points2path(points, isInCircle) {\n  var path = [];\n\n  if (points.length) {\n    for (var i = 0, length_1 = points.length; i < length_1; i += 1) {\n      var item = points[i];\n      var command = i === 0 ? 'M' : 'L';\n      path.push([command, item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _getPointRadius(coord, point) {\n  var center = coord.getCenter();\n  var r = Math.sqrt(Math.pow(point.x - center.x, 2) + Math.pow(point.y - center.y, 2));\n  return r;\n}\n\nfunction _convertArr(arr, coord) {\n  var tmp = [arr[0]];\n\n  for (var i = 1, len = arr.length; i < len; i = i + 2) {\n    var point = coord.convertPoint({\n      x: arr[i],\n      y: arr[i + 1]\n    });\n    tmp.push(point.x, point.y);\n  }\n\n  return tmp;\n}\n\nfunction _convertPolarPath(pre, cur, coord) {\n  var isTransposed = coord.isTransposed,\n      startAngle = coord.startAngle,\n      endAngle = coord.endAngle;\n  var prePoint = {\n    x: pre[1],\n    y: pre[2]\n  };\n  var curPoint = {\n    x: cur[1],\n    y: cur[2]\n  };\n  var rst = [];\n  var xDim = isTransposed ? 'y' : 'x';\n  var angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  var direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // 圆弧的方向\n\n  var flag = angleRange > Math.PI ? 1 : 0; // 大弧还是小弧标志位\n\n  var convertPoint = coord.convertPoint(curPoint);\n\n  var r = _getPointRadius(coord, convertPoint);\n\n  if (r >= 0.5) {\n    // 小于1像素的圆在图像上无法识别\n    if (angleRange === Math.PI * 2) {\n      var middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2\n      };\n      var middleConvertPoint = coord.convertPoint(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n\n  return rst;\n} // 当存在整体的圆时，去除圆前面和后面的线，防止出现直线穿过整个圆的情形\n\n\nfunction _filterFullCirleLine(path) {\n  _.each(path, function (subPath, index) {\n    var cur = subPath;\n\n    if (cur[0].toLowerCase() === 'a') {\n      var pre = path[index - 1];\n      var next = path[index + 1];\n\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\nexport var smoothBezier = function smoothBezier(points, smooth, isLoop, constraint) {\n  var cps = [];\n  var prevPoint;\n  var nextPoint;\n  var hasConstraint = !!constraint;\n  var min;\n  var max;\n\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (var i = 0, l = points.length; i < l; i++) {\n      var point = points[i];\n      min = vector2.min([], min, point);\n      max = vector2.max([], max, point);\n    }\n\n    min = vector2.min([], min, constraint[0]);\n    max = vector2.max([], max, constraint[1]);\n  }\n\n  for (var i = 0, len = points.length; i < len; i++) {\n    var point = points[i];\n\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n\n    var v = [];\n    v = vector2.sub(v, nextPoint, prevPoint);\n    v = vector2.scale(v, v, smooth);\n    var d0 = vector2.distance(point, prevPoint);\n    var d1 = vector2.distance(point, nextPoint);\n    var sum = d0 + d1;\n\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    var v1 = vector2.scale([], v, -d0);\n    var v2 = vector2.scale([], v, d1);\n    var cp0 = vector2.add([], point, v1);\n    var cp1 = vector2.add([], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vector2.max([], cp0, min);\n      cp0 = vector2.min([], cp0, max);\n      cp1 = vector2.max([], cp1, min);\n      cp1 = vector2.min([], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n}; // 贝塞尔曲线\n\nexport function catmullRom2bezier(crp, z, constraint) {\n  var isLoop = !!z;\n  var pointList = [];\n\n  for (var i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  var controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  var len = pointList.length;\n  var d1 = [];\n  var cp1;\n  var cp2;\n  var p;\n\n  for (var i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  return d1;\n} // 将点连接成路径 path\n\nexport function getLinePath(points, isInCircle) {\n  return _points2path(points, isInCircle);\n} // get spline： 限定了范围的平滑线\n\nexport function getSplinePath(points, isInCircle, constaint) {\n  var data = [];\n  var first = points[0];\n  var prePoint = null;\n\n  if (points.length <= 2) {\n    // 两点以内直接绘制成路径\n    return getLinePath(points, isInCircle);\n  }\n\n  _.each(points, function (point) {\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  });\n\n  var constraint = constaint || [// 范围\n  [0, 0], [1, 1]];\n  var splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n} // 获取点到圆心的距离\n\nexport function getPointRadius(coord, point) {\n  return _getPointRadius(coord, point);\n} // 获取点到圆心的夹角\n\nexport function getPointAngle(coord, point) {\n  var center = coord.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\nexport function convertNormalPath(coord, path) {\n  var tmp = [];\n\n  _.each(path, function (subPath) {\n    var action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n\n  return tmp;\n}\nexport function convertPolarPath(coord, path) {\n  var tmp = [];\n  var pre;\n  var cur;\n  var transposed;\n  var equals;\n\n  _.each(path, function (subPath, index) {\n    var action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed; // 是否半径相同，转换成圆弧\n\n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y 不相等，所以直接转换\n          tmp.push(_convertArr(subPath, coord));\n        }\n\n        break;\n\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n\n  _filterFullCirleLine(tmp); // 过滤多余的直线\n\n\n  return tmp;\n}","import { __extends } from \"tslib\";\n/** 简化折线点 */\n\nimport * as G2 from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { lineSimplification } from '../../util/math';\nimport { getSplinePath } from '../../util/path';\nimport AreaParser from './main';\nvar G2DefaultTheme = G2.Global.theme;\nG2.registerShape('area', 'miniArea', {\n  draw: function draw(cfg, container) {\n    var path = getPath(cfg, this, false);\n\n    var style = _.deepMix({}, {\n      lineJoin: 'round',\n      lineCap: 'round'\n    }, cfg.style);\n\n    var shape = container.addShape('path', {\n      attrs: {\n        path: path,\n        fill: parseGradient(cfg.color || G2DefaultTheme.defaultColor),\n        opacity: cfg.opacity || 0.4\n      },\n      style: style\n    });\n    return shape;\n  }\n});\nG2.registerShape('area', 'miniAreaSmooth', {\n  draw: function draw(cfg, container) {\n    var path = getPath(cfg, this, true);\n    var shape = container.addShape('path', {\n      attrs: {\n        path: path,\n        fill: parseGradient(cfg.color || G2DefaultTheme.defaultColor),\n        opacity: cfg.opacity || 0.5\n      }\n    });\n    return shape;\n  }\n});\n\nfunction getPath(cfg, shape, isSmooth) {\n  var constraint = [[0, 0], [1, 1]];\n  var topLinePoints = [];\n  var bottomLinePoints = [];\n\n  _.each(cfg.points, function (point) {\n    topLinePoints.push(point[1]);\n    bottomLinePoints.push(point[0]);\n  });\n\n  bottomLinePoints = shape.parsePoints(bottomLinePoints.reverse());\n  topLinePoints = lineSimplification(shape.parsePoints(topLinePoints));\n  var topPath = isSmooth ? getSplinePath(topLinePoints, false, constraint) : getStraightPath(topLinePoints);\n  var bottomPath = getStraightPath(bottomLinePoints);\n  bottomPath[0][0] = 'L';\n  var path = topPath.concat(bottomPath);\n  return path;\n}\n\nfunction getStraightPath(points) {\n  var path = [];\n\n  for (var i = 0; i < points.length; i++) {\n    var p = points[i];\n    var flag = i === 0 ? 'M' : 'L';\n    path.push([flag, p.x, p.y]);\n  }\n\n  return path;\n}\n\nfunction parseGradient(color) {\n  return \"l(90) 0:\" + color + \" 1:#ffffff\";\n}\n\nvar MiniAreaParser =\n/** @class */\nfunction (_super) {\n  __extends(MiniAreaParser, _super);\n\n  function MiniAreaParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MiniAreaParser.prototype.init = function () {\n    _super.prototype.init.call(this);\n\n    this.parseShape();\n  };\n\n  MiniAreaParser.prototype.parseShape = function () {\n    var props = this.plot.options;\n\n    if (props.smooth) {\n      this.config.shape = {\n        values: ['miniAreaSmooth']\n      };\n    } else {\n      this.config.shape = {\n        values: ['miniArea']\n      };\n    }\n  };\n\n  return MiniAreaParser;\n}(AreaParser);\n\nexport default MiniAreaParser;","import AreaParser from './main';\nimport MiniAreaParser from './mini';\nexport default {\n  main: AreaParser,\n  mini: MiniAreaParser\n};","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementParser from '../base';\nvar COLOR_MAPPER = ['colorField', 'stackField', 'groupField'];\n\nvar IntervalParser =\n/** @class */\nfunction (_super) {\n  __extends(IntervalParser, _super);\n\n  function IntervalParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  IntervalParser.prototype.init = function () {\n    this.type = 'interval';\n\n    _super.prototype.init.call(this);\n\n    var props = this.plot.options;\n\n    if (this._needParserColor()) {\n      this.parseColor();\n    }\n\n    if (!this.config.color) {\n      this.config.color = {\n        values: ['#5b8ff9']\n      };\n    }\n\n    var sizeProps = this._getSizeProps(props);\n\n    if (sizeProps) {\n      this.parseSize(sizeProps);\n    }\n\n    var styleProps = this._getStyleProps(props);\n\n    if (styleProps) {\n      this.parseStyle(styleProps);\n    }\n  };\n\n  IntervalParser.prototype.parseColor = function () {\n    var props = this.plot.options;\n\n    var colorField = this._getColorMappingField(props);\n\n    var config = {};\n\n    if (colorField) {\n      config.fields = colorField;\n    }\n\n    if (props.color) {\n      if (_.isString(props.color)) {\n        config.values = [props.color];\n      } else if (_.isFunction(props.color)) {\n        config.callback = props.color;\n      } else if (_.isArray(props.color)) {\n        config.values = props.color;\n      } else if (_.isObject(props.color)) {\n        config.fields = colorField;\n\n        config.callback = function (d) {\n          return props.color[d];\n        };\n      }\n    }\n\n    this.config.color = config;\n  };\n\n  IntervalParser.prototype.parseSize = function (sizeProps) {\n    var props = this.plot.options;\n    var config = {};\n\n    if (_.isFunction(props[sizeProps])) {\n      config.fields = [this.config.position.fields];\n      config.callback = props[sizeProps];\n    } else {\n      config.values = [props[sizeProps]];\n    }\n\n    this.config.size = config;\n  };\n\n  IntervalParser.prototype.parseStyle = function (styleProps) {\n    var style = this.plot.options[styleProps];\n    var config = {};\n\n    if (_.isFunction(style)) {\n      config.fields = [this.config.position.fields];\n      config.callback = style;\n    } else {\n      config.cfg = style;\n    }\n\n    this.config.style = config;\n  };\n\n  IntervalParser.prototype._getSizeProps = function (props) {\n    var sizeMapper = ['columnSize', 'barSize'];\n\n    for (var _i = 0, sizeMapper_1 = sizeMapper; _i < sizeMapper_1.length; _i++) {\n      var m = sizeMapper_1[_i];\n\n      if (_.get(props, m)) {\n        return m;\n      }\n    }\n  };\n\n  IntervalParser.prototype._getStyleProps = function (props) {\n    var sizeMapper = ['columnStyle', 'barStyle', 'pieStyle', 'ringStyle'];\n\n    for (var _i = 0, sizeMapper_2 = sizeMapper; _i < sizeMapper_2.length; _i++) {\n      var m = sizeMapper_2[_i];\n\n      if (_.get(props, m)) {\n        return m;\n      }\n    }\n  };\n\n  IntervalParser.prototype._getColorMappingField = function (props) {\n    /**如果有colorFiled或stackField配置项(后者为堆叠interval)，则参与colorMapping的字段为对应值\n     * 如没有特别设定，则一般是callback中的传参，传入位置映射的字段\n     */\n    for (var _i = 0, COLOR_MAPPER_1 = COLOR_MAPPER; _i < COLOR_MAPPER_1.length; _i++) {\n      var m = COLOR_MAPPER_1[_i];\n\n      if (_.get(props, m)) {\n        return [props[m]];\n      }\n    }\n  };\n\n  IntervalParser.prototype._needParserColor = function () {\n    var props = this.plot.options;\n\n    if (props.color) {\n      return true;\n    }\n\n    for (var _i = 0, COLOR_MAPPER_2 = COLOR_MAPPER; _i < COLOR_MAPPER_2.length; _i++) {\n      var m = COLOR_MAPPER_2[_i];\n\n      if (props[m]) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  return IntervalParser;\n}(ElementParser);\n\nexport default IntervalParser;","import IntervalParser from './main';\nexport default {\n  main: IntervalParser\n};","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementParser from '../base';\n\nvar LineParser =\n/** @class */\nfunction (_super) {\n  __extends(LineParser, _super);\n\n  function LineParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  LineParser.prototype.init = function () {\n    var props = this.plot.options;\n    this.config = {\n      type: 'line',\n      position: {\n        fields: [props.xField, props.yField]\n      },\n      connectNulls: props.connectNulls\n    };\n\n    if (props.lineSize) {\n      this.parseSize();\n    }\n\n    if (props.smooth) {\n      this.config.shape = {\n        values: ['smooth']\n      };\n    }\n\n    if (props.step) {\n      this.config.shape = {\n        values: [props.step]\n      };\n    }\n\n    if (props.seriesField || props.color) {\n      this.parseColor();\n    }\n\n    if (props.lineStyle) {\n      this.parseStyle();\n    }\n  };\n\n  LineParser.prototype.parseSize = function () {\n    var sizeProps = this.plot.options.lineSize;\n    var config = {};\n\n    if (_.isFunction(sizeProps)) {\n      config.callback = sizeProps;\n    } else {\n      config.values = [sizeProps];\n    }\n\n    this.config.size = config;\n  };\n\n  LineParser.prototype.parseColor = function () {\n    var props = this.plot.options;\n    var config = {};\n\n    if (props.seriesField) {\n      config.fields = [props.seriesField];\n    }\n\n    if (_.has(props, 'color')) {\n      var color = props.color;\n\n      if (_.isString(color)) {\n        config.values = [color];\n      } else if (_.isFunction(color)) {\n        config.callback = color;\n      } else {\n        config.values = color;\n      }\n    }\n\n    this.config.color = config;\n  };\n\n  LineParser.prototype.parseStyle = function () {\n    var props = this.plot.options;\n    var styleProps = props.lineStyle;\n    var config = {\n      fields: null,\n      callback: null,\n      cfg: null\n    };\n\n    if (_.isFunction(styleProps) && props.seriesField) {\n      config.fields = [props.seriesField];\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n\n    this.config.style = config;\n  };\n\n  return LineParser;\n}(ElementParser);\n\nexport default LineParser;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport LineParser from './main';\n\nvar GuideLineParser =\n/** @class */\nfunction (_super) {\n  __extends(GuideLineParser, _super);\n\n  function GuideLineParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GuideLineParser.prototype.init = function () {\n    var props = this.plot.options;\n\n    if (!props.xField || !props.yField) {\n      return;\n    }\n\n    this.config = {\n      type: 'line',\n      position: {\n        fields: [props.xField, props.yField]\n      }\n    };\n\n    if (this._getColorMappingField() || this._needParseAttribute('color')) {\n      this.parseColor();\n    }\n\n    if (this._needParseAttribute('size')) {\n      this.parseSize();\n    }\n\n    if (props.line.style) {\n      this.parseStyle();\n    }\n\n    if (props.smooth) {\n      this.config.shape = {\n        values: ['smooth']\n      };\n    }\n  };\n\n  GuideLineParser.prototype.parseSize = function () {\n    var props = this.plot.options;\n    var config = {};\n\n    if (props.line.size) {\n      config.values = [props.line.size];\n    } else {\n      // line作为辅助图形没有在style里指定size属性的情况下，设置默认值\n      config.values = [2];\n    }\n\n    this.config.size = config;\n  };\n\n  GuideLineParser.prototype.parseColor = function () {\n    var props = this.plot.options;\n    var config = {};\n\n    var colorField = this._getColorMappingField();\n\n    if (colorField) {\n      config.fields = colorField;\n    }\n\n    if (props.line.color) {\n      config.values = [props.line.color];\n    } else {\n      if (!colorField) {\n        colorField = this.config.position.fields;\n      } // line作为辅助图形没有在style里指定color属性的情况下，默认接受主体图形的透传\n\n\n      if (_.isString(props.color)) {\n        config.values = [props.color];\n      } else if (_.isFunction(props.color)) {\n        config.fields = colorField;\n        config.callback = props.color;\n      } else if (_.isArray(props.color)) {\n        config.fields = colorField;\n        config.values = props.color;\n      }\n    }\n\n    this.config.color = config;\n  };\n\n  GuideLineParser.prototype.parseStyle = function () {\n    var props = this.plot.options;\n    var styleProps = props.line.style;\n    var config = {};\n\n    if (_.isFunction(styleProps)) {\n      config.fields = this.config.position.fields;\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n\n    this.config.style = config;\n  };\n\n  GuideLineParser.prototype._needParseAttribute = function (attr) {\n    var props = this.plot.options;\n    var condition = !props.line || props.line[attr];\n    return condition;\n  };\n\n  GuideLineParser.prototype._getColorMappingField = function () {\n    var props = this.plot.options;\n    var colorMapper = ['stackField', 'seriesField'];\n\n    for (var _i = 0, colorMapper_1 = colorMapper; _i < colorMapper_1.length; _i++) {\n      var m = colorMapper_1[_i];\n\n      if (_.get(props, m)) {\n        return [props[m]];\n      }\n    }\n  };\n\n  return GuideLineParser;\n}(LineParser);\n\nexport default GuideLineParser;","import { __extends } from \"tslib\";\n/** 简化折线点 */\n\nimport * as G2 from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { lineSimplification } from '../../util/math';\nimport { getSplinePath } from '../../util/path';\nimport LineParser from './main';\nvar G2DefaultTheme = G2.Global.theme;\nG2.registerShape('line', 'miniLine', {\n  draw: function draw(cfg, container) {\n    var points = lineSimplification(cfg.points);\n    var path = [];\n\n    for (var i = 0; i < points.length; i++) {\n      var p = points[i];\n      var flag = i === 0 ? 'M' : 'L';\n      path.push([flag, p.x, p.y]);\n    }\n\n    var style = _.deepMix({}, {\n      lineJoin: 'round',\n      lineCap: 'round'\n    }, cfg.style);\n\n    var shape = container.addShape('path', {\n      attrs: _.mix({\n        path: path,\n        stroke: cfg.color || G2DefaultTheme.defaultColor,\n        lineWidth: cfg.size || 2\n      }, style)\n    });\n    return shape;\n  }\n});\nG2.registerShape('line', 'miniLineSmooth', {\n  draw: function draw(cfg, container) {\n    var points = lineSimplification(cfg.points);\n    var constraint = [[0, 0], [1, 1]];\n    var path = getSplinePath(points, false, constraint);\n    var shape = container.addShape('path', {\n      attrs: _.mix({\n        path: path,\n        stroke: cfg.color || G2DefaultTheme.defaultColor,\n        lineWidth: cfg.size || 2\n      }, cfg.style)\n    });\n    return shape;\n  }\n});\n\nvar MiniLineParser =\n/** @class */\nfunction (_super) {\n  __extends(MiniLineParser, _super);\n\n  function MiniLineParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MiniLineParser.prototype.init = function () {\n    _super.prototype.init.call(this);\n\n    this.parseShape();\n  };\n\n  MiniLineParser.prototype.parseShape = function () {\n    var props = this.plot.options;\n\n    if (props.smooth) {\n      this.config.shape = {\n        values: ['miniLineSmooth']\n      };\n    } else {\n      this.config.shape = {\n        values: ['miniLine']\n      };\n    }\n  };\n\n  return MiniLineParser;\n}(LineParser);\n\nexport default MiniLineParser;","import GuideLineParser from './guide';\nimport LineParser from './main';\nimport MiniLineParser from './mini';\nexport default {\n  main: LineParser,\n  guide: GuideLineParser,\n  mini: MiniLineParser\n};","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementParser from '../base';\n\nvar CircleParser =\n/** @class */\nfunction (_super) {\n  __extends(CircleParser, _super);\n\n  function CircleParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  CircleParser.prototype.init = function () {\n    var props = this.plot.options;\n    this.style = props.pointStyle;\n\n    if (!props.xField || !props.yField) {\n      return;\n    }\n\n    this.config = {\n      type: 'point',\n      position: {\n        fields: [props.xField, props.yField]\n      }\n    };\n    this.parseColor();\n    this.parseSize();\n\n    if (props.shape) {\n      this.parseShape(props.shape);\n    }\n\n    if (props.pointStyle) {\n      this.parseStyle();\n    }\n  };\n\n  CircleParser.prototype.parseColor = function () {\n    var props = this.plot.options;\n    var config = {};\n    var colorField = props.colorField;\n\n    if (colorField) {\n      config.fields = _.isArray(colorField) ? colorField : [colorField];\n    }\n\n    if (props.color) {\n      this._parseColor(props, config);\n    }\n\n    this.config.color = config;\n  };\n\n  CircleParser.prototype.parseSize = function () {\n    var props = this.plot.options;\n    var config = {};\n\n    if (props.sizeField) {\n      config.fields = [props.sizeField];\n    }\n\n    if (props.pointSize) {\n      config.values = props.pointSize;\n    }\n\n    this.config.size = config;\n  };\n\n  CircleParser.prototype.parseShape = function (shapeName) {\n    var config = {\n      values: [shapeName]\n    };\n    this.config.shape = config;\n  };\n\n  CircleParser.prototype.parseStyle = function () {\n    var props = this.plot.options;\n    var styleProps = props.pointStyle;\n    var config = {\n      fields: null,\n      callback: null,\n      cfg: null\n    };\n    var xField = props.xField,\n        yField = props.yField,\n        colorField = props.colorField;\n\n    if (_.isFunction(styleProps)) {\n      if (colorField) {\n        config.fields = _.isArray(colorField) ? [xField, yField, colorField].concat(colorField) : [xField, yField, colorField];\n      } else {\n        config.fields = [xField, yField];\n      }\n\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n\n    this.config.style = config;\n  };\n\n  CircleParser.prototype._parseColor = function (props, config) {\n    if (_.isString(props.color)) {\n      config.values = [props.color];\n    } else if (_.isFunction(props.color)) {\n      config.callback = props.color;\n    } else if (_.isArray(props.color)) {\n      config.values = props.color;\n    }\n  };\n\n  return CircleParser;\n}(ElementParser);\n\nexport default CircleParser;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementParser from '../base';\n\nfunction getValuesByField(field, data) {\n  var values = [];\n\n  _.each(data, function (d) {\n    var v = d[field];\n    values.push(v);\n  });\n\n  return _.uniq(values);\n}\n\nvar COLOR_MAPPER = ['seriesField', 'stackField'];\n\nvar GuidePointParser =\n/** @class */\nfunction (_super) {\n  __extends(GuidePointParser, _super);\n\n  function GuidePointParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GuidePointParser.prototype.init = function () {\n    var props = this.plot.options;\n    this.style = props.point.style;\n\n    if (!props.xField || !props.yField) {\n      return;\n    }\n\n    this.config = {\n      type: 'point',\n      position: {\n        fields: [props.xField, props.yField]\n      }\n    }; // if (this._needParseAttribute('color')) {\n\n    this.parseColor(); // }\n\n    if (this._needParseAttribute('size')) {\n      this.parseSize();\n    }\n\n    if (props.point.shape) {\n      this.parseShape(props.point.shape);\n    }\n\n    if (props.point.style) {\n      this.parseStyle();\n    }\n  };\n\n  GuidePointParser.prototype.parseColor = function () {\n    var props = this.plot.options;\n    var config = {};\n\n    var mappingField = this._getColorMappingField(props);\n\n    if (mappingField) {\n      this._parseColorByField(props, config, mappingField);\n    } else {\n      if (props.point && props.point.color) {\n        config.values = [props.point.color];\n      } else if (props.color) {\n        this._parseColor(props, config);\n      }\n    }\n\n    this.config.color = config;\n  };\n\n  GuidePointParser.prototype.parseSize = function () {\n    var props = this.plot.options;\n    var config = {};\n    config.values = [props.point.size];\n    this.config.size = config;\n  };\n\n  GuidePointParser.prototype.parseShape = function (shapeName) {\n    var config = {\n      values: [shapeName]\n    };\n    this.config.shape = config;\n  };\n\n  GuidePointParser.prototype.parseStyle = function () {\n    var props = this.plot.options;\n    var styleProps = props.point && props.point.style;\n    var config = {\n      fields: null,\n      callback: null,\n      cfg: null\n    };\n\n    var field = this._getColorMappingField(props);\n\n    if (_.isFunction(styleProps) && field) {\n      config.fields = [field];\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n\n    this.config.style = config;\n  };\n\n  GuidePointParser.prototype._parseColorByField = function (props, config, field) {\n    config.fields = [field];\n\n    if (props.point.color) {\n      var count = getValuesByField(field, props.data).length;\n      var values = [];\n\n      for (var i = 0; i < count; i++) {\n        values.push(props.point.color);\n      }\n\n      config.values = values;\n    } else if (props.color) {\n      this._parseColor(props, config);\n    }\n  };\n\n  GuidePointParser.prototype._parseColor = function (props, config) {\n    if (_.isString(props.color)) {\n      config.values = [props.color];\n    } else if (_.isFunction(props.color)) {\n      config.callback = props.color;\n    } else if (_.isArray(props.color)) {\n      config.values = props.color;\n    }\n  };\n\n  GuidePointParser.prototype._needParseAttribute = function (attr) {\n    var props = this.plot.options;\n\n    var condition = props.point && _.has(props.point, attr);\n\n    return condition; // const condition = !this.style || this.style[attr];\n    // return condition;\n  };\n\n  GuidePointParser.prototype._getColorMappingField = function (props) {\n    for (var _i = 0, COLOR_MAPPER_1 = COLOR_MAPPER; _i < COLOR_MAPPER_1.length; _i++) {\n      var m = COLOR_MAPPER_1[_i];\n\n      if (_.get(props, m)) {\n        return [props[m]];\n      }\n    }\n  };\n\n  return GuidePointParser;\n}(ElementParser);\n\nexport default GuidePointParser;","import Area from './area/index';\nimport Interval from './interval/index';\nimport Line from './line/index';\nimport Point from './point/index';\n/**\n * 将element的配置逻辑拆离出来，并将每类element细分为主体图形、辅助图形、mini图形三种\n * 这样也方便未来更灵活的调用和组装g2的element模块\n */\n\nvar GEOMETRY_MAP = {\n  area: Area,\n  line: Line,\n  point: Point,\n  interval: Interval\n};\nexport function getGeom(name, type, cfg) {\n  var Geom = GEOMETRY_MAP[name][type];\n  return new Geom(cfg).config;\n}","import CircleParser from './circle';\nimport GuidePointParser from './guide';\nexport default {\n  guide: GuidePointParser,\n  circle: CircleParser\n};","import { isNil, isNumber, filter } from '@antv/util';\nimport { timeIntervals } from '../interface/config';\n\nfunction adjustTimeTickInterval(interval) {\n  var intervals = timeIntervals;\n  var intervalArr = interval.split(' ');\n  var basicInterval = intervals[intervalArr[1]];\n  var intervalCount = parseInt(intervalArr[0], 10);\n  return [basicInterval.format, intervalCount * basicInterval.value];\n}\n\nexport function extractScale(desScale, axisConfig) {\n  if (!axisConfig) {\n    return desScale;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'tickCount')) {\n    desScale.tickCount = axisConfig.tickCount;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'type')) {\n    // fixme: dateTime plot层处理\n    if (axisConfig.type !== 'dateTime') {\n      desScale.type = axisConfig.type;\n    }\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'tickInterval')) {\n    if (axisConfig.type === 'time') {\n      desScale.tickInterval = adjustTimeTickInterval(axisConfig.tickInterval);\n    } else {\n      desScale.tickInterval = axisConfig.tickInterval;\n    }\n  }\n\n  if (axisConfig.type === 'time' && axisConfig.mask) {\n    desScale.mask = axisConfig.mask;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'min')) {\n    desScale.min = axisConfig.min;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'max')) {\n    desScale.max = axisConfig.max;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'nice')) {\n    desScale.nice = axisConfig.nice;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'formatter')) {\n    desScale.formatter = axisConfig.formatter;\n  }\n}\nexport function trySetScaleMinToZero(desScale, data) {\n  var validData = filter(data, function (v) {\n    return isNumber(v);\n  });\n  var min = Math.min.apply(Math, validData);\n  var max = Math.max.apply(Math, validData);\n\n  if (min > 0) {\n    if (isNil(desScale.min)) {\n      desScale.min = 0;\n    }\n  } else if (max <= 0) {\n    if (isNil(desScale.max)) {\n      desScale.max = 0;\n    }\n  }\n}","import * as G from '@antv/g';\nimport { Animate } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nfunction clipingWithData(shape, animateCfg) {\n  /** 动画初始状态 */\n  var index = shape.get('index');\n  var coord = shape.get('coord');\n  var scales = shape.get('scales');\n  var yScale = scales[animateCfg.yField];\n\n  var shapeData = _.clone(shape.get('origin'));\n\n  var clip = getClip(coord);\n  shape.attr('clip', clip);\n  shape.setSilent('animating', true);\n  var label = getLineLabel(animateCfg.plot.view, shapeData[0]._origin[animateCfg.seriesField]);\n\n  if (label && !label.get('destroyed')) {\n    label.set('visible', false);\n  }\n\n  var parent = shape.get('parent');\n  var offsetX = 12;\n  var title;\n\n  if (animateCfg.seriesField) {\n    title = parent.addShape('text', {\n      attrs: {\n        x: coord.start.x + offsetX,\n        y: 0,\n        text: shapeData[0]._origin[animateCfg.seriesField],\n        fill: shape.attr('stroke'),\n        fontSize: 12,\n        textAlign: 'start',\n        textBaseline: 'middle'\n      }\n    });\n  }\n\n  var offsetY = title ? 16 : 0;\n  var marker = parent.addShape('text', {\n    attrs: {\n      x: coord.start.x + offsetX,\n      y: offsetY,\n      text: \"test\" + index,\n      fill: shape.attr('stroke'),\n      fontSize: 12,\n      textAlign: 'start',\n      textBaseline: 'middle'\n    }\n  });\n  /** 动画执行之后 */\n\n  animateCfg.callback = function () {\n    if (shape && !shape.get('destroyed')) {\n      shape.attr('clip', null);\n      shape.setSilent('cacheShape', null);\n      shape.setSilent('animating', false);\n      clip.remove();\n      marker.animate({\n        opacity: 0\n      }, 300, function () {\n        marker.remove();\n\n        if (label && !label.get('destroyed')) {\n          label.set('visible', true);\n          animateCfg.plot.canvas.draw();\n        }\n      });\n\n      if (title) {\n        marker.animate({\n          opacity: 0\n        }, 300, function () {\n          marker.remove();\n        });\n      }\n    }\n  };\n  /** 执行动画 */\n\n  /** 准备动画参数 */\n\n\n  var delay = animateCfg.delay;\n\n  if (_.isFunction(delay)) {\n    delay = animateCfg.delay(index);\n  }\n\n  var easing = animateCfg.easing;\n\n  if (_.isFunction(easing)) {\n    easing = animateCfg.easing(index);\n  }\n  /** 动起来 */\n\n\n  var i = 0;\n  clip.animate({\n    width: coord.getWidth()\n  }, animateCfg.duration, easing, animateCfg.callback, delay);\n  marker.animate({\n    onFrame: function onFrame(ratio) {\n      var position = getPositionByRatio(ratio, shapeData, coord, i);\n      if (!position) return;\n      marker.attr('x', position[0] + offsetX);\n      marker.attr('y', position[1] + offsetY);\n      var yText = getDataByPosition(yScale, position[1], coord); // use formatter\n\n      if (yScale.formatter) {\n        yText = yScale.formatter(yText);\n      }\n\n      marker.attr('text', yText);\n    }\n  }, animateCfg.duration, easing, animateCfg.callback, delay);\n\n  if (title) {\n    title.animate({\n      onFrame: function onFrame(ratio) {\n        var position = getPositionByRatio(ratio, shapeData, coord, i);\n        if (!position) return;\n        title.attr('x', position[0] + offsetX);\n        title.attr('y', position[1]);\n      }\n    }, animateCfg.duration, easing, animateCfg.callback, delay);\n  }\n}\n\nfunction getClip(coord) {\n  var start = coord.start,\n      end = coord.end,\n      width = coord.width,\n      height = coord.height;\n  var clip = new G.Shapes.Rect({\n    attrs: {\n      x: start.x,\n      y: end.y,\n      width: 0,\n      height: height\n    }\n  });\n  clip.set('isClip', true);\n  return clip;\n}\n\nfunction getPositionByRatio(ratio, dataPoints, coord, index) {\n  var currentX = coord.start.x + coord.getWidth() * ratio;\n\n  for (var i = 0; i < dataPoints.length - 1; i++) {\n    var current = dataPoints[i];\n    var next = dataPoints[i + 1];\n\n    if (currentX >= current.x && currentX <= next.x) {\n      var m = (next.y - current.y) / (next.x - current.x); // 斜率\n\n      var y = current.y + m * (currentX - current.x);\n      return [currentX, y];\n    }\n  }\n}\n\nfunction getDataByPosition(scale, y, coord) {\n  var yRatio = (y - coord.start.y) / (coord.end.y - coord.start.y);\n  return scale.invert(yRatio).toFixed(2);\n}\n\nfunction getLineLabel(view, name) {\n  var label;\n  var elements = view.get('elements');\n\n  _.each(elements, function (e) {\n    if (e.get('type') === 'line') {\n      if (e.get('labelController')) {\n        var labelContainer = e.get('labelController').labelsContainer;\n\n        if (labelContainer) {\n          var labels = labelContainer.get('labelsRenderer').getLabels();\n\n          _.each(labels, function (l) {\n            if (l.attr('text') === name) {\n              label = l;\n            }\n          });\n        }\n      }\n    }\n  });\n\n  return label;\n}\n\nAnimate.registerAnimation('appear', 'clipingWithData', clipingWithData);","import * as _ from '@antv/util';\nimport * as MathUtil from '../../math';\n\nvar ShapeNodes =\n/** @class */\nfunction () {\n  function ShapeNodes(cfg) {\n    this.type = 'shape';\n    this.shapes = cfg.shapes;\n    this.nodes = [];\n\n    this._parserNodes();\n\n    this.origion_nodes = _.deepMix([], this.nodes);\n  }\n\n  ShapeNodes.prototype.measure = function (shape) {\n    var node = _.deepMix({}, MathUtil.bboxOnRotate(shape), {\n      shape: shape\n    });\n\n    return node;\n  };\n\n  ShapeNodes.prototype.measureNodes = function () {\n    var _this = this;\n\n    var nodes = [];\n    var shapes = [];\n\n    _.each(this.shapes, function (shape, index) {\n      var node = _.deepMix({}, _this.nodes[index], _this.measure(shape));\n\n      if (node.width !== 0 && node.height !== 0) {\n        nodes.push(node);\n        shapes.push(shape);\n      } // this.nodes[index] = node;\n\n    });\n\n    this.nodes = nodes;\n    this.shapes = shapes;\n  };\n\n  ShapeNodes.prototype.updateShapes = function () {};\n\n  ShapeNodes.prototype._parserNodes = function () {\n    var _this = this;\n\n    _.each(this.shapes, function (shape) {\n      var node = _this.measure(shape);\n\n      _this.nodes.push(node);\n    });\n  };\n\n  return ShapeNodes;\n}();\n\nexport default ShapeNodes;","function ringThickness(node, region, cfg) {\n  if (cfg === void 0) {\n    cfg = {\n      ratio: 0.8\n    };\n  }\n\n  return region.radius * cfg.ratio;\n}\n\nexport default {\n  type: 'padding',\n  usage: 'assign',\n  expression: ringThickness\n};","import columnWidth from './column-width';\nimport elementCollision from './element-collision';\nimport elementDist from './element-dist';\nimport elementDistVertical from './element-dist-vertical';\nimport elementWidth from './element-width';\nimport minRingThickness from './min-ring-thickness';\nimport ringThickness from './ring-thickness';\nexport var constraintsLib = {\n  elementDist: elementDist,\n  elementDistVertical: elementDistVertical,\n  elementCollision: elementCollision,\n  elementWidth: elementWidth,\n  columnWidth: columnWidth,\n  ringThickness: ringThickness,\n  minRingThickness: minRingThickness\n};\nexport function registerResponsiveConstraint(name, constraint) {\n  // todo: 防止覆盖\n  constraintsLib[name] = constraint;\n}","import * as MathUtil from '../../math';\n\nfunction elementDist(a, b, cfg) {\n  if (cfg === void 0) {\n    cfg = {\n      value: 4\n    };\n  }\n\n  var polygonA = [a.topLeft, a.topRight, a.bottomRight, a.bottomLeft]; // 顶点顺时针\n\n  var polygonB = [b.topLeft, b.topRight, b.bottomRight, b.bottomLeft];\n  var dist = MathUtil.minDistBetweenConvexPolygon(polygonA, polygonB);\n  return Math.round(dist) >= cfg.value;\n}\n\nexport default {\n  type: 'chain',\n  usage: 'compare',\n  expression: elementDist\n};","function elementDistVertical(a, b, cfg) {\n  if (cfg === void 0) {\n    cfg = {\n      value: 5\n    };\n  }\n\n  var dist = Math.abs(a.bottom - b.top);\n  return Math.round(dist) >= cfg.value;\n}\n\nexport default {\n  type: 'chain',\n  usage: 'compare',\n  expression: elementDistVertical\n};","import * as MathUtil from '../../math';\n\nfunction elementCollision(a, b) {\n  var polygonA = [a.topLeft, a.topRight, a.bottomRight, a.bottomLeft]; // 顶点顺时针\n\n  var polygonB = [b.topLeft, b.topRight, b.bottomRight, b.bottomLeft];\n  var dist = MathUtil.minDistBetweenConvexPolygon(polygonA, polygonB);\n  return Math.round(dist) >= 2;\n}\n\nexport default {\n  type: 'group',\n  usage: 'compare',\n  expression: elementCollision\n};","function elementWidth(node, region, cfg) {\n  if (cfg === void 0) {\n    cfg = {\n      ratio: 0.15\n    };\n  }\n\n  return node.width < region.width * cfg.ratio;\n}\n\nexport default {\n  type: 'padding',\n  usage: 'compare',\n  expression: elementWidth\n};","function columnWidth(node, region, cfg) {\n  if (cfg === void 0) {\n    cfg = {\n      ratio: 0.6\n    };\n  }\n\n  return region.width * cfg.ratio;\n}\n\nexport default {\n  type: 'padding',\n  usage: 'assign',\n  expression: columnWidth\n};","function minRingThickness(node, region) {\n  var minThicknessPixel = 2;\n  var minThickness = region.coord.radius / minThicknessPixel;\n  return Math.min(minThickness, node.value);\n}\n\nexport default {\n  type: 'padding',\n  usage: 'assign',\n  expression: minRingThickness\n};","export default function textHide(shape) {\n  shape.attr('text', '');\n}","import * as _ from '@antv/util';\nimport textHide from './text-hide';\nexport default function clearOverlapping(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n  var current = nodes[index];\n  var overlapped = [];\n  /** 找到所有与当前点overlap的node */\n\n  if (!current.shape.get('blank')) {\n    for (var i = 0; i < nodes.length; i++) {\n      var node = nodes[i];\n      var _shape = node.shape;\n\n      if (i !== index && !_shape.get('blank')) {\n        var isOverlap = isNodeOverlap(current, node);\n\n        if (isOverlap) {\n          overlapped.push(node);\n        }\n      }\n    }\n  }\n  /** overlap处理逻辑 */\n\n\n  if (overlapped.length > 0) {\n    overlapped.push(current);\n    overlapped.sort(function (a, b) {\n      return b.top - a.top;\n    });\n    /** 隐藏除最高点以外的node */\n\n    _.each(overlapped, function (node, idx) {\n      if (idx > 0) {\n        var _shape = node.shape;\n        textHide(_shape);\n\n        _shape.set('blank', true);\n      }\n    });\n  }\n}\nexport function isNodeOverlap(nodeA, nodeB) {\n  if (nodeA.bottom < nodeB.top || nodeB.bottom < nodeA.top) {\n    return false;\n  }\n\n  if (nodeA.right < nodeB.left || nodeB.right < nodeA.left) {\n    return false;\n  }\n\n  return true;\n}","var token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nvar twoDigitsOptional = \"[1-9]\\\\d?\";\nvar twoDigits = \"\\\\d\\\\d\";\nvar threeDigits = \"\\\\d{3}\";\nvar fourDigits = \"\\\\d{4}\";\nvar word = \"[^\\\\s]+\";\nvar literal = /\\[([^]*?)\\]/gm;\n\nfunction shorten(arr, sLen) {\n  var newArr = [];\n\n  for (var i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n\n  return newArr;\n}\n\nvar monthUpdate = function monthUpdate(arrName) {\n  return function (v, i18n) {\n    var lowerCaseArr = i18n[arrName].map(function (v) {\n      return v.toLowerCase();\n    });\n    var index = lowerCaseArr.indexOf(v.toLowerCase());\n\n    if (index > -1) {\n      return index;\n    }\n\n    return null;\n  };\n};\n\nfunction assign(origObj) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n    var obj = args_1[_a];\n\n    for (var key in obj) {\n      // @ts-ignore ex\n      origObj[key] = obj[key];\n    }\n  }\n\n  return origObj;\n}\n\nvar dayNames = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\nvar monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\nvar monthNamesShort = shorten(monthNames, 3);\nvar dayNamesShort = shorten(dayNames, 3);\nvar defaultI18n = {\n  dayNamesShort: dayNamesShort,\n  dayNames: dayNames,\n  monthNamesShort: monthNamesShort,\n  monthNames: monthNames,\n  amPm: [\"am\", \"pm\"],\n  DoFn: function DoFn(dayOfMonth) {\n    return dayOfMonth + [\"th\", \"st\", \"nd\", \"rd\"][dayOfMonth % 10 > 3 ? 0 : (dayOfMonth - dayOfMonth % 10 !== 10 ? 1 : 0) * dayOfMonth % 10];\n  }\n};\nvar globalI18n = assign({}, defaultI18n);\n\nvar setGlobalDateI18n = function setGlobalDateI18n(i18n) {\n  return globalI18n = assign(globalI18n, i18n);\n};\n\nvar regexEscape = function regexEscape(str) {\n  return str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n};\n\nvar pad = function pad(val, len) {\n  if (len === void 0) {\n    len = 2;\n  }\n\n  val = String(val);\n\n  while (val.length < len) {\n    val = \"0\" + val;\n  }\n\n  return val;\n};\n\nvar formatFlags = {\n  D: function D(dateObj) {\n    return String(dateObj.getDate());\n  },\n  DD: function DD(dateObj) {\n    return pad(dateObj.getDate());\n  },\n  Do: function Do(dateObj, i18n) {\n    return i18n.DoFn(dateObj.getDate());\n  },\n  d: function d(dateObj) {\n    return String(dateObj.getDay());\n  },\n  dd: function dd(dateObj) {\n    return pad(dateObj.getDay());\n  },\n  ddd: function ddd(dateObj, i18n) {\n    return i18n.dayNamesShort[dateObj.getDay()];\n  },\n  dddd: function dddd(dateObj, i18n) {\n    return i18n.dayNames[dateObj.getDay()];\n  },\n  M: function M(dateObj) {\n    return String(dateObj.getMonth() + 1);\n  },\n  MM: function MM(dateObj) {\n    return pad(dateObj.getMonth() + 1);\n  },\n  MMM: function MMM(dateObj, i18n) {\n    return i18n.monthNamesShort[dateObj.getMonth()];\n  },\n  MMMM: function MMMM(dateObj, i18n) {\n    return i18n.monthNames[dateObj.getMonth()];\n  },\n  YY: function YY(dateObj) {\n    return pad(String(dateObj.getFullYear()), 4).substr(2);\n  },\n  YYYY: function YYYY(dateObj) {\n    return pad(dateObj.getFullYear(), 4);\n  },\n  h: function h(dateObj) {\n    return String(dateObj.getHours() % 12 || 12);\n  },\n  hh: function hh(dateObj) {\n    return pad(dateObj.getHours() % 12 || 12);\n  },\n  H: function H(dateObj) {\n    return String(dateObj.getHours());\n  },\n  HH: function HH(dateObj) {\n    return pad(dateObj.getHours());\n  },\n  m: function m(dateObj) {\n    return String(dateObj.getMinutes());\n  },\n  mm: function mm(dateObj) {\n    return pad(dateObj.getMinutes());\n  },\n  s: function s(dateObj) {\n    return String(dateObj.getSeconds());\n  },\n  ss: function ss(dateObj) {\n    return pad(dateObj.getSeconds());\n  },\n  S: function S(dateObj) {\n    return String(Math.round(dateObj.getMilliseconds() / 100));\n  },\n  SS: function SS(dateObj) {\n    return pad(Math.round(dateObj.getMilliseconds() / 10), 2);\n  },\n  SSS: function SSS(dateObj) {\n    return pad(dateObj.getMilliseconds(), 3);\n  },\n  a: function a(dateObj, i18n) {\n    return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1];\n  },\n  A: function A(dateObj, i18n) {\n    return dateObj.getHours() < 12 ? i18n.amPm[0].toUpperCase() : i18n.amPm[1].toUpperCase();\n  },\n  ZZ: function ZZ(dateObj) {\n    var offset = dateObj.getTimezoneOffset();\n    return (offset > 0 ? \"-\" : \"+\") + pad(Math.floor(Math.abs(offset) / 60) * 100 + Math.abs(offset) % 60, 4);\n  }\n};\n\nvar monthParse = function monthParse(v) {\n  return +v - 1;\n};\n\nvar emptyDigits = [null, twoDigitsOptional];\nvar emptyWord = [null, word];\nvar amPm = [\"isPm\", word, function (v, i18n) {\n  var val = v.toLowerCase();\n\n  if (val === i18n.amPm[0]) {\n    return 0;\n  } else if (val === i18n.amPm[1]) {\n    return 1;\n  }\n\n  return null;\n}];\nvar parseFlags = {\n  D: [\"day\", twoDigitsOptional],\n  DD: [\"day\", twoDigits],\n  Do: [\"day\", twoDigitsOptional + word, function (v) {\n    return parseInt(v, 10);\n  }],\n  M: [\"month\", twoDigitsOptional, monthParse],\n  MM: [\"month\", twoDigits, monthParse],\n  YY: [\"year\", twoDigits, function (v) {\n    var now = new Date();\n    var cent = +(\"\" + now.getFullYear()).substr(0, 2);\n    return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n  }],\n  h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n  hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n  H: [\"hour\", twoDigitsOptional],\n  HH: [\"hour\", twoDigits],\n  m: [\"minute\", twoDigitsOptional],\n  mm: [\"minute\", twoDigits],\n  s: [\"second\", twoDigitsOptional],\n  ss: [\"second\", twoDigits],\n  YYYY: [\"year\", fourDigits],\n  S: [\"millisecond\", \"\\\\d\", function (v) {\n    return +v * 100;\n  }],\n  SS: [\"millisecond\", twoDigits, function (v) {\n    return +v * 10;\n  }],\n  SSS: [\"millisecond\", threeDigits],\n  d: emptyDigits,\n  dd: emptyDigits,\n  ddd: emptyWord,\n  dddd: emptyWord,\n  MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n  MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n  a: amPm,\n  A: amPm,\n  ZZ: [\"timezoneOffset\", \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\", function (v) {\n    var parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n    if (parts) {\n      var minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n      return parts[0] === \"+\" ? minutes : -minutes;\n    }\n\n    return 0;\n  }]\n}; // Some common format strings\n\nvar globalMasks = {\n  default: \"ddd MMM DD YYYY HH:mm:ss\",\n  shortDate: \"M/D/YY\",\n  mediumDate: \"MMM D, YYYY\",\n  longDate: \"MMMM D, YYYY\",\n  fullDate: \"dddd, MMMM D, YYYY\",\n  shortTime: \"HH:mm\",\n  mediumTime: \"HH:mm:ss\",\n  longTime: \"HH:mm:ss.SSS\"\n};\n\nvar setGlobalDateMasks = function setGlobalDateMasks(masks) {\n  return assign(globalMasks, masks);\n};\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\n\n\nvar format = function format(dateObj, mask, i18n) {\n  if (mask === void 0) {\n    mask = globalMasks[\"default\"];\n  }\n\n  if (i18n === void 0) {\n    i18n = {};\n  }\n\n  if (typeof dateObj === \"number\") {\n    dateObj = new Date(dateObj);\n  }\n\n  if (Object.prototype.toString.call(dateObj) !== \"[object Date]\" || isNaN(dateObj.getTime())) {\n    throw new Error(\"Invalid Date pass to format\");\n  }\n\n  mask = globalMasks[mask] || mask;\n  var literals = []; // Make literals inactive by replacing them with @@@\n\n  mask = mask.replace(literal, function ($0, $1) {\n    literals.push($1);\n    return \"@@@\";\n  });\n  var combinedI18nSettings = assign(assign({}, globalI18n), i18n); // Apply formatting rules\n\n  mask = mask.replace(token, function ($0) {\n    return formatFlags[$0](dateObj, combinedI18nSettings);\n  }); // Inline literal values back into the formatted value\n\n  return mask.replace(/@@@/g, function () {\n    return literals.shift();\n  });\n};\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\n\n\nfunction parse(dateStr, format, i18n) {\n  if (i18n === void 0) {\n    i18n = {};\n  }\n\n  if (typeof format !== \"string\") {\n    throw new Error(\"Invalid format in fecha parse\");\n  } // Check to see if the format is actually a mask\n\n\n  format = globalMasks[format] || format; // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n\n  if (dateStr.length > 1000) {\n    return null;\n  } // Default to the beginning of the year.\n\n\n  var today = new Date();\n  var dateInfo = {\n    year: today.getFullYear(),\n    month: 0,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n    isPm: null,\n    timezoneOffset: null\n  };\n  var parseInfo = [];\n  var literals = []; // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n\n  var newFormat = format.replace(literal, function ($0, $1) {\n    literals.push(regexEscape($1));\n    return \"@@@\";\n  });\n  var specifiedFields = {};\n  var requiredFields = {}; // Change every token that we find into the correct regex\n\n  newFormat = regexEscape(newFormat).replace(token, function ($0) {\n    var info = parseFlags[$0];\n    var field = info[0],\n        regex = info[1],\n        requiredField = info[3]; // Check if the person has specified the same field twice. This will lead to confusing results.\n\n    if (specifiedFields[field]) {\n      throw new Error(\"Invalid format. \" + field + \" specified twice in format\");\n    }\n\n    specifiedFields[field] = true; // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n\n    if (requiredField) {\n      requiredFields[requiredField] = true;\n    }\n\n    parseInfo.push(info);\n    return \"(\" + regex + \")\";\n  }); // Check all the required fields are present\n\n  Object.keys(requiredFields).forEach(function (field) {\n    if (!specifiedFields[field]) {\n      throw new Error(\"Invalid format. \" + field + \" is required in specified format\");\n    }\n  }); // Add back all the literals after\n\n  newFormat = newFormat.replace(/@@@/g, function () {\n    return literals.shift();\n  }); // Check if the date string matches the format. If it doesn't return null\n\n  var matches = dateStr.match(new RegExp(newFormat, \"i\"));\n\n  if (!matches) {\n    return null;\n  }\n\n  var combinedI18nSettings = assign(assign({}, globalI18n), i18n); // For each match, call the parser function for that date part\n\n  for (var i = 1; i < matches.length; i++) {\n    var _a = parseInfo[i - 1],\n        field = _a[0],\n        parser = _a[2];\n    var value = parser ? parser(matches[i], combinedI18nSettings) : +matches[i]; // If the parser can't make sense of the value, return null\n\n    if (value == null) {\n      return null;\n    }\n\n    dateInfo[field] = value;\n  }\n\n  if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  var dateWithoutTZ = new Date(dateInfo.year, dateInfo.month, dateInfo.day, dateInfo.hour, dateInfo.minute, dateInfo.second, dateInfo.millisecond);\n  var validateFields = [[\"month\", \"getMonth\"], [\"day\", \"getDate\"], [\"hour\", \"getHours\"], [\"minute\", \"getMinutes\"], [\"second\", \"getSeconds\"]];\n\n  for (var i = 0, len = validateFields.length; i < len; i++) {\n    // Check to make sure the date field is within the allowed range. Javascript dates allows values\n    // outside the allowed range. If the values don't match the value was invalid\n    if (dateInfo[validateFields[i][0]] !== dateWithoutTZ[validateFields[i][1]]()) {\n      return null;\n    }\n  }\n\n  if (dateInfo.timezoneOffset == null) {\n    return dateWithoutTZ;\n  }\n\n  return new Date(Date.UTC(dateInfo.year, dateInfo.month, dateInfo.day, dateInfo.hour, dateInfo.minute - dateInfo.timezoneOffset, dateInfo.second, dateInfo.millisecond));\n}\n\nvar fecha = {\n  format: format,\n  parse: parse,\n  defaultI18n: defaultI18n,\n  setGlobalDateI18n: setGlobalDateI18n,\n  setGlobalDateMasks: setGlobalDateMasks\n};\nexport default fecha;\nexport { assign, format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };","import * as _ from '@antv/util';\nimport fecha from 'fecha';\nvar SECOND = 1000;\nvar MINUTE = 60 * SECOND;\nvar HOUR = 60 * MINUTE;\nvar DAY = 24 * HOUR;\nvar MONTH = 31 * DAY;\nvar YEAR = 365 * DAY;\nexport default function datetimeStringAbbrevaite(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n  var campareText;\n\n  if (index === nodes.length - 1) {\n    campareText = nodes[index - 1].shape.get('origin').text;\n  } else {\n    campareText = nodes[index + 1].shape.get('origin').text;\n  }\n\n  var compare = new Date(campareText);\n  /** 获取时间周期和时间间隔 */\n\n  var text = shape.get('origin').text;\n  var current = new Date(text);\n  var startText = nodes[0].shape.get('origin').text;\n  var start = new Date(startText);\n  var endText = nodes[nodes.length - 1].shape.get('origin').text;\n  var end = new Date(endText);\n  var timeDuration = getDateTimeMode(start, end);\n  var timeCycle = getDateTimeMode(current, compare); // time frequency\n  // 如果duration和frequency在同一区间\n\n  if (timeDuration === timeCycle) {\n    if (index !== 0 && index !== nodes.length - 1) {\n      var formatter = sameSectionFormatter(timeDuration);\n      shape.attr('text', fecha.format(current, formatter));\n    }\n\n    return;\n  }\n\n  if (index !== 0) {\n    var previousText = nodes[index - 1].shape.get('origin').text;\n    var previous = new Date(previousText);\n    var isAbbreviate = needAbbrevaite(timeDuration, current, previous);\n\n    if (isAbbreviate) {\n      var formatter = getAbbrevaiteFormatter(timeDuration, timeCycle);\n      shape.attr('text', fecha.format(current, formatter));\n      return;\n    }\n  }\n}\n\nfunction needAbbrevaite(mode, current, previous) {\n  var currentStamp = getTime(current, mode);\n  var previousStamp = getTime(previous, mode);\n\n  if (currentStamp !== previousStamp) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction getDateTimeMode(a, b) {\n  var mode;\n  var dist = Math.abs(a - b);\n  var mapper = {\n    minute: [MINUTE, HOUR],\n    hour: [HOUR, DAY],\n    day: [DAY, MONTH],\n    month: [MONTH, YEAR],\n    year: [YEAR, Infinity]\n  };\n\n  _.each(mapper, function (range, key) {\n    if (dist >= range[0] && dist < range[1]) {\n      mode = key;\n    }\n  });\n\n  return mode;\n}\n\nfunction getAbbrevaiteFormatter(duration, cycle) {\n  var times = ['year', 'month', 'day', 'hour', 'minute'];\n  var formatters = ['YYYY', 'MM', 'DD', 'HH', 'MM'];\n  var startIndex = times.indexOf(duration) + 1;\n  var endIndex = times.indexOf(cycle);\n  var formatter = '';\n\n  for (var i = startIndex; i <= endIndex; i++) {\n    formatter += formatters[i];\n\n    if (i < endIndex) {\n      formatter += '-';\n    }\n  }\n\n  return formatter;\n}\n\nfunction sameSectionFormatter(mode) {\n  var times = ['year', 'month', 'day', 'hour', 'minute'];\n  var formatters = ['YYYY', 'MM', 'DD', 'HH', 'MM'];\n  var index = times.indexOf(mode);\n  var formatter = formatters[index];\n  return formatter;\n}\n\nfunction getTime(date, mode) {\n  if (mode === 'year') {\n    return date.getFullYear();\n  }\n\n  if (mode === 'month') {\n    return date.getMonth() + 1;\n  }\n\n  if (mode === 'day') {\n    return date.getDay() + 1;\n  }\n\n  if (mode === 'hour') {\n    return date.getHours() + 1;\n  }\n\n  if (mode === 'minute') {\n    return date.getMinutes() + 1;\n  }\n}\n/*tslint:disable*/\n\n\nexport function isTime(string) {\n  var hourminExp = /^(?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]$/;\n  var hourminSecExp = /^(?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]:[0-5][0-9]$/;\n  return hourminExp.test(string) || hourminSecExp.test(string);\n}","import * as _ from '@antv/util';\nimport { getMedian } from '../../math';\nvar unitMapper = {\n  k: {\n    number: 1e3,\n    index: 0\n  },\n  m: {\n    number: 1e6,\n    index: 1\n  },\n  b: {\n    number: 1e9,\n    index: 2\n  },\n  t: {\n    number: 1e12,\n    index: 3\n  }\n}; // https://gist.github.com/MartinMuzatko/1060fe584d17c7b9ca6e\n// https://jburrows.wordpress.com/2014/11/18/abbreviating-numbers/\n\n/*tslint:disable*/\n\nexport default function digitsAbbreviate(shape, option, index, cfg) {\n  if (!_.has(cfg, 'node') || !_.has(cfg.node, 'node')) {\n    return;\n  }\n\n  var nodes = cfg.nodes.nodes;\n  var number = parseFloat(shape.get('origin').text);\n\n  if (number === 0) {\n    return;\n  }\n\n  if (option.formatter) {\n    shape.attr('text', option.formatter(number));\n    return;\n  }\n\n  if (option.unit) {\n    var _a = abbravateDigitsByUnit(option, number),\n        num = _a.num,\n        unitname = _a.unitname;\n\n    shape.attr('text', num + unitname);\n  } else {\n    // 自动换算逻辑\n    // 根据中位数得到换算单位\n    var numbers = extractNumbers(nodes);\n    var median = getMedian(numbers);\n    var unitname = getUnitByNumber(median); //根据数值的interval计算换算后保留的浮点数\n\n    var unitNumber = unitMapper[unitname].number;\n    var interval = getLinearNodesInterval(nodes);\n    var decimal = getDigitsDecimal(interval, unitNumber);\n    var num = abbravateDigitsByUnit({\n      unit: unitname,\n      decimal: decimal\n    }, number).num;\n    shape.attr('text', num + unitname);\n  }\n}\n\nfunction abbravateDigitsByUnit(option, number) {\n  var units = ['k', 'm', 'b', 't'];\n  var num;\n  var unitname;\n\n  if (option.unit === 'auto') {\n    /** auto formatt k-m-b-t */\n    var order = Math.floor(Math.log(number) / Math.log(1000));\n    unitname = units[order - 1];\n    num = (number / Math.pow(1000, order)).toFixed(option.decimal);\n  } else if (option.unit) {\n    var unit = unitMapper[option.unit];\n    unitname = option.unit;\n    num = (number / unit.number).toFixed(option.decimal);\n  }\n\n  return {\n    num: num,\n    unitname: unitname\n  };\n}\n\nfunction getUnitByNumber(number) {\n  var units = ['k', 'm', 'b', 't'];\n  var order = Math.floor(Math.log(number) / Math.log(1000));\n  return units[order - 1];\n}\n\nfunction extractNumbers(nodes) {\n  var numbers = [];\n\n  _.each(nodes, function (node) {\n    var n = node;\n    var number = parseFloat(n.shape.get('origin').text);\n    numbers.push(number);\n  });\n\n  return numbers;\n}\n\nfunction getLinearNodesInterval(nodes) {\n  if (nodes.length >= 2) {\n    var a = parseFloat(nodes[0].shape.get('origin').text);\n    var b = parseFloat(nodes[1].shape.get('origin').text);\n    return Math.abs(a - b);\n  }\n\n  return 0;\n}\n\nfunction getDigitsDecimal(interval, unitNumber) {\n  var unitBit = Math.floor(Math.log10(unitNumber));\n\n  if (interval >= unitNumber) {\n    var remainder = interval % unitNumber;\n\n    if (remainder > 0) {\n      var remainderBit = Math.floor(Math.log10(remainder));\n      return Math.abs(remainderBit - unitBit);\n    }\n  } else {\n    var intervalBit = Math.floor(Math.log10(interval));\n    return Math.abs(intervalBit - unitBit);\n  }\n\n  return 0;\n}","import * as _ from '@antv/util';\nimport textHide from './text-hide';\nexport default function nodesResampling(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n  /** nodeLength为偶数，则奇数index的shape保留，反之则偶数index的shape保留 */\n\n  var oddKeep = nodes.length % 2 === 0 ? false : true;\n\n  if (isKeep(option.keep, index, nodes)) {\n    return;\n  }\n\n  {\n    var isOdd = index % 2 === 0 ? true : false;\n\n    if (!oddKeep && isOdd || oddKeep && !isOdd) {\n      textHide(shape);\n    }\n  }\n}\nexport function isKeep(keepCfg, index, nodes) {\n  /** 允许设置start end 或任意index */\n  var conditions = [];\n\n  _.each(keepCfg, function (cfg) {\n    if (cfg === 'start') {\n      conditions.push(index === 0);\n    } else if (cfg === 'end') {\n      conditions.push(index === nodes.length - 1);\n    } else if (_.isNumber(cfg)) {\n      conditions.push(index === cfg);\n    }\n  });\n\n  for (var _i = 0, conditions_1 = conditions; _i < conditions_1.length; _i++) {\n    var condition = conditions_1[_i];\n\n    if (condition === true) {\n      return true;\n    }\n  }\n\n  return false;\n}","import * as _ from '@antv/util';\nimport textHide from './text-hide';\nexport default function nodesResamplingByState(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n  var current = nodes[index];\n\n  if (current.line) {\n    current.line.remove();\n  }\n\n  var data = cfg.plot.initialProps.data;\n  var field = cfg.plot[cfg.plot.type].label.fields[0];\n  var stateNodes = getStateNodes(data, field, nodes);\n  var isState = false;\n\n  _.each(stateNodes, function (node) {\n    // @ts-ignore\n    if (node.shape.get('origin') === current.shape.get('origin')) {\n      isState = true;\n    }\n  });\n\n  if (isState) {\n    if (current.origin_position) {\n      var _a = current.origin_position,\n          x = _a.x,\n          y = _a.y;\n      shape.attr('x', x);\n      shape.attr('y', y);\n    }\n  } else {\n    textHide(shape);\n  }\n}\n\nfunction getStateNodes(data, field, nodes) {\n  var extract_data = [];\n\n  _.each(data, function (d) {\n    extract_data.push(d[field]);\n  });\n\n  extract_data.sort(function (a, b) {\n    return a - b;\n  });\n  var min = extract_data[0];\n  var min_node = getNodeByNumber(nodes, field, min);\n  var max = extract_data[extract_data.length - 1];\n  var max_node = getNodeByNumber(nodes, field, max);\n  var median = getMedian(extract_data);\n  var median_node = getNodeByNumber(nodes, field, median);\n  return {\n    min: min_node,\n    max: max_node,\n    median: median_node\n  };\n}\n\nfunction getMedian(array) {\n  var list = _.clone(array);\n\n  list.sort(function (a, b) {\n    return a - b;\n  });\n  var half = Math.floor(list.length / 2);\n\n  if (list.length % 2) {\n    return list[half];\n  }\n\n  return list[half];\n}\n\nfunction getNodeByNumber(nodes, field, num) {\n  for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n    var node = nodes_1[_i];\n    var d = node.shape.get('origin');\n\n    if (d[field] === num) {\n      return node;\n    }\n  }\n}","export default function textAbbreviate(shape, option) {\n  var abbreviateBy = option.abbreviateBy ? option.abbreviateBy : 'end';\n  var text = shape.attr('text');\n  var abbravateText;\n\n  if (abbreviateBy === 'end') {\n    abbravateText = text[0] + \"...\";\n  }\n\n  if (abbreviateBy === 'start') {\n    abbravateText = \"...\" + text[text.length - 1];\n  }\n\n  if (abbreviateBy === 'middle') {\n    abbravateText = text[0] + \"...\" + text[text.length - 1];\n  }\n\n  shape.resetMatrix();\n  shape.attr({\n    text: abbravateText,\n    textAlign: 'center',\n    textBaseline: 'top'\n  });\n}","import clearOverlapping from './clear-overlapping';\nimport datetimeStringAbbrevaite from './datetime-string-abbrevaite';\nimport digitsAbbreviate from './digits-abbreviate';\nimport nodeJitter from './node-jitter';\nimport nodeJitterUpward from './node-jitter-upward';\nimport nodesResampling from './nodes-resampling';\nimport nodesResamplingByAbbrevate from './nodes-resampling-by-abbrevate';\nimport nodesResamplingByChange from './nodes-resampling-by-change';\nimport nodesResamplingByState from './nodes-resampling-by-state';\nimport robustAbbrevaite from './robust-abbrevaite';\nimport textAbbreviate from './text-abbreviate';\nimport textHide from './text-hide';\nimport textRotation from './text-rotation';\nimport textWrapper from './text-wrapper';\nexport var rulesLib = {\n  textWrapper: textWrapper,\n  textRotation: textRotation,\n  textAbbreviate: textAbbreviate,\n  textHide: textHide,\n  digitsAbbreviate: digitsAbbreviate,\n  datetimeStringAbbrevaite: datetimeStringAbbrevaite,\n  robustAbbrevaite: robustAbbrevaite,\n  nodesResampling: nodesResampling,\n  nodesResamplingByAbbrevate: nodesResamplingByAbbrevate,\n  nodesResamplingByChange: nodesResamplingByChange,\n  nodesResamplingByState: nodesResamplingByState,\n  nodeJitter: nodeJitter,\n  nodeJitterUpward: nodeJitterUpward,\n  clearOverlapping: clearOverlapping\n};\nexport function registerResponsiveRule(name, method) {\n  // todo: 防止覆盖\n  rulesLib[name] = method;\n}","export default function textWrapper(shape, option) {\n  var text = shape.attr('text');\n  var step = Math.ceil(text.length / option.lineNumber);\n  var wrapperText = '';\n\n  for (var i = 1; i < option.lineNumber; i++) {\n    var index = step * i;\n    wrapperText = text.slice(0, index) + \"\\n\" + text.slice(index);\n  }\n\n  var fontSize = shape.attr('fontSize');\n  shape.attr({\n    text: wrapperText,\n    lineHeight: fontSize,\n    textAlign: 'center',\n    textBaseline: 'top'\n  });\n}","export default function textRotation(shape, option) {\n  shape.resetMatrix();\n  shape.attr({\n    rotate: 360 - option.degree,\n    textAlign: 'right',\n    textBaseline: 'middle'\n  });\n}","import datetimeStringAbbrevaite, { isTime } from './datetime-string-abbrevaite';\nimport digitsAbbreviate from './digits-abbreviate';\nimport textAbbreviate from './text-abbreviate';\nexport default function robustAbbrevaite(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n  var text = shape.attr('text');\n  /** 判断text类型： 数字、时间、文本 */\n\n  var isnum = /^\\d+$/.test(text);\n\n  if (isnum) {\n    digitsAbbreviate(shape, option, index, nodes);\n  } else if (isTime(text)) {\n    datetimeStringAbbrevaite(shape, option, index, nodes);\n  } else {\n    textAbbreviate(shape, option);\n  }\n}","import { isKeep } from './nodes-resampling';\nimport textHide from './text-hide';\nexport default function nodesResamplingByAbbrevate(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n\n  if (isKeep(option.keep, index, nodes)) {\n    return;\n  }\n\n  {\n    var currentText = shape.attr('text');\n    var originText = shape.get('origin').text;\n\n    if (currentText !== originText) {\n      textHide(shape);\n    }\n  }\n}","import * as _ from '@antv/util';\nimport textHide from './text-hide';\n/** 根据变化进行抽样，保留变化较大的点，类似于点简化算法 */\n\nexport default function nodesResamplingByChange(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n  var tolerance = getGlobalTolerance(nodes);\n\n  if (index <= 1) {\n    return;\n  }\n\n  var current = nodes[index]; // const previous = nodes[index-1];\n\n  var previous = findPrevious(index, nodes);\n  var distX = previous.centerX - current.centerX;\n  var distY = previous.centerY - current.centerY;\n  var dist = Math.sqrt(distX * distX + distY * distY);\n\n  if (dist < tolerance) {\n    textHide(shape);\n    shape.set('blank', true);\n  }\n}\n\nfunction findPrevious(index, nodes) {\n  for (var i = index - 1; i > 0; i--) {\n    var node = nodes[i];\n\n    if (!node.shape.get('blank')) {\n      return node;\n    }\n  }\n}\n\nfunction getGlobalTolerance(nodes) {\n  var nodesClone = _.deepMix([], nodes);\n\n  nodesClone.sort(function (a, b) {\n    return b.width - a.width;\n  });\n  return Math.round(nodesClone[0].width);\n}","import { dotProduct2D } from '../../math';\n/** 图形在水平或垂直方向抖开 */\n\nexport default function nodeJitter(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n\n  if (index === nodes.length - 1) {\n    return;\n  }\n\n  var current = nodes[index];\n  var next = nodes[index + 1];\n\n  var _a = alignDirection(current, next),\n      dir = _a.dir,\n      distX = _a.distX,\n      distY = _a.distY;\n\n  var startPoint = shape.get('startPoint');\n\n  if (dir === 'x') {\n    shape.attr('y', startPoint.y + 20);\n  }\n}\n\nfunction alignDirection(nodeA, nodeB) {\n  var dir;\n  /** 计算两个node 中心点向量的角度 */\n\n  var vector = {\n    x: nodeB.centerX - nodeA.centerX,\n    y: nodeB.centerY - nodeA.centerY\n  };\n  var mag = Math.sqrt(vector.x * vector.x + vector.y * vector.y);\n  var vector_horizontal = {\n    x: 10,\n    y: 0\n  }; // 水平方向向量\n\n  /*tslint:disable*/\n\n  var mag_horizontal = Math.sqrt(vector_horizontal.x * vector_horizontal.x + vector_horizontal.y * vector_horizontal.y);\n  var dot = dotProduct2D(vector, vector_horizontal);\n  var angle = dot / (mag * mag_horizontal) * 180 / Math.PI;\n  if (angle < 0) angle = 360 - angle;\n  angle = adjustAngle(angle); // 将角度从0-360转换到0-90\n\n  /** 计算两个node在x、y两个方向上的距离 */\n\n  var distX = Math.abs(nodeA.centerX - nodeB.centerX);\n  var distY = Math.abs(nodeA.centerY - nodeB.centerY);\n\n  if (angle > 45) {\n    dir = 'x';\n  } else if (angle < 45) {\n    dir = 'y';\n  }\n\n  return {\n    dir: dir,\n    distX: distX,\n    distY: distY\n  };\n}\n\nfunction adjustAngle(angle) {\n  if (angle > 90 && angle <= 180) {\n    return 180 - angle;\n  }\n\n  if (angle > 180 && angle < 270) {\n    return angle - 180;\n  }\n\n  return 360 - angle;\n}","import * as _ from '@antv/util';\nimport { isNodeOverlap } from './clear-overlapping';\n/** 图形向上抖开并拉线 */\n// todo 允许设置offset和拉线样式\n\nexport default function nodeJitterUpward(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n\n  if (index === 0) {\n    return;\n  }\n\n  var current = nodes[index];\n  var previous = nodes[index - 1];\n\n  if (isNodeOverlap(current, previous)) {\n    var element = cfg.plot.plot.get('elements')[0];\n    var y = previous.top - current.height / 2;\n    var offset = 10;\n\n    if (y - offset > cfg.region.top) {\n      // 取到label对应的element-shape\n      var origin_1 = current.shape.get('origin');\n      var shapeId = element.getShapeId(origin_1);\n      var shapes = element.getShapes();\n      var shapeBbox = getShapeById(shapeId, shapes).get('box');\n      var originX = shapeBbox.left + shapeBbox.width / 2;\n      var originY = shapeBbox.top; // 拉线\n\n      var container = element.get('labelController').labelsContainer;\n      var labelLine = container.addShape('path', {\n        attrs: {\n          path: [['M', originX, originY], ['L', current.shape.attr('x'), y]],\n          stroke: '#ccc',\n          lineWidth: 1\n        }\n      });\n      /** 保存labelLine和label初始位置信息 */\n\n      var origin_position = {\n        x: shape.attr('x'),\n        y: shape.attr('y')\n      }; // 更新标签位置，同步更新node\n\n      current.shape.attr('y', y - offset);\n      nodes[index] = cfg.nodes.measure(current.shape);\n      nodes[index].line = labelLine;\n      nodes[index].origin_position = origin_position;\n    }\n  }\n}\n\nfunction getShapeById(shapeId, shapes) {\n  var target;\n\n  _.each(shapes, function (shape) {\n    var s = shape;\n    var id = s.id;\n\n    if (id === shapeId) {\n      target = s;\n    }\n  });\n\n  return target;\n}","import * as _ from '@antv/util';\nimport { constraintsLib } from './constraints/index';\nimport { rulesLib } from './rules/index';\n\nvar Responsive =\n/** @class */\nfunction () {\n  function Responsive(cfg) {\n    this.iterationTime = 10;\n    this.iterationIndex = 0;\n    this.rulesLocker = [];\n    this.constraintIndex = 0;\n\n    _.assign(this, cfg);\n\n    this.currentConstraint = this.constraints[0];\n\n    if (this.rules) {\n      this.iterationTime = this.rules[this.currentConstraint.name].length;\n    }\n\n    this._start();\n\n    this._run();\n\n    this._end();\n  }\n\n  Responsive.prototype._start = function () {\n    if (this.onStart) {\n      this.onStart(this.nodes);\n    }\n  };\n\n  Responsive.prototype._iteration = function () {\n    var nodes;\n\n    if (this.nodes.type === 'shape') {\n      nodes = this.nodes;\n    } else {\n      nodes = this.nodes;\n    }\n\n    if (nodes.type === 'shape') {\n      nodes.measureNodes();\n    }\n\n    if (this.rules) {\n      this._applyRules();\n    }\n\n    if (nodes.type === 'shape') {\n      nodes.measureNodes();\n    }\n\n    if (this.onIteration) {\n      this.onIteration(this.nodes);\n    }\n  };\n\n  Responsive.prototype._end = function () {\n    if (this.onEnd) {\n      this.onEnd(this.nodes);\n    }\n  };\n\n  Responsive.prototype._run = function () {\n    var constraintPassed = this._constraintsTest();\n\n    while (!constraintPassed) {\n      if (this.iterationIndex > this.iterationTime - 1) {\n        break;\n      }\n\n      this._iteration();\n\n      constraintPassed = this._constraintsTest();\n      this.iterationIndex++;\n    }\n\n    if (this.constraintIndex < this.constraints.length - 1) {\n      this.constraintIndex++;\n      this.currentConstraint = this.constraints[this.constraintIndex];\n      this.iterationTime = this.rules ? this.rules[this.currentConstraint.name].length : 1;\n      this.iterationIndex = 0;\n\n      this._run();\n    }\n  };\n\n  Responsive.prototype._constraintsTest = function () {\n    var constraint = constraintsLib[this.currentConstraint.name];\n    var constraintOption = this.currentConstraint.option;\n\n    if (constraint.usage === 'compare') {\n      return this._constraintCompare(constraint, constraintOption);\n    }\n\n    return this._constraintAssignment(constraint, constraintOption);\n  };\n\n  Responsive.prototype._constraintCompare = function (constraint, option) {\n    var type = constraint.type,\n        expression = constraint.expression;\n    var nodes = this.nodes.nodes;\n\n    if (type === 'chain') {\n      return this._chainConstraintCompare(expression, nodes, option);\n    }\n\n    if (type === 'padding') {\n      return this._paddingConstraintCompare(expression, this.region, nodes, option);\n    }\n\n    if (type === 'group') {\n      return this._groupConstraintCompare(expression, nodes, option);\n    }\n  };\n\n  Responsive.prototype._chainConstraintCompare = function (expression, nodes, option) {\n    for (var i = 0; i < nodes.length - 1; i++) {\n      var a = nodes[i];\n      var b = nodes[i + 1];\n\n      if (expression(a, b, option) === false) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  Responsive.prototype._paddingConstraintCompare = function (expression, region, nodes, option) {\n    if (region) {\n      for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n        var node = nodes_1[_i];\n\n        if (expression(node, region, option) === false) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  Responsive.prototype._groupConstraintCompare = function (expression, nodes, option) {\n    for (var i = 0; i < nodes.length; i++) {\n      var a = nodes[i];\n\n      for (var j = 0; j < nodes.length; j++) {\n        if (j !== i) {\n          var b = nodes[j];\n\n          if (expression(a, b, option) === false) {\n            return false;\n          }\n        }\n      }\n    }\n\n    return true;\n  };\n\n  Responsive.prototype._constraintAssignment = function (constraint, option) {\n    var type = constraint.type,\n        expression = constraint.expression;\n    var nodes = this.nodes.nodes;\n\n    if (type === 'chain') {\n      return this._chainConstraintAssign(expression, nodes, option);\n    }\n\n    if (type === 'padding') {\n      return this._paddingConstraintAssign(expression, this.region, nodes, option);\n    }\n  };\n\n  Responsive.prototype._chainConstraintAssign = function (expression, nodes, option) {\n    return true;\n  };\n\n  Responsive.prototype._paddingConstraintAssign = function (expression, region, nodes, option) {\n    if (region) {\n      for (var _i = 0, nodes_2 = nodes; _i < nodes_2.length; _i++) {\n        var node = nodes_2[_i];\n        var value = expression(node, region, option);\n        node.value = value;\n      }\n    }\n\n    return true;\n  };\n\n  Responsive.prototype._applyRules = function () {\n    var ruleCfg = this.rules[this.currentConstraint.name][this.iterationIndex]; // if (this.rulesLocker.indexOf(ruleCfg) < 0) {\n\n    var rule = rulesLib[ruleCfg.name];\n    var option = ruleCfg.option ? ruleCfg.option : {};\n    var nodes = this.nodes.nodes;\n\n    for (var i = 0; i < nodes.length; i++) {\n      var node = nodes[i];\n      /** apply rule上下文 */\n\n      this._applyRule(node.shape, rule, option, i);\n    } // this.rulesLocker.push(ruleCfg);\n    // }\n\n  };\n\n  Responsive.prototype._applyRule = function (shape, rule, option, index) {\n    var cfg = {\n      nodes: this.nodes,\n      region: this.region,\n      plot: this.plot\n    }; // rule(shape, option, index, this);\n\n    rule(shape, option, index, cfg);\n  };\n\n  return Responsive;\n}();\n\nexport default Responsive;","import * as _ from '@antv/util';\n\nvar ApplyResponsive =\n/** @class */\nfunction () {\n  function ApplyResponsive(cfg) {\n    _.assign(this, cfg);\n\n    this.init();\n  }\n\n  ApplyResponsive.prototype.init = function () {\n    this.type = this.getType();\n\n    if (this.shouldApply()) {\n      this.apply();\n    }\n  };\n\n  return ApplyResponsive;\n}();\n\nexport default ApplyResponsive;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ShapeNodes from '../node/shape-nodes';\nimport Responsive from '../responsive';\nimport ApplyResponsive from './base';\nvar SCALE_MAPPER = {\n  cat: 'category',\n  timeCat: 'category',\n  time: 'dateTime',\n  linear: 'linear'\n};\n\nfunction updateTicks(nodes, axis) {\n  var tickShape = null;\n  axis.get('group').get('children').forEach(function (shape) {\n    if (shape.name === 'axis-ticks') {\n      tickShape = shape;\n      return false;\n    }\n  });\n  var ticks = axis.get('ticks');\n  var tickItems = axis.get('tickItems');\n  var tickTexts = [];\n\n  _.each(ticks, function (tick) {\n    var t = tick;\n    tickTexts.push(t.text);\n  });\n\n  var pathes = [];\n\n  _.each(nodes.nodes, function (node) {\n    var n = node;\n\n    if (n.width > 0 && n.height > 0) {\n      var text = n.shape.get('origin').text;\n      var index = tickTexts.indexOf(text);\n      var tickItem = tickItems[index];\n      pathes.push(['M', tickItem.x1, tickItem.y1], ['L', tickItem.x2, tickItem.y2]);\n    }\n  });\n\n  if (pathes.length === 0) {\n    pathes = [['M', 0, 0]];\n  }\n\n  tickShape.attr('path', pathes);\n}\n\nvar ApplyResponsiveAxis =\n/** @class */\nfunction (_super) {\n  __extends(ApplyResponsiveAxis, _super);\n\n  function ApplyResponsiveAxis() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ApplyResponsiveAxis.prototype.init = function () {\n    this.axisInstance = this.getAxisInstance();\n\n    _super.prototype.init.call(this);\n  };\n\n  ApplyResponsiveAxis.prototype.shouldApply = function () {\n    if (!this.responsiveTheme.axis) {\n      return false;\n    }\n\n    if (this.responsiveTheme.axis[this.dim] && this.type && this.axisInstance && this.axisInstance.get('labelRenderer')) {\n      return true;\n    }\n\n    return false;\n  };\n\n  ApplyResponsiveAxis.prototype.apply = function () {\n    var axis = this.axisInstance;\n    var rawLabels = axis.get('labelRenderer').get('group').get('children');\n    var shapes = [];\n\n    for (var i = 0; i < rawLabels.length - 1; i++) {\n      shapes.push(rawLabels[i]);\n    }\n\n    var shapeNodes = new ShapeNodes({\n      shapes: shapes\n    });\n    var _a = this.responsiveTheme.axis.x[this.type],\n        constraints = _a.constraints,\n        rules = _a.rules;\n    new Responsive({\n      nodes: shapeNodes,\n      constraints: constraints,\n      region: this.plot.view.get('viewRange'),\n      rules: rules,\n      plot: this.plot,\n      onEnd: function onEnd(nodes) {\n        if (axis.get('tickLine')) {\n          updateTicks(nodes, axis);\n        }\n      }\n    });\n  };\n\n  ApplyResponsiveAxis.prototype.getType = function () {\n    var props = this.plot.options;\n    var axis = this.dim + \"Axis\";\n    var field = this.dim + \"Field\";\n\n    if (props[axis] && props[axis].type && props[axis].type === 'dateTime') {\n      return 'dateTime';\n    }\n\n    var scaleType = this.plot.view.get('scales')[props[field]].type;\n    return SCALE_MAPPER[scaleType];\n  };\n\n  ApplyResponsiveAxis.prototype.getAxisInstance = function () {\n    var axisIndex = this.dim === 'x' ? 0 : 1;\n    var axis = this.plot.view.get('axisController').axes[axisIndex];\n    return axis;\n  };\n\n  return ApplyResponsiveAxis;\n}(ApplyResponsive);\n\nexport default ApplyResponsiveAxis;","import { __extends } from \"tslib\";\nimport ShapeNodes from '../node/shape-nodes';\nimport Responsive from '../responsive';\nimport ApplyResponsive from './base';\n\nvar ApplyResponsiveLabel =\n/** @class */\nfunction (_super) {\n  __extends(ApplyResponsiveLabel, _super);\n\n  function ApplyResponsiveLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ApplyResponsiveLabel.prototype.shouldApply = function () {\n    if (!this.responsiveTheme.label || !this.responsiveTheme.label[this.type]) {\n      return false;\n    }\n\n    return true;\n  };\n\n  ApplyResponsiveLabel.prototype.apply = function () {\n    var labelShapes = this.plot.view.get('elements')[0].get('labels');\n    var nodes = new ShapeNodes({\n      shapes: labelShapes\n    });\n    var _a = this.responsiveTheme.label[this.type],\n        constraints = _a.constraints,\n        rules = _a.rules;\n    new Responsive({\n      nodes: nodes,\n      constraints: constraints,\n      rules: rules,\n      plot: this.plot,\n      region: this.plot.view.get('viewRange')\n    });\n  };\n\n  ApplyResponsiveLabel.prototype.getType = function () {\n    return null;\n  };\n\n  return ApplyResponsiveLabel;\n}(ApplyResponsive);\n\nexport default ApplyResponsiveLabel;","import { __extends } from \"tslib\";\nimport ApplyResponsiveLabel from '../../../util/responsive/apply/label';\n\nvar ApplyResponsiveLineLabel =\n/** @class */\nfunction (_super) {\n  __extends(ApplyResponsiveLineLabel, _super);\n\n  function ApplyResponsiveLineLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ApplyResponsiveLineLabel.prototype.getType = function () {\n    var props = this.plot.options;\n\n    if (props.label && props.label.type) {\n      return props.label.type;\n    }\n\n    return 'point';\n  };\n\n  return ApplyResponsiveLineLabel;\n}(ApplyResponsiveLabel);\n\nexport default function responsivePointLabel(layer) {\n  var responsiveTheme = layer.getResponsiveTheme();\n  var applyResponsiveLineLabel = new ApplyResponsiveLineLabel({\n    plot: layer,\n    responsiveTheme: responsiveTheme\n  });\n}","import responsiveAxis from './axis';\nimport responsivePointLabel from './label';\nvar preRenderResponsive = [];\nvar afterRenderResponsive = [{\n  name: 'responsiveAxis',\n  method: responsiveAxis\n}, {\n  name: 'responsivePointLabel',\n  method: responsivePointLabel\n}];\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive\n};","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nexport default function responsiveAxis(layer) {\n  var responsiveTheme = layer.getResponsiveTheme();\n  var canvas = layer.canvas; // x-axis\n\n  var x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'x'\n  }); // y-axis\n\n  var y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'y'\n  });\n  canvas.draw();\n}","import { registerResponsiveTheme } from '../../../util/responsive/theme';\n/** 组装theme */\n\nvar lineTheme = {\n  label: {\n    point: {\n      constraints: [{\n        name: 'elementCollision'\n      }],\n      rules: {\n        elementCollision: [{\n          name: 'nodesResamplingByChange'\n        }, {\n          name: 'clearOverlapping'\n        }]\n      }\n    }\n  }\n};\nregisterResponsiveTheme('line', lineTheme);","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport _cloneDeep from '@antv/util/lib/clone';\nimport _each from '@antv/util/lib/each'; // import verticalShatter from '../../../../util/layout/verticalShatter';\n\nvar MARGIN = 10;\n\nvar LineElementLabels =\n/** @class */\nfunction (_super) {\n  __extends(LineElementLabels, _super);\n\n  function LineElementLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  LineElementLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    var labelPoints = [];\n\n    _each(shapes, function (shape) {\n      var originData = shape.get('origin');\n\n      var lastPoint = _cloneDeep(originData[originData.length - 1]);\n\n      var bbox = shape.getBBox();\n      lastPoint.x = bbox.maxX + MARGIN;\n      labelPoints.push(lastPoint);\n    });\n\n    _super.prototype.showLabels.call(this, labelPoints, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var field = this.get('labelOptions').fields[0];\n    var labels = renderer.get('group').get('children');\n    var view = this.get('element').get('view');\n\n    _each(labels, function (label) {\n      label.attr('textAlign', 'left');\n      label.attr('textBaseline', 'middle');\n      var origin = label.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var color = _this._adjustColor(shapeId, shapes);\n\n      label.attr('fill', color);\n    });\n\n    view.get('canvas').draw();\n  };\n\n  LineElementLabels.prototype._adjustColor = function (shapeId, shapes) {\n    var color;\n\n    _each(shapes, function (shape) {\n      var id = shape.id;\n\n      if (id === shapeId) {\n        color = shape.attr('stroke');\n      }\n    });\n\n    return color;\n  };\n\n  return LineElementLabels;\n}(ElementLabels);\n\nregisterElementLabels('line', LineElementLabels);","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\n\nvar LinePointLabels =\n/** @class */\nfunction (_super) {\n  __extends(LinePointLabels, _super);\n\n  function LinePointLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  LinePointLabels.prototype.showLabels = function (points, shapes) {\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var view = this.get('element').get('view');\n    var anchorsBBox = renderer.get('items').map(function (item) {\n      return {\n        x: item.start.x - 4,\n        y: item.start.y - 4,\n        width: 8,\n        height: 8\n      };\n    });\n    /*layout(labels, anchorsBBox, view.get('panelRange'), {\n      nsweeps: 10,\n    });*/\n\n    view.get('canvas').draw();\n  };\n\n  return LinePointLabels;\n}(ElementLabels);\n\nregisterElementLabels('point', LinePointLabels);","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onLineClick: 'line:click',\n  onLineDoubleclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineContextmenu: 'line:contextmenu',\n  onPointClick: 'point:click',\n  onPointDblclick: 'point:dblclick',\n  onPointMousemove: 'point:mousemove',\n  onPointMouseenter: 'point:mouseenter',\n  onPointMouseleave: 'point:mouseleave',\n  onPointMousedown: 'point:mousedown',\n  onPointMouseup: 'point:mouseup',\n  onPointContextmenu: 'point:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __assign, __extends } from \"tslib\";\nimport { Interaction } from '@antv/g2';\n\nvar LineActive =\n/** @class */\nfunction (_super) {\n  __extends(LineActive, _super);\n\n  function LineActive(cfg) {\n    return _super.call(this, __assign({\n      /** 没有用 line:mouseenter 和 line:mouseleave 事件，是因为可能在多条折线的情况下，从一条线滑动到另一条会同时触发process和reset，使画面出现闪动 */\n      processEvent: 'mousemove'\n    }, cfg)) || this;\n  }\n\n  LineActive.prototype.process = function (ev) {\n    var target = ev.target;\n\n    if (target.name === 'line') {\n      var data_1 = ev.data[0]._origin;\n      this.view.setActive(function (obj) {\n        return obj === data_1;\n      });\n    } else {\n      this.view.setActive(function () {\n        return false;\n      });\n    }\n  };\n\n  return LineActive;\n}(Interaction);\n\nexport default LineActive;","import { __assign, __extends } from \"tslib\";\nimport { Interaction } from '@antv/g2';\n\nvar LineSelect =\n/** @class */\nfunction (_super) {\n  __extends(LineSelect, _super);\n\n  function LineSelect(cfg) {\n    return _super.call(this, __assign({\n      endEvent: 'click'\n    }, cfg)) || this;\n  }\n\n  LineSelect.prototype.end = function (ev) {\n    var target = ev.target;\n\n    if (target.name === 'line') {\n      var data_1 = ev.data[0]._origin;\n      this.view.setInactive(function (obj) {\n        return obj !== data_1;\n      }); // TODO： 设置z-index\n    } else {\n      this.view.setInactive(function () {\n        return false;\n      }); // TODO: 重置z-index\n    }\n  };\n\n  return LineSelect;\n}(Interaction);\n\nexport default LineSelect;","import { registerTheme } from '../../theme';\n\nvar LINE_ACTIVE_STYLE = function LINE_ACTIVE_STYLE(style) {\n  var lineWidth = style.lineWidth || 1;\n  return {\n    lineWidth: lineWidth + 1\n  };\n};\n\nvar LINE_DISABLE_STYLE = function LINE_DISABLE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.2\n  };\n};\n\nvar LINE_SELECTED_STYLE = function LINE_SELECTED_STYLE(style) {\n  var lineWidth = style.lineWidth || 1;\n  return {\n    lineWidth: lineWidth + 2\n  };\n};\n\nregisterTheme('line', {\n  lineStyle: {\n    normal: {},\n    active: LINE_ACTIVE_STYLE,\n    disable: LINE_DISABLE_STYLE,\n    selected: LINE_SELECTED_STYLE\n  },\n  pointStyle: {\n    normal: {},\n    active: {},\n    disable: {},\n    selected: {}\n  }\n});","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale, trySetScaleMinToZero } from '../../util/scale';\nimport './animation/clipIn-with-data';\nimport responsiveMethods from './apply-responsive';\nimport './apply-responsive/theme';\nimport './component/label/line-label';\nimport './component/label/point-label';\nimport * as EventParser from './event';\nimport { LineActive, LineSelect } from './interaction/index';\nimport './theme';\nvar GEOM_MAP = {\n  line: 'line',\n  point: 'point'\n};\n\nvar LineLayer =\n/** @class */\nfunction (_super) {\n  __extends(LineLayer, _super);\n\n  function LineLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'line';\n    return _this;\n  }\n\n  LineLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      connectNulls: false,\n      smooth: false,\n      lineSize: 2,\n      lineStyle: {\n        lineJoin: 'round',\n        lineCap: 'round'\n      },\n      point: {\n        visible: false,\n        size: 3,\n        shape: 'circle',\n        style: {\n          stroke: '#fff'\n        }\n      },\n      label: {\n        visible: false,\n        type: 'point'\n      },\n      legend: {\n        visible: true,\n        position: 'top-left',\n        wordSpacing: 4\n      }\n    });\n  };\n\n  LineLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props); // @ts-ignore\n\n\n    var defaultOptions = this.constructor.getDefaultOptions();\n    return _.deepMix({}, options, defaultOptions, props);\n  };\n\n  LineLayer.prototype.afterRender = function () {\n    var props = this.options; // 响应式\n\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  LineLayer.prototype.geometryParser = function (dim, type) {\n    return GEOM_MAP[type];\n  };\n\n  LineLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[props.xField] = {};\n\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[props.yField] = {};\n\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n\n    this.setConfig('scales', scales);\n    trySetScaleMinToZero(scales[props.yField], _.map(props.data, function (item) {\n      return item[props.yField];\n    }));\n\n    _super.prototype.scale.call(this);\n  };\n\n  LineLayer.prototype.coord = function () {};\n\n  LineLayer.prototype.addGeometry = function () {\n    // 配置线\n    this.addLine(); // 配置数据点\n\n    this.addPoint();\n  };\n\n  LineLayer.prototype.addLine = function () {\n    var props = this.options;\n    this.line = getGeom('line', 'main', {\n      plot: this\n    });\n\n    if (props.label) {\n      this.label();\n    }\n\n    this.setConfig('element', this.line);\n  };\n\n  LineLayer.prototype.addPoint = function () {\n    var props = this.options;\n    var defaultConfig = {\n      visible: false\n    };\n\n    if (props.point) {\n      props.point = _.deepMix(defaultConfig, props.point);\n    }\n\n    if (props.point && props.point.visible) {\n      this.point = getGeom('point', 'guide', {\n        plot: this\n      });\n      this.point.active = false;\n      this.setConfig('element', this.point);\n    }\n  };\n\n  LineLayer.prototype.label = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label.visible === false || this.singleLineLabelCheck()) {\n      this.line.label = false;\n      return;\n    }\n    /** label类型为line，即跟随在折线尾部时，设置offset为0 */\n\n\n    if (label.type === 'line') {\n      label.offset = 0;\n    }\n\n    this.line.label = getComponent('label', __assign({\n      plot: this,\n      top: true,\n      labelType: label.type,\n      fields: label.type === 'line' ? [props.seriesField] : [props.yField]\n    }, label));\n  };\n\n  LineLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      // 关闭动画\n      this.line.animate = false;\n      if (this.point) this.point.animate = false;\n    } else if (_.has(props, 'animation')) {\n      // 根据动画类型区分图形动画和群组动画\n      if (props.animation.type === 'clipingWithData' && props.padding !== 'auto') {\n        this.line.animate = {\n          appear: {\n            animation: 'clipingWithData',\n            easing: 'easeLinear',\n            duration: 10000,\n            yField: props.yField,\n            seriesField: props.seriesField,\n            plot: this\n          }\n        }; // 如果有数据点的话要追加数据点的动画\n\n        if (props.point && props.point.visible) {\n          this.point.animate = false;\n        }\n      }\n    }\n  };\n\n  LineLayer.prototype.applyInteractions = function () {\n    _super.prototype.applyInteractions.call(this); // 加入默认交互\n\n\n    var interactions = this.view.get('interactions');\n    var lineActive = new LineActive({\n      view: this.view\n    });\n    interactions.lineActive = lineActive;\n    var lineSelect = new LineSelect({\n      view: this.view\n    });\n    interactions.lineSelect = lineSelect;\n  };\n\n  LineLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  LineLayer.prototype.applyResponsive = function (stage) {\n    var _this = this;\n\n    var methods = responsiveMethods[stage];\n\n    _.each(methods, function (r) {\n      var responsive = r;\n      responsive.method(_this);\n    });\n  };\n\n  LineLayer.prototype.singleLineLabelCheck = function () {\n    // 不允许单折线设置尾部跟随label\n    return !this.options.seriesField && this.options.label.type && this.options.label.type === 'line';\n  };\n\n  return LineLayer;\n}(ViewLayer);\n\nexport default LineLayer;\nregisterPlotType('line', LineLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport LineLayer from './layer';\n\nvar Line =\n/** @class */\nfunction (_super) {\n  __extends(Line, _super);\n\n  function Line() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Line.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'line';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Line.getDefaultOptions = LineLayer.getDefaultOptions;\n  return Line;\n}(BasePlot);\n\nexport default Line;","import responsiveAxis from './axis';\nvar preRenderResponsive = [];\nvar afterRenderResponsive = [{\n  name: 'responsiveAxis',\n  method: responsiveAxis\n}];\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive\n};","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nexport default function responsiveAxis(layer) {\n  var responsiveTheme = layer.getResponsiveTheme();\n  var canvas = layer.canvas; // x-axis\n\n  var x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'x'\n  }); // y-axis\n\n  var y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'y'\n  });\n  canvas.draw();\n}","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onAreaClick: 'area:click',\n  onAreaDblclick: 'area:dblclick',\n  onAreaMousemove: 'area:mousemove',\n  onAreaMouseenter: 'area:mouseenter',\n  onAreaMouseleave: 'area:mouseleave',\n  onAreaMousedown: 'area:mousedown',\n  onAreaMouseup: 'area:mouseup',\n  onAreaContextmenu: 'area:contextmenu',\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineContextmenu: 'line:contextmenu',\n  onPointClick: 'point:click',\n  onPointDblclick: 'point:dblclick',\n  onPointMousemove: 'point:mousemove',\n  onPointMouseenter: 'point:mouseenter',\n  onPointMouseleave: 'point:mouseleave',\n  onPointMousedown: 'point:mousedown',\n  onPointMouseup: 'point:mouseup',\n  onPointContextmenu: 'point:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { registerTheme } from '../../theme';\n\nvar AREA_ACTIVE_STYLE = function AREA_ACTIVE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity\n  };\n};\n\nvar AREA_DISABLE_STYLE = function AREA_DISABLE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nvar LINE_ACTIVE_STYLE = function LINE_ACTIVE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity\n  };\n};\n\nvar LINE_DISABLE_STYLE = function LINE_DISABLE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nvar LINE_SELECTED_STYLE = function LINE_SELECTED_STYLE(style) {\n  var lineWidth = style.lineWidth || 1;\n  return {\n    lineWidth: lineWidth + 2\n  };\n};\n\nvar POINT_ACTIVE_STYLE = function POINT_ACTIVE_STYLE(style) {\n  var color = style.fill || style.fillStyle;\n  var radius = style.size || style.radius;\n  return {\n    radius: radius + 1,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 1\n  };\n};\n\nvar POINT_SELECTED_STYLE = function POINT_SELECTED_STYLE(style) {\n  var color = style.fill || style.fillStyle;\n  var radius = style.size || style.radius;\n  return {\n    radius: radius + 2,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 2\n  };\n};\n\nvar POINT_DISABLED_STYLE = function POINT_DISABLED_STYLE(style) {\n  var opacity = style.opacity || style.fillOpacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nregisterTheme('area', {\n  areaStyle: {\n    normal: {},\n    active: AREA_ACTIVE_STYLE,\n    disable: AREA_DISABLE_STYLE,\n    selected: {\n      lineWidth: 1,\n      stroke: '#333333'\n    }\n  },\n  lineStyle: {\n    normal: {},\n    active: LINE_ACTIVE_STYLE,\n    disable: LINE_DISABLE_STYLE,\n    selected: LINE_SELECTED_STYLE\n  },\n  pointStyle: {\n    normal: {},\n    active: POINT_ACTIVE_STYLE,\n    disable: POINT_DISABLED_STYLE,\n    selected: POINT_SELECTED_STYLE\n  }\n});","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport responsiveMethods from './apply-responsive';\nimport * as EventParser from './event';\nimport './theme';\nvar GEOM_MAP = {\n  area: 'area',\n  line: 'line',\n  point: 'point'\n};\n\nvar AreaLayer =\n/** @class */\nfunction (_super) {\n  __extends(AreaLayer, _super);\n\n  function AreaLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'area';\n    return _this;\n  }\n\n  AreaLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      smooth: false,\n      areaStyle: {\n        opacity: 0.25,\n        fillOpacity: 1\n      },\n      line: {\n        visible: true,\n        size: 2,\n        style: {\n          opacity: 1,\n          lineJoin: 'round',\n          lineCap: 'round'\n        }\n      },\n      point: {\n        visible: false,\n        size: 4,\n        shape: 'point'\n      },\n      label: {\n        visible: false,\n        type: 'point'\n      },\n      legend: {\n        visible: true,\n        position: 'top-left',\n        wordSpacing: 4\n      }\n    });\n  };\n\n  AreaLayer.prototype.beforeInit = function () {\n    _super.prototype.beforeInit.call(this);\n    /** 响应式图形 */\n\n\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  };\n\n  AreaLayer.prototype.afterRender = function () {\n    /** 响应式 */\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  AreaLayer.prototype.geometryParser = function (dim, type) {\n    return GEOM_MAP[type];\n  };\n\n  AreaLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[props.xField] = {\n      type: 'cat'\n    };\n\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[props.yField] = {};\n\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  AreaLayer.prototype.coord = function () {};\n\n  AreaLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    var area = getGeom('area', 'main', {\n      plot: this\n    });\n    this.area = area;\n\n    if (props.label) {\n      this.label();\n    }\n\n    this.adjustArea(area);\n    this.setConfig('element', area);\n    this.addLine();\n    this.addPoint();\n  };\n\n  AreaLayer.prototype.adjustArea = function (area) {\n    return;\n  };\n\n  AreaLayer.prototype.adjustLine = function (line) {\n    return;\n  };\n\n  AreaLayer.prototype.adjustPoint = function (point) {\n    return;\n  };\n\n  AreaLayer.prototype.addLine = function () {\n    var props = this.options;\n\n    var lineConfig = _.deepMix({}, props.line);\n\n    if (lineConfig.visible) {\n      var line = getGeom('line', 'guide', {\n        type: 'line',\n        plot: this,\n        line: lineConfig\n      });\n      this.adjustLine(line);\n      this.setConfig('element', line);\n      this.line = line;\n    }\n  };\n\n  AreaLayer.prototype.addPoint = function () {\n    var props = this.options;\n\n    var pointConfig = _.deepMix({}, props.point);\n\n    if (pointConfig.visible) {\n      var point = getGeom('point', 'guide', {\n        plot: this\n      });\n      this.adjustPoint(point);\n      this.setConfig('element', point);\n      this.point = point;\n    }\n  };\n\n  AreaLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      // 关闭动画\n      this.area.animate = false;\n      if (this.line) this.line.animate = false;\n      if (this.point) this.point.animate = false;\n    }\n  };\n\n  AreaLayer.prototype.label = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label.visible === false) {\n      if (this.line) {\n        this.line.label = false;\n      }\n\n      this.area.label = false;\n      return;\n    }\n\n    this.area.label = getComponent('label', {\n      fields: [props.yField],\n      plot: this\n    });\n  };\n\n  AreaLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  AreaLayer.prototype.applyResponsive = function (stage) {\n    var _this = this;\n\n    var methods = responsiveMethods[stage];\n\n    _.each(methods, function (r) {\n      var responsive = r;\n      responsive.method(_this);\n    });\n  };\n\n  return AreaLayer;\n}(ViewLayer);\n\nexport default AreaLayer;\nregisterPlotType('area', AreaLayer);","import { __extends } from \"tslib\";\nimport { getScale } from '@antv/scale';\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { sturges } from '../../util/math';\nimport Area from '../area/layer';\nvar kernels = {\n  epanechnikov: function epanechnikov(dist) {\n    return Math.abs(dist) <= 1 ? 0.75 * (1 - dist * dist) : 0;\n  },\n  gaussian: function gaussian(dist) {\n    return 1 / Math.sqrt(Math.PI * 2) * Math.exp(-0.5 * Math.pow(dist, 2));\n  },\n  uniform: function uniform(dist) {\n    return Math.abs(dist) <= 1 ? 0.5 : 0;\n  },\n  triangle: function triangle(dist) {\n    return Math.abs(dist) <= 1 ? 1 - Math.abs(dist) : 0;\n  },\n  quartic: function quartic(dist) {\n    var v = 1 - dist * dist;\n    return Math.abs(dist) <= 1 ? 15 / 16 * v * v : 0;\n  },\n  triweight: function triweight(dist) {\n    var v = 1 - dist * dist;\n    return Math.abs(dist) <= 1 ? 15 / 16 * Math.pow(v, 3) : 0;\n  },\n  cosinus: function cosinus(dist) {\n    var v = Math.PI / 4 * Math.cos(0.5 * Math.PI * dist);\n    return Math.abs(dist) <= 1 ? v : 0;\n  }\n};\n\nvar DensityLayer =\n/** @class */\nfunction (_super) {\n  __extends(DensityLayer, _super);\n\n  function DensityLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'density';\n    return _this;\n  }\n\n  DensityLayer.prototype.init = function () {\n    var originXAxisConfig = this.options.xAxis ? _.clone(this.options.xAxis) : {};\n    this.options.xField = 'value';\n    this.options.yField = 'density';\n    this.options.xAxis = _.deepMix({}, originXAxisConfig, {\n      type: 'linear'\n    });\n    this.options.smooth = true;\n\n    _super.prototype.init.call(this);\n  };\n\n  DensityLayer.prototype.processData = function (originData) {\n    var _this = this;\n\n    var _a = this.options,\n        binField = _a.binField,\n        binWidth = _a.binWidth,\n        binNumber = _a.binNumber,\n        kernel = _a.kernel;\n\n    var _kernel = kernel ? kernel : 'epanechnikov';\n\n    var kernelFunc = kernels[_kernel];\n\n    var originDataCopy = _.clone(originData);\n\n    _.sortBy(originDataCopy, binField); // 计算分箱，直方图分箱的计算基于binWidth，如配置了binNumber则将其转为binWidth进行计算\n\n\n    var values = _.valuesOfKey(originDataCopy, binField);\n\n    var range = _.getRange(values);\n\n    var rangeWidth = range.max - range.min;\n    var _binNumber = binNumber;\n    var _binWidth = binWidth;\n\n    if (!binNumber && binWidth) {\n      _binNumber = Math.floor(rangeWidth / binWidth);\n    }\n\n    if (!binWidth && binNumber) {\n      _binWidth = rangeWidth / binNumber;\n    } // 当binWidth和binNumber都没有指定的情况，采用Sturges formula自动生成binWidth\n\n\n    if (!binNumber && !binWidth) {\n      _binNumber = sturges(values);\n      _binWidth = rangeWidth / binNumber;\n    } // 根据binNumber获取samples\n\n\n    var LinearScale = getScale('linear');\n    var scale = new LinearScale({\n      min: range.min,\n      max: range.max,\n      tickCount: _binNumber,\n      nice: false\n    });\n    var samples = scale.getTicks(); // 计算KDE\n\n    var densities = [];\n\n    _.each(samples, function (s) {\n      var density = _this.kernelDensityEstimator(_binWidth, kernelFunc, s, values);\n\n      densities.push({\n        value: s.text,\n        density: density\n      });\n    });\n\n    return densities;\n  };\n\n  DensityLayer.prototype.kernelDensityEstimator = function (binWidth, kernelFunc, x, values) {\n    var sum = 0;\n\n    _.each(values, function (v) {\n      var dist = (x.tickValue - v) / binWidth;\n      sum += kernelFunc(dist);\n    });\n\n    return values.length === 0 ? 0 : sum / values.length;\n  };\n\n  return DensityLayer;\n}(Area);\n\nexport default DensityLayer;\nregisterPlotType('density', DensityLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport DensityLayer from './layer';\n\nvar Density =\n/** @class */\nfunction (_super) {\n  __extends(Density, _super);\n\n  function Density() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Density.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'density';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Density.getDefaultOptions = DensityLayer.getDefaultOptions;\n  return Density;\n}(BasePlot);\n\nexport default Density;","import { __extends } from \"tslib\";\nimport ApplyResponsiveLabel from '../../../util/responsive/apply/label';\n\nvar ApplyResponsiveColumnLabel =\n/** @class */\nfunction (_super) {\n  __extends(ApplyResponsiveColumnLabel, _super);\n\n  function ApplyResponsiveColumnLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ApplyResponsiveColumnLabel.prototype.getType = function () {\n    if (this.plot.column.label) {\n      if (!this.plot.column.label.position || this.plot.column.label.position === 'top') {\n        return 'top';\n      }\n    }\n\n    return 'inner';\n  };\n\n  return ApplyResponsiveColumnLabel;\n}(ApplyResponsiveLabel);\n\nexport default function responsivePointLabel(layer) {\n  var responsiveTheme = layer.getResponsiveTheme();\n  var applyResponsiveColumnLabel = new ApplyResponsiveColumnLabel({\n    plot: layer,\n    responsiveTheme: responsiveTheme\n  });\n}","import responsiveAxis from './axis';\nimport responsiveLabel from './label';\nvar preRenderResponsive = [];\nvar afterRenderResponsive = [{\n  name: 'responsiveAxis',\n  method: responsiveAxis\n}, {\n  name: 'responsiveLabel',\n  method: responsiveLabel\n}];\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive\n};","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nexport default function responsiveAxis(layer) {\n  var responsiveTheme = layer.getResponsiveTheme();\n  var canvas = layer.canvas; // x-axis\n\n  var x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'x'\n  }); // y-axis\n\n  var y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'y'\n  });\n  canvas.draw();\n}","export function rgb2arr(str) {\n  var arr = [];\n  arr.push(parseInt(str.substr(1, 2), 16));\n  arr.push(parseInt(str.substr(3, 2), 16));\n  arr.push(parseInt(str.substr(5, 2), 16));\n  return arr;\n}\nexport function toHex(value) {\n  var v;\n  v = Math.round(value);\n  v = v.toString(16);\n\n  if (v.length === 1) {\n    v = \"0\" + value;\n  }\n\n  return v;\n}\nexport function arr2rgb(arr) {\n  return \"#\" + (toHex(arr[0]) + toHex(arr[1]) + toHex(arr[2]));\n}","import { registerResponsiveTheme } from '../../../util/responsive/theme';\n/** 组装theme */\n\nvar columnTheme = {\n  label: {\n    top: {\n      constraints: [{\n        name: 'elementCollision'\n      }],\n      rules: {\n        elementCollision: [{\n          name: 'nodeJitterUpward'\n        }, {\n          name: 'nodesResamplingByState',\n          option: {\n            keep: ['min', 'max', 'median']\n          }\n        }, {\n          name: 'textHide'\n        }]\n      }\n    }\n  }\n};\nregisterResponsiveTheme('column', columnTheme);","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { rgb2arr } from '../../../../util/color';\nvar TOP_MARGIN = 20;\n\nvar ColumnLabels =\n/** @class */\nfunction (_super) {\n  __extends(ColumnLabels, _super);\n\n  function ColumnLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ColumnLabels.prototype.setLabelPosition = function (point, originPoint, index, originPosition) {\n    var position = originPosition;\n\n    if (_.isFunction(position)) {\n      position = position(originPoint);\n    }\n\n    var coord = this.get('coord');\n    var point0 = coord.convertPoint(originPoint.points[0]);\n    var point1 = coord.convertPoint(originPoint.points[2]);\n    var negative = point0.y < point1.y;\n    var width = (point0.x - point1.x) / 2;\n    var height = (point0.y - point1.y) / 2;\n\n    switch (position) {\n      case 'right':\n        point.x -= width;\n        point.y += height;\n        point.textAlign = point.textAlign || 'left';\n        break;\n\n      case 'left':\n        point.x += width;\n        point.y += height;\n        point.textAlign = point.textAlign || 'right';\n        break;\n\n      case 'bottom':\n        point.y += height * 2;\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'middle':\n        point.y += height;\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'top':\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  ColumnLabels.prototype.adjustOffset = function (points, shapes) {\n    var renderer = this.get('labelsRenderer');\n    var items = renderer.get('items');\n    var labels = renderer.get('group').get('children');\n    var coord = this.get('coord');\n\n    _.each(items, function (item, idx) {\n      var label = labels[idx];\n      var point0 = coord.convertPoint(points[idx].points[0]);\n      var point1 = coord.convertPoint(points[idx].points[2]);\n      var negative = point0.y < point1.y;\n\n      if (negative) {\n        item.y += item.offset * 2;\n        label.attr('textBaseline', 'top');\n        label.attr('y', label.attr('y') + item.offset * 2);\n      }\n    });\n  };\n\n  ColumnLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    this.adjustOffset(points, shapes);\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var items = renderer.get('items');\n    var view = this.get('element').get('view');\n\n    _.each(labels, function (label, index) {\n      var l = label;\n      var item = items[index];\n      var origin = l.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var shape = _this._getShape(shapeId, shapes);\n\n      var _a = _this.get('labelOptions'),\n          adjustColor = _a.adjustColor,\n          adjustPosition = _a.adjustPosition;\n\n      if (adjustPosition) {\n        _this.adjustPosition(l, shape, item);\n      }\n\n      if (adjustColor) {\n        _this.adjustColor(l, shape);\n      }\n    });\n\n    view.get('canvas').draw();\n  };\n\n  ColumnLabels.prototype._getShape = function (shapeId, shapes) {\n    var target;\n\n    _.each(shapes, function (shape) {\n      var s = shape;\n      var id = s.id;\n\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n\n    return target;\n  };\n\n  ColumnLabels.prototype.adjustPosition = function (label, shape, item) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (shapeRange.height <= labelRange.height && item.position !== 'top') {\n      var yPosition = shapeRange.minY - TOP_MARGIN;\n      label.attr('y', yPosition);\n    }\n  };\n\n  ColumnLabels.prototype.adjustColor = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (labelRange.minY >= shapeRange.minY && labelRange.maxY <= shapeRange.maxY) {\n      var shapeColor = shape.attr('fill');\n      var shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      var rgb = rgb2arr(shapeColor);\n      var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      var colorBand = [{\n        from: 0,\n        to: 85,\n        color: 'white'\n      }, {\n        from: 85,\n        to: 170,\n        color: '#F6F6F6'\n      }, {\n        from: 170,\n        to: 255,\n        color: 'black'\n      }];\n\n      var reflect = this._mappingColor(colorBand, gray);\n\n      label.attr('fill', reflect);\n\n      if (reflect !== 'black') {\n        label.attr('stroke', null);\n        label.attr('lineWidth', 0);\n      } else {\n        label.attr('stroke', 'white');\n        label.attr('lineWidth', 2);\n      }\n    } else if (labelRange.maxY < shapeRange.minY) {\n      // 非 shape 范围内的 label 需要考虑主题背景\n      var theme = this.get('theme');\n\n      var labelTextColor = _.get(theme, 'label.textStyle.fill', 'black');\n\n      label.attr('fill', labelTextColor);\n    }\n  };\n\n  ColumnLabels.prototype._mappingColor = function (band, gray) {\n    var reflect;\n\n    _.each(band, function (b) {\n      var map = b;\n\n      if (gray >= map.from && gray < map.to) {\n        reflect = map.color;\n      }\n    });\n\n    return reflect;\n  };\n\n  return ColumnLabels;\n}(ElementLabels);\n\nexport { ColumnLabels };\nregisterElementLabels('columnLabel', ColumnLabels);","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onColumnClick: 'interval:click',\n  onColumnDblclick: 'interval:dblclick',\n  onColumnMousemove: 'interval:mousemove',\n  onColumnMouseenter: 'interval:mouseenter',\n  onColumnMouseleave: 'interval:mouseleave',\n  onColumnMousedown: 'interval:mousedown',\n  onColumnMouseup: 'interval:mouseup',\n  onColumnContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { registerTheme } from '../../theme';\n\nvar COLUMN_ACTIVE_STYLE = function COLUMN_ACTIVE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nvar COLUMN_DISABLE_STYLE = function COLUMN_DISABLE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5,\n    fillOpacity: opacity * 0.5\n  };\n};\n\nregisterTheme('column', {\n  columnStyle: {\n    normal: {},\n    active: COLUMN_ACTIVE_STYLE,\n    disable: COLUMN_DISABLE_STYLE,\n    selected: {\n      lineWidth: 1,\n      stroke: 'black'\n    }\n  }\n});","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport responsiveMethods from './apply-responsive';\nimport './apply-responsive/theme';\nimport './component/label/column-label';\nimport * as EventParser from './event';\nimport './theme';\nvar G2_GEOM_MAP = {\n  column: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'column'\n};\n\nvar BaseColumnLayer =\n/** @class */\nfunction (_super) {\n  __extends(BaseColumnLayer, _super);\n\n  function BaseColumnLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'column';\n    return _this;\n  }\n\n  BaseColumnLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      xAxis: {\n        visible: true,\n        tickLine: {\n          visible: false\n        },\n        title: {\n          visible: true\n        }\n      },\n      yAxis: {\n        title: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        grid: {\n          visible: true\n        }\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        crosshairs: {\n          type: 'rect'\n        }\n      },\n      label: {\n        visible: false,\n        position: 'top',\n        adjustColor: true\n      },\n      legend: {\n        visible: true,\n        position: 'top-left'\n      }\n    });\n  };\n\n  BaseColumnLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props); // @ts-ignore\n\n\n    var defaultOptions = this.constructor.getDefaultOptions();\n    return _.deepMix({}, options, defaultOptions, props);\n  };\n\n  BaseColumnLayer.prototype.beforeInit = function () {\n    _super.prototype.beforeInit.call(this);\n    /** 响应式图形 */\n\n\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  };\n\n  BaseColumnLayer.prototype.afterRender = function () {\n    /** 响应式 */\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  BaseColumnLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  BaseColumnLayer.prototype.scale = function () {\n    var options = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[options.xField] = {\n      type: 'cat'\n    };\n\n    if (_.has(options, 'xAxis')) {\n      extractScale(scales[options.xField], options.xAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[options.yField] = {};\n\n    if (_.has(options, 'yAxis')) {\n      extractScale(scales[options.yField], options.yAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  BaseColumnLayer.prototype.coord = function () {};\n\n  BaseColumnLayer.prototype.adjustColumn = function (column) {\n    return;\n  };\n\n  BaseColumnLayer.prototype.addGeometry = function () {\n    var options = this.options;\n    var column = getGeom('interval', 'main', {\n      positionFields: [options.xField, options.yField],\n      plot: this\n    });\n\n    if (options.label) {\n      column.label = this.extractLabel();\n    }\n\n    this.adjustColumn(column);\n    this.column = column;\n    this.setConfig('element', column);\n  };\n\n  BaseColumnLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    if (this.options.animation === false) {\n      /** 关闭动画 */\n      this.column.animate = false;\n    }\n  };\n\n  BaseColumnLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  BaseColumnLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var defaultOptions = this.getLabelOptionsByPosition(props.label.position);\n\n    var label = _.deepMix({}, defaultOptions, this.options.label);\n\n    if (label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'columnLabel',\n      fields: [this.options.yField]\n    }, label));\n    return labelConfig;\n  };\n\n  BaseColumnLayer.prototype.applyResponsive = function (stage) {\n    var _this = this;\n\n    var methods = responsiveMethods[stage];\n\n    _.each(methods, function (r) {\n      var responsive = r;\n      responsive.method(_this);\n    });\n  };\n\n  BaseColumnLayer.prototype.getLabelOptionsByPosition = function (position) {\n    if (position === 'middle') {\n      return {\n        offset: 0,\n        style: {\n          textBaseline: 'middle'\n        }\n      };\n    }\n\n    if (position === 'top') {\n      return {\n        offset: 4,\n        style: {\n          textBaseline: 'bottom'\n        }\n      };\n    }\n\n    if (position === 'bottom') {\n      return {\n        offset: 4,\n        style: {\n          textBaseline: 'bottom'\n        }\n      };\n    }\n\n    return {\n      offset: 0\n    };\n  };\n\n  return BaseColumnLayer;\n}(ViewLayer);\n\nexport default BaseColumnLayer;\nregisterPlotType('column', BaseColumnLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport ColumnLayer from './layer';\n\nvar Column =\n/** @class */\nfunction (_super) {\n  __extends(Column, _super);\n\n  function Column() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Column.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'column';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Column.getDefaultOptions = ColumnLayer.getDefaultOptions;\n  return Column;\n}(BasePlot);\n\nexport default Column;","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { rgb2arr } from '../../../../util/color';\nvar TOP_MARGIN = 20;\n\nvar ScatterLabels =\n/** @class */\nfunction (_super) {\n  __extends(ScatterLabels, _super);\n\n  function ScatterLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ScatterLabels.prototype.setLabelPosition = function (point, originPoint, index, originPosition) {\n    var position = originPosition;\n\n    if (_.isFunction(position)) {\n      position = position(originPoint);\n    }\n\n    var size = originPoint.size;\n    var p = originPoint.points[0];\n    var coord = this.get('coord');\n    var width = size;\n    var height = size;\n\n    switch (position) {\n      case 'right':\n        point.x += width * 2;\n        point.textAlign = point.textAlign || 'left';\n        break;\n\n      case 'left':\n        point.x -= width * 2;\n        point.textAlign = point.textAlign || 'right';\n        break;\n\n      case 'bottom':\n        point.y += height * 2;\n        point.textAlign = point.textAlign || 'center';\n        point.textBaseline = 'top';\n        break;\n\n      case 'middle':\n        point.textBaseline = 'middle';\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'top':\n        point.y -= height * 2;\n        point.textAlign = point.textAlign || 'center';\n        point.textBaseline = 'bottom';\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  ScatterLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var items = renderer.get('items');\n    var view = this.get('element').get('view');\n\n    _.each(labels, function (label, index) {\n      var l = label;\n      var item = items[index];\n      var origin = l.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var shape = _this._getShape(shapeId, shapes);\n\n      var _a = _this.get('labelOptions'),\n          adjustColor = _a.adjustColor,\n          adjustPosition = _a.adjustPosition;\n\n      if (adjustPosition) {\n        _this.adjustPosition(l, shape, item);\n      }\n\n      if (adjustColor) {\n        _this.adjustColor(l, shape);\n      }\n    });\n\n    view.get('canvas').draw();\n  };\n\n  ScatterLabels.prototype._getShape = function (shapeId, shapes) {\n    var target;\n\n    _.each(shapes, function (shape) {\n      var s = shape;\n      var id = s.id;\n\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n\n    return target;\n  };\n\n  ScatterLabels.prototype.adjustPosition = function (label, shape, item) {\n    var originData = shape.get('origin')._origin;\n\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (shapeRange.height <= labelRange.height || shapeRange.width <= labelRange.width && item.position === 'middle') {\n      label.attr('text', '');\n    }\n  };\n\n  ScatterLabels.prototype.adjustColor = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (labelRange.minY >= shapeRange.minY && labelRange.maxY <= shapeRange.maxY) {\n      var shapeColor = shape.attr('fill');\n      var shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      var rgb = rgb2arr(shapeColor);\n      var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      var colorBand = [{\n        from: 0,\n        to: 85,\n        color: 'white'\n      }, {\n        from: 85,\n        to: 170,\n        color: '#F6F6F6'\n      }, {\n        from: 170,\n        to: 255,\n        color: 'black'\n      }];\n\n      var reflect = this._mappingColor(colorBand, gray);\n\n      label.attr('fill', reflect);\n    } else if (labelRange.maxY < shapeRange.minY) {\n      var theme = this.get('theme');\n\n      var labelTextColor = _.get(theme, 'label.textStyle.fill', 'black');\n\n      label.attr('fill', labelTextColor);\n    }\n  };\n\n  ScatterLabels.prototype._mappingColor = function (band, gray) {\n    var reflect;\n\n    _.each(band, function (b) {\n      var map = b;\n\n      if (gray >= map.from && gray < map.to) {\n        reflect = map.color;\n      }\n    });\n\n    return reflect;\n  };\n\n  return ScatterLabels;\n}(ElementLabels);\n\nexport { ScatterLabels };\nregisterElementLabels('scatterLabel', ScatterLabels);","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onPointClick: 'point:click',\n  onPointDblclick: 'point:dblclick',\n  onPointMousemove: 'point:mousemove',\n  onPointMouseenter: 'point:mouseenter',\n  onPointMouseleave: 'point:mouseleave',\n  onPointMousedown: 'point:mousedown',\n  onPointMouseup: 'point:mouseup',\n  onPointContextmenu: 'point:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __assign } from \"tslib\";\nimport { each, isArray, isFunction, deepMix } from '@antv/util';\nimport { BBox } from '@antv/g';\n\nvar Quadrant =\n/** @class */\nfunction () {\n  function Quadrant(cfg) {\n    this.xBaseline = 0;\n    this.yBaseline = 0;\n    this.quadrantGroups = [];\n    this.regionData = [];\n    this.lineData = [];\n    this.options = cfg;\n    this.view = this.options.view;\n    this.init();\n  }\n\n  Quadrant.prototype.init = function () {\n    var _this = this;\n\n    var _a = this.options,\n        xBaseline = _a.xBaseline,\n        yBaseline = _a.yBaseline;\n    var coord = this.view.get('coord'); // TODO: xBaseline和yBaseline支持百分比\n    // 根据xBaseline和yBaseline分割象限\n\n    var scales = this.view.get('scales');\n    var xScale = scales[this.options.plotOptions.xField];\n    var yScale = scales[this.options.plotOptions.yField]; // 先进行x方向的分割\n\n    var xRegion;\n\n    if (xBaseline > xScale.min && xBaseline < xScale.max) {\n      var ratio = (xBaseline - xScale.min) / (xScale.max - xScale.min);\n      xRegion = [new BBox(coord.start.x, coord.end.y, coord.width * ratio, coord.height), new BBox(coord.start.x + coord.width * ratio, coord.end.y, coord.width * (1 - ratio), coord.height)];\n      var verticalLineData = {\n        start: {\n          x: coord.start.x + coord.width * ratio,\n          y: coord.end.y\n        },\n        end: {\n          x: coord.start.x + coord.width * ratio,\n          y: coord.start.y\n        }\n      };\n      this.lineData.push(verticalLineData);\n    } else {\n      xRegion = new BBox(coord.start.x, coord.start.y, coord.width, coord.height);\n    } // 再进行y方向的分割\n\n\n    if (yBaseline > yScale.min && yBaseline < yScale.max) {\n      var ratio_1 = (yBaseline - yScale.min) / (yScale.max - yScale.min);\n      var horizontalLineData = {\n        start: {\n          x: coord.start.x,\n          y: coord.end.y + coord.height * ratio_1\n        },\n        end: {\n          x: coord.end.x,\n          y: coord.end.y + coord.height * ratio_1\n        }\n      };\n      this.lineData.push(horizontalLineData);\n      each(xRegion, function (region, index) {\n        var lastName = ['left', 'right'];\n        var upper = {\n          name: xRegion.length > 1 ? \"top-\" + lastName[index] : 'top',\n          bbox: new BBox(region.minX, region.minY, region.width, region.height * ratio_1)\n        };\n\n        _this.regionData.push(upper);\n\n        var lower = {\n          name: xRegion.length > 1 ? \"bottom-\" + lastName[index] : 'bottom',\n          bbox: new BBox(region.minX, region.minY + region.height * ratio_1, region.width, region.height * (1 - ratio_1))\n        };\n\n        _this.regionData.push(lower);\n      });\n    } else if (xRegion.length === 2) {\n      var left = {\n        name: 'left',\n        bbox: xRegion[0]\n      };\n      this.regionData.push(left);\n      var right = {\n        name: 'right',\n        bbox: xRegion[1]\n      };\n      this.regionData.push(right);\n    } // 创建container\n\n\n    this.container = this.view.get('backgroundGroup').addGroup();\n  };\n\n  Quadrant.prototype.render = function () {\n    var _this = this;\n\n    if (this.regionData.length > 0) {\n      var defaultStyle_1 = this.getDefaultStyle();\n      var regionStyle_1 = this.getRegionStyle(this.regionData);\n      each(this.regionData, function (d, index) {\n        var group = _this.container.addGroup();\n\n        var rect = group.addShape('rect', {\n          attrs: __assign({\n            x: d.bbox.minX,\n            y: d.bbox.minY,\n            width: d.bbox.width,\n            height: d.bbox.height\n          }, regionStyle_1[index]),\n          name: 'quadrant'\n        });\n\n        if (_this.options.label && _this.options.label.text) {\n          var labelOptions = deepMix({}, defaultStyle_1.label, _this.options.label);\n\n          var labelCfg = _this.getLabelConfig(d, labelOptions, index);\n\n          var label = group.addShape('text', {\n            attrs: __assign({}, labelCfg)\n          });\n        }\n\n        rect.setSilent('data', d);\n\n        _this.quadrantGroups.push(group);\n      }); //绘制象限辅助线\n\n      var lineStyle_1 = deepMix({}, defaultStyle_1.line, this.options.lineStyle);\n      each(this.lineData, function (d) {\n        _this.container.addShape('path', {\n          attrs: __assign({\n            path: [['M', d.start.x, d.start.y], ['L', d.end.x, d.end.y]]\n          }, lineStyle_1)\n        });\n      });\n      this.view.get('canvas').draw();\n    }\n  };\n\n  Quadrant.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  Quadrant.prototype.destroy = function () {\n    if (this.container) {\n      this.container.remove();\n    }\n  };\n\n  Quadrant.prototype.getDefaultStyle = function () {\n    return {\n      line: {\n        stroke: '#9ba29a',\n        lineWidth: 1\n      },\n      region_2: [{\n        fill: '#000000',\n        opacity: 0.05\n      }, {\n        fill: '#ffffff',\n        opacity: 0\n      }],\n      region_4: [{\n        fill: '#000000',\n        opacity: 0.05\n      }, {\n        fill: '#ffffff',\n        opacity: 0\n      }, {\n        fill: '#ffffff',\n        opacity: 0\n      }, {\n        fill: '#000000',\n        opacity: 0.05\n      }],\n      label: {\n        position: 'outter-inner',\n        offset: 10,\n        style: {\n          fontSize: 14,\n          fill: '#ccc'\n        }\n      }\n    };\n  };\n\n  Quadrant.prototype.getRegionStyle = function (regionData) {\n    var regionNum = regionData.length;\n    var defaultStyle = this.getDefaultStyle();\n    var style;\n\n    if (regionNum === 2) {\n      style = defaultStyle.region_2;\n    } else {\n      style = defaultStyle.region_4;\n    }\n\n    if (this.options.regionStyle) {\n      var regionStyle_2 = this.options.regionStyle;\n\n      if (isArray(regionStyle_2)) {\n        style = style.map(function (s, index) {\n          if (regionStyle_2.length >= index) {\n            return regionStyle_2[index];\n          }\n\n          return s;\n        });\n      } else if (isFunction(regionStyle_2)) {\n        each(regionData, function (d, index) {\n          style[index] = regionStyle_2(d);\n        });\n      }\n    }\n\n    return style;\n  };\n\n  Quadrant.prototype.getLabelConfig = function (region, labelOptions, index) {\n    var x = 0;\n    var y = 0;\n    var style = {};\n    var text = labelOptions.text;\n\n    if (isFunction(text)) {\n      text = text(region);\n    } else if (isArray(text)) {\n      text = text[index];\n    }\n\n    var position = labelOptions.position;\n    var pos = position.split('-');\n    var dim = region.name.split('-'); // x方向\n\n    if (dim[1] === 'left') {\n      if (pos[0] === 'inner') {\n        x = region.bbox.maxX - labelOptions.offset;\n        style.textAlign = 'right';\n      }\n\n      if (pos[0] === 'outter') {\n        x = region.bbox.minX + labelOptions.offset;\n        style.textAlign = 'left';\n      }\n    } else if (dim[1] === 'right') {\n      if (pos[0] === 'inner') {\n        x = region.bbox.minX + labelOptions.offset;\n        style.textAlign = 'left';\n      }\n\n      if (pos[0] === 'outter') {\n        x = region.bbox.maxX - labelOptions.offset;\n        style.textAlign = 'right';\n      }\n    } // y方向\n\n\n    if (dim[0] === 'top') {\n      if (pos[1] === 'inner') {\n        y = region.bbox.maxY - labelOptions.offset;\n        style.textBaseline = 'bottom';\n      }\n\n      if (pos[1] === 'outter') {\n        y = region.bbox.minY + labelOptions.offset;\n        style.textBaseline = 'top';\n      }\n    } else if (dim[0] === 'bottom') {\n      if (pos[1] === 'inner') {\n        y = region.bbox.minY + labelOptions.offset;\n        style.textBaseline = 'top';\n      }\n\n      if (pos[1] === 'outter') {\n        y = region.bbox.maxY - labelOptions.offset;\n        style.textBaseline = 'bottom';\n      }\n    }\n\n    style = deepMix({}, labelOptions.style, style);\n    style.lineHeight = style.fontSize;\n    return __assign({\n      x: x,\n      y: y,\n      text: text\n    }, style);\n  };\n\n  return Quadrant;\n}();\n\nexport default Quadrant;","// Adapted from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\nexport function points(data, x, y, sort) {\n  data = data.filter(function (d) {\n    var u = x(d),\n        v = y(d);\n    return u != null && isFinite(u) && v != null && isFinite(v);\n  });\n\n  if (sort) {\n    data.sort(function (a, b) {\n      return x(a) - x(b);\n    });\n  }\n\n  var n = data.length,\n      X = new Float64Array(n),\n      Y = new Float64Array(n); // extract values, calculate means\n\n  var ux = 0,\n      uy = 0,\n      xv,\n      yv,\n      d;\n\n  for (var i = 0; i < n;) {\n    d = data[i];\n    X[i] = xv = +x(d);\n    Y[i] = yv = +y(d);\n    ++i;\n    ux += (xv - ux) / i;\n    uy += (yv - uy) / i;\n  } // mean center the data\n\n\n  for (var _i = 0; _i < n; ++_i) {\n    X[_i] -= ux;\n    Y[_i] -= uy;\n  }\n\n  return [X, Y, ux, uy];\n}\nexport function visitPoints(data, x, y, cb) {\n  var iterations = 0;\n\n  for (var i = 0, n = data.length; i < n; i++) {\n    var d = data[i],\n        dx = +x(d),\n        dy = +y(d);\n\n    if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n      cb(dx, dy, iterations++);\n    }\n  }\n}","import { visitPoints } from \"./points\"; // Given a dataset, x- and y-accessors, the mean center of the y values, and a predict function,\n// return the coefficient of determination, or R squared.\n\nexport function determination(data, x, y, uY, predict) {\n  var SSE = 0,\n      SST = 0;\n  visitPoints(data, x, y, function (dx, dy) {\n    var sse = dy - predict(dx),\n        sst = dy - uY;\n    SSE += sse * sse;\n    SST += sst * sst;\n  });\n  return 1 - SSE / SST;\n}","// Returns the angle of a line in degrees.\nexport function angle(line) {\n  return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n} // Returns the midpoint of a line.\n\nexport function midpoint(line) {\n  return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n}","import { angle, midpoint } from \"./geometry\"; // Given a start point, an end point, and a prediciton function,\n// returns a smooth line.\n\nexport function interpose(xmin, xmax, predict) {\n  var l = Math.log(xmax - xmin) * Math.LOG10E + 1 | 0;\n  var precision = 1 * Math.pow(10, -l / 2 - 1),\n      maxIter = 1e4;\n  var points = [px(xmin), px(xmax)],\n      iter = 0;\n\n  while (find(points) && iter < maxIter) {\n    ;\n  }\n\n  return points;\n\n  function px(x) {\n    return [x, predict(x)];\n  }\n\n  function find(points) {\n    iter++;\n    var n = points.length;\n    var found = false;\n\n    for (var i = 0; i < n - 1; i++) {\n      var p0 = points[i],\n          p1 = points[i + 1],\n          m = midpoint([p0, p1]),\n          mp = px(m[0]),\n          a0 = angle([p0, m]),\n          a1 = angle([p0, mp]),\n          a = Math.abs(a0 - a1);\n\n      if (a > precision) {\n        points.splice(i + 1, 0, mp);\n        found = true;\n      }\n    }\n\n    return found;\n  }\n}","// Ordinary Least Squares from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\nexport function ols(uX, uY, uXY, uX2) {\n  var delta = uX2 - uX * uX,\n      slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta,\n      intercept = uY - slope * uX;\n  return [intercept, slope];\n}","import _slicedToArray from \"C:\\\\Users\\\\taotao\\\\Desktop\\\\mygithub\\\\system-antd3.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { ols } from \"./utils/ols\";\nimport { visitPoints } from \"./utils/points\";\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function exponential(data) {\n    var n = 0,\n        Y = 0,\n        YL = 0,\n        XY = 0,\n        XYL = 0,\n        X2Y = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var ly = Math.log(dy),\n          xy = dx * dy;\n      ++n;\n      Y += (dy - Y) / n;\n      XY += (xy - XY) / n;\n      X2Y += (dx * xy - X2Y) / n;\n      YL += (dy * ly - YL) / n;\n      XYL += (xy * ly - XYL) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y),\n        _ols2 = _slicedToArray(_ols, 2),\n        a = _ols2[0],\n        b = _ols2[1];\n\n    a = Math.exp(a);\n\n    var fn = function fn(x) {\n      return a * Math.exp(b * x);\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  exponential.domain = function (arr) {\n    return arguments.length ? (domain = arr, exponential) : domain;\n  };\n\n  exponential.x = function (fn) {\n    return arguments.length ? (x = fn, exponential) : x;\n  };\n\n  exponential.y = function (fn) {\n    return arguments.length ? (y = fn, exponential) : y;\n  };\n\n  return exponential;\n}","import _slicedToArray from \"C:\\\\Users\\\\taotao\\\\Desktop\\\\mygithub\\\\system-antd3.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { determination } from \"./utils/determination\";\nimport { ols } from \"./utils/ols\";\nimport { visitPoints } from \"./utils/points\";\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function linear(data) {\n    var n = 0,\n        X = 0,\n        // sum of x\n    Y = 0,\n        // sum of y\n    XY = 0,\n        // sum of x * y\n    X2 = 0,\n        // sum of x * x\n    xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      ++n;\n      X += (dx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (dx * dy - XY) / n;\n      X2 += (dx * dx - X2) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        intercept = _ols2[0],\n        slope = _ols2[1],\n        fn = function fn(x) {\n      return slope * x + intercept;\n    },\n        out = [[xmin, fn(xmin)], [xmax, fn(xmax)]];\n\n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  linear.domain = function (arr) {\n    return arguments.length ? (domain = arr, linear) : domain;\n  };\n\n  linear.x = function (fn) {\n    return arguments.length ? (x = fn, linear) : x;\n  };\n\n  linear.y = function (fn) {\n    return arguments.length ? (y = fn, linear) : y;\n  };\n\n  return linear;\n}","// Returns the medium value of an array of numbers.\nexport function median(arr) {\n  arr.sort(function (a, b) {\n    return a - b;\n  });\n  var i = arr.length / 2;\n  return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n}","import _slicedToArray from \"C:\\\\Users\\\\taotao\\\\Desktop\\\\mygithub\\\\system-antd3.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n// Adapted from science.js by Jason Davies\n// License: https://github.com/jasondavies/science.js/blob/master/LICENSE\n// Source: https://github.com/jasondavies/science.js/blob/master/src/stats/loess.js\n// Adapted from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/loess.js\nimport { median } from \"./utils/median\";\nimport { ols } from \"./utils/ols\";\nimport { points } from \"./utils/points\";\nvar maxiters = 2,\n    epsilon = 1e-12;\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      bandwidth = .3;\n\n  function loess(data) {\n    var _points = points(data, x, y, true),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length,\n        bw = Math.max(2, ~~(bandwidth * n)),\n        yhat = new Float64Array(n),\n        residuals = new Float64Array(n),\n        robustWeights = new Float64Array(n).fill(1);\n\n    for (var iter = -1; ++iter <= maxiters;) {\n      var interval = [0, bw - 1];\n\n      for (var i = 0; i < n; ++i) {\n        var dx = xv[i],\n            i0 = interval[0],\n            i1 = interval[1],\n            edge = dx - xv[i0] > xv[i1] - dx ? i0 : i1;\n        var W = 0,\n            X = 0,\n            Y = 0,\n            XY = 0,\n            X2 = 0,\n            denom = 1 / Math.abs(xv[edge] - dx || 1); // Avoid singularity\n\n        for (var k = i0; k <= i1; ++k) {\n          var xk = xv[k],\n              yk = yv[k],\n              w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n              xkw = xk * w;\n          W += w;\n          X += xkw;\n          Y += yk * w;\n          XY += yk * xkw;\n          X2 += xk * xkw;\n        } // Linear regression fit\n\n\n        var _ols = ols(X / W, Y / W, XY / W, X2 / W),\n            _ols2 = _slicedToArray(_ols, 2),\n            a = _ols2[0],\n            b = _ols2[1];\n\n        yhat[i] = a + b * dx;\n        residuals[i] = Math.abs(yv[i] - yhat[i]);\n        updateInterval(xv, i + 1, interval);\n      }\n\n      if (iter === maxiters) {\n        break;\n      }\n\n      var medianResidual = median(residuals);\n      if (Math.abs(medianResidual) < epsilon) break;\n\n      for (var _i = 0, arg, _w; _i < n; ++_i) {\n        arg = residuals[_i] / (6 * medianResidual); // Default to epsilon (rather than zero) for large deviations\n        // Keeping weights tiny but non-zero prevents singularites\n\n        robustWeights[_i] = arg >= 1 ? epsilon : (_w = 1 - arg * arg) * _w;\n      }\n    }\n\n    return output(xv, yhat, ux, uy);\n  }\n\n  loess.bandwidth = function (bw) {\n    return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n  };\n\n  loess.x = function (fn) {\n    return arguments.length ? (x = fn, loess) : x;\n  };\n\n  loess.y = function (fn) {\n    return arguments.length ? (y = fn, loess) : y;\n  };\n\n  return loess;\n} // Weighting kernel for local regression\n\nfunction tricube(x) {\n  return (x = 1 - x * x * x) * x * x;\n} // Advance sliding window interval of nearest neighbors\n\n\nfunction updateInterval(xv, i, interval) {\n  var val = xv[i],\n      left = interval[0],\n      right = interval[1] + 1;\n  if (right >= xv.length) return; // Step right if distance to new right edge is <= distance to old left edge\n  // Step when distance is equal to ensure movement over duplicate x values\n\n  while (i > left && xv[right] - val <= val - xv[left]) {\n    interval[0] = ++left;\n    interval[1] = right;\n    ++right;\n  }\n} // Generate smoothed output points\n// Average points with repeated x values\n\n\nfunction output(xv, yhat, ux, uy) {\n  var n = xv.length,\n      out = [];\n  var i = 0,\n      cnt = 0,\n      prev = [],\n      v;\n\n  for (; i < n; ++i) {\n    v = xv[i] + ux;\n\n    if (prev[0] === v) {\n      // Average output values via online update\n      prev[1] += (yhat[i] - prev[1]) / ++cnt;\n    } else {\n      // Add new output point\n      cnt = 0;\n      prev[1] += uy;\n      prev = [v, yhat[i]];\n      out.push(prev);\n    }\n  }\n\n  prev[1] += uy;\n  return out;\n}","import _slicedToArray from \"C:\\\\Users\\\\taotao\\\\Desktop\\\\mygithub\\\\system-antd3.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { ols } from \"./utils/ols\";\nimport { visitPoints } from \"./utils/points\";\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function logarithmic(data) {\n    var n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var lx = Math.log(dx);\n      ++n;\n      X += (lx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (lx * dy - XY) / n;\n      X2 += (lx * lx - X2) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        intercept = _ols2[0],\n        slope = _ols2[1],\n        fn = function fn(x) {\n      return slope * Math.log(x) + intercept;\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  logarithmic.domain = function (arr) {\n    return arguments.length ? (domain = arr, logarithmic) : domain;\n  };\n\n  logarithmic.x = function (fn) {\n    return arguments.length ? (x = fn, logarithmic) : x;\n  };\n\n  logarithmic.y = function (fn) {\n    return arguments.length ? (y = fn, logarithmic) : y;\n  };\n\n  return logarithmic;\n}","import _slicedToArray from \"C:\\\\Users\\\\taotao\\\\Desktop\\\\mygithub\\\\system-antd3.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { points, visitPoints } from \"./utils/points\";\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function quadratic(data) {\n    var _points = points(data, x, y),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length;\n\n    var X2 = 0,\n        X3 = 0,\n        X4 = 0,\n        XY = 0,\n        X2Y = 0,\n        i,\n        dx,\n        dy,\n        x2;\n\n    for (i = 0; i < n;) {\n      dx = xv[i];\n      dy = yv[i++];\n      x2 = dx * dx;\n      X2 += (x2 - X2) / i;\n      X3 += (x2 * dx - X3) / i;\n      X4 += (x2 * x2 - X4) / i;\n      XY += (dx * dy - XY) / i;\n      X2Y += (x2 * dy - X2Y) / i;\n    }\n\n    var Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      n0++;\n      Y += (dy - Y) / n0;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var X2X2 = X4 - X2 * X2,\n        d = X2 * X2X2 - X3 * X3,\n        a = (X2Y * X2 - XY * X3) / d,\n        b = (XY * X2X2 - X2Y * X3) / d,\n        c = -a * X2,\n        fn = function fn(x) {\n      x = x - ux;\n      return a * x * x + b * x + c + uy;\n    };\n\n    var out = interpose(xmin, xmax, fn);\n    out.a = a;\n    out.b = b - 2 * a * ux;\n    out.c = c - b * ux + a * ux * ux + uy;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  quadratic.domain = function (arr) {\n    return arguments.length ? (domain = arr, quadratic) : domain;\n  };\n\n  quadratic.x = function (fn) {\n    return arguments.length ? (x = fn, quadratic) : x;\n  };\n\n  quadratic.y = function (fn) {\n    return arguments.length ? (y = fn, quadratic) : y;\n  };\n\n  return quadratic;\n}","import _slicedToArray from \"C:\\\\Users\\\\taotao\\\\Desktop\\\\mygithub\\\\system-antd3.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { ols } from \"./utils/ols\";\nimport { visitPoints } from \"./utils/points\";\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function power(data) {\n    var n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        YS = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var lx = Math.log(dx),\n          ly = Math.log(dy);\n      ++n;\n      X += (lx - X) / n;\n      Y += (ly - Y) / n;\n      XY += (lx * ly - XY) / n;\n      X2 += (lx * lx - X2) / n;\n      YS += (dy - YS) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        a = _ols2[0],\n        b = _ols2[1];\n\n    a = Math.exp(a);\n\n    var fn = function fn(x) {\n      return a * Math.pow(x, b);\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, YS, fn);\n    return out;\n  }\n\n  power.domain = function (arr) {\n    return arguments.length ? (domain = arr, power) : domain;\n  };\n\n  power.x = function (fn) {\n    return arguments.length ? (x = fn, power) : x;\n  };\n\n  power.y = function (fn) {\n    return arguments.length ? (y = fn, power) : y;\n  };\n\n  return power;\n}","import { __assign } from \"tslib\";\nimport { each, deepMix, minBy, maxBy } from '@antv/util';\nimport { getScale } from '@antv/scale';\nimport { regressionLinear, regressionExp, regressionLoess, regressionLog, regressionPoly, regressionPow, regressionQuad } from 'd3-regression';\nimport { getSplinePath } from '../../../util/path';\nvar REGRESSION_MAP = {\n  exp: regressionExp,\n  linear: regressionLinear,\n  loess: regressionLoess,\n  log: regressionLog,\n  poly: regressionPoly,\n  pow: regressionPow,\n  quad: regressionQuad\n};\n\nfunction se95(p, n) {\n  return Math.sqrt(p * (1 - p) / n) * 1.96;\n}\n\nvar Quadrant =\n/** @class */\nfunction () {\n  function Quadrant(cfg) {\n    var defaultOptions = {\n      type: 'linear',\n      style: {\n        stroke: '#9ba29a',\n        lineWidth: 2,\n        opacity: 0.5,\n        lineJoin: 'round',\n        lineCap: 'round'\n      },\n      showConfidence: false,\n      confidenceStyle: {\n        fill: '#ccc',\n        opacity: 0.1\n      }\n    };\n    this.options = deepMix({}, defaultOptions, cfg);\n    this.view = this.options.view;\n    this.init();\n  }\n\n  Quadrant.prototype.init = function () {\n    // 处理数据\n    var _a = this.options.plotOptions,\n        xField = _a.xField,\n        yField = _a.yField,\n        data = _a.data;\n    var reg = REGRESSION_MAP[this.options.type]().x(function (d) {\n      return d[xField];\n    }).y(function (d) {\n      return d[yField];\n    });\n    this.data = this.processData(reg(data)); // 创建container\n\n    this.container = this.view.get('backgroundGroup').addGroup();\n  };\n\n  Quadrant.prototype.render = function () {\n    var scales = this.view.get('scales');\n    var xscale_view = scales[this.options.plotOptions.xField];\n    var yscale_view = scales[this.options.plotOptions.yField];\n    var coord = this.view.get('coord');\n    var trendlineData = this.data.trendlineData; // 创建图形绘制的scale\n\n    var LinearScale = getScale('linear');\n    var xRange = this.adjustScale(xscale_view, trendlineData, 'x');\n    var xScale = new LinearScale({\n      min: xRange.min,\n      max: xRange.max,\n      nice: xscale_view.nice\n    });\n    var yRange = this.adjustScale(yscale_view, trendlineData, 'y');\n    var yScale = new LinearScale({\n      min: yRange.min,\n      max: yRange.max,\n      nice: yscale_view.nice\n    }); // 绘制置信区间曲线\n\n    if (this.options.showConfidence) {\n      var confidencePath = this.getConfidencePath(xScale, yScale, coord);\n      this.container.addShape('path', {\n        attrs: __assign({\n          path: confidencePath\n        }, this.options.confidenceStyle)\n      });\n    } // 绘制trendline\n\n\n    var points = this.getTrendlinePoints(xScale, yScale, coord);\n    var constraint = [[0, 0], [1, 1]];\n    var path = getSplinePath(points, false, constraint);\n    this.shape = this.container.addShape('path', {\n      attrs: __assign({\n        path: path\n      }, this.options.style)\n    });\n  };\n\n  Quadrant.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  Quadrant.prototype.destroy = function () {\n    if (this.container) {\n      this.container.destroy();\n    }\n  };\n\n  Quadrant.prototype.processData = function (data) {\n    var trendline = [];\n    var confidence = [];\n    each(data, function (d) {\n      trendline.push({\n        x: d[0],\n        y: d[1]\n      });\n      var conf = se95(data.rSquared, d[1]);\n      confidence.push({\n        x: d[0],\n        y0: d[1] - conf,\n        y1: d[1] + conf\n      });\n    });\n    return {\n      trendlineData: trendline,\n      confidenceData: confidence\n    };\n  };\n\n  Quadrant.prototype.getTrendlinePoints = function (xScale, yScale, coord) {\n    var points = [];\n    each(this.data.trendlineData, function (d) {\n      var xRatio = xScale.scale(d.x);\n      var yRatio = yScale.scale(d.y);\n      var x = coord.start.x + coord.width * xRatio;\n      var y = coord.start.y - coord.height * yRatio;\n      points.push({\n        x: x,\n        y: y\n      });\n    });\n    return points;\n  };\n\n  Quadrant.prototype.getConfidencePath = function (xScale, yScale, coord) {\n    var upperPoints = [];\n    var lowerPoints = [];\n    var path = [];\n    each(this.data.confidenceData, function (d) {\n      var xRatio = xScale.scale(d.x);\n      var y0Ratio = yScale.scale(d.y0);\n      var y1Ratio = yScale.scale(d.y1);\n      var x = coord.start.x + coord.width * xRatio;\n      var y0 = coord.start.y - coord.height * y0Ratio;\n      var y1 = coord.start.y - coord.height * y1Ratio;\n      upperPoints.push({\n        x: x,\n        y: y0\n      });\n      lowerPoints.push({\n        x: x,\n        y: y1\n      });\n    });\n\n    for (var i = 0; i < upperPoints.length; i++) {\n      var flag = i === 0 ? 'M' : 'L';\n      var p = upperPoints[i];\n\n      if (!isNaN(p.x) && !isNaN(p.y)) {\n        path.push([flag, p.x, p.y]);\n      }\n    }\n\n    for (var j = lowerPoints.length - 1; j > 0; j--) {\n      var p = lowerPoints[j];\n\n      if (!isNaN(p.x) && !isNaN(p.y)) {\n        path.push(['L', p.x, p.y]);\n      }\n    }\n\n    return path;\n  };\n\n  Quadrant.prototype.adjustScale = function (viewScale, trendlineData, dim) {\n    // 处理用户自行配置min max的情况\n    var min = viewScale.min,\n        max = viewScale.max;\n    var _a = this.options.plotOptions,\n        data = _a.data,\n        xField = _a.xField,\n        yField = _a.yField;\n    var field = dim === 'x' ? xField : yField;\n    var dataMin = minBy(data, field)[field];\n    var dataMax = maxBy(data, field)[field];\n    var minRatio = (min - dataMin) / (dataMax - dataMin);\n    var maxRatio = (max - dataMax) / (dataMax - dataMin);\n    var trendMin = minBy(trendlineData, dim)[dim];\n    var trendMax = maxBy(trendlineData, dim)[dim];\n    return {\n      min: trendMin + minRatio * (trendMax - trendMin),\n      max: trendMax + maxRatio * (trendMax - trendMin)\n    };\n  };\n\n  return Quadrant;\n}();\n\nexport default Quadrant;","import _slicedToArray from \"C:\\\\Users\\\\taotao\\\\Desktop\\\\mygithub\\\\system-antd3.0\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { points, visitPoints } from \"./utils/points\";\nimport linear from \"./linear\";\nimport quad from \"./quadratic\"; // Adapted from regression-js by Tom Alexander\n// Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n// License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n// ...with ideas from vega-statistics by Jeffrey Heer\n// Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      order = 3,\n      domain;\n\n  function polynomial(data) {\n    // Use more efficient methods for lower orders\n    if (order === 1) {\n      var o = linear().x(x).y(y).domain(domain)(data);\n      o.coefficients = [o.b, o.a];\n      delete o.a;\n      delete o.b;\n      return o;\n    }\n\n    if (order === 2) {\n      var _o = quad().x(x).y(y).domain(domain)(data);\n\n      _o.coefficients = [_o.c, _o.b, _o.a];\n      delete _o.a;\n      delete _o.b;\n      delete _o.c;\n      return _o;\n    }\n\n    var _points = points(data, x, y),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length,\n        lhs = [],\n        rhs = [],\n        k = order + 1;\n\n    var Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      ++n0;\n      Y += (dy - Y) / n0;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n    var i, j, l, v, c;\n\n    for (i = 0; i < k; ++i) {\n      for (l = 0, v = 0; l < n; ++l) {\n        v += Math.pow(xv[l], i) * yv[l];\n      }\n\n      lhs.push(v);\n      c = new Float64Array(k);\n\n      for (j = 0; j < k; ++j) {\n        for (l = 0, v = 0; l < n; ++l) {\n          v += Math.pow(xv[l], i + j);\n        }\n\n        c[j] = v;\n      }\n\n      rhs.push(c);\n    }\n\n    rhs.push(lhs);\n\n    var coef = gaussianElimination(rhs),\n        fn = function fn(x) {\n      x -= ux;\n      var y = uy + coef[0] + coef[1] * x + coef[2] * x * x;\n\n      for (i = 3; i < k; ++i) {\n        y += coef[i] * Math.pow(x, i);\n      }\n\n      return y;\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.coefficients = uncenter(k, coef, -ux, uy);\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  polynomial.domain = function (arr) {\n    return arguments.length ? (domain = arr, polynomial) : domain;\n  };\n\n  polynomial.x = function (fn) {\n    return arguments.length ? (x = fn, polynomial) : x;\n  };\n\n  polynomial.y = function (fn) {\n    return arguments.length ? (y = fn, polynomial) : y;\n  };\n\n  polynomial.order = function (n) {\n    return arguments.length ? (order = n, polynomial) : order;\n  };\n\n  return polynomial;\n}\n\nfunction uncenter(k, a, x, y) {\n  var z = Array(k);\n  var i, j, v, c; // initialize to zero\n\n  for (i = 0; i < k; ++i) {\n    z[i] = 0;\n  } // polynomial expansion\n\n\n  for (i = k - 1; i >= 0; --i) {\n    v = a[i];\n    c = 1;\n    z[i] += v;\n\n    for (j = 1; j <= i; ++j) {\n      c *= (i + 1 - j) / j; // binomial coefficent\n\n      z[i - j] += v * Math.pow(x, j) * c;\n    }\n  } // bias term\n\n\n  z[0] += y;\n  return z;\n} // Given an array for a two-dimensional matrix and the polynomial order,\n// solve A * x = b using Gaussian elimination.\n\n\nfunction gaussianElimination(matrix) {\n  var n = matrix.length - 1,\n      coef = [];\n  var i, j, k, r, t;\n\n  for (i = 0; i < n; ++i) {\n    r = i; // max row\n\n    for (j = i + 1; j < n; ++j) {\n      if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n        r = j;\n      }\n    }\n\n    for (k = i; k < n + 1; ++k) {\n      t = matrix[k][i];\n      matrix[k][i] = matrix[k][r];\n      matrix[k][r] = t;\n    }\n\n    for (j = i + 1; j < n; ++j) {\n      for (k = n; k >= i; k--) {\n        matrix[k][j] -= matrix[k][i] * matrix[i][j] / matrix[i][i];\n      }\n    }\n  }\n\n  for (j = n - 1; j >= 0; --j) {\n    t = 0;\n\n    for (k = j + 1; k < n; ++k) {\n      t += matrix[k][j] * coef[k];\n    }\n\n    coef[j] = (matrix[n][j] - t) / matrix[j][j];\n  }\n\n  return coef;\n}","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport Quadrant from './components/quadrant';\nimport Trendline from './components/trendline';\nimport { getComponent } from '../../components/factory';\nimport * as EventParser from './event';\nimport './components/label/scatter-label';\nvar G2_GEOM_MAP = {\n  scatter: 'point'\n};\nvar PLOT_GEOM_MAP = {\n  point: 'point'\n};\n\nvar ScatterLayer =\n/** @class */\nfunction (_super) {\n  __extends(ScatterLayer, _super);\n\n  function ScatterLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'scatter';\n    return _this;\n  }\n\n  ScatterLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      pointSize: 4,\n      pointStyle: {\n        strokeOpacity: 1,\n        fillOpacity: 0.4,\n        opacity: 0.65\n      },\n      xAxis: {\n        grid: {\n          visible: true\n        },\n        line: {\n          visible: true\n        }\n      },\n      yAxis: {\n        grid: {\n          visible: true\n        },\n        line: {\n          visible: true\n        }\n      },\n      tooltip: {\n        visible: true,\n        // false 会造成 tooltip 只能显示一条数据，true 会造成 tooltip 在空白区域也会显示\n        shared: null,\n        crosshairs: {\n          type: 'rect'\n        }\n      },\n      label: {\n        visible: false,\n        position: 'top'\n      },\n      shape: 'circle'\n    });\n  };\n\n  ScatterLayer.prototype.afterRender = function () {\n    _super.prototype.afterRender.call(this);\n\n    if (this.options.quadrant && this.options.quadrant.visible && !this.quadrant) {\n      if (this.quadrant) {\n        this.quadrant.destroy();\n      }\n\n      this.quadrant = new Quadrant(__assign({\n        view: this.view,\n        plotOptions: this.options\n      }, this.options.quadrant));\n      this.quadrant.render();\n    }\n\n    if (this.options.trendline && this.options.trendline.visible) {\n      this.trendline = new Trendline(__assign({\n        view: this.view,\n        plotOptions: this.options\n      }, this.options.trendline));\n      this.trendline.render();\n    }\n  };\n\n  ScatterLayer.prototype.destroy = function () {\n    if (this.quadrant) {\n      this.quadrant.destroy();\n      this.quadrant = null;\n    }\n\n    if (this.trendline) {\n      this.trendline.destroy();\n      this.trendline = null;\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  ScatterLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  ScatterLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[props.xField] = {};\n\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[props.yField] = {};\n\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  ScatterLayer.prototype.coord = function () {};\n\n  ScatterLayer.prototype.annotation = function () {};\n\n  ScatterLayer.prototype.addGeometry = function () {\n    var points = getGeom('point', 'circle', {\n      plot: this\n    });\n    this.points = points;\n\n    if (this.options.label && this.options.label.visible) {\n      this.points.label = this.extractLabel();\n    }\n\n    if (this.options.tooltip && this.options.tooltip.visible) {\n      this.points.tooltip = this.extractTooltip();\n      this.setConfig('tooltip', __assign({\n        showTitle: false\n      }, this.options.tooltip));\n    }\n\n    this.setConfig('element', points);\n  };\n\n  ScatterLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.points.animate = false;\n    }\n  };\n\n  ScatterLayer.prototype.parseEvents = function (eventParser) {\n    // 气泡图继承散点图时，会存在 eventParser\n    _super.prototype.parseEvents.call(this, eventParser || EventParser);\n  };\n\n  ScatterLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label && label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'scatterLabel',\n      fields: [props.yField],\n      position: 'right',\n      offset: 0\n    }, label));\n    return labelConfig;\n  };\n\n  ScatterLayer.prototype.extractTooltip = function () {\n    var props = this.options;\n    return {\n      fields: [props.xField, props.yField]\n    };\n  };\n\n  return ScatterLayer;\n}(ViewLayer);\n\nexport default ScatterLayer;\nregisterPlotType('scatter', ScatterLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport '../scatter/components/label/scatter-label';\nimport * as EventParser from '../scatter/event';\nimport ScatterLayer from '../scatter/layer';\n\nvar BubbleLayer =\n/** @class */\nfunction (_super) {\n  __extends(BubbleLayer, _super);\n\n  function BubbleLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'bubble';\n    return _this;\n  }\n\n  BubbleLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      pointSize: [8, 58],\n      pointStyle: {\n        strokeOpacity: 1,\n        fillOpacity: 1,\n        opacity: 0.5\n      },\n      label: {\n        position: 'middle'\n      }\n    });\n  };\n\n  BubbleLayer.prototype.legend = function () {\n    var _a;\n\n    _super.prototype.legend.call(this);\n    /** 取消气泡大小图例 */\n\n\n    this.setConfig('legends', {\n      fields: (_a = {}, _a[this.options.sizeField] = false, _a)\n    });\n  };\n\n  BubbleLayer.prototype.parseEvents = function () {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  return BubbleLayer;\n}(ScatterLayer);\n\nexport default BubbleLayer;\nregisterPlotType('bubble', BubbleLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport BubbleLayer from './layer';\n\nvar Bubble =\n/** @class */\nfunction (_super) {\n  __extends(Bubble, _super);\n\n  function Bubble() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Bubble.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'bubble';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Bubble.getDefaultOptions = BubbleLayer.getDefaultOptions;\n  return Bubble;\n}(BasePlot);\n\nexport default Bubble;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport ScatterLayer from './layer';\n\nvar Scatter =\n/** @class */\nfunction (_super) {\n  __extends(Scatter, _super);\n\n  function Scatter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Scatter.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'scatter';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Scatter.getDefaultOptions = ScatterLayer.getDefaultOptions;\n  return Scatter;\n}(BasePlot);\n\nexport default Scatter;","import { __extends } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport BaseColumnLayer from '../column/layer';\n\nvar GroupColumnLayer =\n/** @class */\nfunction (_super) {\n  __extends(GroupColumnLayer, _super);\n\n  function GroupColumnLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'groupColumn';\n    return _this;\n  }\n\n  GroupColumnLayer.getDefaultOptions = function () {\n    return deepMix({}, _super.getDefaultOptions.call(this), {\n      yAxis: {\n        title: {\n          visible: true\n        }\n      }\n    });\n  };\n\n  GroupColumnLayer.prototype.getResponsiveTheme = function () {\n    return this.themeController.getResponsiveTheme('column');\n  };\n\n  GroupColumnLayer.prototype.addGeometry = function () {\n    _super.prototype.addGeometry.call(this);\n  };\n\n  GroupColumnLayer.prototype.adjustColumn = function (column) {\n    column.adjust = [{\n      type: 'dodge',\n      marginRatio: 0.1\n    }];\n  };\n\n  return GroupColumnLayer;\n}(BaseColumnLayer);\n\nexport default GroupColumnLayer;\nregisterPlotType('groupColumn', GroupColumnLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport GroupColumnLayer from './layer';\n\nvar GroupColumn =\n/** @class */\nfunction (_super) {\n  __extends(GroupColumn, _super);\n\n  function GroupColumn() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GroupColumn.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'groupColumn';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  GroupColumn.getDefaultOptions = GroupColumnLayer.getDefaultOptions;\n  return GroupColumn;\n}(BasePlot);\n\nexport default GroupColumn;","/**\n * 区域连接组件，用于堆叠柱状图和堆叠条形图\n */\nimport { Shapes } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { compare } from '../base/controller/state';\n\nfunction parsePoints(shape) {\n  var parsedPoints = [];\n  var coord = shape.get('coord');\n  var points = shape.get('origin').points;\n\n  _.each(points, function (p) {\n    parsedPoints.push(coord.convertPoint(p));\n  });\n\n  return parsedPoints;\n}\n\nfunction getDefaultStyle() {\n  return {\n    areaStyle: {\n      opacity: 0.2\n    },\n    lineStyle: {\n      lineWidth: 2,\n      opacity: 0.1\n    }\n  };\n}\n\nvar ConnectedArea =\n/** @class */\nfunction () {\n  function ConnectedArea(cfg) {\n    this.areas = [];\n    this.lines = [];\n    this._areaStyle = {};\n    this._lineStyle = {};\n\n    _.assign(this, cfg);\n\n    this._init();\n  }\n\n  ConnectedArea.prototype.draw = function () {\n    var _this = this;\n\n    var groupedShapes = this._getGroupedShapes();\n\n    _.each(groupedShapes, function (shapes, name) {\n      if (shapes.length > 0) {\n        _this._drawConnection(shapes, name);\n      }\n    });\n\n    if (this.triggerOn) {\n      this._addInteraction();\n    } else if (this.animation) {\n      // 如果定义了triggerOn的方式，则组件是响应交互的，初始化为不可见状态，因此无需动画\n      this._initialAnimation();\n    }\n  };\n\n  ConnectedArea.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n\n    this.areas = [];\n    this.lines = [];\n  };\n\n  ConnectedArea.prototype.destory = function () {\n    if (this.container) {\n      this.container.remove();\n    }\n  };\n\n  ConnectedArea.prototype.setState = function (state, condition) {\n    if (state === 'active') {\n      this._onActive(condition);\n    }\n\n    if (state === 'disabled') {\n      this._onDisabled(condition);\n    }\n\n    if (state === 'selected') {\n      this._onSelected(condition);\n    }\n  };\n\n  ConnectedArea.prototype._init = function () {\n    var _this = this;\n\n    var layer = this.view.get('backgroundGroup');\n    this.container = layer.addGroup();\n    this.draw();\n    this.view.on('beforerender', function () {\n      _this.clear();\n    });\n  };\n\n  ConnectedArea.prototype._getGroupedShapes = function () {\n    var _this = this; // 根据堆叠字段对shape进行分组\n\n\n    var values = this.view.get('scales')[this.field].values;\n    var geometry = this.view.get('elements')[0];\n    var shapes = geometry.getShapes(); // 创建分组\n\n    var groups = {};\n\n    _.each(values, function (v) {\n      groups[v] = [];\n    }); // 执行分组\n\n\n    _.each(shapes, function (shape) {\n      var origin = shape.get('origin')._origin;\n\n      var key = origin[_this.field];\n      groups[key].push(shape);\n    });\n\n    return groups;\n  };\n\n  ConnectedArea.prototype._drawConnection = function (shapes, name) {\n    // tslint:disable-next-line: prefer-for-of\n    var originColor = shapes[0].attr('fill');\n    this._areaStyle[name] = this._getShapeStyle(originColor, 'area');\n    this._lineStyle[name] = this._getShapeStyle(originColor, 'line');\n\n    for (var i = 0; i < shapes.length - 1; i++) {\n      var current = parsePoints(shapes[i]);\n      var next = parsePoints(shapes[i + 1]);\n\n      var areaStyle = _.mix({}, this._areaStyle[name]);\n\n      var lineStyle = _.mix({}, this._lineStyle[name]);\n\n      if (this.triggerOn) {\n        areaStyle.opacity = 0;\n        lineStyle.opacity = 0;\n      }\n\n      var area = this.container.addShape('path', {\n        attrs: _.mix({}, areaStyle, {\n          path: [['M', current[2].x, current[2].y], ['L', next[1].x, next[1].y], ['L', next[0].x, next[0].y], ['L', current[3].x, current[3].y]]\n        }),\n        name: 'connectedArea'\n      });\n      var line = this.container.addShape('path', {\n        attrs: _.mix({}, lineStyle, {\n          path: [['M', current[2].x, current[2].y], ['L', next[1].x, next[1].y]]\n        }),\n        name: 'connectedArea'\n      }); // 在辅助图形上记录数据，用以交互和响应状态量\n\n      var originData = shapes[i].get('origin')._origin;\n\n      area.set('data', originData);\n      line.set('data', originData);\n      this.areas.push(area);\n      this.lines.push(line);\n    }\n  };\n\n  ConnectedArea.prototype._getShapeStyle = function (originColor, shapeType) {\n    var styleName = shapeType + \"Style\"; // 如果用户自己指定了样式，则不采用默认颜色映射\n\n    if (this[styleName]) {\n      return this[styleName];\n    }\n\n    var defaultStyle = getDefaultStyle()[styleName];\n    var mappedStyle = {\n      fill: originColor\n    };\n\n    if (shapeType === 'line') {\n      mappedStyle = {\n        stroke: originColor\n      };\n    }\n\n    return _.mix(defaultStyle, mappedStyle);\n  };\n\n  ConnectedArea.prototype._addInteraction = function () {\n    var _this = this;\n\n    var eventName = this.triggerOn;\n    this.view.on(\"interval:\" + eventName, function (e) {\n      var origin = e.target.get('origin')._origin[_this.field];\n\n      _this.setState('active', {\n        name: _this.field,\n        exp: origin\n      });\n\n      _this.setState('disabled', {\n        name: _this.field,\n        exp: function exp(d) {\n          return d !== origin;\n        }\n      });\n\n      _this.view.get('canvas').draw();\n    }); // 当鼠标移动到其他区域时取消显示\n\n    this.view.on('mousemove', function (e) {\n      if (e.target.name !== 'interval') {\n        _this.setState('disabled', {\n          name: _this.field,\n          exp: function exp() {\n            return true;\n          }\n        });\n      }\n    });\n  };\n\n  ConnectedArea.prototype._initialAnimation = function () {\n    // clipIn动画\n    var _a = this.view.get('coord'),\n        start = _a.start,\n        end = _a.end,\n        width = _a.width,\n        height = _a.height;\n\n    var clipRect = new Shapes.Rect({\n      attrs: {\n        x: start.x,\n        y: end.y,\n        width: 0,\n        height: height\n      }\n    });\n    this.container.attr('clip', clipRect);\n    this.container.setSilent('animating', true);\n    clipRect.animate({\n      width: width\n    }, 600, 'easeQuadOut', function () {}, 400);\n  };\n\n  ConnectedArea.prototype._onActive = function (condition) {\n    var _this = this;\n\n    _.each(this.areas, function (area) {\n      var shapeData = area.get('data');\n      var styleField = shapeData[_this.field];\n\n      if (compare(shapeData, condition)) {\n        var opacity = _this._areaStyle[styleField].opacity || 1; // area.attr('opacity',this._areaStyle[styleField].opacity || 1);\n\n        area.stopAnimate();\n        area.animate({\n          opacity: opacity\n        }, 400, 'easeQuadOut');\n      }\n    });\n\n    _.each(this.lines, function (line) {\n      var shapeData = line.get('data');\n      var styleField = shapeData[_this.field];\n\n      if (compare(shapeData, condition)) {\n        var opacity = _this._lineStyle[styleField].opacity || 1; // line.attr('opacity',this._lineStyle[styleField].opacity || 1);\n\n        line.stopAnimate();\n        line.animate({\n          opacity: opacity\n        }, 400, 'easeQuadOut');\n      }\n    });\n  };\n\n  ConnectedArea.prototype._onDisabled = function (condition) {\n    _.each(this.areas, function (area) {\n      var shapeData = area.get('data');\n\n      if (compare(shapeData, condition)) {\n        // area.attr('opacity',0);\n        area.stopAnimate();\n        area.animate({\n          opacity: 0\n        }, 400, 'easeQuadOut');\n      }\n    });\n\n    _.each(this.lines, function (line) {\n      var shapeData = line.get('data');\n\n      if (compare(shapeData, condition)) {\n        // line.attr('opacity',0);\n        line.stopAnimate();\n        line.animate({\n          opacity: 0\n        }, 400, 'easeQuadOut');\n      }\n    });\n  };\n\n  ConnectedArea.prototype._onSelected = function (condition) {\n    this._onActive(condition);\n  };\n\n  return ConnectedArea;\n}();\n\nexport default ConnectedArea;","import { __extends } from \"tslib\";\nimport { registerElementLabels } from '@antv/g2';\nimport { ColumnLabels } from '../../../column/component/label/column-label';\n\nvar StackColumnLabels =\n/** @class */\nfunction (_super) {\n  __extends(StackColumnLabels, _super);\n\n  function StackColumnLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  StackColumnLabels.prototype.adjustPosition = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (shapeRange.height <= labelRange.height) {\n      label.attr('opacity', 0);\n      label.attr('fillOpacity', 0);\n      label.attr('strokeOpacity', 0);\n      label.set('capture', false);\n    }\n  };\n\n  return StackColumnLabels;\n}(ColumnLabels);\n\nregisterElementLabels('stackColumnLabel', StackColumnLabels);","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ConnectedArea from '../../components/connected-area';\nimport { getComponent } from '../../components/factory';\nimport BaseColumnLayer from '../column/layer';\nimport './component/label/stack-column-label';\n\nvar StackColumnLayer =\n/** @class */\nfunction (_super) {\n  __extends(StackColumnLayer, _super);\n\n  function StackColumnLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'stackColum';\n    return _this;\n  }\n\n  StackColumnLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      legend: {\n        visible: true,\n        position: 'right-top'\n      },\n      label: {\n        visible: false,\n        position: 'middle',\n        offset: 0,\n        adjustColor: true\n      },\n      connectedArea: {\n        visible: false,\n        triggerOn: 'mouseenter'\n      }\n    });\n  };\n\n  StackColumnLayer.prototype.init = function () {\n    if (this.options.connectedArea.visible) {\n      this.options.tooltip.crosshairs = null;\n    }\n\n    _super.prototype.init.call(this);\n  };\n\n  StackColumnLayer.prototype.afterRender = function () {\n    var props = this.options; // 绘制区域连接组件\n\n    if (props.connectedArea.visible) {\n      this.connectedArea = new ConnectedArea(__assign({\n        view: this.view,\n        field: props.stackField,\n        animation: props.animation === false ? false : true\n      }, props.connectedArea));\n    }\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  StackColumnLayer.prototype.adjustColumn = function (column) {\n    column.adjust = [{\n      type: 'stack'\n    }];\n  };\n\n  StackColumnLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var defaultOptions = this.getLabelOptionsByPosition(props.label.position);\n\n    var label = _.deepMix({}, defaultOptions, this.options.label);\n\n    if (label && label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'stackColumnLabel',\n      fields: [props.yField]\n    }, label));\n    return labelConfig;\n  };\n\n  return StackColumnLayer;\n}(BaseColumnLayer);\n\nexport default StackColumnLayer;\nregisterPlotType('stackColumn', StackColumnLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport StackColumnLayer from './layer';\n\nvar StackColumn =\n/** @class */\nfunction (_super) {\n  __extends(StackColumn, _super);\n\n  function StackColumn() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  StackColumn.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'stackColumn';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  StackColumn.getDefaultOptions = StackColumnLayer.getDefaultOptions;\n  return StackColumn;\n}(BasePlot);\n\nexport default StackColumn;","import { __assign } from \"tslib\";\nimport { groupBy, mapValues, map, flatten, isNumber, reduce, each } from '@antv/util';\nexport var transformDataPercentage = function transformDataPercentage(data, groupField, measures) {\n  // 按照groupBy字段计算各个group的总和\n  var chain = groupBy(data, groupField);\n  chain = mapValues(chain, function (items) {\n    return map(items, function (item) {\n      return map(measures, function (field) {\n        return item[field];\n      });\n    });\n  });\n  chain = mapValues(chain, flatten);\n  chain = mapValues(chain, function (vals) {\n    return map(vals, function (val) {\n      // @ts-ignore\n      var v = Number.parseFloat(val);\n\n      if (!isNumber(v) || isNaN(v)) {\n        return 0;\n      }\n\n      return v;\n    });\n  }); // @ts-ignore\n\n  var groupTotals = mapValues(chain, function (vals) {\n    return reduce(vals, function (sum, val) {\n      return sum + val;\n    }, 0);\n  }); // 覆盖measures字段的值为对于的百分比\n\n  var newData = map(data, function (item) {\n    var rst = __assign(__assign({}, item), {\n      _origin: item,\n      total: groupTotals[item[groupField]]\n    });\n\n    each(measures, function (field) {\n      // @ts-ignore\n      rst[field] = item[field] / groupTotals[item[groupField]];\n    });\n    return rst;\n  }); // 检查精度，确保总和为1\n\n  each(groupBy(newData, groupField), function (items) {\n    var sum = 0;\n    each(items, function (item, itemIdx) {\n      each(measures, function (field, fieldIdx) {\n        // @ts-ignore\n        if (sum + item[field] >= 1 || itemIdx === items.length - 1 && fieldIdx === measures.length - 1) {\n          item[field] = 1 - sum;\n        } // @ts-ignore\n\n\n        sum += item[field];\n      });\n    });\n  }); // @ts-ignore\n\n  return newData;\n};","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport StackColumn from '../stack-column/layer';\nimport { transformDataPercentage } from '../../util/data';\n\nvar PercentageStackColumnLayer =\n/** @class */\nfunction (_super) {\n  __extends(PercentageStackColumnLayer, _super);\n\n  function PercentageStackColumnLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'percentageStackColumn';\n    return _this;\n  }\n\n  PercentageStackColumnLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      label: {\n        visible: true,\n        position: 'middle',\n        offset: 0\n      },\n      yAxis: {\n        visible: true,\n        tick: {\n          visible: false\n        },\n        grid: {\n          visible: false\n        },\n        title: {\n          visible: true\n        },\n        label: {\n          visible: false\n        }\n      }\n    });\n  };\n\n  PercentageStackColumnLayer.prototype.processData = function (originData) {\n    var _a = this.options,\n        xField = _a.xField,\n        yField = _a.yField;\n    return transformDataPercentage(originData || [], xField, [yField]);\n  };\n\n  PercentageStackColumnLayer.prototype.scale = function () {\n    var metaConfig = {};\n    var yField = this.options.yField;\n    metaConfig[yField] = {\n      tickCount: 6,\n      alias: yField + \" (%)\",\n      minLimit: 0,\n      maxLimit: 1,\n      formatter: function formatter(v) {\n        var formattedValue = (v * 100).toFixed(1);\n        return formattedValue + \"%\";\n      }\n    };\n    this.options.meta = metaConfig;\n\n    _super.prototype.scale.call(this);\n  };\n\n  return PercentageStackColumnLayer;\n}(StackColumn);\n\nexport default PercentageStackColumnLayer;\nregisterPlotType('percentageStackColumn', PercentageStackColumnLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport PercentageStackColumnLayer from './layer';\n\nvar PercentageStackColumn =\n/** @class */\nfunction (_super) {\n  __extends(PercentageStackColumn, _super);\n\n  function PercentageStackColumn() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  PercentageStackColumn.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'percentageStackColumn';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  PercentageStackColumn.getDefaultOptions = PercentageStackColumnLayer.getDefaultOptions;\n  return PercentageStackColumn;\n}(BasePlot);\n\nexport default PercentageStackColumn;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { sturges } from '../../util/math';\nimport Column from '../column/layer';\n\nvar HistogramLayer =\n/** @class */\nfunction (_super) {\n  __extends(HistogramLayer, _super);\n\n  function HistogramLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'histogram';\n    return _this;\n  }\n\n  HistogramLayer.prototype.init = function () {\n    this.options.xField = 'range';\n    this.options.yField = 'count';\n\n    _super.prototype.init.call(this);\n  };\n\n  HistogramLayer.prototype.processData = function (originData) {\n    var _this = this;\n\n    var _a = this.options,\n        binField = _a.binField,\n        binWidth = _a.binWidth,\n        binNumber = _a.binNumber;\n\n    var originData_copy = _.clone(originData); // 根据binField value对源数据进行排序\n\n\n    _.sortBy(originData_copy, binField); // 获取源数据binField values的range\n\n\n    var values = _.valuesOfKey(originData_copy, binField);\n\n    var range = _.getRange(values);\n\n    var rangeWidth = range.max - range.min; // 计算分箱，直方图分箱的计算基于binWidth，如配置了binNumber则将其转为binWidth进行计算\n\n    var _binWidth = binWidth;\n\n    if (!binWidth && binNumber) {\n      _binWidth = rangeWidth / binNumber;\n    } // 当binWidth和binNumber都没有指定的情况，采用Sturges formula自动生成binWidth\n\n\n    if (!binWidth && !binNumber) {\n      var _defaultBinNumber = sturges(values);\n\n      _binWidth = rangeWidth / _defaultBinNumber;\n    }\n\n    var bins = {};\n\n    _.each(originData_copy, function (data) {\n      var value = data[binField];\n\n      var bin = _this.getBin(value, _binWidth);\n\n      var binName = bin[0] + \"-\" + bin[1];\n\n      if (!_.hasKey(bins, binName)) {\n        bins[binName] = {\n          name: binName,\n          range: bin,\n          count: 0,\n          data: []\n        };\n      }\n\n      bins[binName].data.push(data);\n      bins[binName].count += 1;\n    }); // 将分箱数据转换为plotData\n\n\n    var plotData = [];\n\n    _.each(bins, function (bin) {\n      plotData.push(bin);\n    });\n\n    return plotData;\n  };\n\n  HistogramLayer.prototype.scale = function () {\n    _super.prototype.scale.call(this); // fixme: 类型定义\n\n\n    var range = this.config.scales.range;\n    range.nice = false;\n    range.type = 'linear';\n  };\n\n  HistogramLayer.prototype.getBin = function (value, binWidth) {\n    var index = Math.floor(value / binWidth);\n    return [binWidth * index, binWidth * (index + 1)];\n  };\n\n  return HistogramLayer;\n}(Column);\n\nexport default HistogramLayer;\nregisterPlotType('histogram', HistogramLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport HistogramLayer from './layer';\n\nvar Histogram =\n/** @class */\nfunction (_super) {\n  __extends(Histogram, _super);\n\n  function Histogram() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Histogram.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'histogram';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Histogram.getDefaultOptions = HistogramLayer.getDefaultOptions;\n  return Histogram;\n}(BasePlot);\n\nexport default Histogram;","import responsiveAxis from './axis';\nvar preRenderResponsive = [];\nvar afterRenderResponsive = [{\n  name: 'responsiveAxis',\n  method: responsiveAxis\n}];\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive\n};","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nexport default function responsiveAxis(layer) {\n  var responsiveTheme = layer.getResponsiveTheme();\n  var canvas = layer.canvas; // x-axis\n\n  var x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'x'\n  }); // y-axis\n\n  var y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'y'\n  });\n  canvas.draw();\n}","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { rgb2arr } from '../../../../util/color';\nvar RIGHT_MARGIN = 20;\n\nvar BarLabels =\n/** @class */\nfunction (_super) {\n  __extends(BarLabels, _super);\n\n  function BarLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  } // TODO: 先实现功能，待抽象  position这里去掉在条形图场景下不必要的逻辑，位置计算调整\n\n\n  BarLabels.prototype.setLabelPosition = function (point, originPoint, index, originPosition) {\n    var position = originPosition;\n\n    if (_.isFunction(position)) {\n      position = position(originPoint);\n    }\n\n    var coord = this.get('coord');\n    var point0 = coord.convertPoint(originPoint.points[0]);\n    var point1 = coord.convertPoint(originPoint.points[2]);\n    var negative = point0.x > point1.x;\n    var width = (point0.x - point1.x) / 2 * -1;\n    var height = (point0.y - point1.y) / 2 * -1;\n\n    switch (position) {\n      case 'bottom':\n        point.x -= width;\n        point.y += height;\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'top':\n        point.x -= width;\n        point.y -= height;\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'left':\n        point.x -= width * 2;\n        point.textAlign = point.textAlign || (negative ? 'right' : 'left');\n        break;\n\n      case 'middle':\n        point.x -= width;\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'right':\n        point.textAlign = point.textAlign || (negative ? 'right' : 'left');\n        break;\n\n      default:\n        break;\n    }\n  }; // 针对负数值的label调整\n\n\n  BarLabels.prototype.adjustOffset = function (points, shapes) {\n    var renderer = this.get('labelsRenderer');\n    var items = renderer.get('items');\n    var labels = renderer.get('group').get('children');\n    var coord = this.get('coord');\n\n    _.each(items, function (item, idx) {\n      var label = labels[idx];\n      var point0 = coord.convertPoint(points[idx].points[0]);\n      var point1 = coord.convertPoint(points[idx].points[2]);\n      var negative = point0.x > point1.x;\n\n      if (negative && item.offset) {\n        item.x -= item.offset * 2;\n        label.attr('x', label.attr('x') - item.offset * 2);\n      }\n    });\n  };\n\n  BarLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    this.adjustOffset(points, shapes);\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var items = renderer.get('items');\n    var view = this.get('element').get('view');\n\n    var _a = this.get('labelOptions'),\n        adjustColor = _a.adjustColor,\n        adjustPosition = _a.adjustPosition;\n\n    _.each(labels, function (label, index) {\n      var l = label;\n      var item = items[index];\n      var origin = l.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var shape = _this._getShape(shapeId, shapes);\n\n      if (adjustPosition) {\n        _this.adjustPosition(l, shape, item);\n      }\n\n      if (adjustColor) {\n        _this.adjustColor(l, shape);\n      }\n    });\n\n    view.get('canvas').draw();\n  };\n\n  BarLabels.prototype._getShape = function (shapeId, shapes) {\n    var target;\n\n    _.each(shapes, function (shape) {\n      var s = shape;\n      var id = s.id;\n\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n\n    return target;\n  };\n\n  BarLabels.prototype.adjustPosition = function (label, shape, item) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (shapeRange.width <= labelRange.width && item.position !== 'right') {\n      var xPosition = shapeRange.maxX + RIGHT_MARGIN;\n      label.attr('x', xPosition);\n    }\n  };\n\n  BarLabels.prototype.adjustColor = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (labelRange.minX >= shapeRange.minX && labelRange.maxX <= shapeRange.maxX) {\n      var shapeColor = shape.attr('fill');\n      var shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      var rgb = rgb2arr(shapeColor);\n      var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      var colorBand = [{\n        from: 0,\n        to: 85,\n        color: 'white'\n      }, {\n        from: 85,\n        to: 170,\n        color: '#F6F6F6'\n      }, {\n        from: 170,\n        to: 255,\n        color: 'black'\n      }];\n\n      var reflect = this._mappingColor(colorBand, gray);\n\n      label.attr('fill', reflect);\n      label.attr('fill', reflect);\n\n      if (reflect !== 'black') {\n        label.attr('stroke', null);\n        label.attr('lineWidth', 0);\n      } else {\n        label.attr('stroke', 'white');\n        label.attr('lineWidth', 2);\n      }\n    } else if (labelRange.maxY < shapeRange.minY) {\n      var theme = this.get('theme');\n\n      var labelTextColor = _.get(theme, 'label.textStyle.fill', 'black');\n\n      label.attr('fill', labelTextColor);\n    }\n  };\n\n  BarLabels.prototype._mappingColor = function (band, gray) {\n    var reflect;\n\n    _.each(band, function (b) {\n      var map = b;\n\n      if (gray >= map.from && gray < map.to) {\n        reflect = map.color;\n      }\n    });\n\n    return reflect;\n  };\n\n  return BarLabels;\n}(ElementLabels);\n\nexport { BarLabels };\nregisterElementLabels('barLabel', BarLabels);","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onBarClick: 'interval:click',\n  onBarDblclick: 'interval:dblclick',\n  onBarMousemove: 'interval:mousemove',\n  onBarMouseenter: 'interval:mouseenter',\n  onBarMouseleave: 'interval:mouseleave',\n  onBarMousedown: 'interval:mousedown',\n  onBarMouseup: 'interval:mouseup',\n  onBarContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { registerTheme } from '../../theme';\n\nvar BAR_ACTIVE_STYLE = function BAR_ACTIVE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nvar BAR_DISABLE_STYLE = function BAR_DISABLE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nregisterTheme('bar', {\n  columnStyle: {\n    normal: {},\n    active: BAR_ACTIVE_STYLE,\n    disable: BAR_DISABLE_STYLE,\n    selected: {\n      lineWidth: 1,\n      stroke: 'black'\n    }\n  }\n});","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport responsiveMethods from './apply-responsive';\nimport './component/label/bar-label';\nimport * as EventParser from './event';\nimport './theme';\nvar G2_GEOM_MAP = {\n  bar: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'bar'\n};\n\nvar BaseBarLayer =\n/** @class */\nfunction (_super) {\n  __extends(BaseBarLayer, _super);\n\n  function BaseBarLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'bar';\n    return _this;\n  }\n\n  BaseBarLayer.getDefaultOptions = function () {\n    var cfg = {\n      xAxis: {\n        visible: true,\n        line: {\n          visible: false\n        },\n        title: {\n          visible: true\n        },\n        label: {\n          visible: false\n        },\n        tickLine: {\n          visible: false\n        },\n        grid: {\n          visible: false\n        }\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: false\n        },\n        line: {\n          visible: false\n        },\n        tickLine: {\n          visible: false\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false,\n          offset: 12\n        }\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        crosshairs: {\n          type: 'rect'\n        }\n      },\n      label: {\n        visible: true,\n        position: 'left',\n        adjustColor: true\n      },\n      legend: {\n        visible: true,\n        position: 'top-left'\n      }\n    };\n    return _.deepMix({}, _super.getDefaultOptions.call(this), cfg);\n  };\n\n  BaseBarLayer.prototype.beforeInit = function () {\n    _super.prototype.beforeInit.call(this);\n\n    var props = this.options;\n    /** 响应式图形 */\n\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  };\n\n  BaseBarLayer.prototype.afterRender = function () {\n    var props = this.options;\n    /** 响应式 */\n\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  BaseBarLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  BaseBarLayer.prototype.processData = function (data) {\n    return data ? data.slice().reverse() : data;\n  };\n\n  BaseBarLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[props.yField] = {\n      type: 'cat'\n    };\n\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[props.xField] = {};\n\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  BaseBarLayer.prototype.coord = function () {\n    var coordConfig = {\n      actions: [['transpose']]\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  BaseBarLayer.prototype.adjustBar = function (bar) {\n    return;\n  };\n\n  BaseBarLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    var bar = getGeom('interval', 'main', {\n      positionFields: [props.yField, props.xField],\n      plot: this\n    });\n\n    if (props.label) {\n      bar.label = this.extractLabel();\n    }\n\n    this.adjustBar(bar);\n    this.bar = bar;\n    this.setConfig('element', bar);\n  };\n\n  BaseBarLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.bar.animate = false;\n    }\n  };\n\n  BaseBarLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var defaultOptions = this.getLabelOptionsByPosition(props.label.position);\n\n    var label = _.deepMix({}, defaultOptions, this.options.label);\n\n    if (label && label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'barLabel',\n      fields: [props.xField]\n    }, label));\n    return labelConfig;\n  };\n\n  BaseBarLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  BaseBarLayer.prototype.applyResponsive = function (stage) {\n    var _this = this;\n\n    var methods = responsiveMethods[stage];\n\n    _.each(methods, function (r) {\n      var responsive = r;\n      responsive.method(_this);\n    });\n  };\n\n  BaseBarLayer.prototype.getLabelOptionsByPosition = function (position) {\n    if (position === 'middle') {\n      return {\n        offset: 0\n      };\n    }\n\n    if (position === 'left') {\n      return {\n        offset: 7,\n        style: {\n          stroke: null,\n          lineWidth: 0\n        }\n      };\n    }\n\n    if (position === 'right') {\n      return {\n        offset: 4\n      };\n    }\n  };\n\n  return BaseBarLayer;\n}(ViewLayer);\n\nexport default BaseBarLayer;\nregisterPlotType('bar', BaseBarLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport BarLayer from './layer';\n\nvar Bar =\n/** @class */\nfunction (_super) {\n  __extends(Bar, _super);\n\n  function Bar() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Bar.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'bar';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Bar.getDefaultOptions = BarLayer.getDefaultOptions;\n  return Bar;\n}(BasePlot);\n\nexport default Bar;","import { __extends } from \"tslib\";\nimport { registerElementLabels } from '@antv/g2';\nimport { BarLabels } from '../../../bar/component/label/bar-label';\n\nvar StackBarLabels =\n/** @class */\nfunction (_super) {\n  __extends(StackBarLabels, _super);\n\n  function StackBarLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  StackBarLabels.prototype.adjustPosition = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (shapeRange.width <= labelRange.width) {\n      label.attr('opacity', 0);\n      label.attr('fillOpacity', 0);\n      label.attr('strokeOpacity', 0);\n      label.set('capture', false);\n    }\n  };\n\n  return StackBarLabels;\n}(BarLabels);\n\nregisterElementLabels('stackBarLabel', StackBarLabels);","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { getComponent } from '../../components/factory';\nimport BaseBarLayer from '../bar/layer';\nimport './component/label/stack-bar-label';\n\nvar StackBarLayer =\n/** @class */\nfunction (_super) {\n  __extends(StackBarLayer, _super);\n\n  function StackBarLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'stackBar';\n    return _this;\n  }\n\n  StackBarLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      xAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: false,\n        grid: {\n          visible: true\n        },\n        line: {\n          visible: false\n        },\n        tickLine: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: true,\n          offset: 12\n        }\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: false\n        },\n        line: {\n          visible: false\n        },\n        tickLine: {\n          visible: false\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false,\n          offset: 12\n        }\n      }\n    });\n  };\n\n  StackBarLayer.prototype.adjustBar = function (bar) {\n    bar.adjust = [{\n      type: 'stack'\n    }];\n  };\n\n  StackBarLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'stackBarLabel',\n      fields: [props.xField]\n    }, label));\n    return labelConfig;\n  };\n\n  return StackBarLayer;\n}(BaseBarLayer);\n\nexport default StackBarLayer;\nregisterPlotType('stackBar', StackBarLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport StackBarLayer from './layer';\n\nvar StackBar =\n/** @class */\nfunction (_super) {\n  __extends(StackBar, _super);\n\n  function StackBar() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  StackBar.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'stackBar';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  StackBar.getDefaultOptions = StackBarLayer.getDefaultOptions;\n  return StackBar;\n}(BasePlot);\n\nexport default StackBar;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport StackBar from '../stack-bar/layer';\nimport { transformDataPercentage } from '../../util/data';\n\nvar PercentageStackBarLayer =\n/** @class */\nfunction (_super) {\n  __extends(PercentageStackBarLayer, _super);\n\n  function PercentageStackBarLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'percentageStackBar';\n    return _this;\n  }\n\n  PercentageStackBarLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      xAxis: {\n        visible: true,\n        tickLine: {\n          visible: false\n        },\n        grid: {\n          visible: false\n        },\n        title: {\n          visible: true,\n          formatter: function formatter(v) {\n            return v + \" (%)\";\n          }\n        },\n        label: {\n          visible: false,\n          formatter: function formatter(v) {\n            var reg = /%/gi;\n            return v.replace(reg, '');\n          }\n        }\n      }\n    });\n  };\n\n  PercentageStackBarLayer.prototype.processData = function (originData) {\n    var _a = this.options,\n        xField = _a.xField,\n        yField = _a.yField;\n\n    var processData = _super.prototype.processData.call(this, originData);\n\n    return transformDataPercentage(processData, yField, [xField]);\n  };\n\n  PercentageStackBarLayer.prototype.scale = function () {\n    var metaConfig = {};\n    var xField = this.options.xField;\n    metaConfig[xField] = {\n      tickCount: 6,\n      alias: xField + \" (%)\",\n      minLimit: 0,\n      maxLimit: 1,\n      formatter: function formatter(v) {\n        var formattedValue = (v * 100).toFixed(1);\n        return formattedValue + \"%\";\n      }\n    };\n    this.options.meta = metaConfig;\n\n    _super.prototype.scale.call(this);\n  };\n\n  return PercentageStackBarLayer;\n}(StackBar);\n\nexport default PercentageStackBarLayer;\nregisterPlotType('percentageStackBar', PercentageStackBarLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport PercentageStackBarLayer from './layer';\n\nvar PercentageStackBar =\n/** @class */\nfunction (_super) {\n  __extends(PercentageStackBar, _super);\n\n  function PercentageStackBar() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  PercentageStackBar.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'percentageStackBar';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  PercentageStackBar.getDefaultOptions = PercentageStackBarLayer.getDefaultOptions;\n  return PercentageStackBar;\n}(BasePlot);\n\nexport default PercentageStackBar;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport BaseBarLayer from '../bar/layer';\n\nvar GroupBarLayer =\n/** @class */\nfunction (_super) {\n  __extends(GroupBarLayer, _super);\n\n  function GroupBarLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'groupBar';\n    return _this;\n  }\n\n  GroupBarLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      xAxis: {\n        visible: true,\n        grid: {\n          visible: true\n        }\n      },\n      yAxis: {\n        visible: true,\n        title: {\n          visible: false\n        }\n      },\n      label: {\n        visible: true,\n        position: 'right',\n        offset: 8,\n        adjustColor: true\n      },\n      legend: {\n        visible: true,\n        position: 'right-top'\n      }\n    });\n  };\n\n  GroupBarLayer.prototype.afterRender = function () {\n    _super.prototype.afterRender.call(this);\n\n    var names = _.valuesOfKey(this.options.data, this.options.groupField);\n\n    this.view.on('tooltip:change', function (e) {\n      var items = e.items;\n\n      var origin_items = _.clone(items);\n\n      for (var i = 0; i < names.length; i++) {\n        var name_1 = names[i];\n\n        for (var j = 0; j < origin_items.length; j++) {\n          var item = origin_items[j];\n\n          if (item.name === name_1) {\n            e.items[i] = item;\n          }\n        }\n      }\n    });\n  };\n\n  GroupBarLayer.prototype.scale = function () {\n    var defaultMeta = {};\n    defaultMeta[this.options.groupField] = {\n      values: _.valuesOfKey(this.options.data, this.options.groupField)\n    };\n\n    if (!this.options.meta) {\n      this.options.meta = defaultMeta;\n    } else {\n      this.options.meta = _.deepMix({}, this.options.meta, defaultMeta);\n    }\n\n    _super.prototype.scale.call(this);\n  };\n\n  GroupBarLayer.prototype.adjustBar = function (bar) {\n    bar.adjust = [{\n      type: 'dodge',\n      marginRatio: 0.1\n    }];\n  };\n\n  return GroupBarLayer;\n}(BaseBarLayer);\n\nexport default GroupBarLayer;\nregisterPlotType('groupBar', GroupBarLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport GroupBarLayer from './layer';\n\nvar GroupBar =\n/** @class */\nfunction (_super) {\n  __extends(GroupBar, _super);\n\n  function GroupBar() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GroupBar.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'groupBar';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  GroupBar.getDefaultOptions = GroupBarLayer.getDefaultOptions;\n  return GroupBar;\n}(BasePlot);\n\nexport default GroupBar;","import { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nvar ANCHOR_OFFSET = 0; // 锚点偏移量\n\nvar INFLECTION_OFFSET = 15; // 拐点偏移量\n\nvar DEFAULT_COLOR = '#CCC';\nvar LABEL1_OFFSETY = 2;\nvar LABEL2_OFFSETY = -2;\nvar ADJUSTOFFSET = 15;\n\nfunction getEndPoint(center, angle, r) {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle)\n  };\n}\n\nfunction getDefaultCfg() {\n  return {\n    text: {\n      fill: 'rgba(0, 0, 0, 0.65)',\n      fontSize: 12\n    },\n    lineWidth: 0.5,\n    lineStroke: 'rgba(0, 0, 0, 0.45)',\n\n    /** distance between label and edge */\n    sidePadding: 20,\n    lineHeight: 32\n  };\n}\n\nvar SpiderLabel =\n/** @class */\nfunction () {\n  function SpiderLabel(cfg) {\n    this.view = cfg.view;\n    this.fields = cfg.fields;\n    this.formatter = cfg.formatter;\n    this.offsetX = cfg.offsetX;\n    this.offsetY = cfg.offsetY;\n    this.config = _.assign(getDefaultCfg(), _.pick(cfg.style, ['lineStroke', 'lineWidth']));\n\n    if (cfg.style) {\n      this.config.text = _.mix(this.config.text, cfg.style);\n    }\n\n    this._adjustConfig(this.config);\n\n    this._init();\n  }\n\n  SpiderLabel.prototype.draw = function () {\n    var _this = this;\n\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n    /** 如果有formatter则事先处理数据 */\n\n\n    var data = _.clone(this.view.get('filteredData'));\n\n    this.halves = [[], []];\n    this.container = this.view.get('frontgroundGroup').addGroup();\n    var shapes = this.view.get('elements')[0].getShapes();\n    var coord = this.view.get('coord');\n    var angleField = this.fields[0];\n    var scale = this.view.get('scales')[angleField];\n    var center = coord.center,\n        startAngle = coord.startAngle;\n    var radius = coord.getRadius();\n\n    var _a = this.view.get('panelRange'),\n        width = _a.width,\n        height = _a.height;\n\n    this.width = width;\n    this.height = height;\n    var angle = startAngle;\n\n    var _loop_1 = function _loop_1(idx) {\n      var d = data[idx]; // 计算每个切片的middle angle\n\n      var angleValue = scale.scale(d[angleField]);\n      var targetAngle = angle + Math.PI * 2 * angleValue;\n      var middleAngle = angle + (targetAngle - angle) / 2;\n      angle = targetAngle; // 根据middle angle计算锚点和拐点距离\n\n      var anchorPoint = getEndPoint(center, middleAngle, radius + ANCHOR_OFFSET);\n      var inflectionPoint = getEndPoint(center, middleAngle, radius + INFLECTION_OFFSET); // 获取对应shape的color\n\n      var color = DEFAULT_COLOR;\n\n      if (this_1.fields.length === 2) {\n        var colorField = this_1.fields[1];\n        var colorScale = this_1.view.get('scales')[colorField];\n        var colorIndex = colorScale.scale(d[colorField]);\n        var shapeIndex = Math.floor(colorIndex * (shapes.length - 1));\n        color = shapes[shapeIndex].attr('fill');\n      } // 组装label数据\n\n\n      var label = {\n        _anchor: anchorPoint,\n        _inflection: inflectionPoint,\n        _data: d,\n        x: inflectionPoint.x,\n        y: inflectionPoint.y,\n        r: radius + INFLECTION_OFFSET,\n        fill: color,\n        textGroup: null,\n        _side: null\n      }; // 创建label文本\n\n      var texts = [];\n\n      _.each(this_1.fields, function (f) {\n        texts.push(d[f]);\n      });\n\n      if (this_1.formatter) {\n        var formatted = this_1.formatter(d[angleField], {\n          _origin: d,\n          color: color\n        }, idx);\n\n        if (_.isString(formatted)) {\n          formatted = [formatted];\n        }\n\n        texts = formatted;\n      }\n\n      var textGroup = new Group();\n      var textAttrs = {\n        x: 0,\n        y: 0,\n        fontSize: this_1.config.text.fontSize,\n        lineHeight: this_1.config.text.fontSize,\n        fontWeight: this_1.config.text.fontWeight,\n        fill: this_1.config.text.fill\n      }; // label1:下部label\n\n      var lowerText = d[angleField];\n\n      if (this_1.formatter) {\n        lowerText = texts[0];\n      }\n\n      var lowerTextAttrs = _.clone(textAttrs);\n\n      if (texts.length === 2) {\n        lowerTextAttrs.fontWeight = 700;\n      }\n\n      var lowerTextShape = textGroup.addShape('text', {\n        attrs: _.mix({\n          textBaseline: texts.length === 2 ? 'top' : 'middle',\n          text: lowerText\n        }, lowerTextAttrs),\n        data: d,\n        offsetY: texts.length === 2 ? LABEL1_OFFSETY : 0,\n        name: 'label'\n      });\n      lowerTextShape.name = 'label'; // 用于事件标记 shapeName\n\n      /** label2:上部label */\n\n      if (texts.length === 2) {\n        var topTextShape = textGroup.addShape('text', {\n          attrs: _.mix({\n            textBaseline: 'bottom',\n            text: texts[1]\n          }, textAttrs),\n          data: d,\n          offsetY: LABEL2_OFFSETY,\n          name: 'label'\n        });\n        topTextShape.name = 'label'; // 用于事件标记 shapeName\n      }\n\n      label.textGroup = textGroup;\n      /** 将label分组 */\n\n      if (anchorPoint.x < center.x) {\n        label._side = 'left';\n        this_1.halves[0].push(label);\n      } else {\n        label._side = 'right';\n        this_1.halves[1].push(label);\n      }\n    };\n\n    var this_1 = this; // tslint:disable-next-line: prefer-for-of\n\n    for (var idx = 0; idx < data.length; idx++) {\n      _loop_1(idx);\n    }\n    /** 绘制label */\n\n\n    var _drawnLabels = [];\n    var maxCountForOneSide = Math.floor(height / this.config.lineHeight);\n\n    _.each(this.halves, function (half) {\n      if (half.length > maxCountForOneSide) {\n        half.splice(maxCountForOneSide, half.length - maxCountForOneSide);\n      }\n\n      half.sort(function (a, b) {\n        return a.y - b.y;\n      });\n\n      _this._antiCollision(half);\n    });\n\n    this.view.get('canvas').draw();\n  };\n\n  SpiderLabel.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  SpiderLabel.prototype._init = function () {\n    var _this = this;\n\n    this.view.on('beforerender', function () {\n      _this.clear();\n    });\n    this.view.on('afterrender', function () {\n      _this.draw();\n    });\n  };\n\n  SpiderLabel.prototype._antiCollision = function (half) {\n    var _this = this;\n\n    var coord = this.view.get('coord');\n    var canvasHeight = coord.getHeight();\n    var center = coord.center;\n    var radius = coord.getRadius();\n    var startY = center.y - radius - INFLECTION_OFFSET - this.config.lineHeight;\n    var overlapping = true;\n    var totalH = canvasHeight;\n    var i;\n    var maxY = 0;\n    var minY = Number.MIN_VALUE;\n    var maxLabelWidth = 0;\n    var boxes = half.map(function (label) {\n      var labelY = label.y;\n\n      if (labelY > maxY) {\n        maxY = labelY;\n      }\n\n      if (labelY < minY) {\n        minY = labelY;\n      }\n\n      var textGroup = label.textGroup;\n      var labelWidth = textGroup.getBBox().width;\n\n      if (labelWidth >= maxLabelWidth) {\n        maxLabelWidth = labelWidth;\n      }\n\n      return {\n        size: _this.config.lineHeight,\n        targets: [labelY - startY]\n      };\n    });\n\n    if (maxY - startY > totalH) {\n      totalH = maxY - startY;\n    }\n\n    var iteratorBoxed = function iteratorBoxed(items) {\n      items.forEach(function (box) {\n        var target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n        box.pos = Math.min(Math.max(minY, target - box.size / 2), totalH - box.size);\n      });\n    };\n\n    while (overlapping) {\n      iteratorBoxed(boxes); // detect overlapping and join boxes\n\n      overlapping = false;\n      i = boxes.length;\n\n      while (i--) {\n        if (i > 0) {\n          var previousBox = boxes[i - 1];\n          var box = boxes[i];\n\n          if (previousBox.pos + previousBox.size > box.pos) {\n            // overlapping\n            previousBox.size += box.size;\n            previousBox.targets = previousBox.targets.concat(box.targets); // overflow, shift up\n\n            if (previousBox.pos + previousBox.size > totalH) {\n              previousBox.pos = totalH - previousBox.size;\n            }\n\n            boxes.splice(i, 1); // removing box\n\n            overlapping = true;\n          }\n        }\n      }\n    }\n\n    i = 0;\n    boxes.forEach(function (b) {\n      var posInCompositeBox = startY; // middle of the label\n\n      b.targets.forEach(function () {\n        half[i].y = b.pos + posInCompositeBox + _this.config.lineHeight / 2;\n        posInCompositeBox += _this.config.lineHeight;\n        i++;\n      });\n    });\n    var drawnLabels = [];\n    half.forEach(function (label) {\n      var textGroup = _this._drawLabel(label);\n\n      _this.container.add(textGroup);\n\n      _this._drawLabelLine(label, maxLabelWidth);\n\n      drawnLabels.push(textGroup);\n    });\n  };\n\n  SpiderLabel.prototype._drawLabel = function (label) {\n    var coord = this.view.get('coord');\n    var center = coord.getCenter();\n    var radius = coord.getRadius();\n    var width = this.width;\n    var y = label.y,\n        textGroup = label.textGroup;\n    var children = textGroup.get('children');\n    var x_dir = label._side === 'left' ? 1 : -1;\n    var textAttrs = {\n      textAlign: label._side === 'left' ? 'right' : 'left',\n      x: label._side === 'left' ? center.x - radius - this.config.sidePadding : center.x + radius + this.config.sidePadding\n    };\n\n    if (this.offsetX) {\n      textAttrs.x += this.offsetX * x_dir;\n    }\n\n    children.forEach(function (child) {\n      var offsetY = child.get('offsetY');\n      var yPosition = y + offsetY;\n      child.attr(textAttrs);\n      child.attr('y', yPosition);\n    });\n    return textGroup;\n  };\n\n  SpiderLabel.prototype._drawLabelLine = function (label, maxLabelWidth) {\n    var _anchor = [label._anchor.x, label._anchor.y];\n    var _inflection = [label._inflection.x, label._inflection.y];\n    var fill = label.fill,\n        y = label.y,\n        textGroup = label.textGroup;\n    if (!textGroup) return;\n    var lastPoint = [label._side === 'left' ? textGroup.getBBox().maxX + 4 : textGroup.getBBox().minX - 4, y];\n    var points = [_anchor, _inflection, lastPoint];\n\n    if (_inflection[1] !== y) {\n      // 展示全部文本文本位置做过调整\n      if (_inflection[1] < y) {\n        // 文本被调整下去了，则添加拐点连接线\n        var point1 = _inflection;\n        var leftPoint = lastPoint[0] + maxLabelWidth + ADJUSTOFFSET;\n        var rightPoint = lastPoint[0] - maxLabelWidth - ADJUSTOFFSET;\n        var point2 = [label._side === 'left' ? leftPoint : rightPoint, _inflection[1]];\n        var point3 = [label._side === 'left' ? lastPoint[0] + maxLabelWidth : lastPoint[0] - maxLabelWidth, lastPoint[1]];\n        points = [_anchor, point1, point2, point3, lastPoint];\n\n        if (label._side === 'right' && point2[0] < point1[0] || label._side === 'left' && point2[0] > point1[0]) {\n          points = [_anchor, point3, lastPoint];\n        }\n      } else {\n        points = [_anchor, [_inflection[0], y], lastPoint];\n      }\n    }\n\n    var path = [];\n\n    for (var i = 0; i < points.length; i++) {\n      var p = points[i];\n      var starter = 'L';\n\n      if (i === 0) {\n        starter = 'M';\n      }\n\n      path.push([starter, p[0], p[1]]);\n    }\n\n    this.container.addShape('path', {\n      attrs: {\n        path: path,\n        lineWidth: this.config.lineWidth,\n        stroke: this.config.lineStroke\n      }\n    }); // 绘制锚点\n    // this.container.addShape('circle', {\n    //   attrs: {\n    //     x: _anchor[0],\n    //     y: _anchor[1],\n    //     r: this.config.anchorSize,\n    //     fill,\n    //   },\n    // });\n  };\n\n  SpiderLabel.prototype._adjustConfig = function (config) {\n    if (config.text.fontSize) {\n      config.lineHeight = config.text.fontSize * 3;\n    }\n  };\n\n  return SpiderLabel;\n}();\n\nexport default SpiderLabel;","export function getEndPoint(center, angle, r) {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle)\n  };\n}\n/** 获取矩形中点 */\n\nexport function getCenter(box) {\n  return {\n    x: box.x + box.width / 2,\n    y: box.y + box.height / 2\n  };\n}\nexport function getOverlapArea(a, b, margin) {\n  if (margin === void 0) {\n    margin = 0;\n  }\n\n  var xOverlap = Math.max(0, Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin));\n  var yOverlap = Math.max(0, Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin));\n  return xOverlap * yOverlap;\n}\n/**\n * 计算两个矩形之间的堆叠情况\n * @return xOverlap x方向重叠大小\n * @return yOverlap y方向重叠大小\n */\n\nexport function getOverlapInfo(a, b, margin) {\n  if (margin === void 0) {\n    margin = 0;\n  }\n\n  var xOverlap = Math.max(0, Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin));\n  var yOverlap = Math.max(0, Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)); // 添加 sign\n\n  if (xOverlap && a.x < b.x) {\n    xOverlap = -xOverlap;\n  }\n\n  if (yOverlap && a.y < b.y) {\n    yOverlap = -yOverlap;\n  } // 重叠\n\n\n  if (a.x === b.x && a.width === b.width) {\n    xOverlap = b.width;\n  }\n\n  if (a.y === b.y && a.height === b.height) {\n    yOverlap = b.height;\n  }\n\n  return {\n    xOverlap: xOverlap,\n    yOverlap: yOverlap\n  };\n}\n/**\n * 粗略地判断是否在panel内部\n * @param panel\n * @param shape\n */\n\nexport function inPanel(panel, shape) {\n  return panel.x < shape.x && panel.x + panel.width > shape.x + shape.width && panel.y < shape.y && panel.y + panel.height > shape.y + shape.height;\n}\n/**\n * 判断两个数值 是否接近\n * - 解决精度问题（由于无法确定精度上限，根据具体场景可传入 精度 参数）\n */\n\nexport var near = function near(x, y, e) {\n  if (e === void 0) {\n    e = Math.pow(Number.EPSILON, 0.5);\n  }\n\n  return [x, y].includes(Infinity) ? Math.abs(x) === Math.abs(y) : Math.abs(x - y) < e;\n};","import { __spreadArrays } from \"tslib\";\nimport * as _ from '@antv/util';\nvar canvas = document.createElement('canvas');\nvar ctx = canvas.getContext('2d');\n/**\n * 计算文本在画布中的宽度\n */\n\nexport var measureTextWidth = _.memoize(function (text, font) {\n  if (font === void 0) {\n    font = {};\n  }\n\n  var fontSize = font.fontSize,\n      fontFamily = font.fontFamily,\n      fontWeight = font.fontWeight,\n      fontStyle = font.fontStyle,\n      fontVariant = font.fontVariant;\n  ctx.font = [fontStyle, fontVariant, fontWeight, fontSize + \"px\", fontFamily].join(' ');\n  return ctx.measureText(_.isString(text) ? text : '').width;\n}, function (text, font) {\n  return font ? __spreadArrays([text], _.values(font)).join('') : text;\n});\n/**\n * 获取文本的 ... 文本。\n * 算法（减少每次 measureText 的长度，measureText 的性能跟字符串时间相关）：\n * 1. 先通过 STEP 逐步计算，找到最后一个小于 maxWidth 的字符串\n * 2. 然后对最后这个字符串二分计算\n * @param text 需要计算的文本, 由于历史原因 除了支持string，还支持空值,number和数组等\n * @param maxWidth\n * @param font\n * TODO 后续更新省略算法\n */\n\nexport var getEllipsisText = function getEllipsisText(text, maxWidth, font, priority) {\n  var STEP = 16; // 每次 16，调参工程师\n\n  var DOT_WIDTH = measureTextWidth('...', font);\n  var leftText;\n\n  if (!_.isString(text)) {\n    leftText = _.toString(text);\n  } else {\n    leftText = text;\n  }\n\n  var leftWidth = maxWidth;\n  var r = []; // 最终的分段字符串\n\n  var currentText;\n  var currentWidth;\n\n  if (measureTextWidth(text, font) <= maxWidth) {\n    return text;\n  } // 首先通过 step 计算，找出最大的未超出长度的\n\n\n  while (true) {\n    // 更新字符串\n    currentText = leftText.substr(0, STEP); // 计算宽度\n\n    currentWidth = measureTextWidth(currentText, font); // 超出剩余宽度，则停止\n\n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      if (currentWidth > leftWidth) {\n        break;\n      }\n    }\n\n    r.push(currentText); // 没有超出，则计算剩余宽度\n\n    leftWidth -= currentWidth;\n    leftText = leftText.substr(STEP); // 字符串整体没有超出\n\n    if (!leftText) {\n      return r.join('');\n    }\n  } // 最下的最后一个 STEP，使用 1 递增（用二分效果更高）\n\n\n  while (true) {\n    // 更新字符串\n    currentText = leftText.substr(0, 1); // 计算宽度\n\n    currentWidth = measureTextWidth(currentText, font); // 超出剩余宽度，则停止\n\n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      break;\n    }\n\n    r.push(currentText); // 没有超出，则计算剩余宽度\n\n    leftWidth -= currentWidth;\n    leftText = leftText.substr(1);\n\n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  return r.join('') + \"...\";\n};","import { __assign, __extends } from \"tslib\";\nimport { getElementLabels } from '@antv/g2';\nimport { getOverlapArea, getEndPoint, near } from './utils';\nimport { getEllipsisText } from './utils/text';\nvar PieElementLabels = getElementLabels('pie');\n/**\n * @desc eva-pie 所有自定义 pie-label 的基类\n */\n\nvar default_1 =\n/** @class */\nfunction (_super) {\n  __extends(default_1, _super);\n\n  function default_1() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  default_1.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    var view = this.get('element').get('view');\n    var coord = this.get('coord');\n    var panel = view.get('panelRange'); // 调整\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children'); // 注入data数据\n\n    var data = view.get('data');\n    var fields = this.getLabelOptions().fields;\n    var angleField = fields[0];\n    var colorField = fields[1];\n    var scale = view.get('scales')[angleField];\n    labels.forEach(function (label, idx) {\n      var dataItem = data[idx];\n      var percentage = scale.scale(dataItem[angleField]);\n      label.attr('data', {\n        value: dataItem[angleField],\n        name: dataItem[colorField],\n        percent: percentage\n      });\n    });\n    var items = renderer.get('items') || []; // 处理 label anchors\n\n    this.anchors = [];\n    var anchorRadius = coord.getRadius() + this.getOffsetOfLabel();\n    this.anchorRadius = anchorRadius;\n    labels.forEach(function (label, idx) {\n      var item = items[idx];\n      var point = getEndPoint(coord.getCenter(), item.angle, anchorRadius);\n\n      _this.anchors.push(__assign(__assign(__assign({}, item), point), {\n        id: label.id\n      }));\n    });\n    var labelLines = renderer.get('lineGroup').get('children') || [];\n    this.adjustPosition(labels, items, coord, panel);\n    this.adjustTexts(labels, items, coord, panel); // should adjust overlap before asjustLines\n\n    this.adjustOverlap(labels, panel);\n    this.adjustLines(labels, items, labelLines, coord, panel);\n    view.get('canvas').draw();\n  };\n  /** 调整 label texts */\n\n\n  default_1.prototype.adjustTexts = function (labels, items, coord, panel) {\n    var _this = this;\n\n    labels.forEach(function (label) {\n      var anchor = items.find(function (v) {\n        return v.id === label.id;\n      });\n\n      _this.adjustLabelText(label, anchor, coord, panel);\n    });\n  };\n\n  default_1.prototype.adjustItems = function (originItems) {\n    // could not extends super\n    return originItems;\n  };\n  /** 调整 label text */\n\n\n  default_1.prototype.adjustLabelText = function (label, item, coord, panel) {\n    var box = label.getBBox();\n    var textAlign = item.textAlign;\n    var maxWidth = textAlign === 'right' ? box.maxX - panel.minX : panel.maxX - box.minX;\n\n    if (maxWidth < box.width) {\n      var font_1 = {\n        fontFamily: label.attr('fontFamily'),\n        fontSize: label.attr('fontSize'),\n        fontVariant: label.attr('fontVariant'),\n        fontWeight: label.attr('fontWeight'),\n        fontStyle: label.attr('fontStyle')\n      };\n      var originText = label.attr('text');\n      var data = label.attr('data');\n      /** label 优先级: 数值 - 百分比 - 分类名(先通过正则的方式处理) */\n\n      var priority_1 = ['[\\\\d,.]*', '[\\\\d.]*%', data.name];\n      var EllipsisTextArr = originText.split('\\n').map(function (t) {\n        return getEllipsisText(t, maxWidth - 2, font_1, priority_1);\n      });\n      label.attr('text', EllipsisTextArr.join('\\n'));\n    }\n  };\n  /** 处理标签遮挡问题 */\n\n\n  default_1.prototype.adjustOverlap = function (labels, panel) {\n    var _this = this;\n\n    if (this.getLabelOptions().allowOverlap) {\n      return;\n    } // clearOverlap;\n\n\n    for (var i = 1; i < labels.length; i++) {\n      var label = labels[i];\n      var overlapArea = 0;\n\n      for (var j = i - 1; j >= 0; j--) {\n        var prev = labels[j]; // fix: start draw point.x is error when textAlign is right\n\n        var prevBox = prev.getBBox();\n        var currBox = label.getBBox(); // if the previous one is invisible, skip\n\n        if (prev.get('visible')) {\n          overlapArea = getOverlapArea(prevBox, currBox);\n\n          if (!near(overlapArea, 0)) {\n            label.set('visible', false);\n            break;\n          }\n        }\n      }\n    }\n\n    labels.forEach(function (label) {\n      return _this.checkInPanel(label, panel);\n    });\n  };\n  /**\n   * 超出panel边界的标签默认隐藏\n   */\n\n\n  default_1.prototype.checkInPanel = function (label, panel) {\n    var box = label.getBBox(); //  横向溢出 暂不隐藏\n\n    if (!(panel.y <= box.y && panel.y + panel.height >= box.y + box.height)) {\n      label.set('visible', false);\n    }\n  };\n\n  default_1.prototype.getLabelOptions = function () {\n    return this.get('labelOptions');\n  };\n\n  return default_1;\n}(PieElementLabels);\n\nexport default default_1;","import { __extends } from \"tslib\";\nimport { registerElementLabels } from '@antv/g2';\nimport * as _ from 'lodash';\nimport { getEndPoint, getOverlapInfo } from './utils';\nimport BaseLabel from './base-label';\nimport { distBetweenPoints } from '../../../../util/math';\nexport function percent2Number(value) {\n  var percentage = Number(value.endsWith('%') ? value.slice(0, -1) : value);\n  return percentage / 100;\n}\n/**\n * @desc 饼图 inner-label 布局\n * @done\n */\n\nvar InnerLabel =\n/** @class */\nfunction (_super) {\n  __extends(InnerLabel, _super);\n\n  function InnerLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  InnerLabel.prototype.adjustPosition = function (labels, items, coord) {\n    var _this = this;\n\n    var center = coord.getCenter();\n    var radius = coord.getRadius();\n    var offset = this.getOffsetOfLabel();\n    var r = radius + offset;\n    labels.forEach(function (label, idx) {\n      var anchor = items.find(function (i) {\n        return i.id === label.id;\n      });\n\n      var _a = getEndPoint(center, anchor.angle, r),\n          newX = _a.x,\n          newY = _a.y;\n\n      label.attr('x', newX);\n      label.attr('y', newY);\n      label.attr('textBaseline', 'middle');\n\n      if (idx > 0) {\n        var prevLabel = labels[idx - 1];\n\n        _this.resolveCollision(label, prevLabel, anchor, coord);\n      }\n    });\n  };\n  /** @override inner布局不需要拉线 */\n\n\n  InnerLabel.prototype.adjustLines = function (labels, items, labelLines, coord) {\n    labelLines.forEach(function (l) {\n      return l.set('visible', false);\n    });\n  };\n  /** @override */\n\n\n  InnerLabel.prototype.adjustLabelText = function () {};\n  /** @override 不能大于0 */\n\n\n  InnerLabel.prototype.getOffsetOfLabel = function () {\n    var labelOptions = this.get('labelOptions');\n    var offset = labelOptions.offset;\n    var radius = this.get('coord').getRadius();\n\n    if (_.isString(offset)) {\n      offset = radius * percent2Number(offset);\n    }\n\n    return offset > 0 ? 0 : offset;\n  };\n  /** label 碰撞调整 */\n\n\n  InnerLabel.prototype.resolveCollision = function (label, prev, anchor, coord) {\n    var angle = anchor.angle;\n    var box = label.getBBox();\n    var prevBBox = prev.getBBox();\n    var pos = {\n      x: (box.minX + box.maxX) / 2,\n      y: (box.minY + box.maxY) / 2\n    }; // 两种调整方案\n\n    /** 先偏移 x 方向 -> 再计算 y 位置 */\n\n    var pos1 = _.clone(pos);\n    /** 先偏移 y 方向 -> 再计算 x 位置 */\n\n\n    var pos2 = _.clone(pos); // check overlap\n\n\n    if (prev.id !== label.id) {\n      var _a = getOverlapInfo(box, prevBBox),\n          xOverlap = _a.xOverlap,\n          yOverlap = _a.yOverlap;\n\n      if (xOverlap) {\n        pos1.x = pos.x + xOverlap;\n        pos1.y = pos.y + Math.tan(angle) * xOverlap;\n      }\n\n      if (yOverlap) {\n        // fix issue-460\n        var yMover = yOverlap;\n        var center = coord.getCenter();\n\n        if (pos.y < center.y) {\n          // 上方label优先往上偏移\n          yMover = yMover < 0 ? yMover : prevBBox.minY - box.maxY;\n        } else {\n          // 下方label优先往下偏移\n          yMover = yMover > 0 ? yMover : prevBBox.maxY - box.minY;\n        }\n\n        pos2.y = pos.y + yMover;\n        pos2.x = pos.x + yMover / Math.tan(angle);\n      }\n\n      var dist1 = distBetweenPoints(pos, pos1);\n      var dist2 = distBetweenPoints(pos, pos2);\n      var actualPos = dist1 < dist2 ? pos1 : pos2; // 取偏移距离最小的\n\n      label.attr('x', actualPos.x);\n      label.attr('y', actualPos.y);\n    }\n  };\n\n  return InnerLabel;\n}(BaseLabel);\n\nregisterElementLabels('inner', InnerLabel);","import { __assign, __extends } from \"tslib\";\nimport { registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { getEndPoint } from './utils';\nimport BaseLabel from './base-label';\nimport { percent2Number } from './inner-label'; // 默认label和element的偏移 16px\n\nexport var DEFAULT_OFFSET = 16;\n/** label text和line距离 4px */\n\nexport var CROOK_DISTANCE = 4;\n/**\n * @desc 环绕型 躲避 label 布局(类椭圆 - 优先顺时针偏移)\n */\n\nvar OuterPieLabel =\n/** @class */\nfunction (_super) {\n  __extends(OuterPieLabel, _super);\n\n  function OuterPieLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  OuterPieLabel.prototype.adjustPosition = function (labels, items, coord, panel) {\n    var _this = this;\n\n    this._adjustLabelPosition(labels, coord, panel);\n\n    var leftHalf = _.filter(labels, function (l) {\n      return _.find(_this.anchors, function (a) {\n        return a.id === l.id;\n      }).textAlign === 'right';\n    });\n\n    var rightHalf = _.filter(labels, function (l) {\n      return _.find(_this.anchors, function (a) {\n        return a.id === l.id;\n      }).textAlign === 'left';\n    });\n\n    [rightHalf, leftHalf].forEach(function (half, isLeft) {\n      _this._antiCollision(half, coord, panel, !isLeft);\n    });\n  };\n  /** @override */\n\n\n  OuterPieLabel.prototype.adjustLines = function (labels, labelItems, labelLines, coord, panel) {\n    var _this = this;\n\n    _.each(labels, function (label, idx) {\n      var labelLine = labelLines[idx]; // 由于布局调整，修改的只是shape 所以取用使用shape(labelItem is read-only)\n\n      var path = _this._getLinePath(label, coord, panel);\n\n      labelLine.attr('path', path);\n      labelLine.set('visible', label.get('visible'));\n    });\n  };\n  /** override */\n\n\n  OuterPieLabel.prototype.getOffsetOfLabel = function () {\n    var labelOptions = this.getLabelOptions();\n    var offset = labelOptions.offset;\n\n    if (_.isString(offset)) {\n      offset = percent2Number(offset);\n    }\n\n    return offset === undefined ? DEFAULT_OFFSET : offset < CROOK_DISTANCE * 2 ? offset / 2 : offset - CROOK_DISTANCE;\n  };\n  /** labels 碰撞处理（重点算法） */\n\n\n  OuterPieLabel.prototype._antiCollision = function (labels, coord, plotRange, isRight) {\n    var _this = this;\n\n    var labelHeight = this.getLabelHeight();\n    var totalR = this.anchorRadius;\n    var center = coord.getCenter();\n    var totalHeight = Math.min(plotRange.height, Math.max(totalR * 2 + labelHeight * 2, labels.length * labelHeight));\n    var maxLabelsCount = Math.floor(totalHeight / labelHeight); // fix-bug, maxLabelsCount 之后的labels 在非 allowOverlap 不显示（避免出现尾部label展示，而前置label不展示）\n\n    if (!this.get('labelOptions').allowOverlap) {\n      labels.slice(maxLabelsCount).forEach(function (label) {\n        label.set('visible', false);\n      });\n    }\n\n    labels.splice(maxLabelsCount, labels.length - maxLabelsCount); // sort by y DESC\n\n    labels.sort(function (a, b) {\n      return a.getBBox().y - b.getBBox().y;\n    }); // adjust y position of labels to avoid overlapping\n\n    var overlapping = true;\n    var i;\n    var maxY = center.y + totalHeight / 2;\n    var minY = center.y - totalHeight / 2;\n    var boxes = labels.map(function (label) {\n      var labelBox = label.getBBox();\n\n      if (labelBox.maxY > maxY) {\n        maxY = Math.min(plotRange.maxY, labelBox.maxY);\n      }\n\n      if (labelBox.minY < minY) {\n        minY = Math.max(plotRange.minY, labelBox.minY);\n      }\n\n      return {\n        text: label.attr('text'),\n        size: labelHeight,\n        pos: labelBox.y,\n        targets: []\n      };\n    });\n    var j = 0;\n\n    while (j < boxes.length) {\n      if (j === boxes.length - 1) {\n        boxes[j].targets[0] = maxY;\n      } else {\n        boxes[j].targets[0] = boxes[j + 1].pos - boxes[j + 1].size / 2;\n      }\n\n      j++;\n    }\n\n    while (overlapping) {\n      boxes.forEach(function (box) {\n        var target = _.last(box.targets);\n\n        box.pos = Math.max(minY, Math.min(box.pos, target - box.size));\n      }); // detect overlapping and join boxes\n\n      overlapping = false;\n      i = boxes.length;\n\n      while (i--) {\n        if (i > 0) {\n          var previousBox = boxes[i - 1];\n          var box = boxes[i];\n\n          if (previousBox.pos + previousBox.size > box.pos) {\n            // overlapping\n            previousBox.size += box.size;\n            previousBox.targets = previousBox.targets.concat(box.targets); // overflow, shift up\n\n            var target = _.last(previousBox.targets);\n\n            if (previousBox.pos + previousBox.size > target) {\n              previousBox.pos = target - previousBox.size;\n            }\n\n            boxes.splice(i, 1); // removing box\n\n            overlapping = true;\n          } else {\n            // 换掉最后一个\n            previousBox.targets.splice(-1, 1, box.pos);\n          }\n        }\n      }\n    }\n\n    i = 0; // step 4: normalize y and adjust x\n\n    boxes.forEach(function (b) {\n      var posInCompositeBox = labelHeight / 2; // middle of the label\n\n      b.targets.forEach(function () {\n        labels[i].attr('y', b.pos + posInCompositeBox);\n        posInCompositeBox += labelHeight;\n        i++;\n      });\n    }); // 调整 x 位置在椭圆轨道上\n\n    var topLabels = [];\n    var bottomLabels = [];\n    labels.forEach(function (label) {\n      var anchor = _this.anchors.find(function (a) {\n        return a.id === label.id;\n      });\n\n      if (anchor.angle >= 0 && anchor.angle <= Math.PI) {\n        bottomLabels.push(label);\n      } else {\n        topLabels.push(label);\n      }\n    });\n    [topLabels, bottomLabels].forEach(function (adjustLabels, isBottom) {\n      if (!adjustLabels.length) {\n        return;\n      }\n\n      var ry = isBottom ? _.last(adjustLabels).getBBox().maxY - center.y : center.y - _.head(adjustLabels).getBBox().minY;\n      ry = Math.max(totalR, ry);\n\n      var offset = _this.getOffsetOfLabel();\n\n      var distance = _this.getCrookDistance();\n\n      var maxLabelWidth = Math.max.apply(0, _.map(labels, function (label) {\n        return label.getBBox().width;\n      })) + offset + distance;\n      var rx = Math.max(totalR, Math.min((ry + totalR) / 2, center.x - (plotRange.minX + maxLabelWidth)));\n      var rxPow2 = rx * rx;\n      var ryPow2 = ry * ry;\n      adjustLabels.forEach(function (label) {\n        var box = label.getBBox();\n        var boxCenter = {\n          x: box.minX + box.width / 2,\n          y: box.minY + box.height / 2\n        };\n        var dyPow2 = Math.pow(boxCenter.y - center.y, 2);\n\n        var anchor = _this.anchors.find(function (a) {\n          return a.id === label.id;\n        });\n\n        var endPoint = getEndPoint(center, anchor.angle, coord.getRadius());\n        var distance_offset = (isRight ? 1 : -1) * distance * 2;\n\n        if (dyPow2 > ryPow2) {\n          console.warn('异常(一般不会出现)', label.attr('text'));\n          label.attr('x', endPoint.x + distance_offset);\n        } else {\n          // (x - cx)^2 / rx ^ 2 + (y - cy)^2 / ry ^ 2 = 1\n          // 避免 label的 拉线 在 element 上\n          var xPos = center.x + (isRight ? 1 : -1) * Math.sqrt((1 - dyPow2 / ryPow2) * rxPow2);\n\n          if (center.x === endPoint.x && boxCenter.y === endPoint.y || center.y === endPoint.y && xPos === endPoint.x) {\n            xPos = endPoint.x;\n          } else {\n            var k1 = (center.y - endPoint.y) / (center.x - endPoint.x);\n            var k2 = (boxCenter.y - endPoint.y) / (xPos - endPoint.x);\n            var theta = Math.atan((k1 - k2) / (1 + k1 * k2));\n\n            if (Math.cos(theta) > 0 && (!isRight ? xPos > endPoint.x : xPos < endPoint.x)) {\n              xPos = endPoint.x;\n            }\n          }\n\n          label.attr('x', xPos + distance_offset);\n        }\n      });\n    });\n  }; // label shape position\n\n\n  OuterPieLabel.prototype._adjustLabelPosition = function (labels, coord, panel) {\n    var _this = this;\n\n    var distance = this.getCrookDistance();\n    labels.forEach(function (l) {\n      var anchor = _this.anchors.find(function (a) {\n        return a.id === l.id;\n      });\n\n      var isRight = anchor.textAlign === 'left';\n      l.attr('x', anchor.x + (isRight ? distance * 2 : -distance * 2));\n      l.attr('y', anchor.y); // 统一垂直居中\n\n      l.attr('textBaseline', 'middle');\n    });\n  };\n  /** 获取label leader-line, 默认 not smooth */\n\n\n  OuterPieLabel.prototype._getLinePath = function (label, coord, panel) {\n    var labelOptions = this.getLabelOptions();\n    var smooth = labelOptions.line ? labelOptions.line.smooth : false;\n    var anchor = this.anchors.find(function (a) {\n      return a.id === label.id;\n    });\n    var angle = anchor.angle;\n    var center = coord.getCenter();\n    var distance = this.getCrookDistance();\n    var start = getEndPoint(center, angle, coord.getRadius());\n    var isRight = anchor.textAlign === 'left';\n    var breakAt = anchor;\n    var end = {\n      x: label.attr('x') + (isRight ? -distance : distance),\n      y: label.attr('y')\n    };\n    var smoothPath = [];\n\n    if (end.y < anchor.y) {\n      breakAt = __assign(__assign({}, breakAt), {\n        id: breakAt.id,\n        y: end.y,\n        x: end.x + (start.x - breakAt.x)\n      });\n    }\n\n    smoothPath = smoothPath.concat(['Q', breakAt.x, breakAt.y]).concat([end.x, end.y]);\n    var straightPath = ['L',\n    /** pointy break */\n    breakAt.x, breakAt.y].concat(['L', end.x, end.y]);\n    var linePath = smooth ? smoothPath : straightPath;\n    var path = ['M', start.x, start.y].concat(linePath);\n    return path.join(',');\n  };\n\n  OuterPieLabel.prototype.getCrookDistance = function () {\n    var labelOptions = this.get('labelOptions');\n    var offset = labelOptions.offset;\n    return offset < CROOK_DISTANCE * 2 ? offset / 2 : CROOK_DISTANCE;\n  };\n  /** 获取label height */\n\n\n  OuterPieLabel.prototype.getLabelHeight = function () {\n    var labelOptions = this.get('labelOptions');\n\n    if (!labelOptions.labelHeight) {\n      var renderer = this.get('labelsRenderer');\n      var labels = renderer.get('group').get('children');\n      return _.head(labels) ? _.head(labels).getBBox().height : 14;\n    }\n\n    return labelOptions.labelHeight;\n  }; // tslint:disable\n\n\n  OuterPieLabel.prototype.getDefaultOffset = function (point) {\n    var offset = _super.prototype.getDefaultOffset.call(this, point);\n\n    return offset === undefined ? DEFAULT_OFFSET : offset <= CROOK_DISTANCE ? 1 : offset - CROOK_DISTANCE;\n  };\n\n  return OuterPieLabel;\n}(BaseLabel);\n\nregisterElementLabels('outer', OuterPieLabel);","import { __extends } from \"tslib\";\nimport { registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { getEndPoint } from './utils';\nimport BasePieLabel from './base-label';\nimport { DEFAULT_OFFSET, CROOK_DISTANCE } from './outer-label';\n\nvar OuterCenterPieLabel =\n/** @class */\nfunction (_super) {\n  __extends(OuterCenterPieLabel, _super);\n\n  function OuterCenterPieLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  OuterCenterPieLabel.prototype.adjustPosition = function (labels, items, coord, panel) {\n    this._adjustLabelPosition(labels, items, coord, panel);\n  };\n  /** @override */\n\n\n  OuterCenterPieLabel.prototype.adjustLines = function (labels, labelItems, labelLines, coord, panel) {\n    var _this = this;\n\n    _.each(labels, function (label, idx) {\n      var labelLine = labelLines[idx];\n\n      var path = _this._getLinePath(label, coord, panel);\n\n      labelLine.attr('path', path);\n      labelLine.set('visible', label.get('visible'));\n    });\n  };\n  /** @override */\n\n\n  OuterCenterPieLabel.prototype.getOffsetOfLabel = function () {\n    var labelOptions = this.get('labelOptions');\n    var offset = labelOptions.offset;\n    return offset === undefined ? DEFAULT_OFFSET : offset <= CROOK_DISTANCE ? 1 : offset - CROOK_DISTANCE;\n  }; // label shape position\n\n\n  OuterCenterPieLabel.prototype._adjustLabelPosition = function (labels, items, coord, panel) {\n    var _this = this;\n\n    var center = coord.getCenter();\n    var r = coord.getRadius();\n    var distance = this.getCrookDistance();\n    labels.forEach(function (l, idx) {\n      var item = items[idx];\n\n      var offset = _this.getOffsetOfLabel();\n\n      var pos = getEndPoint(center, item.angle, r + offset);\n      var isRight = item.textAlign === 'left';\n      l.attr('x', pos.x + (isRight ? distance * 2 : -distance * 2));\n      l.attr('y', pos.y);\n    });\n  }; // 获取label leader-line\n\n\n  OuterCenterPieLabel.prototype._getLinePath = function (label, coord, panel) {\n    var labelOptions = this.getLabelOptions();\n    var smooth = labelOptions.line ? labelOptions.line.smooth : false;\n    var anchor = this.anchors.find(function (a) {\n      return a.id === label.id;\n    });\n    var angle = anchor.angle;\n    var center = coord.getCenter();\n    var r = coord.getRadius();\n    var start = getEndPoint(center, angle, r); // because shape is adjusted, so we should getAttrbutes by shape\n\n    var offset = this.getOffsetOfLabel();\n    var isRight = anchor.textAlign === 'left';\n    var breakAt = getEndPoint(center, angle, r + offset);\n    var distance = this.getCrookDistance() * (isRight ? 1 : -1);\n    var end = {\n      x: label.attr('x') - distance,\n      y: label.attr('y')\n    };\n    var path = '';\n    path = [\"M \" + start.x, start.y + \" Q\" + breakAt.x, breakAt.y + \" \" + end.x, end.y].join(',');\n\n    if (smooth === false) {\n      // normal path rule, draw path is \"M -> L -> H\"\n      path = [\"M \" + start.x, start.y + \" L\" + (breakAt.x - distance), end.y + \" H\" + end.x].join(',');\n    }\n\n    return path;\n  };\n  /** @override */\n  // tslint:disable\n\n\n  OuterCenterPieLabel.prototype.getDefaultOffset = function (point) {\n    var offset = _super.prototype.getDefaultOffset.call(this, point);\n\n    return offset === undefined ? DEFAULT_OFFSET : offset <= CROOK_DISTANCE ? 1 : offset - CROOK_DISTANCE;\n  };\n\n  OuterCenterPieLabel.prototype.getCrookDistance = function () {\n    var labelOptions = this.get('labelOptions');\n    var offset = labelOptions.offset;\n    return offset < CROOK_DISTANCE * 2 ? offset / 2 : CROOK_DISTANCE;\n  };\n\n  return OuterCenterPieLabel;\n}(BasePieLabel);\n\nregisterElementLabels('outer-center', OuterCenterPieLabel);","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onPieClick: 'interval:click',\n  onPieDblclick: 'interval:dblclick',\n  onPieMousemove: 'interval:mousemove',\n  onPieMouseenter: 'interval:mouseenter',\n  onPieMouseleave: 'interval:mouseleave',\n  onPieMousedown: 'interval:mousedown',\n  onPieMouseup: 'interval:mouseup',\n  onPieContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { registerTheme } from '../../theme';\n\nvar PIE_ACTIVE_STYLE = function PIE_ACTIVE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nvar PIE_DISABLE_STYLE = function PIE_DISABLE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nregisterTheme('pie', {\n  columnStyle: {\n    normal: {},\n    active: PIE_ACTIVE_STYLE,\n    disable: PIE_DISABLE_STYLE,\n    selected: {\n      lineWidth: 1,\n      stroke: 'black'\n    }\n  }\n});","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport SpiderLabel from './component/label/spider-label';\nimport './component/label/outer-label';\nimport './component/label/inner-label';\nimport './component/label/outer-center-label';\nimport * as EventParser from './event';\nimport './theme';\nvar G2_GEOM_MAP = {\n  pie: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  pie: 'column'\n};\n\nvar PieLayer =\n/** @class */\nfunction (_super) {\n  __extends(PieLayer, _super);\n\n  function PieLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'pie';\n    return _this;\n  }\n\n  PieLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      width: 400,\n      height: 400,\n      title: {\n        visible: false\n      },\n      description: {\n        visible: false\n      },\n      forceFit: true,\n      padding: 'auto',\n      radius: 0.8,\n      label: {\n        visible: true,\n        type: 'inner',\n        autoRotate: false,\n        allowOverlap: false,\n        line: {\n          smooth: true\n        }\n      },\n      legend: {\n        visible: true,\n        position: 'right-center'\n      },\n      tooltip: {\n        visible: true,\n        shared: false,\n        crosshairs: null\n      },\n      pieStyle: {\n        stroke: 'white',\n        lineWidth: 1\n      }\n    });\n  };\n\n  PieLayer.prototype.getOptions = function (props) {\n    // @ts-ignore\n    var defaultOptions = this.constructor.getDefaultOptions();\n\n    var options = _.deepMix({}, _super.prototype.getOptions.call(this, props), defaultOptions, props);\n\n    options.label = this.adjustLabelDefaultOptions(options);\n    return options;\n  };\n\n  PieLayer.prototype.afterInit = function () {\n    _super.prototype.afterInit.call(this);\n\n    var props = this.options;\n    /** 蜘蛛布局label */\n\n    if (props.label && props.label.visible) {\n      var labelConfig = props.label;\n\n      if (labelConfig.type === 'spider') {\n        var spiderLabel = new SpiderLabel({\n          view: this.view,\n          fields: props.colorField ? [props.angleField, props.colorField] : [props.angleField],\n          style: labelConfig.style ? labelConfig.style : {},\n          formatter: props.label.formatter ? props.label.formatter : false,\n          offsetX: props.label.offsetX,\n          offsetY: props.label.offsetY\n        });\n        this.spiderLabel = spiderLabel;\n      }\n    }\n  };\n\n  PieLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  PieLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    scales[props.angleField] = {};\n    scales[props.colorField] = {\n      type: 'cat'\n    };\n    this.setConfig('scales', scales);\n  };\n\n  PieLayer.prototype.processData = function (data) {\n    var key = this.options.angleField;\n    return data.map(function (item) {\n      var _a;\n\n      return __assign(__assign({}, item), (_a = {}, _a[key] = typeof item[key] === 'string' ? Number.parseFloat(item[key]) : item[key], _a));\n    });\n  };\n\n  PieLayer.prototype.axis = function () {};\n\n  PieLayer.prototype.coord = function () {\n    var props = this.options;\n    var coordConfig = {\n      type: 'theta',\n      cfg: {\n        radius: props.radius,\n        // @ts-ignore 业务定制,不开放配置\n        innerRadius: props.innerRadius || 0\n      }\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  PieLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    var pie = getGeom('interval', 'main', {\n      plot: this,\n      positionFields: [props.angleField]\n    });\n    pie.adjust = [{\n      type: 'stack'\n    }];\n    this.pie = pie;\n\n    if (props.label) {\n      this.label();\n    }\n\n    this.setConfig('element', pie);\n  };\n\n  PieLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.pie.animate = false;\n    }\n  };\n\n  PieLayer.prototype.annotation = function () {};\n\n  PieLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  PieLayer.prototype.label = function () {\n    var props = this.options;\n\n    var labelConfig = __assign({}, props.label);\n\n    if (!this.showLabel()) {\n      this.pie.label = false;\n      return;\n    }\n\n    if (labelConfig.type === 'inner') {\n      // @ts-ignore\n      labelConfig.labelLine = false;\n    } else {\n      // @ts-ignore\n      labelConfig.labelLine = true;\n    } // 此处做个 hack 操作, 防止g2 controller层找不到未注册的inner,outter,和spider Label\n\n\n    var labelType = labelConfig.type;\n\n    if (['spider'].indexOf(labelType) !== -1) {\n      labelType = null;\n    }\n\n    this.pie.label = getComponent('label', __assign({\n      plot: this,\n      labelType: labelType,\n      fields: props.colorField ? [props.angleField, props.colorField] : [props.angleField]\n    }, labelConfig));\n  };\n\n  PieLayer.prototype.showLabel = function () {\n    var props = this.options;\n    return props.label && props.label.visible === true && props.label.type !== 'spider';\n  };\n  /** 调整 label 默认 options */\n\n\n  PieLayer.prototype.adjustLabelDefaultOptions = function (options) {\n    var labelConfig = __assign({}, options.label);\n\n    if (labelConfig && labelConfig.type === 'inner') {\n      var labelStyleConfig = labelConfig.style || {};\n\n      if (!labelStyleConfig.textAlign) {\n        labelStyleConfig.textAlign = 'center';\n      }\n\n      labelConfig.style = labelStyleConfig;\n\n      if (!labelConfig.offset) {\n        labelConfig.offset = -1 / 3 * 100 + \"%\";\n      }\n    }\n\n    return labelConfig;\n  };\n\n  return PieLayer;\n}(ViewLayer);\n\nexport default PieLayer;\nregisterPlotType('pie', PieLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport PieLayer from './layer';\n\nvar Pie =\n/** @class */\nfunction (_super) {\n  __extends(Pie, _super);\n\n  function Pie() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Pie.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'pie';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Pie.getDefaultOptions = PieLayer.getDefaultOptions;\n  return Pie;\n}(BasePlot);\n\nexport default Pie;","import * as _ from '@antv/util';\n\nvar VariableNodes =\n/** @class */\nfunction () {\n  function VariableNodes(cfg) {\n    this.type = 'variable';\n\n    _.assign(this, cfg);\n  }\n\n  VariableNodes.prototype.normalize = function () {};\n\n  return VariableNodes;\n}();\n\nexport default VariableNodes;","import responsiveRing from './geometry';\nvar preRenderResponsive = [{\n  name: 'responsiveRing',\n  method: responsiveRing\n}];\nvar afterRenderResponsive = [];\nexport default {\n  preRender: preRenderResponsive\n};","import { getCoordinate } from '@antv/coord';\nimport VariableNodes from '../../../util/responsive/node/variable-node';\nimport Responsive from '../../../util/responsive/responsive';\nexport default function responsiveRing(layer) {\n  var props = layer.options;\n  var responsiveTheme = layer.getResponsiveTheme();\n  var padding = props.padding;\n  var radius = props.radius ? props.radius : 1;\n  var width = layer.width,\n      height = layer.height;\n  /** 创建坐标系 */\n\n  var polar = getCoordinate('polar');\n  var coord = new polar({\n    radius: radius,\n    start: {\n      x: padding[3],\n      y: padding[0]\n    },\n    end: {\n      x: width - padding[1],\n      y: height - padding[2]\n    }\n  });\n  var region = {\n    radius: radius,\n    coord: coord\n  };\n  var nodes = new VariableNodes({\n    nodes: [{\n      name: 'innerRadius',\n      value: 0\n    }]\n  });\n  var constraints = responsiveTheme.ring.constraints;\n  new Responsive({\n    nodes: nodes,\n    constraints: constraints,\n    region: region,\n    plot: layer,\n    onEnd: function onEnd() {\n      props.innerRadius = nodes.nodes[0].value;\n    }\n  });\n}","import { registerResponsiveTheme } from '../../../util/responsive/theme';\n/** 组装theme\n * 其实这个应该是扩展自pie的，anyway，先这样写\n */\n\nvar ringTheme = {\n  ring: {\n    constraints: [{\n      name: 'ringThickness'\n    }, {\n      name: 'minRingThickness'\n    }]\n  }\n};\nregisterResponsiveTheme('ring', ringTheme);","/*tslint:disable*/\nvar containerStyle = \"color:#8c8c8c;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;\";\nvar nameStyle = 'font-weight:300;';\nvar valueStyle = 'font-size:32px;font-weight:bold;color:#4D4D4D';\n\nfunction getSingleDataTemplate(value, classId, size) {\n  var domStyle = containerStyle + \"width:\" + size + \"px;\";\n  return \"<div class=\\\"ring-guide-html \" + classId + \"\\\" style=\" + domStyle + \"><span class=\\\"ring-guide-value\\\" style=\" + valueStyle + \">\" + value + \"</span></div>\";\n}\n\nfunction getTwoDataTemplate(name, value, classId, size) {\n  var domStyle = containerStyle + \"width:\" + size + \"px;\";\n  return \"<div class=\\\"ring-guide-html \" + classId + \"\\\" style=\" + domStyle + \"><span class=\\\"ring-guide-name\\\" style=\" + nameStyle + \">\" + name + \"</span><br/><span class=\\\"ring-guide-value\\\" style=\" + valueStyle + \">\" + value + \"</span></div>\";\n}\n\nexport { getSingleDataTemplate, getTwoDataTemplate };","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onRingClick: 'interval:click',\n  onRingDblclick: 'interval:dblclick',\n  onRingMousemove: 'interval:mousemove',\n  onRingMouseenter: 'interval:mouseenter',\n  onRingMouseleave: 'interval:mouseleave',\n  onRingMousedown: 'interval:mousedown',\n  onRingMouseup: 'interval:mouseup',\n  onRingContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport PieLayer from '../pie/layer';\nimport responsiveMethods from './apply-responsive';\nimport './apply-responsive/theme';\nimport * as statisticTemplate from './component/statistic-template';\nimport * as EventParser from './event';\nvar G2_GEOM_MAP = {\n  ring: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'ring'\n};\n\nvar RingLayer =\n/** @class */\nfunction (_super) {\n  __extends(RingLayer, _super);\n\n  function RingLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'ring';\n    return _this;\n  }\n\n  RingLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      radius: 0.8,\n      innerRadius: 0.64,\n      statistic: {\n        visible: true,\n        triggerOn: 'mouseenter',\n        triggerOff: 'mouseleave'\n      }\n    });\n  };\n\n  RingLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props); // @ts-ignore\n\n\n    var defaultOptions = this.constructor.getDefaultOptions();\n    return _.deepMix({}, options, defaultOptions, props);\n  };\n\n  RingLayer.prototype.beforeInit = function () {\n    _super.prototype.beforeInit.call(this);\n\n    RingLayer.centralId++;\n    this.statisticClass = \"statisticClassId\" + RingLayer.centralId;\n    var props = this.options;\n    /** 响应式图形 */\n\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  };\n\n  RingLayer.prototype.afterInit = function () {\n    var _this = this;\n\n    _super.prototype.afterInit.call(this);\n    /** 处理环图中心文本响应交互的问题 */\n\n\n    if (this.statistic && this.statistic.visible && this.statistic.triggerOn) {\n      var triggerOnEvent = this.statistic.triggerOn;\n      this.view.on(\"interval:\" + triggerOnEvent, _.debounce(function (e) {\n        var displayData = _this.parseStatisticData(e.data._origin);\n\n        var htmlString = _this.getStatisticHtmlString(displayData);\n\n        document.getElementsByClassName(_this.statisticClass)[0].innerHTML = htmlString;\n      }, 150));\n      var triggerOffEvent = this.statistic.triggerOff ? this.statistic.triggerOff : 'mouseleave';\n      this.view.on(\"interval:\" + triggerOffEvent, _.debounce(function (e) {\n        var totalValue = _this.getTotalValue();\n\n        var displayData = _this.parseStatisticData(totalValue);\n\n        var htmlString = _this.getStatisticHtmlString(displayData);\n\n        document.getElementsByClassName(_this.statisticClass)[0].innerHTML = htmlString;\n      }, 150));\n    }\n  };\n\n  RingLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  RingLayer.prototype.coord = function () {\n    var props = this.options;\n    var coordConfig = {\n      type: 'theta',\n      cfg: {\n        radius: props.radius,\n        innerRadius: props.innerRadius\n      }\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  RingLayer.prototype.annotation = function () {\n    var annotationConfigs = [];\n    var props = this.options;\n\n    if (props.statistic && props.statistic.visible) {\n      var statistic = this.drawStatistic(props.statistic);\n      annotationConfigs.push(statistic);\n      this.statistic = statistic;\n    }\n\n    this.setConfig('annotations', annotationConfigs);\n  };\n\n  RingLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  RingLayer.prototype.drawStatistic = function (config) {\n    var statistic = _.deepMix({}, {\n      type: 'html',\n      top: true,\n      position: ['50%', '50%'],\n      triggerOn: 'mouseenter'\n    }, config);\n    /** 中心文本内容 */\n\n\n    var displayData;\n\n    if (config.content) {\n      displayData = config.content;\n    } else {\n      /** 用户没有指定文本内容时，默认显示总计 */\n      var data = this.getTotalValue();\n      displayData = this.parseStatisticData(data);\n    }\n    /** 中心文本显示 */\n\n\n    var htmlString;\n\n    if (config.htmlContent) {\n      htmlString = config.htmlContent(displayData);\n    } else {\n      htmlString = this.getStatisticTemplate(displayData);\n    }\n\n    statistic.html = htmlString;\n    /** 是否响应状态量 */\n\n    if (statistic.triggerOn) {\n      this.setConfig('tooltip', false);\n    }\n\n    return statistic;\n  };\n  /** 获取总计数据 */\n\n\n  RingLayer.prototype.getTotalValue = function () {\n    var _a;\n\n    var props = this.options;\n    var total = 0;\n\n    _.each(props.data, function (item) {\n      if (typeof item[props.angleField] === 'number') {\n        total += item[props.angleField];\n      }\n    });\n\n    var data = (_a = {}, _a[props.angleField] = total, _a[props.colorField] = '总计', _a);\n    return data;\n  };\n\n  RingLayer.prototype.parseStatisticData = function (data) {\n    var props = this.options;\n    var angleField = props.angleField;\n    return props.colorField ? {\n      name: data[props.colorField],\n      value: data[angleField]\n    } : data[angleField];\n  };\n\n  RingLayer.prototype.getStatisticTemplate = function (displayData) {\n    var size = this.getStatisticSize();\n    var htmlString;\n    /** 如果文本内容为string或单条数据 */\n\n    if (_.isString(displayData)) {\n      htmlString = statisticTemplate.getSingleDataTemplate(displayData, this.statisticClass, size);\n    } else if (_.isObject(displayData) && _.keys(displayData).length === 2) {\n      /** 如果文本内容为两条数据 */\n      var content = displayData;\n      htmlString = statisticTemplate.getTwoDataTemplate(content.name, content.value, this.statisticClass, size);\n    }\n    /** 更为复杂的文本要求用户自行制定html模板 */\n\n\n    return htmlString;\n  };\n  /** 获取中心文本的htmlString */\n\n\n  RingLayer.prototype.getStatisticHtmlString = function (_displayData) {\n    var triggerOnConfig = this.statistic.triggerOn;\n    var htmlString;\n\n    if (_.isString(triggerOnConfig)) {\n      htmlString = this.getStatisticTemplate(_displayData);\n    }\n\n    if (_.isFunction(triggerOnConfig)) {\n      htmlString = triggerOnConfig(_displayData);\n      htmlString = \"<div class=\\\"ring-guide-html \" + this.statisticClass + \"\\\">\" + htmlString + \"</div>\";\n    }\n\n    return htmlString;\n  };\n\n  RingLayer.prototype.applyResponsive = function (stage) {\n    var _this = this;\n\n    var methods = responsiveMethods[stage];\n\n    _.each(methods, function (r) {\n      var responsive = r;\n      responsive.method(_this);\n    });\n  };\n\n  RingLayer.prototype.getStatisticSize = function () {\n    return this.width * this.options.radius;\n  };\n  /** @override 调整 label 默认 options */\n\n\n  RingLayer.prototype.adjustLabelDefaultOptions = function (options) {\n    var labelConfig = __assign({}, options.label);\n\n    if (labelConfig && labelConfig.type === 'inner') {\n      var labelStyleConfig = labelConfig.style || {};\n\n      if (!labelStyleConfig.textAlign) {\n        labelStyleConfig.textAlign = 'center';\n      }\n\n      labelConfig.style = labelStyleConfig;\n\n      if (!labelConfig.offset) {\n        labelConfig.offset = (options.innerRadius - 1) / 2 * 100 + \"%\";\n      }\n    }\n\n    return labelConfig;\n  };\n\n  RingLayer.centralId = 0;\n  return RingLayer;\n}(PieLayer);\n\nexport default RingLayer;\nregisterPlotType('ring', RingLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport RingLayer from './layer';\n\nvar Ring =\n/** @class */\nfunction (_super) {\n  __extends(Ring, _super);\n\n  function Ring() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Ring.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'ring';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Ring.getDefaultOptions = RingLayer.getDefaultOptions;\n  return Ring;\n}(BasePlot);\n\nexport default Ring;","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onAreaClick: 'area:click',\n  onAreaDblclick: 'area:dblclick',\n  onAreaMousemove: 'area:mousemove',\n  onAreaMouseenter: 'area:mouseenter',\n  onAreaMouseleave: 'area:mouseleave',\n  onAreaMousedown: 'area:mousedown',\n  onAreaMouseup: 'area:mouseup',\n  onAreaContextmenu: 'area:contextmenu',\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineContextmenu: 'line:contextmenu',\n  onPointClick: 'point:click',\n  onPointDblclick: 'point:dblclick',\n  onPointMousemove: 'point:mousemove',\n  onPointMouseenter: 'point:mouseenter',\n  onPointMouseleave: 'point:mouseleave',\n  onPointMousedown: 'point:mousedown',\n  onPointMouseup: 'point:mouseup',\n  onPointContextmenu: 'point:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport * as EventParser from './event';\nvar GEOM_MAP = {\n  area: 'area',\n  line: 'line',\n  point: 'point'\n};\n\nvar RadarLayer =\n/** @class */\nfunction (_super) {\n  __extends(RadarLayer, _super);\n\n  function RadarLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'radar';\n    return _this;\n  }\n\n  RadarLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      width: 400,\n      height: 400,\n      title: {\n        visible: false\n      },\n      description: {\n        visible: false\n      },\n      forceFit: true,\n      padding: 'auto',\n      radius: 0.8,\n      smooth: false,\n      line: {\n        visible: true,\n        size: 2,\n        style: {\n          opacity: 1\n        }\n      },\n      area: {\n        visible: true,\n        style: {\n          opacity: 0.25\n        }\n      },\n      point: {\n        visible: false,\n        size: 4,\n        shape: 'point',\n        style: {\n          opacity: 1\n        }\n      },\n      angleAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: true,\n        autoRotateTitle: true,\n        line: {\n          visible: false\n        },\n        tickLine: {\n          visible: false\n        },\n        grid: {\n          visible: true,\n          style: {\n            lineDash: [0, 0]\n          }\n        },\n        label: {\n          visible: true,\n          offset: 8\n        },\n        title: {\n          visible: false\n        }\n      },\n      radiusAxis: {\n        min: 0,\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: true,\n        autoRotateTitle: true,\n        line: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        gridType: 'line',\n        grid: {\n          visible: true,\n          style: {\n            lineDash: [0, 0]\n          }\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false\n        }\n      },\n      label: {\n        visible: false,\n        type: 'point'\n      },\n      legend: {\n        visible: true,\n        position: 'left-top'\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        crosshairs: null\n      }\n    });\n  };\n\n  RadarLayer.prototype.init = function () {\n    var props = this.options;\n    props.xField = props.angleField;\n    props.yField = props.radiusField;\n\n    _super.prototype.init.call(this);\n  };\n\n  RadarLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props); // @ts-ignore\n\n\n    var defaultOptions = this.constructor.getDefaultOptions();\n    return _.deepMix({}, options, defaultOptions, props);\n  };\n\n  RadarLayer.prototype.geometryParser = function (dim, type) {\n    return GEOM_MAP[type];\n  };\n\n  RadarLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[props.angleField] = {};\n\n    if (_.has(props, 'angleAxis')) {\n      extractScale(scales[props.angleField], props.angleAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[props.radiusField] = {};\n\n    if (_.has(props, 'radiusAxis')) {\n      extractScale(scales[props.radiusField], props.radiusAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  RadarLayer.prototype.coord = function () {\n    var props = this.options;\n    var coordConfig = {\n      type: 'polar',\n      cfg: {\n        radius: props.radius\n      }\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  RadarLayer.prototype.axis = function () {\n    var props = this.options;\n    var xAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'angle'\n    });\n    var yAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'radius'\n    });\n    var axesConfig = {\n      fields: {}\n    };\n    axesConfig.fields[props.angleField] = xAxis_parser;\n    axesConfig.fields[props.radiusField] = yAxis_parser;\n    /** 存储坐标轴配置项到config */\n\n    this.setConfig('axes', axesConfig);\n  };\n\n  RadarLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    /** 配置面积 */\n\n    if (props.area.visible) {\n      var area = getGeom('area', 'main', {\n        plot: this\n      });\n      this.setConfig('element', area);\n      this.area = area;\n    }\n    /** 配置线 */\n\n\n    if (props.line && props.line.visible) {\n      var line = getGeom('line', 'guide', {\n        plot: this\n      });\n      this.setConfig('element', line);\n      this.line = line;\n    }\n    /** 配置点 */\n\n\n    if (props.point && props.point.visible) {\n      var point = getGeom('point', 'guide', {\n        plot: this\n      });\n      this.setConfig('element', point);\n      this.point = point;\n    }\n  };\n\n  RadarLayer.prototype.label = function () {};\n\n  RadarLayer.prototype.annotation = function () {};\n\n  RadarLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      // 关闭动画\n      if (this.area) this.area.animate = false;\n      if (this.line) this.line.animate = false;\n      if (this.point) this.point.animate = false;\n    }\n  };\n\n  RadarLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  return RadarLayer;\n}(ViewLayer);\n\nexport default RadarLayer;\nregisterPlotType('radar', RadarLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport RadarLayer from './layer';\n\nvar Radar =\n/** @class */\nfunction (_super) {\n  __extends(Radar, _super);\n\n  function Radar() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Radar.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'radar';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Radar.getDefaultOptions = RadarLayer.getDefaultOptions;\n  return Radar;\n}(BasePlot);\n\nexport default Radar;","import { Circle } from '@antv/g';\nimport { Global, registerShape } from '@antv/g2';\nimport * as _ from '@antv/util';\nvar ShapeUtil = {\n  splitPoints: function splitPoints(obj) {\n    var points = [];\n    var x = obj.x;\n    var y = obj.y;\n    y = _.isArray(y) ? y : [y];\n\n    _.each(y, function (yItem, index) {\n      var point = {\n        x: _.isArray(x) ? x[index] : x,\n        y: yItem\n      };\n      points.push(point);\n    });\n\n    return points;\n  },\n  addFillAttrs: function addFillAttrs(attrs, cfg) {\n    if (cfg.color && !attrs.fill) {\n      attrs.fill = cfg.color;\n    }\n\n    if (_.isNumber(cfg.opacity)) {\n      attrs.opacity = attrs.fillOpacity = cfg.opacity;\n    }\n  },\n  addStrokeAttrs: function addStrokeAttrs(attrs, cfg) {\n    if (cfg.color && !attrs.stroke) {\n      attrs.stroke = cfg.color;\n    }\n\n    if (_.isNumber(cfg.opacity)) {\n      attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n    }\n  }\n};\nvar ValueUtil = {\n  lerp: function lerp(a, b, factor) {\n    return (1 - factor) * a + factor * b;\n  }\n};\n\nvar getFillAttrs = function getFillAttrs(cfg) {\n  var defaultAttrs = Global.theme.shape.interval;\n\n  var attrs = _.mix({}, defaultAttrs, cfg.style);\n\n  ShapeUtil.addFillAttrs(attrs, cfg);\n\n  if (cfg.color && !attrs.stroke) {\n    attrs.stroke = attrs.stroke || cfg.color;\n  }\n\n  return attrs;\n};\n\nvar getLineAttrs = function getLineAttrs(cfg) {\n  var defaultAttrs = Global.theme.shape.hollowInterval;\n\n  var attrs = _.mix({}, defaultAttrs, cfg.style);\n\n  ShapeUtil.addStrokeAttrs(attrs, cfg);\n  return attrs;\n};\n/**\n * 用贝塞尔曲线模拟正弦波\n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param {number} x          x position of the left-most point (a)\n * @param {number} stage      0-3, stating which part of the wave it is\n * @param {number} waveLength wave length of the sine wave\n * @param {number} amplitude  wave amplitude\n * @return {Array} 正弦片段曲线\n */\n\n\nfunction getWaterWavePositions(x, stage, waveLength, amplitude) {\n  if (stage === 0) {\n    return [[x + 1 / 2 * waveLength / Math.PI / 2, amplitude / 2], [x + 1 / 2 * waveLength / Math.PI, amplitude], [x + waveLength / 4, amplitude]];\n  }\n\n  if (stage === 1) {\n    return [[x + 1 / 2 * waveLength / Math.PI / 2 * (Math.PI - 2), amplitude], [x + 1 / 2 * waveLength / Math.PI / 2 * (Math.PI - 1), amplitude / 2], [x + waveLength / 4, 0]];\n  }\n\n  if (stage === 2) {\n    return [[x + 1 / 2 * waveLength / Math.PI / 2, -amplitude / 2], [x + 1 / 2 * waveLength / Math.PI, -amplitude], [x + waveLength / 4, -amplitude]];\n  }\n\n  return [[x + 1 / 2 * waveLength / Math.PI / 2 * (Math.PI - 2), -amplitude], [x + 1 / 2 * waveLength / Math.PI / 2 * (Math.PI - 1), -amplitude / 2], [x + waveLength / 4, 0]];\n}\n/**\n * 获取水波路径\n * @param  {number} radius          半径\n * @param  {number} waterLevel      水位\n * @param  {number} waveLength      波长\n * @param  {number} phase           相位\n * @param  {number} amplitude       震幅\n * @param  {number} cx              圆心x\n * @param  {number} cy              圆心y\n * @return {Array}  path            路径\n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\n\n\nfunction getWaterWavePath(radius, waterLevel, waveLength, phase, amplitude, cx, cy) {\n  var curves = Math.ceil(2 * radius / waveLength * 4) * 2;\n  var path = [];\n  var _phase = phase; // map phase to [-Math.PI * 2, 0]\n\n  while (_phase < -Math.PI * 2) {\n    _phase += Math.PI * 2;\n  }\n\n  while (_phase > 0) {\n    _phase -= Math.PI * 2;\n  }\n\n  _phase = _phase / Math.PI / 2 * waveLength;\n  var left = cx - radius + _phase - radius * 2;\n  /**\n   * top-left corner as start point\n   *\n   * draws this point\n   *  |\n   * \\|/\n   *  ~~~~~~~~\n   *  |      |\n   *  +------+\n   */\n\n  path.push(['M', left, waterLevel]);\n  /**\n   * top wave\n   *\n   * ~~~~~~~~ <- draws this sine wave\n   * |      |\n   * +------+\n   */\n\n  var waveRight = 0;\n\n  for (var c = 0; c < curves; ++c) {\n    var stage = c % 4;\n    var pos = getWaterWavePositions(c * waveLength / 4, stage, waveLength, amplitude);\n    path.push(['C', pos[0][0] + left, -pos[0][1] + waterLevel, pos[1][0] + left, -pos[1][1] + waterLevel, pos[2][0] + left, -pos[2][1] + waterLevel]);\n\n    if (c === curves - 1) {\n      waveRight = pos[2][0];\n    }\n  }\n  /**\n   * top-right corner\n   *\n   *                       ~~~~~~~~\n   * 3. draws this line -> |      | <- 1. draws this line\n   *                       +------+\n   *                          ^\n   *                          |\n   *                  2. draws this line\n   */\n\n\n  path.push(['L', waveRight + left, cy + radius]);\n  path.push(['L', left, cy + radius]);\n  path.push(['L', left, waterLevel]);\n  return path;\n}\n/**\n * 添加水波\n * @param {number} x           中心x\n * @param {number} y           中心y\n * @param {number} level       水位等级 0～1\n * @param {number} waveCount   水波数\n * @param {number} colors      色值\n * @param {number} group       图组\n * @param {number} clip        用于剪切的图形\n * @param {number} radius      绘制图形的高度\n */\n\n\nfunction addWaterWave(x, y, level, waveCount, color, group, clip, radius) {\n  var bbox = clip.getBBox();\n  var width = bbox.maxX - bbox.minX;\n  var height = bbox.maxY - bbox.minY;\n  var duration = 5000;\n\n  for (var i = 0; i < waveCount; i++) {\n    var factor = waveCount <= 1 ? 0 : i / (waveCount - 1);\n    var wave = group.addShape('path', {\n      attrs: {\n        path: getWaterWavePath(radius, bbox.minY + height * level, width / 4, 0, width / ValueUtil.lerp(56, 64, factor), x, y),\n        fill: color,\n        clip: clip,\n        opacity: ValueUtil.lerp(0.6, 0.3, factor)\n      }\n    }); // FIXME wave animation error in svg\n\n    if (Global.renderer === 'canvas') {\n      wave.animate({\n        transform: [['t', width / 2, 0]],\n        repeat: true\n      }, ValueUtil.lerp(duration, 0.7 * duration, factor));\n    }\n  }\n}\n\nregisterShape('interval', 'liquid-fill-gauge', {\n  draw: function draw(cfg, container) {\n    var cy = 0.5;\n    var sumX = 0;\n    var minX = Infinity;\n\n    _.each(cfg.points, function (p) {\n      if (p.x < minX) {\n        minX = p.x;\n      }\n\n      sumX += p.x;\n    });\n\n    var cx = sumX / cfg.points.length;\n    var cp = this.parsePoint({\n      x: cx,\n      y: cy\n    });\n    var minP = this.parsePoint({\n      x: minX,\n      y: 0.5\n    });\n    var xWidth = cp.x - minP.x;\n    var radius = Math.min(xWidth, minP.y);\n    var fill = getFillAttrs(cfg).fill;\n    var clipCircle = new Circle({\n      attrs: {\n        x: cp.x,\n        y: cp.y,\n        r: radius\n      }\n    });\n    var waves = container.addGroup({\n      name: 'waves',\n      attrs: {\n        x: cp.x,\n        y: cp.y,\n        clip: clipCircle\n      }\n    });\n    addWaterWave(cp.x, cp.y, 1 - cfg.points[1].y, // cfg.y / (2 * cp.y),\n    3, fill, waves, clipCircle, radius * 4);\n    return container.addShape('circle', {\n      name: 'wrap',\n      attrs: _.mix(getLineAttrs(cfg), {\n        x: cp.x,\n        y: cp.y,\n        r: radius,\n        fill: 'transparent'\n      })\n    });\n  }\n});","import { Animate } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nfunction liquidMoveIn(shape, animateCfg) {\n  var container = shape.get('parent');\n  var box = container.getBBox();\n  var factor = Math.min(Math.max(0, _.get(animateCfg, 'factor', 0.5)), 1);\n\n  var delay = _.get(animateCfg, 'delay', 0);\n\n  var duration = _.get(animateCfg, 'duration', 800);\n\n  var callback = animateCfg.callback;\n  var originX = (box.minX + box.maxX) / 2;\n  var originY = box.maxY;\n  var wrap = container.find(function (shape) {\n    return shape.get('name') == 'wrap';\n  });\n  var wrapTargetOpacity = wrap.attr('opacity');\n  wrap.attr('opacity', 0);\n  wrap.animate({\n    opacity: wrapTargetOpacity\n  }, duration * factor, 'easeLinear', null, delay);\n  var waves = container.find(function (shape) {\n    return shape.get('name') == 'waves';\n  });\n\n  var wavesTargetMatrix = _.clone(waves.attr('matrix'));\n\n  waves.attr('transform', [['t', -originX, -originY], ['s', 1, 0], ['t', originX, originY]]);\n  waves.animate({\n    matrix: wavesTargetMatrix\n  }, duration, animateCfg.easing, function () {\n    return callback && callback(container, wrap, waves);\n  }, delay);\n}\n\nliquidMoveIn.animationName = 'liquidMoveIn';\nAnimate.registerAnimation('appear', 'liquidMoveIn', liquidMoveIn);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport './geometry/shape/liquid';\nimport './animation/liquid-move-in';\nimport { rgb2arr } from '../../util/color';\nvar G2_GEOM_MAP = {\n  column: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'liquid'\n};\n\nvar LiquidLayer =\n/** @class */\nfunction (_super) {\n  __extends(LiquidLayer, _super);\n\n  function LiquidLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'liquid';\n    _this.shouldFadeInAnnotation = true;\n    return _this;\n  }\n\n  LiquidLayer.getDefaultOptions = function () {\n    var cfg = {\n      animation: {\n        factor: 0.4,\n        easing: 'easeExpOut',\n        duration: 800\n      },\n      liquidStyle: {\n        lineWidth: 2\n      }\n    };\n    return _.deepMix({}, _super.getDefaultOptions.call(this), cfg);\n  };\n\n  LiquidLayer.prototype.init = function () {\n    this.options.data = [{}];\n\n    _super.prototype.init.call(this);\n  };\n\n  LiquidLayer.prototype.coord = function () {};\n\n  LiquidLayer.prototype.scale = function () {\n    var props = this.options;\n    var min = props.min,\n        max = props.max;\n    var scales = {\n      value: {}\n    };\n    extractScale(scales.value, {\n      min: Math.min(min, max),\n      max: Math.max(min, max)\n    }); // @ts-ignore\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  LiquidLayer.prototype.axis = function () {\n    this.setConfig('axes', false);\n  };\n\n  LiquidLayer.prototype.adjustLiquid = function (liquid) {\n    var props = this.options;\n    liquid.shape = {\n      values: ['liquid-fill-gauge']\n    };\n    liquid.tooltip = false;\n    var liquidStyle = props.liquidStyle;\n    if (_.isFunction(liquidStyle)) liquidStyle = liquidStyle();\n\n    if (liquidStyle) {\n      liquid.style = liquidStyle;\n    }\n  };\n\n  LiquidLayer.prototype.addGeometry = function () {\n    var liquid = getGeom('interval', 'main', {\n      positionFields: ['_', 'value'],\n      plot: this\n    });\n    this.adjustLiquid(liquid);\n    this.liquid = liquid;\n    this.setConfig('element', liquid);\n  };\n\n  LiquidLayer.prototype.animation = function () {\n    var props = this.options;\n\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.liquid.animate = false;\n    } else {\n      var factor = _.get(props, 'animation.factor');\n\n      var easing = _.get(props, 'animation.easing');\n\n      var duration = _.get(props, 'animation.duration');\n\n      this.liquid.animate = {\n        appear: {\n          animation: 'liquidMoveIn',\n          factor: factor,\n          easing: easing,\n          duration: duration\n        }\n      };\n    }\n  };\n\n  LiquidLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  LiquidLayer.prototype.annotation = function () {\n    var annotationConfigs = [];\n    var statisticConfig = this.extractStatistic();\n    annotationConfigs.push(statisticConfig);\n    this.setConfig('annotations', annotationConfigs);\n  };\n\n  LiquidLayer.prototype.extractStatistic = function () {\n    var props = this.options;\n    var statistic = props.statistic || {};\n    var content;\n\n    if (_.isFunction(statistic.formatter)) {\n      content = statistic.formatter(props.value);\n    } else {\n      content = \"\" + props.value;\n    }\n\n    var fontSize;\n    var shadowBlur;\n\n    if (content) {\n      var contentWidth = void 0;\n\n      if (props.width < props.height) {\n        contentWidth = props.width * 0.8;\n      } else {\n        contentWidth = props.height;\n      }\n\n      fontSize = 0.8 * contentWidth / content.length;\n      shadowBlur = Math.max(1, Math.ceil(0.025 * fontSize));\n    }\n\n    var opacity;\n\n    if (statistic.visible === false) {\n      opacity = 0;\n    }\n\n    var statisticConfig = _.deepMix({\n      style: {\n        fontSize: fontSize,\n        shadowBlur: shadowBlur\n      }\n    }, statistic, {\n      top: true,\n      content: content,\n      type: 'text',\n      position: ['_', 'median'],\n      style: {\n        opacity: opacity,\n        fill: 'transparent',\n        shadowColor: 'transparent',\n        textAlign: 'center'\n      }\n    });\n\n    delete statisticConfig.visible;\n    delete statisticConfig.formatter;\n    delete statisticConfig.adjustColor;\n    return statisticConfig;\n  };\n\n  LiquidLayer.prototype.afterRender = function () {\n    _super.prototype.afterRender.call(this);\n\n    this.fadeInAnnotation();\n  };\n\n  LiquidLayer.prototype.processData = function (data) {\n    var props = this.options;\n    return [{\n      _: '_',\n      value: props.value\n    }];\n  };\n\n  LiquidLayer.prototype.changeValue = function (value) {\n    var props = this.options;\n    props.value = value;\n    this.changeData([]);\n  };\n\n  LiquidLayer.prototype.fadeInAnnotation = function () {\n    var _this = this;\n\n    var props = this.options;\n    var animation = props.animation || {};\n    var annotations = this.view.annotation().annotations;\n    var annotationEl = annotations[0].get('el');\n    var colorStyle = this.calcAnnotationColorStyle();\n\n    if (this.shouldFadeInAnnotation) {\n      annotationEl.animate(colorStyle, animation.duration * Math.min(1, 1.5 * animation.factor), null, function () {\n        _this.shouldFadeInAnnotation = false;\n      });\n    } else {\n      _.forIn(colorStyle, function (v, k) {\n        return annotationEl.attr(k, v);\n      });\n    }\n  };\n\n  LiquidLayer.prototype.calcAnnotationColorStyle = function () {\n    var props = this.options;\n    var lightColorStyle = {\n      fill: '#f6f6f6',\n      shadowColor: 'black'\n    };\n    var darkColorStyle = {\n      fill: '#303030',\n      shadowColor: 'white'\n    };\n\n    if (_.get(props, 'statistic.adjustColor') === false) {\n      return {\n        fill: _.get(props, 'statistic.style.fill', darkColorStyle.fill),\n        shadowColor: _.get(props, 'statistic.style.shadowColor', darkColorStyle.shadowColor)\n      };\n    }\n\n    var min = props.min,\n        max = props.max;\n    var value = props.value;\n    min = Math.min(min, max);\n    max = Math.max(min, max);\n    var percent;\n\n    if (min == max) {\n      percent = 1;\n    } else {\n      percent = (value - min) / (max - min);\n    }\n\n    if (percent > 0.55) {\n      var waves = this.view.get('elements')[0].get('container').find(function (shape) {\n        return shape.get('name') == 'waves';\n      });\n      var wave = waves.getChildByIndex(0);\n      var waveColor = wave.attr('fill');\n      var waveOpacity = 0.8;\n      var rgb = rgb2arr(waveColor);\n      var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / waveOpacity;\n      return gray < 156 ? lightColorStyle : darkColorStyle;\n    }\n\n    return darkColorStyle;\n  };\n\n  LiquidLayer.prototype.updateConfig = function (cfg) {\n    _super.prototype.updateConfig.call(this, cfg);\n\n    this.shouldFadeInAnnotation = true;\n  };\n\n  return LiquidLayer;\n}(ViewLayer);\n\nexport default LiquidLayer;\nregisterPlotType('liquid', LiquidLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport LiquidLayer from './layer';\n\nvar Liquid =\n/** @class */\nfunction (_super) {\n  __extends(Liquid, _super);\n\n  function Liquid() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Liquid.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'liquid';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Liquid.prototype.changeValue = function (value, all) {\n    if (all === void 0) {\n      all = false;\n    }\n\n    if (all) {\n      this.eachLayer(function (layer) {\n        if (layer instanceof LiquidLayer) {\n          layer.changeValue(value);\n        }\n      });\n    } else {\n      var layer = this.layers[0];\n\n      if (layer instanceof LiquidLayer) {\n        layer.changeValue(value);\n      }\n    }\n  };\n\n  Liquid.getDefaultOptions = LiquidLayer.getDefaultOptions;\n  return Liquid;\n}(BasePlot);\n\nexport default Liquid;","import { registerShape } from '@antv/g2';\nvar POINTER_RADIUS = 10;\nvar POINTER_LINE_WIDTH = 4;\nregisterShape('point', 'pointer', {\n  draw: function draw(cfg, group) {\n    var point = cfg.points[0];\n    var center = this.parsePoint({\n      x: 0,\n      y: 0\n    });\n    var target = this.parsePoint({\n      x: point.x,\n      y: 0.5\n    });\n    var dir_vec = {\n      x: center.x - target.x,\n      y: center.y - target.y\n    }; //normalize\n\n    var length = Math.sqrt(dir_vec.x * dir_vec.x + dir_vec.y * dir_vec.y);\n    dir_vec.x *= 1 / length;\n    dir_vec.y *= 1 / length; //rotate dir_vector by -90 and scale\n\n    var angle1 = -Math.PI / 2;\n    var x_1 = Math.cos(angle1) * dir_vec.x - Math.sin(angle1) * dir_vec.y;\n    var y_1 = Math.sin(angle1) * dir_vec.x + Math.cos(angle1) * dir_vec.y; //rotate dir_vector by 90 and scale\n\n    var angle2 = Math.PI / 2;\n    var x_2 = Math.cos(angle2) * dir_vec.x - Math.sin(angle2) * dir_vec.y;\n    var y_2 = Math.sin(angle2) * dir_vec.x + Math.cos(angle2) * dir_vec.y; // startx\n\n    var angle = Math.atan2(dir_vec.y, dir_vec.x);\n    var offset = POINTER_LINE_WIDTH / 2 - POINTER_RADIUS;\n    var startX = center.x + Math.cos(angle) * offset;\n    var startY = center.y + Math.sin(angle) * offset; //polygon vertex\n\n    var path = [['M', target.x + x_1 * 1, target.y + y_1 * 1], ['L', startX + x_1 * 3, startY + y_1 * 3], ['L', startX + x_2 * 3, startY + y_2 * 3], ['L', target.x + x_2 * 1, target.y + y_2 * 1], ['Z']];\n    group.addShape('circle', {\n      attrs: {\n        x: center.x,\n        y: center.y,\n        r: POINTER_RADIUS,\n        lineWidth: POINTER_LINE_WIDTH,\n        stroke: cfg.color\n      }\n    });\n    var tick = group.addShape('path', {\n      attrs: {\n        path: path,\n        fill: cfg.color\n      }\n    });\n    return tick;\n  }\n});","import { registerTheme } from '../../theme';\nregisterTheme('gauge', {\n  stripWidth: 30,\n  stripBackColor: '#ddd',\n  tickInterval: 20,\n  tickLabelPos: 'inner',\n  tickLabelSize: 16,\n  tickLabelColor: '#aaa',\n  tickLineColor: '#aaa',\n  subTickCount: 4,\n  labelPos: ['50%', '80%'],\n  labelColor: '#666',\n  labelSize: 30\n});","import { __extends, __spreadArrays } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { extractScale } from '../../util/scale';\nimport './geometry/shape/pointer';\nimport './theme';\nvar GAP = 1;\nvar RADIUS = 0.9;\n\nvar GaugeLayer =\n/** @class */\nfunction (_super) {\n  __extends(GaugeLayer, _super);\n\n  function GaugeLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'gauge';\n    return _this;\n  }\n\n  GaugeLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      startAngle: -7 / 6,\n      endAngle: 1 / 6,\n      range: [0, 25, 50, 75, 100],\n      gaugeStyle: {\n        tickLineColor: 'rgba(0,0,0,0)',\n        pointerColor: '#bfbfbf',\n        statisticPos: ['50%', '100%']\n      }\n    });\n  };\n\n  GaugeLayer.prototype.init = function () {\n    var _a = this.options,\n        value = _a.value,\n        range = _a.range;\n    var rangeSorted = range.map(function (d) {\n      return +d;\n    }).sort(function (a, b) {\n      return a - b;\n    });\n    var _b = this.options,\n        _c = _b.min,\n        min = _c === void 0 ? rangeSorted[0] : _c,\n        _d = _b.max,\n        max = _d === void 0 ? rangeSorted[rangeSorted.length - 1] : _d,\n        _e = _b.format,\n        format = _e === void 0 ? function (d) {\n      return \"\" + d;\n    } : _e;\n    var valueText = format(value);\n    var styleMix = this.getStyleMix();\n    this.options.styleMix = styleMix;\n    this.options.data = [{\n      value: value || 0\n    }];\n    this.options.valueText = valueText;\n    this.options.min = min;\n    this.options.max = max;\n    this.options.format = format;\n\n    _super.prototype.init.call(this);\n  };\n\n  GaugeLayer.prototype.geometryParser = function (dim, type) {\n    throw new Error('Method not implemented.');\n  };\n\n  GaugeLayer.prototype.getStyleMix = function () {\n    var _a = this.options.gaugeStyle,\n        gaugeStyle = _a === void 0 ? {} : _a;\n\n    var _b = this,\n        width = _b.width,\n        height = _b.height;\n\n    var size = Math.max(width, height) / 20;\n    var defaultStyle = Object.assign({}, this.theme, {\n      stripWidth: size,\n      tickLabelSize: size / 2,\n      statisticSize: size * 1.5\n    });\n    return Object.assign(defaultStyle, gaugeStyle);\n  };\n\n  GaugeLayer.prototype.scale = function () {\n    var _a = this.options,\n        min = _a.min,\n        max = _a.max,\n        format = _a.format,\n        styleMix = _a.styleMix;\n    var scales = {\n      value: {}\n    };\n    extractScale(scales.value, {\n      min: min,\n      max: max,\n      minLimit: min,\n      maxLimit: max,\n      nice: true,\n      formatter: format,\n      // 自定义 tick step\n      tickInterval: styleMix.tickInterval\n    }); // @ts-ignore\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  GaugeLayer.prototype.coord = function () {\n    var coordConfig = {\n      type: 'polar',\n      cfg: {\n        radius: 0.9,\n        startAngle: this.options.startAngle * Math.PI,\n        endAngle: this.options.endAngle * Math.PI\n      }\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  GaugeLayer.prototype.axis = function () {\n    var styleMix = this.options.styleMix;\n    var offset = typeof styleMix.tickLabelPos === 'number' ? -styleMix.tickLabelPos : styleMix.tickLabelPos === 'outer' ? 0.8 : -0.8;\n    var axesConfig = {\n      fields: {\n        value: {},\n        1: {}\n      }\n    };\n    axesConfig.fields.value = {\n      line: null,\n      label: {\n        offset: offset * (styleMix.stripWidth / 1.8 + styleMix.tickLabelSize / 1.5),\n        textStyle: {\n          fontSize: styleMix.tickLabelSize,\n          fill: styleMix.tickLabelColor,\n          textAlign: 'center',\n          textBaseline: 'middle'\n        }\n      },\n      tickLine: {\n        length: offset * (styleMix.stripWidth + 4),\n        stroke: styleMix.tickLineColor,\n        lineWidth: 2,\n        // 由于tickline的zindex在annotation之上，所以使用lineDash实现offset\n        lineDash: [0, styleMix.stripWidth / 2, Math.abs(offset * (styleMix.stripWidth + 4))]\n      },\n      subTickCount: styleMix.subTickCount,\n      subTickLine: {\n        length: offset * (styleMix.stripWidth + 1),\n        stroke: styleMix.tickLineColor,\n        lineWidth: 1,\n        lineDash: [0, styleMix.stripWidth / 2, Math.abs(offset * (styleMix.stripWidth + 1))]\n      },\n      labelAutoRotate: true\n    };\n    axesConfig.fields['1'] = false;\n    this.setConfig('axes', axesConfig);\n  };\n\n  GaugeLayer.prototype.addGeometry = function () {\n    var styleMix = this.options.styleMix;\n    var pointerColor = styleMix.pointerColor || this.config.theme.defaultColor;\n    var pointer = {\n      type: 'point',\n      position: {\n        fields: ['value', '1']\n      },\n      shape: {\n        values: ['pointer']\n      },\n      color: {\n        values: [pointerColor]\n      },\n      animate: false\n    };\n    this.setConfig('element', pointer);\n  };\n\n  GaugeLayer.prototype.annotation = function () {\n    var _a = this.options,\n        min = _a.min,\n        max = _a.max,\n        statistic = _a.statistic,\n        range = _a.range,\n        styleMix = _a.styleMix;\n    var annotationConfigs = []; // @ts-ignore\n\n    if (statistic !== false) {\n      var statistics = this.renderStatistic();\n      annotationConfigs.push(statistics);\n    }\n\n    var arcSize = 1; // 0.965;\n\n    var strips = this.renderArcs(range, arcSize, styleMix);\n    var allArcs = annotationConfigs.concat(strips);\n    this.setConfig('annotations', allArcs);\n  };\n\n  GaugeLayer.prototype.renderArcs = function (range, arcSize, styleMix) {\n    var _this = this;\n\n    var colors = styleMix.colors || this.config.theme.colors;\n\n    var rangeArray = function rangeArray(d) {\n      return __spreadArrays(Array(d).fill(0).map(function (data, i) {\n        return i;\n      }));\n    };\n\n    var count = range.length - 1;\n    var Arcs = [];\n    var Bks = [];\n    var countArray = rangeArray(count);\n\n    _.each(countArray, function (index) {\n      var gap = index === countArray.length - 1 ? 0 : _this.calGapAngle();\n      var arc = {\n        type: 'arc',\n        start: [range[index], arcSize],\n        end: [range[index + 1] - gap, arcSize],\n        style: {\n          stroke: colors[index % colors.length],\n          lineWidth: styleMix.stripWidth\n        }\n      };\n\n      var base = _.deepMix({}, arc, {\n        style: {\n          stroke: styleMix.stripBackColor\n        }\n      });\n\n      Bks.push(base);\n      Arcs.push(arc);\n    }); // 如果range不以0为起始\n\n\n    if (range[0] !== 0) {\n      Bks.push({\n        type: 'arc',\n        start: [0, arcSize],\n        end: [range[0] - this.calGapAngle(), arcSize],\n        style: {\n          stroke: styleMix.stripBackColor,\n          lineWidth: styleMix.stripWidth\n        }\n      });\n    } // 如果range不以100为结束\n\n\n    if (range[range.length - 1] !== 100) {\n      Bks.push({\n        type: 'arc',\n        start: [range[range.length - 1] + this.calGapAngle(), arcSize],\n        end: [100, arcSize],\n        style: {\n          stroke: styleMix.stripBackColor,\n          lineWidth: styleMix.stripWidth\n        }\n      });\n    }\n\n    return Bks.concat(Arcs);\n  };\n\n  GaugeLayer.prototype.statisticHtml = function () {\n    var _a = this.options,\n        value = _a.value,\n        format = _a.format;\n    var statistic = this.options.statistic;\n    var formatted = format(value);\n\n    if (typeof statistic === 'boolean' && statistic === true) {\n      return value !== null ? formatted : '--';\n    }\n\n    if (typeof statistic === 'string') {\n      return statistic;\n    }\n\n    if (typeof statistic === 'function') {\n      return statistic(value, formatted);\n    }\n\n    return null;\n  };\n\n  GaugeLayer.prototype.renderStatistic = function () {\n    var _a = this.options,\n        statistic = _a.statistic,\n        styleMix = _a.styleMix;\n    var statisticHtml = this.statisticHtml();\n\n    if (typeof statistic !== 'function') {\n      var text = {\n        type: 'text',\n        content: statisticHtml,\n        top: true,\n        position: styleMix.statisticPos,\n        style: {\n          fill: styleMix.statisticColor,\n          fontSize: styleMix.statisticSize,\n          textAlign: 'center'\n        }\n      };\n      return text;\n    }\n\n    if (typeof statistic === 'function') {\n      var html = {\n        type: 'html',\n        zIndex: 10,\n        position: styleMix.statisticPos,\n        html: statisticHtml\n      };\n      return html;\n    }\n  };\n\n  GaugeLayer.prototype.calGapAngle = function () {\n    var ratio = Math.abs(this.options.startAngle - this.options.endAngle) / Math.PI * 100;\n    var radius = this.width / 2 * RADIUS;\n    return GAP / radius * ratio;\n  };\n\n  return GaugeLayer;\n}(ViewLayer);\n\nexport default GaugeLayer;\nregisterPlotType('gauge', GaugeLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport GaugeLayer from './layer';\n\nvar Gauge =\n/** @class */\nfunction (_super) {\n  __extends(Gauge, _super);\n\n  function Gauge() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Gauge.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'gauge';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Gauge.getDefaultOptions = GaugeLayer.getDefaultOptions;\n  return Gauge;\n}(BasePlot);\n\nexport default Gauge;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport AreaLayer from './layer';\n\nvar Area =\n/** @class */\nfunction (_super) {\n  __extends(Area, _super);\n\n  function Area() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Area.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'area';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Area.getDefaultOptions = AreaLayer.getDefaultOptions;\n  return Area;\n}(BasePlot);\n\nexport default Area;","import { __assign, __extends } from \"tslib\";\nimport { Text } from '@antv/g';\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nvar DEFAULT_SIZE = 12;\nvar TOLERANCE = 0.01;\nvar MAX_ITERATION = 100;\nvar MIN_HEIGHT = 12;\n\nfunction getRange(points) {\n  var maxHeight = -Infinity;\n  var min = Infinity;\n  var max = -Infinity;\n\n  _.each(points, function (p) {\n    min = Math.min(p.x, min);\n    max = Math.max(p.x, max);\n    var height = Math.abs(p.y[0] - p.y[1]);\n    maxHeight = Math.max(maxHeight, height);\n  });\n\n  return {\n    xRange: [min, max],\n    maxHeight: maxHeight\n  };\n}\n\nfunction interpolateY(x, points, index) {\n  var leftPoint = points[0];\n  var rightPoint = points[points.length - 1];\n\n  _.each(points, function (p) {\n    if (p.x === x) {\n      return p.y[index];\n    }\n\n    if (p.x < x && p.x > leftPoint.x) {\n      leftPoint = p;\n    }\n\n    if (p.x > x && p.x < rightPoint.x) {\n      rightPoint = p;\n    }\n  });\n\n  var t = (x - leftPoint.x) / (rightPoint.x - leftPoint.x);\n  return leftPoint.y[index] * (1 - t) + rightPoint.y[index] * t;\n}\n\nfunction getXIndex(data, x) {\n  // tslint:disable-next-line: prefer-for-of\n  var i;\n\n  for (i = 0; i < data.length; i++) {\n    var d = data[i];\n\n    if (d.x === x || d.x > x) {\n      break;\n    }\n  }\n\n  return i;\n}\n\nvar AreaLabel =\n/** @class */\nfunction (_super) {\n  __extends(AreaLabel, _super);\n\n  function AreaLabel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.scaleFactor = [];\n    return _this;\n  }\n\n  AreaLabel.prototype.showLabels = function (points, shapes) {\n    var _this = this; // 获取堆叠字段\n\n\n    var stackField = this.get('element').get('attrs').color.scales[0].field; // 根据stackField将point分组\n\n    var groupedPoints = this._groupPoints(points, stackField);\n\n    var labelPoints = [];\n\n    _.each(groupedPoints, function (pointArray, name) {\n      var labelPoint = _this._drawLabel(pointArray, name);\n\n      if (labelPoint) {\n        labelPoints.push(_.mix({}, pointArray[0], labelPoint));\n\n        _this.scaleFactor.push(labelPoint.scaleFactor);\n      }\n    });\n\n    _super.prototype.showLabels.call(this, labelPoints, shapes);\n\n    var labelOptions = this.get('labelOptions');\n\n    if (labelOptions.autoScale) {\n      this._adjuestLabelSize();\n    }\n  };\n\n  AreaLabel.prototype._groupPoints = function (points, field) {\n    var groupedPoints = {};\n\n    _.each(points, function (p) {\n      var value = p._origin[field];\n\n      if (!_.has(groupedPoints, value)) {\n        groupedPoints[value] = [];\n      }\n\n      groupedPoints[value].push(p);\n    });\n\n    return groupedPoints;\n  };\n\n  AreaLabel.prototype._drawLabel = function (points, name) {\n    var _a = getRange(points),\n        xRange = _a.xRange,\n        maxHeight = _a.maxHeight; // 根据area宽度在x方向各点间做插值\n\n\n    var resolution = xRange[1] - xRange[0];\n\n    var interpolatedPoints = this._getInterpolatedPoints(xRange[0], resolution, points); // 获取label的bbox\n\n\n    var bbox = this._getLabelBbox(name);\n\n    var fitOption = {\n      xRange: xRange,\n      aspect: bbox.width / bbox.height,\n      data: interpolatedPoints,\n      justTest: true\n    };\n\n    var height = this._bisection(MIN_HEIGHT, maxHeight, this._testFit, fitOption, TOLERANCE, MAX_ITERATION);\n\n    if (height === null) {\n      return;\n    }\n\n    fitOption.justTest = false;\n\n    var fit = this._testFit(fitOption);\n\n    fit.x = fit.x;\n    fit.y = fit.y0 + (fit.y1 - fit.y0) / 2;\n    fit.scaleFactor = height / bbox.height * 0.4;\n    return fit;\n  };\n\n  AreaLabel.prototype._getInterpolatedPoints = function (minX, resolution, points) {\n    var interpolatedPoints = [];\n    var step = 2;\n\n    for (var i = minX; i < resolution; i += step) {\n      var y0 = interpolateY(i, points, 0);\n      var y1 = interpolateY(i, points, 1);\n      interpolatedPoints.push({\n        x: i,\n        y: [y0, y1]\n      });\n    }\n\n    return interpolatedPoints;\n  };\n\n  AreaLabel.prototype._bisection = function (min, max, test, testOption, tolerance, maxIteration) {\n    for (var i = 0; i < maxIteration; i++) {\n      var middle = (min + max) / 2;\n      var options = testOption;\n      options.height = middle;\n      options.width = middle * options.aspect;\n      var passesTest = test(options);\n      var withinTolerance = (max - min) / 2 < tolerance;\n\n      if (passesTest && withinTolerance) {\n        return middle;\n      }\n\n      if (passesTest) {\n        min = middle;\n      } else {\n        max = middle;\n      }\n    }\n\n    return null;\n  };\n\n  AreaLabel.prototype._testFit = function (option) {\n    var xRange = option.xRange,\n        width = option.width,\n        height = option.height,\n        data = option.data,\n        justTest = option.justTest;\n\n    for (var i = 0; i < data.length; i++) {\n      var d = data[i];\n      var x0 = d.x;\n      var x1 = x0 + width;\n\n      if (x1 > xRange[1]) {\n        break;\n      }\n\n      var x1_index = getXIndex(data, x1);\n      var ceiling = -Infinity;\n      var ceilingFloor = null; // 保存ceiling时对应的bottom位置，ceil和floor不一定是一对坐标\n\n      var floor = Infinity;\n\n      for (var j = i; j < x1_index; j++) {\n        var top_1 = data[j].y[1];\n        var bottom = data[j].y[0];\n\n        if (bottom < floor) {\n          floor = bottom;\n        }\n\n        if (top_1 > ceiling) {\n          ceiling = top_1;\n          ceilingFloor = bottom;\n        }\n\n        if (floor - ceiling < height) {\n          break;\n        }\n      }\n\n      if (floor - ceiling >= height) {\n        if (justTest) {\n          return true;\n        }\n\n        return {\n          x: x0,\n          y0: ceiling,\n          y1: ceilingFloor,\n          width: width,\n          height: height\n        };\n      }\n    }\n\n    return false;\n  };\n\n  AreaLabel.prototype._getLabelBbox = function (text) {\n    var plot = this.get('labelOptions').plot;\n\n    var labelStyle = _.clone(plot.theme.label.textStyle);\n\n    labelStyle.fontSize = DEFAULT_SIZE;\n    var tShape = new Text({\n      attrs: __assign({\n        text: text,\n        x: 0,\n        y: 0\n      }, labelStyle)\n    });\n    return tShape.getBBox();\n  };\n\n  AreaLabel.prototype._adjuestLabelSize = function () {\n    var _this = this;\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var view = this.get('element').get('view');\n\n    _.each(labels, function (label, index) {\n      var scaleFactor = _this.scaleFactor[index];\n      label.attr('fontSize', DEFAULT_SIZE);\n      label.transform([['t', -label.attr('x'), -label.attr('y')], ['s', scaleFactor, scaleFactor], ['t', label.attr('x'), label.attr('y')]]);\n    });\n\n    view.get('canvas').draw();\n  };\n\n  return AreaLabel;\n}(ElementLabels);\n\nregisterElementLabels('area', AreaLabel);","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport { deepMix, each } from '@antv/util';\nvar MARGIN = 10;\n\nvar AreaLineElementLabels =\n/** @class */\nfunction (_super) {\n  __extends(AreaLineElementLabels, _super);\n\n  function AreaLineElementLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  AreaLineElementLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    var labelPoints = [];\n    each(shapes, function (shape) {\n      var originData = shape.get('origin');\n      var lastPoint = deepMix({}, originData[originData.length - 1]);\n      var bbox = shape.getBBox();\n      lastPoint.x = bbox.maxX + MARGIN;\n      lastPoint.y = lastPoint.y[1];\n      labelPoints.push(lastPoint);\n    });\n\n    _super.prototype.showLabels.call(this, labelPoints, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var view = this.get('element').get('view');\n    each(labels, function (label) {\n      label.attr('textAlign', 'left');\n      label.attr('textBaseline', 'middle');\n      var origin = label.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var color = _this._adjustColor(shapeId, shapes);\n\n      label.attr('fill', color);\n    });\n    view.get('canvas').draw();\n  };\n\n  AreaLineElementLabels.prototype._adjustColor = function (shapeId, shapes) {\n    var color;\n    each(shapes, function (shape) {\n      var id = shape.id;\n\n      if (id === shapeId) {\n        color = shape.attr('fill');\n      }\n    });\n    return color;\n  };\n\n  return AreaLineElementLabels;\n}(ElementLabels);\n\nregisterElementLabels('areaLine', AreaLineElementLabels);","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { getComponent } from '../../components/factory';\nimport BaseArea from '../area/layer';\nimport './component/label/area-label';\nimport './component/label/line-label';\n\nvar StackAreaLayer =\n/** @class */\nfunction (_super) {\n  __extends(StackAreaLayer, _super);\n\n  function StackAreaLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'stackArea';\n    return _this;\n  }\n\n  StackAreaLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      label: {\n        visible: false,\n        type: 'area'\n      }\n    });\n  };\n\n  StackAreaLayer.prototype.label = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label && label.visible === false) {\n      this.area.label = false;\n      return;\n    }\n\n    var labelType = this.getLabelType(label);\n    /** label类型为line，即跟随在折线尾部时，设置offset为0 */\n\n    if (labelType === 'areaLine' || labelType === 'area') {\n      label.offset = 0;\n    }\n\n    if (labelType === 'area') {\n      label.style = _.deepMix({}, label.style, {\n        lineWidth: 0,\n        stroke: 'rgba(0,0,0,0)'\n      });\n    }\n\n    this.area.label = getComponent('label', __assign({\n      fields: [this.getLabelField(labelType, props)],\n      labelType: labelType,\n      plot: this\n    }, label));\n  };\n\n  StackAreaLayer.prototype.adjustArea = function (ele) {\n    ele.adjust = [{\n      type: 'stack'\n    }];\n  };\n\n  StackAreaLayer.prototype.adjustLine = function (ele) {\n    ele.adjust = [{\n      type: 'stack'\n    }];\n  };\n\n  StackAreaLayer.prototype.adjustPoint = function (ele) {\n    ele.adjust = [{\n      type: 'stack'\n    }];\n  };\n\n  StackAreaLayer.prototype.getLabelField = function (type, props) {\n    var mapper = {\n      point: props.yField,\n      areaLine: props.stackField,\n      area: props.stackField\n    };\n    return mapper[type];\n  };\n\n  StackAreaLayer.prototype.getLabelType = function (labelProps) {\n    if (labelProps.type === 'line') {\n      return 'areaLine';\n    }\n\n    return labelProps.type;\n  };\n\n  return StackAreaLayer;\n}(BaseArea);\n\nexport default StackAreaLayer;\nregisterPlotType('stackArea', StackAreaLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport StackAreaLayer from './layer';\n\nvar StackArea =\n/** @class */\nfunction (_super) {\n  __extends(StackArea, _super);\n\n  function StackArea() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  StackArea.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'stackArea';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  StackArea.getDefaultOptions = StackAreaLayer.getDefaultOptions;\n  return StackArea;\n}(BasePlot);\n\nexport default StackArea;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport StackArea from '../stack-area/layer';\nimport { transformDataPercentage } from '../../util/data';\n\nvar PercentageStackAreaLayer =\n/** @class */\nfunction (_super) {\n  __extends(PercentageStackAreaLayer, _super);\n\n  function PercentageStackAreaLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'percentageStackArea';\n    return _this;\n  }\n\n  PercentageStackAreaLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      yAxis: {\n        visible: true,\n        label: {\n          visible: true,\n          formatter: function formatter(v) {\n            var reg = /%/gi;\n            return v.replace(reg, '');\n          }\n        }\n      }\n    });\n  };\n\n  PercentageStackAreaLayer.prototype.processData = function (originData) {\n    var _a = this.options,\n        xField = _a.xField,\n        yField = _a.yField;\n    return transformDataPercentage(originData, xField, [yField]);\n  };\n\n  PercentageStackAreaLayer.prototype.scale = function () {\n    var metaConfig = {};\n    var yField = this.options.yField;\n    metaConfig[this.options.yField] = {\n      tickCount: 6,\n      alias: yField + \" (%)\",\n      minLimit: 0,\n      maxLimit: 1,\n      formatter: function formatter(v) {\n        var formattedValue = (v * 100).toFixed(1);\n        return formattedValue + \"%\";\n      }\n    };\n    this.options.meta = _.deepMix({}, metaConfig, this.options.meta);\n\n    _super.prototype.scale.call(this);\n  };\n\n  return PercentageStackAreaLayer;\n}(StackArea);\n\nexport default PercentageStackAreaLayer;\nregisterPlotType('percentageStackArea', PercentageStackAreaLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport PercentageStackAreaLayer from './layer';\n\nvar PercentageStackArea =\n/** @class */\nfunction (_super) {\n  __extends(PercentageStackArea, _super);\n\n  function PercentageStackArea() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  PercentageStackArea.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'percentageStackArea';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  PercentageStackArea.getDefaultOptions = PercentageStackAreaLayer.getDefaultOptions;\n  return PercentageStackArea;\n}(BasePlot);\n\nexport default PercentageStackArea;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport { rgb2arr } from '../../../../util/color';\n\nfunction avg(arr) {\n  var sum = 0;\n\n  _.each(arr, function (value) {\n    sum += value;\n  });\n\n  return sum / arr.length;\n}\n\nfunction lerp(a, b, factor) {\n  return (1 - factor) * a + factor * b;\n}\n\nvar FunnelLabel =\n/** @class */\nfunction (_super) {\n  __extends(FunnelLabel, _super);\n\n  function FunnelLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  FunnelLabel.prototype.setLabelPosition = function (point, originPoint, index) {\n    var coord = this.get('coord');\n    var transposed = coord.isTransposed;\n    var point0 = coord.convertPoint(originPoint.points[0]);\n    var point1 = coord.convertPoint(originPoint.points[2]);\n    var width = (point0.x - point1.x) / 2 * (transposed ? -1 : 1);\n    var height = (point0.y - point1.y) / 2 * (transposed ? -1 : 1);\n\n    if (transposed) {\n      point.x -= width;\n    } else {\n      point.y += height;\n    }\n\n    point.textAlign = 'center';\n    point.textBaseline = 'middle';\n  };\n\n  FunnelLabel.prototype.getLabelPoint = function (labelOptions, point, index) {\n    var total = labelOptions.text.length;\n\n    function getDimValue(value, idx) {\n      var v = value;\n\n      if (_.isArray(v)) {\n        if (labelOptions.text.length === 1) {\n          // 如果仅一个label,多个值,取最后一个值\n          if (v.length <= 2) {\n            v = v[value.length - 1];\n          } else {\n            v = avg(v);\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n\n      return v;\n    }\n\n    var label = {\n      text: labelOptions.text[index],\n      x: 0,\n      y: 0,\n      start: {\n        x: 0,\n        y: 0\n      },\n      color: '#fff'\n    };\n    label.x = getDimValue(point.x, index);\n    label.y = getDimValue(point.y, index);\n    this.setLabelPosition(label, point, index);\n    var offsetPoint = this.getLabelOffset(labelOptions, index, total);\n\n    if (labelOptions.offsetX) {\n      offsetPoint.x += labelOptions.offsetX;\n    }\n\n    if (labelOptions.offsetY) {\n      offsetPoint.y += labelOptions.offsetY;\n    }\n\n    this.transLabelPoint(label);\n    label.start = {\n      x: label.x,\n      y: label.y\n    };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = point.color;\n    return label;\n  };\n\n  FunnelLabel.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var view = this.get('element').get('view');\n\n    _.each(labels, function (label, index) {\n      var l = label;\n      var origin = l.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var shape = _this._getShape(shapeId, shapes);\n\n      var adjustColor = _this.get('labelOptions').adjustColor;\n\n      if (adjustColor) {\n        _this.adjustColor(l, shape);\n      }\n    });\n\n    view.get('canvas').draw();\n  };\n\n  FunnelLabel.prototype.adjustColor = function (label, shape) {\n    var shapeColor = shape.attr('fill');\n    var shapeOpacity = _.isNumber(shape.attr('opacity')) ? Math.min(Math.max(0, shape.attr('opacity')), 1) : 1;\n    var rgb = rgb2arr(shapeColor);\n    var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n    var fill = gray < 156 ? '#f6f6f6' : '#303030';\n    label.attr('fill', fill);\n    var coord = this.get('coord');\n    var shapeBBox = shape.getBBox();\n\n    var _a = coord.invertMatrix(shapeBBox.x, shapeBBox.y, 1),\n        shapeStartX = _a[0],\n        shapeStartY = _a[1];\n\n    var _b = coord.invertMatrix(shapeBBox.width, shapeBBox.height, 0),\n        shapeSizeX = _b[0],\n        shapeSizeY = _b[1];\n\n    var _c = [shapeStartX + shapeSizeX, shapeStartY + shapeSizeY],\n        shapeEndX = _c[0],\n        shapeEndY = _c[1];\n    var shapeMinX = Math.min(shapeStartX, shapeEndX);\n    var shapeMaxX = Math.max(shapeStartX, shapeEndX);\n    var shapeMinY = Math.min(shapeStartY, shapeEndY);\n    var shapeMaxY = Math.max(shapeStartY, shapeEndY);\n    var compare = shape.get('__compare__');\n\n    if (compare) {\n      var yValues = compare.yValues;\n      label.attr({\n        x: compare.transpose ? (shapeMinX + shapeMaxX) / 2 : lerp(shapeMinX, shapeMaxX, yValues[0] / (yValues[0] + yValues[1])),\n        y: compare.transpose ? lerp(shapeMinY, shapeMaxY, yValues[0] / (yValues[0] + yValues[1])) : (shapeMinY + shapeMaxY) / 2\n      });\n    }\n\n    var labelBBox = label.getBBox();\n    var shapeContainsLabel = labelBBox.minX >= shapeMinX && labelBBox.maxX <= shapeMaxX && labelBBox.minY >= shapeMinY && labelBBox.maxY <= shapeMaxY;\n    label.set('visible', shapeContainsLabel);\n  };\n\n  FunnelLabel.prototype._getShape = function (shapeId, shapes) {\n    var target;\n\n    _.each(shapes, function (shape) {\n      var s = shape;\n      var id = s.id;\n\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n\n    return target;\n  };\n\n  return FunnelLabel;\n}(ElementLabels);\n\nexport { FunnelLabel };\nregisterElementLabels('funnelLabel', FunnelLabel);","import * as G from '@antv/g';\nimport { Animate } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nfunction funnelScaleInY(shape, animateCfg, coord) {\n  var _a = animateCfg || {},\n      _b = _a.duration,\n      duration = _b === void 0 ? 200 : _b,\n      easing = _a.easing,\n      callback = _a.callback,\n      reverse = _a.reverse;\n\n  var box = shape.getBBox();\n  var originX = reverse ? box.maxX : box.minX;\n  var originY = (box.minY + box.maxY) / 2;\n  var shapeIndex = shape.get('index');\n  var clip = getClip(coord);\n\n  var clipTargetMatrix = _.clone(clip.attr('matrix'));\n\n  clip.attr('transform', [['t', -originX, -originY], ['s', 0, 1], ['t', originX, originY]]);\n  var shapeTargetFillOpacity = shape.attr('fillOpacity');\n  shape.attr('fillOpacity', 0);\n  shape.attr('clip', clip);\n  clip.animate({\n    matrix: clipTargetMatrix\n  }, duration, easing, function () {\n    clip.remove();\n    shape.attr('clip', null);\n  }, shapeIndex * duration);\n  shape.animate({\n    fillOpacity: shapeTargetFillOpacity\n  }, duration, easing, null, shapeIndex * duration);\n  callback && setTimeout(function () {\n    return callback(shape);\n  }, duration + shapeIndex * duration);\n}\n\nfunction getClip(coord) {\n  var start = coord.start,\n      end = coord.end,\n      width = coord.width,\n      height = coord.height;\n  var clip = new G.Shapes.Rect({\n    attrs: {\n      x: start.x,\n      y: end.y,\n      width: width,\n      height: height\n    }\n  });\n  return clip;\n}\n\nfunnelScaleInY.animationName = 'funnelScaleInX';\nAnimate.registerAnimation('appear', 'funnelScaleInX', funnelScaleInY);","import * as G from '@antv/g';\nimport { Animate } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nfunction funnelScaleInY(shape, animateCfg, coord) {\n  var _a = animateCfg || {},\n      _b = _a.duration,\n      duration = _b === void 0 ? 200 : _b,\n      easing = _a.easing,\n      callback = _a.callback,\n      reverse = _a.reverse;\n\n  var box = shape.getBBox();\n  var originX = (box.minX + box.maxX) / 2;\n  var originY = reverse ? box.minY : box.maxY;\n  var shapeIndex = shape.get('index');\n  var clip = getClip(coord);\n\n  var clipTargetMatrix = _.clone(clip.attr('matrix'));\n\n  clip.attr('transform', [['t', -originX, -originY], ['s', 1, 0], ['t', originX, originY]]);\n  var shapeTargetFillOpacity = shape.attr('fillOpacity');\n  shape.attr('fillOpacity', 0);\n  shape.attr('clip', clip);\n  clip.animate({\n    matrix: clipTargetMatrix\n  }, duration, easing, function () {\n    clip.remove();\n    shape.attr('clip', null);\n  }, shapeIndex * duration);\n  shape.animate({\n    fillOpacity: shapeTargetFillOpacity\n  }, duration, easing, null, shapeIndex * duration);\n  callback && setTimeout(function () {\n    return callback(shape);\n  }, duration + shapeIndex * duration);\n}\n\nfunction getClip(coord) {\n  var start = coord.start,\n      end = coord.end,\n      width = coord.width,\n      height = coord.height;\n  var clip = new G.Shapes.Rect({\n    attrs: {\n      x: start.x,\n      y: end.y,\n      width: width,\n      height: height\n    }\n  });\n  return clip;\n}\n\nfunnelScaleInY.animationName = 'funnelScaleInY';\nAnimate.registerAnimation('appear', 'funnelScaleInY', funnelScaleInY);","import { registerTheme } from '../../theme';\nregisterTheme('funnel', {});","import { __assign } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { Global, registerShape } from '@antv/g2';\nimport { setFillStyle } from '@antv/g2/lib/element/util/shape';\n\nfunction lerp(a, b, factor) {\n  return (1 - factor) * a + factor * b;\n} // 获取填充图形的图形属性\n\n\nfunction _getFillAttrs(cfg) {\n  var defaultAttrs = Global.theme.shape.interval.rect.default;\n\n  var attrs = _.mix({}, defaultAttrs, cfg.style);\n\n  setFillStyle(attrs, cfg);\n  return attrs;\n} // 根据矩形关键点绘制 path\n\n\nfunction _getRectPath(points, _a) {\n  var reverse = _a.reverse,\n      ratioUpper = _a.ratioUpper,\n      ratioLower = _a.ratioLower;\n  var path = [];\n  var firstPoint = points[0];\n  var originX = (points[1].x + points[2].x) / 2;\n  var factorTop = 1.2;\n  var factorBottom = 0.6;\n\n  if (reverse) {\n    var tmp = ratioLower;\n    ratioLower = ratioUpper;\n    ratioUpper = tmp;\n  }\n\n  var firstPointX = (firstPoint.x - originX) * lerp(factorBottom, factorTop, ratioLower) + originX;\n  path.push(['M', firstPointX, firstPoint.y]);\n\n  for (var i = 1, len = points.length; i < len; i++) {\n    var pointX = points[i].x;\n\n    switch (i) {\n      case 1:\n      case 2:\n        pointX = (pointX - originX) * lerp(factorBottom, factorTop, ratioUpper) + originX;\n        break;\n\n      case 3:\n        pointX = (pointX - originX) * lerp(factorBottom, factorTop, ratioLower) + originX;\n        break;\n    }\n\n    path.push(['L', pointX, points[i].y]);\n  }\n\n  path.push(['L', firstPointX, firstPoint.y]); // 需要闭合\n\n  path.push(['z']);\n  return path;\n}\n\nregisterShape('interval', 'funnel-dynamic-rect', {\n  draw: function draw(cfg, container) {\n    var attrs = _getFillAttrs(cfg);\n\n    var path = _getRectPath(cfg.points, _.get(cfg, 'origin._origin.__custom__'));\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var isInCircle = markerCfg.isInCircle;\n    var markerStyle = {\n      symbol: isInCircle ? 'circle' : 'square',\n      radius: isInCircle ? 4.5 : 4\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n});","import { __assign } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { Global, registerShape } from '@antv/g2';\nimport { setFillStyle } from '@antv/g2/lib/element/util/shape'; // 获取填充图形的图形属性\n\nfunction _getFillAttrs(cfg) {\n  var defaultAttrs = Global.theme.shape.interval.rect.default;\n\n  var attrs = _.mix({}, defaultAttrs, cfg.style);\n\n  setFillStyle(attrs, cfg);\n  return attrs;\n} // 根据数据点生成矩形的四个关键点\n\n\nfunction _getRectPoints(cfg, isPyramid) {\n  if (isPyramid === void 0) {\n    isPyramid = false;\n  }\n\n  var x = cfg.x,\n      y = cfg.y,\n      y0 = cfg.y0,\n      size = cfg.size; // 有 4 种情况，\n  // 1. x, y 都不是数组\n  // 2. y是数组，x不是\n  // 3. x是数组，y不是\n  // 4. x, y 都是数组\n\n  var yMin;\n  var yMax;\n\n  if (_.isArray(y)) {\n    yMin = y[0];\n    yMax = y[1];\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  var xMin;\n  var xMax;\n\n  if (_.isArray(x)) {\n    xMin = x[0];\n    xMax = x[1];\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  var points = [{\n    x: xMin,\n    y: yMin\n  }, {\n    x: xMin,\n    y: yMax\n  }];\n\n  if (isPyramid) {\n    // 绘制尖底漏斗图\n    // 金字塔漏斗图的关键点\n    // 1\n    // |   2\n    // 0\n    points.push({\n      x: xMax,\n      y: (yMax + yMin) / 2\n    });\n  } else {\n    // 矩形的四个关键点，结构如下（左下角顺时针连接）\n    // 1 ---- 2\n    // |      |\n    // 0 ---- 3\n    points.push({\n      x: xMax,\n      y: yMax\n    }, {\n      x: xMax,\n      y: yMin\n    });\n  }\n\n  return points;\n} // 根据关键点绘制漏斗图的 path\n\n\nfunction _getFunnelPath(cfg, compare) {\n  var path = [];\n  var points = cfg.points,\n      nextPoints = cfg.nextPoints;\n\n  if (compare) {\n    // 对比漏斗\n    var yValues = compare.yValues,\n        yValuesMax = compare.yValuesMax,\n        yValuesNext = compare.yValuesNext;\n    var originY = (points[0].y + points[1].y) / 2;\n    var yValueTotal_1 = yValues[0] + yValues[1];\n    var yRatios = yValues.map(function (yValue) {\n      return yValue / yValueTotal_1 / 0.5;\n    });\n    var yOffset = (yValuesMax[0] / (yValuesMax[0] + yValuesMax[1]) - 0.5) * 0.9;\n    var spacing = 0.001;\n\n    if (!_.isNil(nextPoints)) {\n      var yValueTotalNext_1 = yValuesNext[0] + yValuesNext[1];\n      var yRatiosNext = yValuesNext.map(function (yValueNext) {\n        return yValueNext / yValueTotalNext_1 / 0.5;\n      });\n      path.push(['M', points[0].x, yOffset + (points[0].y - originY) * yRatios[0] + originY - spacing], ['L', points[1].x, yOffset + originY - spacing], ['L', nextPoints[1].x, yOffset + originY - spacing], ['L', nextPoints[0].x, yOffset + (nextPoints[3].y - originY) * yRatiosNext[0] + originY - spacing], ['Z']);\n      path.push(['M', points[0].x, yOffset + originY + spacing], ['L', points[1].x, yOffset + (points[1].y - originY) * yRatios[1] + originY + spacing], ['L', nextPoints[1].x, yOffset + (nextPoints[2].y - originY) * yRatiosNext[1] + originY + spacing], ['L', nextPoints[0].x, yOffset + originY + spacing], ['Z']);\n    } else {\n      path.push(['M', points[0].x, yOffset + (points[0].y - originY) * yRatios[0] + originY], ['L', points[1].x, yOffset + originY], ['L', points[2].x, yOffset + originY], ['L', points[3].x, yOffset + (points[3].y - originY) * yRatios[0] + originY], ['Z']);\n      path.push(['M', points[0].x, yOffset + 0.002 + originY], ['L', points[1].x, yOffset + 0.002 + (points[1].y - originY) * yRatios[1] + originY], ['L', points[2].x, yOffset + 0.002 + (points[2].y - originY) * yRatios[1] + originY], ['L', points[3].x, yOffset + 0.002 + originY], ['Z']);\n    }\n  } else {\n    // 标准漏斗\n    if (!_.isNil(nextPoints)) {\n      path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', nextPoints[1].x, nextPoints[1].y], ['L', nextPoints[0].x, nextPoints[0].y], ['Z']);\n    } else {\n      path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['Z']);\n    }\n  }\n\n  return path;\n}\n\nregisterShape('interval', 'funnel-basic-rect', {\n  getPoints: function getPoints(pointInfo) {\n    pointInfo.size = pointInfo.size * 1.8; // 调整面积\n\n    return _getRectPoints(pointInfo);\n  },\n  draw: function draw(cfg, container) {\n    var _a;\n\n    var attrs = _getFillAttrs(cfg);\n\n    var compare = _.get(cfg, 'origin._origin.__compare__');\n\n    var path = _getFunnelPath(cfg, compare);\n\n    path = this.parsePath(path);\n    return container.addShape('path', (_a = {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    }, _a['__compare__'] = compare, _a));\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'square',\n      radius: 4\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n});","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport LabelParser from '../../../../components/label/parser';\nimport { getPrecisionFormatter, getSuffixFormatter, combineFormatter, getNoopFormatter } from '../../../../util/formatter';\n\nvar FunnelLabelParser =\n/** @class */\nfunction (_super) {\n  __extends(FunnelLabelParser, _super);\n\n  function FunnelLabelParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  FunnelLabelParser.prototype.parseFormatter = function (config) {\n    var _this = this;\n\n    var values = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      values[_i - 1] = arguments[_i];\n    }\n\n    var labelProps = this.originConfig;\n    var preformatter = combineFormatter(getNoopFormatter(), getPrecisionFormatter(labelProps.precision), getSuffixFormatter(labelProps.suffix));\n    var plotProps = this.plot.options;\n\n    config.formatter = function (xValue, item, idx) {\n      var proc = function proc(yValue, yValueTop) {\n        var yValueFormatted = preformatter(yValue, item, idx);\n\n        if (_.isFunction(labelProps.formatter)) {\n          return labelProps.formatter(xValue, item, idx, yValue, yValueTop);\n        } else {\n          return xValue + \" \" + yValueFormatted;\n        }\n      };\n\n      if (plotProps.compareField) {\n        var yValues_1 = _.get(item, \"_origin.__compare__.yValues\");\n\n        var yValuesTop_1 = _.get(_this.plot.getData(), \"0.__compare__.yValues\");\n\n        if (plotProps.transpose) {\n          _.set(config, 'textStyle.lineHeight', _.get(config, 'textStyle.fontSize', 12));\n        }\n\n        return [0, 1].map(function (i) {\n          var yValue = yValues_1[i];\n          var yValueTop = yValuesTop_1[i];\n          return proc(yValue, yValueTop);\n        }).join(plotProps.transpose ? '\\n\\n' : '    ');\n      } else {\n        var yValue = _.get(item, \"_origin.\" + plotProps.yField);\n\n        var yValueTop = _.get(_this.plot.getData(), \"0.\" + plotProps.yField);\n\n        return proc(yValue, yValueTop);\n      }\n    };\n  };\n\n  return FunnelLabelParser;\n}(LabelParser);\n\nexport default FunnelLabelParser;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport * as domUtil from '@antv/dom-util';\nimport { Animate } from '@antv/g2';\nimport TooltipTheme from '@antv/component/lib/tooltip/theme';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport './theme';\nimport './component/label/funnel-label';\nimport './animation/funnel-scale-in-x';\nimport './animation/funnel-scale-in-y';\nimport './geometry/shape/funnel-basic-rect';\nimport './geometry/shape/funnel-dynamic-rect';\nimport FunnelLabelParser from './component/label/funnel-label-parser';\n\nfunction lerp(a, b, factor) {\n  return (1 - factor) * a + factor * b;\n}\n\nvar G2_GEOM_MAP = {\n  column: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'funnel'\n};\n\nvar FunnelLayer =\n/** @class */\nfunction (_super) {\n  __extends(FunnelLayer, _super);\n\n  function FunnelLayer(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.type = 'funnel';\n    _this.legendsListenerAttached = false;\n    _this.shouldShowLabels = false;\n    _this.shouldResetPercentages = true;\n    _this.shouldResetCompareTexts = true;\n\n    _this._onLegendContainerMouseDown = function (e) {\n      var props = _this.options;\n\n      if (e.target.name == 'legend-item') {\n        _this.refreshPercentages();\n\n        if (props.dynamicHeight) {\n          var data = _this._findCheckedDataByMouseDownLegendItem(e.target);\n\n          _this._genCustomFieldForDynamicHeight(data);\n        }\n\n        if (props.compareField) {\n          var data = _this._findCheckedDataByMouseDownLegendItem(e.target);\n\n          _this._updateDataForCompare(data);\n\n          _this.refreshCompareTexts();\n        }\n      }\n    };\n\n    _this.adjustProps(_this.options);\n\n    if (props.dynamicHeight) {\n      _this._genCustomFieldForDynamicHeight(_this.getData());\n    }\n\n    if (props.compareField) {\n      _this.options.data = _this._reduceDataForCompare(_this.getData());\n    }\n\n    return _this;\n  }\n\n  FunnelLayer.getDefaultOptions = function (props) {\n    var cfg = {\n      label: {\n        visible: true,\n        adjustColor: true,\n        formatter: props && (props.compareField || props.transpose) ? function (xValue, item, idx, yValue, yValueTop) {\n          return \"\" + yValue;\n        } : function (xValue, item, idx, yValue, yValueTop) {\n          return xValue + \" \" + yValue;\n        }\n      },\n      percentage: {\n        visible: true,\n        offsetX: props.transpose ? 0 : 40,\n        offsetY: props.transpose ? 40 : 0,\n        spacing: 4,\n        line: {\n          visible: true,\n          style: {\n            lineWidth: 1,\n            stroke: 'rgba(0, 0, 0, 0.15)'\n          }\n        },\n        text: {\n          content: '转化率',\n          style: {\n            fill: 'rgba(0, 0, 0, 0.65)'\n          }\n        },\n        value: {\n          visible: true,\n          style: {\n            fill: 'black'\n          },\n          formatter: function formatter(yValueUpper, yValueLower) {\n            return (100 * yValueLower / yValueUpper).toFixed(2) + \"%\";\n          }\n        }\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        showTitle: false,\n        crosshairs: {\n          type: 'cross',\n          style: {\n            stroke: null\n          }\n        }\n      },\n      animation: _.deepMix({}, Animate.defaultCfg, {\n        appear: {\n          duration: 800\n        }\n      }),\n      dynamicHeight: false,\n      compareText: {\n        visible: true,\n        offsetX: -16,\n        offsetY: -16,\n        style: {\n          fill: 'black'\n        }\n      }\n    };\n    return _.deepMix({}, _super.getDefaultOptions.call(this), cfg);\n  };\n\n  FunnelLayer.prototype.coord = function () {\n    var props = this.options;\n    var coordConfig = {\n      actions: props.transpose ? props.dynamicHeight ? [['transpose'], ['scale', 1, -1]] : [['scale', 1, -1]] : props.dynamicHeight ? [] : [['transpose'], ['scale', 1, -1]]\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  FunnelLayer.prototype.axis = function () {\n    this.setConfig('axes', false);\n  };\n\n  FunnelLayer.prototype.adjustFunnel = function (funnel) {\n    var props = this.options;\n    funnel.shape = {\n      values: [props.dynamicHeight ? 'funnel-dynamic-rect' : 'funnel-basic-rect']\n    };\n    funnel.color = {\n      fields: [props.xField],\n      values: props.color && (Array.isArray(props.color) ? props.color : [props.color])\n    };\n\n    if (_.isFunction(props.funnelStyle)) {\n      // @ts-ignore\n      funnel.style = {\n        callback: props.funnelStyle\n      };\n    } else {\n      // @ts-ignore\n      funnel.style = {\n        cfg: props.funnelStyle\n      };\n    }\n\n    funnel.adjust = [{\n      type: props.dynamicHeight ? 'stack' : 'symmetric'\n    }];\n  };\n\n  FunnelLayer.prototype.tooltip = function () {\n    var props = this.options;\n\n    if (props.compareField) {\n      _.deepMix(props.tooltip, {\n        htmlContent: function htmlContent(title, items) {\n          var clss, el, color, elMarker;\n          clss = 'g2-tooltip';\n          el = domUtil.createDom(\"<div class=\\\"\" + clss + \"\\\"></div>\");\n          domUtil.modifyCSS(el, TooltipTheme[clss]);\n          var elRoot = el;\n\n          if (title) {\n            clss = 'g2-tooltip-title';\n            el = domUtil.createDom(\"<div class=\\\"\" + clss + \"\\\"></div>\");\n            domUtil.modifyCSS(el, TooltipTheme[clss]);\n            elRoot.appendChild(el);\n            var elTitle = el;\n            clss = 'g2-tooltip-marker';\n            el = domUtil.createDom(\"<span class=\\\"\" + clss + \"\\\"></span>\");\n            domUtil.modifyCSS(el, TooltipTheme[clss]);\n            domUtil.modifyCSS(el, {\n              width: '10px',\n              height: '10px'\n            });\n            elTitle.appendChild(el);\n            elMarker = el;\n            el = domUtil.createDom(\"<span>\" + title + \"</span>\");\n            elTitle.appendChild(el);\n          }\n\n          if (items) {\n            clss = 'g2-tooltip-list';\n            el = domUtil.createDom(\"<ul class=\\\"\" + clss + \"\\\"></ul>\");\n            domUtil.modifyCSS(el, TooltipTheme[clss]);\n            elRoot.appendChild(el);\n            var elList_1 = el;\n            items.reduce(function (pairs, item) {\n              if (!color) {\n                color = item.color;\n              }\n\n              var compareValues = _.get(item, 'point._origin.__compare__.compareValues');\n\n              var yValues = _.get(item, 'point._origin.__compare__.yValues');\n\n              yValues.forEach(function (yValue, i) {\n                return pairs.push([compareValues[i], yValue]);\n              });\n              return pairs;\n            }, []).forEach(function (_a, index) {\n              var compareValue = _a[0],\n                  yValue = _a[1];\n              clss = 'g2-tooltip-list-item';\n              el = domUtil.createDom(\"<li class=\\\"\" + clss + \"\\\" data-index=\" + index + \"></li>\");\n              domUtil.modifyCSS(el, TooltipTheme[clss]);\n              elList_1.appendChild(el);\n              var elListItem = el;\n              el = domUtil.createDom(\"<span>\" + compareValue + \"</span>\");\n              elListItem.appendChild(el);\n              clss = 'g2-tooltip-value';\n              el = domUtil.createDom(\"<span class=\\\"\" + clss + \"\\\">\" + yValue + \"</span>\");\n              domUtil.modifyCSS(el, TooltipTheme[clss]);\n              elListItem.appendChild(el);\n            });\n          }\n\n          if (color && elMarker) {\n            domUtil.modifyCSS(elMarker, {\n              backgroundColor: color\n            });\n          }\n\n          return elRoot;\n        }\n      });\n    }\n\n    _super.prototype.tooltip.call(this);\n  };\n\n  FunnelLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    var funnel = getGeom('interval', 'main', {\n      positionFields: [props.dynamicHeight ? '_' : props.xField, props.yField],\n      plot: this\n    });\n\n    if (props.label) {\n      funnel.label = this.extractLabel();\n    }\n\n    this.adjustFunnel(funnel);\n    this.funnel = funnel;\n    this.setConfig('element', funnel);\n  };\n\n  FunnelLayer.prototype.animation = function () {\n    var _this = this;\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.funnel.animate = false;\n      this.shouldShowLabels = true;\n    } else {\n      var appearDuration = _.get(props, 'animation.appear.duration');\n\n      var appearDurationEach_1 = appearDuration / (this.getData().length || 1);\n\n      if (this.animationAppearTimeoutHandler) {\n        clearTimeout(this.animationAppearTimeoutHandler);\n        delete this.animationAppearTimeoutHandler;\n      }\n\n      this.animationAppearTimeoutHandler = setTimeout(function () {\n        _this._teardownAnimationMask();\n\n        _this.shouldShowLabels = true;\n\n        _this.fadeInPercentages(appearDurationEach_1);\n\n        if (props.compareField) {\n          _this.fadeInCompareTexts(appearDurationEach_1);\n        }\n\n        delete _this.animationAppearTimeoutHandler;\n      }, appearDuration);\n      this.funnel.animate = _.deepMix({}, props.animation, {\n        appear: {\n          animation: props.transpose ? 'funnelScaleInX' : 'funnelScaleInY',\n          duration: appearDurationEach_1,\n          reverse: props.dynamicHeight && !props.transpose,\n          callback: function callback(shape) {\n            _this.shouldShowLabels = true;\n\n            _this.showLabels(shape);\n          }\n        }\n      });\n    }\n  };\n\n  FunnelLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  FunnelLayer.prototype.afterRender = function () {\n    var props = this.options;\n    this.resetPercentages();\n\n    if (props.compareField) {\n      this.resetCompareTexts();\n    }\n\n    if (props.padding == 'auto') {\n      var percentageContainer = this._findPercentageContainer();\n\n      if (percentageContainer) {\n        this.paddingController.registerPadding(percentageContainer, 'inner', true);\n      }\n\n      var compareTextContainer = this._findCompareTextContainer();\n\n      if (compareTextContainer) {\n        this.paddingController.registerPadding(compareTextContainer, 'inner', true);\n      }\n    }\n\n    _super.prototype.afterRender.call(this);\n\n    if (this.animationAppearTimeoutHandler) {\n      this._setupAnimationMask();\n\n      if (props.compareField) {\n        this.fadeInCompareTexts();\n      }\n    }\n\n    this.showLabels();\n\n    if (props.animation === false) {\n      this.fadeInPercentages();\n\n      if (props.compareField) {\n        this.fadeInCompareTexts();\n      }\n    }\n\n    if (!this.legendsListenerAttached) {\n      this.legendsListenerAttached = true;\n      var legendContainer = this.view.get('legendController').container;\n      legendContainer.on('mousedown', this._onLegendContainerMouseDown);\n    }\n  };\n\n  FunnelLayer.prototype.updateConfig = function (cfg) {\n    cfg = this.adjustProps(cfg);\n\n    _super.prototype.updateConfig.call(this, cfg);\n\n    this.legendsListenerAttached = false;\n    this.shouldShowLabels = false;\n  };\n\n  FunnelLayer.prototype.changeData = function (data) {\n    var props = this.options;\n\n    if (props.animation !== false) {\n      this.shouldResetPercentages = false;\n      this.shouldResetCompareTexts = false;\n    }\n\n    if (props.dynamicHeight) {\n      var checkedData = this._findCheckedDataInNewData(data);\n\n      this._genCustomFieldForDynamicHeight(checkedData);\n    }\n\n    if (props.compareField) {\n      data = this._reduceDataForCompare(data);\n\n      var checkedData = this._findCheckedDataInNewData(data);\n\n      this._updateDataForCompare(checkedData);\n    }\n\n    _super.prototype.changeData.call(this, data);\n\n    this.refreshPercentages();\n\n    if (props.compareField) {\n      this.refreshCompareTexts();\n    }\n\n    this._refreshAnimationMaskForPercentageRefresh();\n  };\n\n  FunnelLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label && label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = new FunnelLabelParser(_.deepMix({\n      textStyle: {\n        stroke: null\n      }\n    }, label, {\n      plot: this,\n      labelType: 'funnelLabel',\n      position: 'middle',\n      textStyle: {\n        opacity: 0\n      },\n      fields: [props.xField, props.yField]\n    })).getConfig();\n    return labelConfig;\n  };\n\n  FunnelLayer.prototype.showLabels = function (shape) {\n    if (!this.shouldShowLabels) return;\n    this.view.get('elements').forEach(function (element) {\n      var labelsContainer = element.get('labelController').labelsContainer;\n\n      if (labelsContainer) {\n        labelsContainer.get('labelsRenderer').get('group').get('children').forEach(function (label) {\n          if (shape) {\n            if (element.getShapeId(label.get('origin')) == shape.id) {\n              label.attr('opacity', 1);\n            }\n          } else {\n            label.attr('opacity', 1);\n          }\n        });\n      }\n    });\n  };\n\n  FunnelLayer.prototype.adjustProps = function (props) {\n    if (props.compareField) {\n      props.dynamicHeight = false;\n    }\n\n    if (props.dynamicHeight) {\n      _.set(props, \"meta.\" + props.yField + \".nice\", false);\n\n      _.set(props, 'tooltip.shared', false);\n    }\n\n    return props;\n  };\n\n  FunnelLayer.prototype.resetPercentages = function () {\n    var _this = this;\n\n    if (!this.shouldResetPercentages) return;\n    var props = this.options;\n\n    var _a = props.percentage || {},\n        offsetX = _a.offsetX,\n        offsetY = _a.offsetY,\n        spacing = _a.spacing,\n        _b = _a.line,\n        percentageLine = _b === void 0 ? {} : _b,\n        _c = _a.text,\n        percentageText = _c === void 0 ? {} : _c,\n        _d = _a.value,\n        percentageValue = _d === void 0 ? {} : _d;\n\n    var adjustTimestamp = Date.now();\n\n    var container = this._findPercentageContainer(true);\n\n    var coord = this.view.get('coord');\n    var i = 0;\n    var datumUpper;\n    this.view.eachShape(function (datumLower, shape) {\n      if (i++ > 0) {\n        var _a = shape.getBBox(),\n            minX = _a.minX,\n            maxX = _a.maxX,\n            maxY = _a.maxY,\n            minY = _a.minY;\n\n        var _b = coord.invertMatrix(props.transpose ? minX : maxX, props.transpose ? props.compareField ? minY : maxY : props.dynamicHeight ? minY : maxY, 1),\n            x1 = _b[0],\n            y1 = _b[1];\n\n        var _c = _this._findPercentageMembersInContainerByShape(container, shape, true),\n            line_1 = _c.line,\n            text_1 = _c.text,\n            value_1 = _c.value;\n\n        var eachProcs_1 = [function (x, y, line, text, value) {\n          if (line) {\n            line.attr(_.deepMix({}, percentageLine.style, {\n              x1: x,\n              y1: y,\n              x2: props.transpose ? x + offsetX : x - offsetX,\n              y2: y - offsetY,\n              opacity: 0\n            }));\n            line.set('adjustTimestamp', adjustTimestamp);\n          }\n\n          var textWidth = 0;\n          var valueWidth = 0;\n\n          var textProc = function textProc() {\n            if (text) {\n              text.attr(_.deepMix({}, percentageText.style, {\n                x: props.transpose ? x + offsetX : x - offsetX - spacing - valueWidth - spacing,\n                y: props.transpose ? y - offsetY - spacing : y - offsetY,\n                opacity: 0,\n                text: percentageText.content,\n                textAlign: props.transpose ? 'left' : 'right',\n                textBaseline: props.transpose ? 'bottom' : 'middle'\n              }));\n              text.set('adjustTimestamp', adjustTimestamp);\n              textWidth = text.getBBox().width;\n            }\n          };\n\n          var valueProc = function valueProc() {\n            if (value) {\n              value.attr(_.deepMix({}, percentageValue.style, {\n                x: props.transpose ? x + offsetX + textWidth + spacing : x - offsetX - spacing,\n                y: props.transpose ? y - offsetY - spacing : y - offsetY,\n                opacity: 0,\n                text: _.isFunction(percentageValue.formatter) ? props.compareField ? percentageValue.formatter(_.get(datumUpper, '__compare__.yValues.0'), _.get(datumLower, '__compare__.yValues.0')) : percentageValue.formatter(datumUpper[props.yField], datumLower[props.yField]) : '',\n                textAlign: props.transpose ? 'left' : 'right',\n                textBaseline: props.transpose ? 'bottom' : 'middle'\n              }));\n              value.set('adjustTimestamp', adjustTimestamp);\n              valueWidth = value.getBBox().width;\n            }\n          };\n\n          if (props.transpose) {\n            textProc();\n            valueProc();\n          } else {\n            valueProc();\n            textProc();\n          }\n        }, function (x, y, line, text, value) {\n          if (line) {\n            line.attr(_.deepMix({}, percentageLine.style, {\n              x1: x,\n              y1: y,\n              x2: x + offsetX,\n              y2: props.transpose ? props.compareField ? y + offsetY : y - offsetY : y + offsetY,\n              opacity: 0\n            }));\n            line.set('adjustTimestamp', adjustTimestamp);\n          }\n\n          var textWidth = 0;\n\n          if (text) {\n            text.attr(_.deepMix({}, percentageText.style, {\n              x: props.transpose ? x + offsetX : x + offsetX + spacing,\n              y: props.transpose ? props.compareField ? y + offsetY + spacing : y - offsetY - spacing : y + offsetY,\n              opacity: 0,\n              text: percentageText.content,\n              textAlign: 'left',\n              textBaseline: props.transpose ? props.compareField ? 'top' : 'bottom' : 'middle'\n            }));\n            text.set('adjustTimestamp', adjustTimestamp);\n            textWidth = text.getBBox().width;\n          }\n\n          if (value) {\n            value.attr(_.deepMix({}, percentageValue.style, {\n              x: props.transpose ? x + offsetX + textWidth + spacing : x + offsetX + spacing + textWidth + spacing,\n              y: props.transpose ? props.compareField ? y + offsetY + spacing : y - offsetY - spacing : y + offsetY,\n              opacity: 0,\n              text: _.isFunction(percentageValue.formatter) ? props.compareField ? percentageValue.formatter(_.get(datumUpper, \"__compare__.yValues.1\"), _.get(datumLower, \"__compare__.yValues.1\")) : percentageValue.formatter(datumUpper[props.yField], datumLower[props.yField]) : '',\n              textAlign: 'left',\n              textBaseline: props.transpose ? props.compareField ? 'top' : 'bottom' : 'middle'\n            }));\n            value.set('adjustTimestamp', adjustTimestamp);\n          }\n        }];\n\n        if (props.compareField) {\n          var _d = coord.invertMatrix(minX, maxY, 1),\n              x0 = _d[0],\n              y0 = _d[1];\n\n          [[x0, y0], [x1, y1]].forEach(function (_a, i) {\n            var x = _a[0],\n                y = _a[1];\n            return eachProcs_1[i](x, y, line_1 && line_1[i], text_1 && text_1[i], value_1 && value_1[i]);\n          });\n        } else {\n          eachProcs_1[1](x1, y1, line_1, text_1, value_1);\n        }\n      }\n\n      datumUpper = datumLower;\n    });\n    container.get('children').forEach(function (child) {\n      if (child.get('adjustTimestamp') != adjustTimestamp) {\n        child.attr({\n          opacity: 0\n        });\n        container.set(child.get('id'), null);\n        setTimeout(function () {\n          return child.remove();\n        });\n      }\n    });\n  };\n\n  FunnelLayer.prototype.fadeInPercentages = function (duration, callback) {\n    var _this = this;\n\n    var props = this.options;\n\n    var container = this._findPercentageContainer();\n\n    var eachProc = function eachProc(i) {\n      var lastBBox = {\n        minX: Infinity,\n        maxX: -Infinity,\n        minY: Infinity,\n        maxY: -Infinity\n      };\n\n      _this.view.eachShape(function (datum, shape) {\n        var members = _this._findPercentageMembersInContainerByShape(container, shape);\n\n        var currBBox = {\n          minX: Infinity,\n          maxX: -Infinity,\n          minY: Infinity,\n          maxY: -Infinity\n        };\n\n        var eachCalc = function eachCalc(member) {\n          if (member && member.get('type') == 'text') {\n            var _a = member.getBBox(),\n                minX = _a.minX,\n                maxX = _a.maxX,\n                minY = _a.minY,\n                maxY = _a.maxY;\n\n            if (minX < currBBox.minX) currBBox.minX = minX;\n            if (maxX > currBBox.maxX) currBBox.maxX = maxX;\n            if (minY < currBBox.minY) currBBox.minY = minY;\n            if (maxY > currBBox.maxY) currBBox.maxY = maxY;\n          }\n        };\n\n        _.each(members, function (member) {\n          return _.isArray(member) ? eachCalc(member[i]) : eachCalc(member);\n        });\n\n        if (currBBox.minX > lastBBox.maxX || currBBox.maxX < lastBBox.minX || currBBox.minY > lastBBox.maxY || currBBox.maxY < lastBBox.minY) {\n          var eachShow_1 = function eachShow_1(member) {\n            if (member) {\n              var attrs = {\n                opacity: 1\n              };\n              duration ? member.animate(attrs, duration) : member.attr(attrs);\n            }\n          };\n\n          _.each(members, function (member) {\n            return _.isArray(member) ? eachShow_1(member[i]) : eachShow_1(member);\n          });\n\n          _.assign(lastBBox, currBBox);\n        }\n      });\n    };\n\n    props.compareField ? [0, 1].forEach(eachProc) : eachProc();\n    duration && callback && setTimeout(callback, duration);\n  };\n\n  FunnelLayer.prototype.fadeOutPercentages = function (duration, callback) {\n    var _this = this;\n\n    var container = this._findPercentageContainer();\n\n    this.view.eachShape(function (datum, shape) {\n      var members = _this._findPercentageMembersInContainerByShape(container, shape);\n\n      var eachProc = function eachProc(member) {\n        if (member) {\n          var attrs = {\n            opacity: 0\n          };\n          duration ? member.animate(attrs, duration) : member.attr(attrs);\n        }\n      };\n\n      _.each(members, function (member) {\n        return _.isArray(member) ? member.forEach(eachProc) : eachProc(member);\n      });\n    });\n    duration && callback && setTimeout(callback, duration);\n  };\n\n  FunnelLayer.prototype.refreshPercentages = function (callback) {\n    var _this = this;\n\n    var props = this.options;\n\n    if (props.animation !== false) {\n      var _a = this._calcRefreshFadeDurations(),\n          fadeOutDuration = _a.fadeOutDuration,\n          fadeInDuration_1 = _a.fadeInDuration;\n\n      this.shouldResetPercentages = false;\n      this.fadeOutPercentages(fadeOutDuration, function () {\n        _this.shouldResetPercentages = true;\n\n        _this.resetPercentages();\n\n        _this.fadeInPercentages(fadeInDuration_1, callback);\n      });\n    }\n  };\n\n  FunnelLayer.prototype._calcRefreshFadeDurations = function () {\n    var props = this.options;\n\n    var updateDuration = _.get(props, 'animation.update.duration');\n\n    var enterDuration = _.get(props, 'animation.enter.duration');\n\n    var fadeInDuration = Math.min(enterDuration, updateDuration) * 0.6;\n    var fadeOutDuration = Math.max(enterDuration, updateDuration) * 1.2;\n    return {\n      fadeInDuration: fadeInDuration,\n      fadeOutDuration: fadeOutDuration\n    };\n  };\n\n  FunnelLayer.prototype._findPercentageContainer = function (createIfNotFound) {\n    if (createIfNotFound === void 0) {\n      createIfNotFound = false;\n    }\n\n    var percentageContainer;\n\n    if (this.view) {\n      var elements = this.view.get('elements');\n      elements.find(function (element) {\n        return percentageContainer = element.get('percentageContainer');\n      });\n\n      if (!percentageContainer && createIfNotFound) {\n        if (elements.length) {\n          var element = elements[0];\n          percentageContainer = element.get('container').addGroup();\n          element.set('percentageContainer', percentageContainer);\n        }\n      }\n    }\n\n    return percentageContainer;\n  };\n\n  FunnelLayer.prototype._findPercentageMembersInContainerByShape = function (container, shape, createIfNotFound) {\n    if (createIfNotFound === void 0) {\n      createIfNotFound = false;\n    }\n\n    var props = this.options;\n\n    var _a = props.percentage || {},\n        visible = _a.visible,\n        _b = _a.line,\n        percentageLine = _b === void 0 ? {} : _b,\n        _c = _a.text,\n        percentageText = _c === void 0 ? {} : _c,\n        _d = _a.value,\n        percentageValue = _d === void 0 ? {} : _d;\n\n    var members = {\n      line: undefined,\n      text: undefined,\n      value: undefined\n    };\n\n    if (visible === false || !container) {\n      return members;\n    }\n\n    if (percentageLine.visible !== false) {\n      var find = function find(i) {\n        var lineId = \"_percentage-line-\" + shape.id + \"-\" + i;\n        var line = container.get(lineId);\n\n        if (!line && createIfNotFound) {\n          line = container.addShape('line', {\n            id: lineId\n          });\n          container.set(lineId, line);\n        }\n\n        return line;\n      };\n\n      var line = props.compareField ? [0, 1].map(find) : find(0);\n      members.line = line;\n    }\n\n    if (percentageText.visible !== false) {\n      var find = function find(i) {\n        var textId = \"_percentage-text-\" + shape.id + \"-\" + i;\n        var text = container.get(textId);\n\n        if (!text && createIfNotFound) {\n          text = container.addShape('text', {\n            id: textId\n          });\n          container.set(textId, text);\n        }\n\n        return text;\n      };\n\n      var text = props.compareField ? [0, 1].map(find) : find(0);\n      members.text = text;\n    }\n\n    if (percentageValue.visible !== false) {\n      var find = function find(i) {\n        var valueId = \"_percentage-value-\" + shape.id + \"-\" + i;\n        var value = container.get(valueId);\n\n        if (!value && createIfNotFound) {\n          value = container.addShape('text', {\n            id: valueId\n          });\n          container.set(valueId, value);\n        }\n\n        return value;\n      };\n\n      var value = props.compareField ? [0, 1].map(find) : find(0);\n      members.value = value;\n    }\n\n    return members;\n  };\n\n  FunnelLayer.prototype._genCustomFieldForDynamicHeight = function (data) {\n    var props = this.options;\n    var total = data.reduce(function (total, datum) {\n      return total + datum[props.yField];\n    }, 0);\n    var ratioUpper = 1;\n    data.forEach(function (datum, index) {\n      var value = datum[props.yField];\n      var share = value / total;\n      var ratioLower = ratioUpper - share;\n      datum['__custom__'] = {\n        datumIndex: index,\n        dataLength: data.length,\n        ratioUpper: ratioUpper,\n        ratioLower: ratioLower,\n        reverse: props.transpose\n      };\n      ratioUpper = ratioLower;\n    });\n  };\n\n  FunnelLayer.prototype.resetCompareTexts = function () {\n    if (!this.shouldResetCompareTexts) return;\n    var props = this.options;\n    var shapeParentBBox;\n    var compare;\n\n    var targetDatum = this._findCheckedData(this.getData())[0];\n\n    this.view.eachShape(function (datum, shape) {\n      if (datum == targetDatum) {\n        shapeParentBBox = shape.get('parent').getBBox();\n        compare = _.get(datum, '__compare__');\n      }\n    });\n\n    if (shapeParentBBox && compare && _.get(props, 'compareText.visible') !== false) {\n      var coord = this.view.get('coord');\n\n      var container_1 = this._findCompareTextContainer(true);\n\n      var yValuesMax_1 = compare.yValuesMax,\n          compareValues_1 = compare.compareValues;\n      var pStart = coord.invertMatrix(shapeParentBBox.minX, shapeParentBBox.minY, 1);\n      var pEnd = coord.invertMatrix(shapeParentBBox.maxX, shapeParentBBox.maxY, 1);\n      var minX_1 = Math.min(pStart[0], pEnd[0]);\n      var maxX_1 = Math.max(pStart[0], pEnd[0]);\n      var minY_1 = Math.min(pStart[1], pEnd[1]);\n      var maxY_1 = Math.max(pStart[1], pEnd[1]);\n      var compareTexts_1 = container_1.get('children');\n      [0, 1].forEach(function (i) {\n        var compareText = compareTexts_1[i];\n\n        if (!compareText) {\n          compareText = container_1.addShape('text');\n        }\n\n        compareText.attr(_.deepMix({}, _.get(props, 'compareText.style'), {\n          text: props.transpose ? compareValues_1[i] : i ? \"  \" + compareValues_1[i] : compareValues_1[i] + \"  \",\n          x: props.transpose ? minX_1 + _.get(props, 'compareText.offsetX') : lerp(minX_1, maxX_1, yValuesMax_1[0] / (yValuesMax_1[0] + yValuesMax_1[1])),\n          y: props.transpose ? lerp(minY_1, maxY_1, yValuesMax_1[0] / (yValuesMax_1[0] + yValuesMax_1[1])) + (i ? 8 : -8) : minY_1 + _.get(props, 'compareText.offsetY'),\n          opacity: 0,\n          textAlign: props.transpose ? 'right' : i ? 'left' : 'right',\n          textBaseline: props.transpose ? i ? 'top' : 'bottom' : 'bottom'\n        }));\n      });\n    }\n  };\n\n  FunnelLayer.prototype.fadeInCompareTexts = function (duration, callback) {\n    var container = this._findCompareTextContainer();\n\n    if (container) {\n      var compareTexts_2 = container.get('children');\n      [0, 1].forEach(function (i) {\n        var compareText = compareTexts_2[i];\n\n        if (compareText) {\n          var attrs = {\n            opacity: 1\n          };\n          duration ? compareText.animate(attrs, duration) : compareText.attr(attrs);\n        }\n      });\n    }\n\n    duration && callback && setTimeout(callback, duration);\n  };\n\n  FunnelLayer.prototype.fadeOutCompareTexts = function (duration, callback) {\n    var container = this._findCompareTextContainer();\n\n    if (container) {\n      var compareTexts_3 = container.get('children');\n      [0, 1].forEach(function (i) {\n        var compareText = compareTexts_3[i];\n\n        if (compareText) {\n          var attrs = {\n            opacity: 0\n          };\n          duration ? compareText.animate(attrs, duration) : compareText.attr(attrs);\n        }\n      });\n    }\n\n    duration && callback && setTimeout(callback, duration);\n  };\n\n  FunnelLayer.prototype.refreshCompareTexts = function (callback) {\n    var _this = this;\n\n    var props = this.options;\n\n    if (props.animation !== false) {\n      var _a = this._calcRefreshFadeDurations(),\n          fadeInDuration_2 = _a.fadeInDuration,\n          fadeOutDuration = _a.fadeOutDuration;\n\n      this.shouldResetCompareTexts = false;\n      this.fadeOutCompareTexts(fadeOutDuration, function () {\n        _this.shouldResetCompareTexts = true;\n\n        _this.resetCompareTexts();\n\n        _this.fadeInCompareTexts(fadeInDuration_2, callback);\n      });\n    }\n  };\n\n  FunnelLayer.prototype._findCompareTextContainer = function (createIfNotFound) {\n    if (createIfNotFound === void 0) {\n      createIfNotFound = false;\n    }\n\n    var compareTextContainer;\n\n    if (this.view) {\n      var elements = this.view.get('elements');\n      elements.find(function (element) {\n        return compareTextContainer = element.get('compareTextContainer');\n      });\n\n      if (!compareTextContainer && createIfNotFound) {\n        if (elements.length) {\n          var element = elements[0];\n          compareTextContainer = element.get('container').addGroup();\n          element.set('compareTextContainer', compareTextContainer);\n        }\n      }\n    }\n\n    return compareTextContainer;\n  };\n\n  FunnelLayer.prototype._reduceDataForCompare = function (data) {\n    var props = this.options;\n    var compareValueFirstVisited;\n    var yValuesMax = [-Infinity, -Infinity];\n    data = data.reduce(function (newData, datum) {\n      var _a;\n\n      var xValue = datum[props.xField];\n      var yValue = datum[props.yField];\n      var compareValue = datum[props.compareField];\n      if (!compareValueFirstVisited) compareValueFirstVisited = compareValue;\n      var newDatum = newData.find(function (newDatum) {\n        return newDatum[props.xField] == xValue;\n      });\n\n      if (!newDatum) {\n        newDatum = (_a = {}, _a[props.xField] = xValue, _a[props.yField] = 0, _a['__compare__'] = {\n          compareValues: [],\n          yValues: [],\n          yValuesMax: [],\n          yValuesNext: undefined,\n          transpose: props.transpose\n        }, _a);\n        newData.push(newDatum);\n      }\n\n      var idx = compareValue == compareValueFirstVisited ? 0 : 1;\n      newDatum['__compare__'].yValues[idx] = yValue;\n\n      if (yValuesMax[idx] < yValue) {\n        yValuesMax[idx] = yValue;\n      }\n\n      newDatum['__compare__'].compareValues[idx] = compareValue;\n      return newData;\n    }, []);\n    data.forEach(function (datum, index) {\n      datum[props.yField] = _.get(datum, '__compare__.yValues', []).reduce(function (yTotal, yValue) {\n        return yTotal += yValue;\n      }, 0);\n\n      _.set(datum, '__compare__.yValuesMax', yValuesMax);\n\n      _.set(datum, '__compare__.yValuesNext', _.get(data, index + 1 + \".__compare__.yValues\"));\n    });\n    return data;\n  };\n\n  FunnelLayer.prototype._updateDataForCompare = function (data) {\n    var yValuesMax = [-Infinity, -Infinity];\n    data.forEach(function (datum) {\n      var yValues = _.get(datum, '__compare__.yValues');\n\n      [0, 1].forEach(function (i) {\n        if (yValues[i] > yValuesMax[i]) {\n          yValuesMax[i] = yValues[i];\n        }\n      });\n    });\n    data.forEach(function (datum, index) {\n      _.set(datum, '__compare__.yValuesMax', yValuesMax);\n\n      _.set(datum, '__compare__.yValuesNext', _.get(data, index + 1 + \".__compare__.yValues\"));\n    });\n  };\n\n  FunnelLayer.prototype._findCheckedData = function (data) {\n    var props = this.options;\n    var legendValues = this.view.get('canvas').findAll(function (shape) {\n      return shape.name == 'legend-item' && shape.get('parent').get('checked');\n    }).map(function (shape) {\n      return shape.get('origin').value;\n    });\n    return data.filter(function (datum) {\n      return _.contains(legendValues, datum[props.xField]);\n    });\n  };\n\n  FunnelLayer.prototype._findCheckedDataInNewData = function (newData) {\n    var props = this.options;\n    var legendValues = this.view.get('canvas').findAll(function (shape) {\n      return shape.name == 'legend-item' && shape.get('parent').get('checked');\n    }).map(function (shape) {\n      return shape.get('origin').value;\n    });\n    var oldData = this.getData();\n    var uncheckedValues = oldData.map(function (oldDatum) {\n      return oldDatum[props.xField];\n    }).filter(function (xValue) {\n      return !_.contains(legendValues, xValue);\n    });\n    return newData.filter(function (newDatum) {\n      return !_.contains(uncheckedValues, newDatum[props.xField]);\n    });\n  };\n\n  FunnelLayer.prototype._findCheckedDataByMouseDownLegendItem = function (legendItem) {\n    var props = this.options;\n    var legendItemOrigin = legendItem.get('origin');\n    var brotherValues = legendItem.get('parent').get('parent').findAll(function (shape) {\n      return shape != legendItem && shape.name == 'legend-item' && shape.get('parent').get('checked');\n    }).map(function (shape) {\n      return shape.get('origin').value;\n    });\n    var data = [];\n    this.getData().forEach(function (datum) {\n      var xValue = datum[props.xField];\n\n      if (legendItemOrigin.value == xValue && !legendItem.get('parent').get('checked') || _.contains(brotherValues, xValue)) {\n        data.push(datum);\n      }\n    });\n    return data;\n  };\n\n  FunnelLayer.prototype._setupAnimationMask = function () {\n    var canvas = this.view.get('canvas');\n    var animationMask = canvas.get('animation-mask');\n\n    if (!animationMask) {\n      animationMask = canvas.addShape('rect');\n      canvas.set('animation-mask', animationMask);\n    }\n\n    animationMask.attr({\n      x: 0,\n      y: 0,\n      fill: 'transparent',\n      width: canvas.get('width'),\n      height: canvas.get('height')\n    });\n  };\n\n  FunnelLayer.prototype._teardownAnimationMask = function () {\n    var canvas = this.view.get('canvas');\n    var animationMask = canvas.get('animation-mask');\n\n    if (animationMask) {\n      animationMask.attr({\n        x: -canvas.get('width')\n      });\n    }\n  };\n\n  FunnelLayer.prototype._refreshAnimationMaskForPercentageRefresh = function () {\n    var _this = this;\n\n    var props = this.options;\n\n    if (props.animation !== false) {\n      var _a = this._calcRefreshFadeDurations(),\n          fadeOutDuration = _a.fadeOutDuration,\n          fadeInDuration = _a.fadeInDuration;\n\n      this._setupAnimationMask();\n\n      setTimeout(function () {\n        return _this._teardownAnimationMask();\n      }, fadeOutDuration + fadeInDuration);\n    }\n  };\n\n  return FunnelLayer;\n}(ViewLayer);\n\nexport default FunnelLayer;\nregisterPlotType('funnel', FunnelLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport FunnelLayer from './layer';\n\nvar Funnel =\n/** @class */\nfunction (_super) {\n  __extends(Funnel, _super);\n\n  function Funnel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Funnel.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'funnel';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Funnel.getDefaultOptions = FunnelLayer.getDefaultOptions;\n  return Funnel;\n}(BasePlot);\n\nexport default Funnel;","import { __assign, __extends } from \"tslib\";\nimport { registerElement, Element } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport * as colorUtil from '../../util/color';\nvar GAUSS_COEF = 0.3989422804014327;\nvar ZERO = 1.0 / 255.0 / 16.0;\nvar ORIGIN_FIELD = '_origin';\nvar SHADOW_CANVAS = 'shadowCanvas';\nvar VALUE_RANGE = 'valueRange';\nvar IMAGE_SHAPE = 'imageShape';\nvar MAPPED_DATA = 'mappedData';\nvar GRAY_SCALE_BLURRED_CANVAS = 'grayScaleBlurredCanvas';\nvar HEATMAP_SIZE = 'heatmapSize';\n\nvar LinearHeatmap =\n/** @class */\nfunction (_super) {\n  __extends(LinearHeatmap, _super);\n\n  function LinearHeatmap(cfg) {\n    return _super.call(this, __assign({\n      type: 'linearHeatmap',\n      shapeType: 'point',\n      paletteCache: {}\n    }, cfg)) || this;\n  }\n\n  LinearHeatmap.prototype._prepareRange = function () {\n    var data = this.get(MAPPED_DATA);\n    var colorAttr = this.getAttr('color');\n    var colorField = colorAttr.scales[0].field;\n    var min = Infinity;\n    var max = -Infinity;\n    data.forEach(function (row) {\n      var value = row[ORIGIN_FIELD][colorField];\n\n      if (value > max) {\n        max = value;\n      }\n\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    var range = [min, max];\n    this.set(VALUE_RANGE, range);\n  };\n\n  LinearHeatmap.prototype._prepareSize = function () {\n    var radius;\n\n    if (this.get('radius')) {\n      radius = this.get('radius');\n    } else {\n      radius = this.getDefaultValue('size');\n\n      if (!_.isNumber(radius)) {\n        radius = this.getDefaultSize();\n      }\n    }\n\n    var styleOptions = this.get('styleOptions');\n    var blur = styleOptions && _.isObject(styleOptions.cfg) ? styleOptions.cfg.blur : null;\n\n    if (!_.isFinite(blur) || blur === null) {\n      blur = radius / 2;\n    }\n\n    this.set(HEATMAP_SIZE, {\n      blur: blur,\n      radius: radius\n    });\n  };\n\n  LinearHeatmap.prototype.getDefaultSize = function () {\n    var position = this.getAttr('position');\n    var coord = this.get('coord');\n    var radius = Math.min(coord.width / (position.scales[0].ticks.length * 4), coord.height / (position.scales[1].ticks.length * 4));\n    return radius;\n  };\n\n  LinearHeatmap.prototype._colorize = function (img) {\n    var colorAttr = this.getAttr('color');\n    var pixels = img.data;\n    var paletteCache = this.get('paletteCache');\n\n    for (var i = 3; i < pixels.length; i += 4) {\n      var alpha = pixels[i]; // get gradient color from opacity value\n\n      if (alpha) {\n        var palette = void 0;\n\n        if (paletteCache[alpha]) {\n          palette = paletteCache[alpha];\n        } else {\n          palette = colorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n          paletteCache[alpha] = palette;\n        } // const palette = colorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n\n\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  };\n\n  LinearHeatmap.prototype._prepareGreyScaleBlurredCircle = function (r) {\n    var circleCanvas = this.get(GRAY_SCALE_BLURRED_CANVAS);\n\n    if (!circleCanvas) {\n      circleCanvas = document.createElement('canvas');\n      this.set(GRAY_SCALE_BLURRED_CANVAS, circleCanvas);\n    }\n\n    var intensity = this.get('intensity') ? this.get('intensity') : 2;\n    var circleRadius = Math.sqrt(-2.0 * Math.log(ZERO / r / intensity / GAUSS_COEF)) / 3.0 * r;\n    var blur = circleRadius - r;\n    var r2 = circleRadius + blur;\n    var ctx = circleCanvas.getContext('2d');\n    circleCanvas.width = circleCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, circleCanvas.width, circleCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, r, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  };\n\n  LinearHeatmap.prototype._drawGrayScaleBlurredCircle = function (x, y, r, alpha, ctx) {\n    var circleCanvas = this.get(GRAY_SCALE_BLURRED_CANVAS);\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(circleCanvas, x - r, y - r);\n  };\n\n  LinearHeatmap.prototype._getShadowCanvasCtx = function () {\n    var canvas = this.get(SHADOW_CANVAS);\n\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.set(SHADOW_CANVAS, canvas);\n    }\n\n    var viewRange = this.get('view').get('panelRange');\n    canvas.width = viewRange.width;\n    canvas.height = viewRange.height;\n    var context = canvas.getContext('2d');\n    context.globalCompositeOperation = 'lighter';\n    return context;\n  };\n\n  LinearHeatmap.prototype._clearShadowCanvasCtx = function () {\n    var ctx = this._getShadowCanvasCtx();\n\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  };\n\n  LinearHeatmap.prototype._getImageShape = function () {\n    var imageShape = this.get(IMAGE_SHAPE);\n\n    if (imageShape) {\n      return imageShape;\n    }\n\n    var container = this.get('container');\n    imageShape = container.addShape('Image', {});\n    this.set(IMAGE_SHAPE, imageShape);\n    return imageShape;\n  };\n\n  LinearHeatmap.prototype.clear = function () {\n    this._clearShadowCanvasCtx();\n\n    _super.prototype.clear.call(this);\n  };\n\n  LinearHeatmap.prototype.drawWithRange = function (range) {\n    // canvas size\n    var _a = this.get('coord'),\n        start = _a.start,\n        end = _a.end,\n        width = _a.width,\n        height = _a.height; // value, range, etc\n    // const valueField = this.getAttr('color').field;\n\n\n    var valueField = this.getAttr('color').scales[0].field;\n    var size = this.get(HEATMAP_SIZE); // prepare shadow canvas context\n\n    this._clearShadowCanvasCtx();\n\n    var ctx = this._getShadowCanvasCtx(); // filter data\n\n\n    var data = this.get(MAPPED_DATA);\n\n    if (range) {\n      data = data.filter(function (row) {\n        return row[ORIGIN_FIELD][valueField] <= range[1] && row[ORIGIN_FIELD][valueField] >= range[0];\n      });\n    } // step1. draw points with shadow\n\n\n    var scale = this.get('scales')[valueField];\n\n    for (var i = 0; i < data.length; i++) {\n      var obj = data[i];\n      var cfg = this.getDrawCfg(obj);\n      var alpha = scale.scale(obj[ORIGIN_FIELD][valueField]); // @ts-ignore\n\n      this._drawGrayScaleBlurredCircle(cfg.x - start.x, cfg.y - end.y, size.radius + size.blur, alpha, ctx);\n    } // step2. convert pixels\n\n\n    var colored = ctx.getImageData(0, 0, width, height);\n\n    this._clearShadowCanvasCtx();\n\n    this._colorize(colored);\n\n    ctx.putImageData(colored, 0, 0);\n    var image = new Image();\n    image.src = ctx.canvas.toDataURL('image/png');\n\n    var imageShape = this._getImageShape();\n\n    imageShape.attr({\n      x: start.x,\n      y: end.y,\n      width: width,\n      height: height,\n      img: image\n    });\n  };\n\n  LinearHeatmap.prototype.draw = function (data) {\n    this.set(MAPPED_DATA, data);\n\n    this._prepareRange();\n\n    this._prepareSize();\n\n    var size = this.get(HEATMAP_SIZE);\n\n    this._prepareGreyScaleBlurredCircle(size.radius);\n\n    var range = this.get(VALUE_RANGE);\n    this.drawWithRange(range);\n  };\n\n  return LinearHeatmap;\n}(Element);\n\nregisterElement('linearHeatmap', LinearHeatmap);","import { __assign } from \"tslib\";\nimport { each, isArray, deepMix, clone } from '@antv/util';\nimport { Group, BBox } from '@antv/g';\nvar LABEL_MARGIN = 4;\nvar ACTIVE_OPACITY = 1;\nvar DEACTIVE_OPACITY = 0.4;\n\nvar HeatmapLegend =\n/** @class */\nfunction () {\n  function HeatmapLegend(cfg) {\n    this.destroyed = false;\n    this.dataSlides = {};\n    var defaultOptions = this.getDefaultOptions();\n\n    if (cfg.plot.options.theme && cfg.plot.options.theme === 'dark') {\n      defaultOptions = this.getDarkOptions();\n    }\n\n    this.options = deepMix({}, defaultOptions, cfg);\n    this.view = this.options.view;\n    this.afterRender = true;\n    this.init();\n  }\n\n  HeatmapLegend.prototype.init = function () {\n    this.layout = this.getLayout();\n    this.width = this.options.width ? this.options.width : this.getDefaultWidth();\n    this.height = this.options.height ? this.options.height : this.getDefaultHeight();\n    var plotContainer = this.options.plot.container;\n    this.container = plotContainer.addGroup();\n  };\n\n  HeatmapLegend.prototype.render = function () {\n    var scales = this.view.get('scales');\n    var colorField = this.options.plot.options.colorField;\n    this.colorScale = scales[colorField];\n    var _a = this.colorScale,\n        min = _a.min,\n        max = _a.max;\n    var color = this.options.plot.options.color;\n\n    if (this.layout === 'horizontal') {\n      this.renderHorizontal(min, max, color);\n    } else {\n      this.renderVertical(min, max, color);\n    }\n\n    this.legendLayout();\n    this.addInteraction();\n  };\n\n  HeatmapLegend.prototype.hide = function () {\n    this.container.set('visible', false);\n    this.options.plot.canvas.draw();\n  };\n\n  HeatmapLegend.prototype.show = function () {\n    this.container.set('visible', true);\n    this.options.plot.canvas.draw();\n  };\n\n  HeatmapLegend.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  HeatmapLegend.prototype.destroy = function () {\n    if (this.container) {\n      this.container.remove();\n    }\n\n    this.destroyed = true;\n  };\n\n  HeatmapLegend.prototype.getBBox = function () {\n    var origin_bbox = this.container.getBBox();\n    return new BBox(this.x, this.y, origin_bbox.width, origin_bbox.height);\n  };\n\n  HeatmapLegend.prototype.renderVertical = function (min, max, colors) {\n    var _this = this;\n\n    var gridWidth = this.width;\n    var gridHeight = this.height / colors.length;\n    var gridLineContainer = new Group();\n    var gridColors = clone(colors).reverse();\n    var valueStep = (max - min) / colors.length; // 绘制色彩格子\n\n    each(gridColors, function (c, i) {\n      var y = gridHeight * i; // 记录每个grid代表的区间信息用于legend交互\n\n      var appendInfo = {\n        to: max - valueStep * i,\n        from: max - valueStep * (i + 1)\n      };\n\n      var rect = _this.container.addShape('rect', {\n        attrs: {\n          x: 0,\n          y: y,\n          width: gridWidth,\n          height: gridHeight,\n          fill: c,\n          opacity: ACTIVE_OPACITY,\n          cursor: 'pointer'\n        },\n        name: 'grid'\n      });\n\n      rect.set('info', appendInfo);\n\n      var dataSlide = _this.getDataSlide(appendInfo);\n\n      _this.dataSlides[appendInfo.from + \"-\" + appendInfo.to] = {\n        mode: 'active',\n        data: dataSlide\n      };\n      var line = gridLineContainer.addShape('path', {\n        attrs: __assign({\n          path: [['M', 0, y + gridHeight], ['L', gridWidth, y + gridHeight]]\n        }, _this.options.gridlineStyle)\n      });\n    }); // 绘制两边的label\n\n    var textMax = this.container.addShape('text', {\n      attrs: __assign({\n        text: max,\n        x: gridWidth / 2,\n        y: -LABEL_MARGIN,\n        textAlign: 'center',\n        textBaseline: 'bottom'\n      }, this.options.text.style)\n    });\n    var textMin = this.container.addShape('text', {\n      attrs: __assign({\n        text: min,\n        x: gridWidth / 2,\n        y: this.height + LABEL_MARGIN,\n        textAlign: 'center',\n        textBaseline: 'top'\n      }, this.options.text.style)\n    }); // 绘制包围线\n\n    var path = gridLineContainer.addShape('path', {\n      attrs: __assign({\n        path: [['M', 0, 0], ['L', this.width, 0], ['L', this.width, this.height], ['L', 0, this.height], ['L', 0, 0]]\n      }, this.options.gridlineStyle)\n    });\n    this.container.add(gridLineContainer);\n  };\n\n  HeatmapLegend.prototype.renderHorizontal = function (min, max, colors) {\n    var _this = this;\n\n    var gridWidth = this.width / colors.length;\n    var gridHeight = this.height;\n    var gridLineContainer = new Group();\n    var valueStep = (max - min) / colors.length; // 绘制色彩格子\n\n    each(colors, function (c, i) {\n      var x = gridWidth * i; // 记录每个grid代表的区间信息用于legend交互\n\n      var appendInfo = {\n        from: valueStep * i,\n        to: valueStep * (i + 1)\n      };\n\n      var rect = _this.container.addShape('rect', {\n        attrs: {\n          x: x,\n          y: 0,\n          width: gridWidth,\n          height: gridHeight,\n          fill: c,\n          opacity: 0.8,\n          cursor: 'pointer'\n        },\n        name: 'grid'\n      });\n\n      rect.set('info', appendInfo);\n      var line = gridLineContainer.addShape('path', {\n        attrs: __assign({\n          path: [['M', x + gridWidth, 0], ['L', x + gridWidth, gridHeight]]\n        }, _this.options.gridlineStyle)\n      });\n    }); // 绘制两边的label\n\n    this.container.addShape('text', {\n      attrs: __assign(__assign({\n        text: min,\n        x: -LABEL_MARGIN,\n        y: gridHeight / 2\n      }, this.options.text.style), {\n        textAlign: 'right',\n        textBaseline: 'middle'\n      })\n    });\n    this.container.addShape('text', {\n      attrs: __assign({\n        text: max,\n        x: this.width + LABEL_MARGIN,\n        y: gridHeight / 2,\n        textAlign: 'left',\n        textBaseline: 'middle'\n      }, this.options.text.style)\n    }); // 绘制包围线\n\n    gridLineContainer.addShape('path', {\n      attrs: __assign({\n        path: [['M', 0, 0], ['L', this.width, 0], ['L', this.width, this.height], ['L', 0, this.height], ['L', 0, 0]]\n      }, this.options.gridlineStyle)\n    });\n    this.container.add(gridLineContainer);\n  };\n\n  HeatmapLegend.prototype.getLayout = function () {\n    var positions = this.options.position.split('-');\n    this.position = positions[0];\n\n    if (positions[0] === 'left' || positions[0] === 'right') {\n      return 'vertical';\n    }\n\n    return 'horizontal';\n  };\n\n  HeatmapLegend.prototype.getDefaultWidth = function () {\n    if (this.layout === 'horizontal') {\n      var width = this.options.plot.options.width;\n      return width * 0.5;\n    }\n\n    return 10;\n  };\n\n  HeatmapLegend.prototype.getDefaultHeight = function () {\n    if (this.layout === 'vertical') {\n      var height = this.options.plot.options.height;\n      return height * 0.5;\n    }\n\n    return 10;\n  };\n\n  HeatmapLegend.prototype.legendLayout = function () {\n    var _this = this;\n\n    var bleeding = this.options.plot.getPlotTheme().bleeding;\n\n    if (isArray(bleeding)) {\n      each(bleeding, function (it, index) {\n        if (typeof bleeding[index] === 'function') {\n          bleeding[index] = bleeding[index](_this.options.plot.options);\n        }\n      });\n    }\n\n    var bbox = this.container.getBBox();\n    var x = 0;\n    var y = 0;\n    var positions = this.options.position.split('-');\n    var plotWidth = this.options.plot.width;\n    var plotHeight = this.options.plot.height; // 先确定x\n\n    if (positions[0] === 'left') {\n      x = bleeding[3];\n    } else if (positions[0] === 'right') {\n      x = plotWidth - bleeding[1] - bbox.width;\n    } else if (positions[1] === 'center') {\n      x = (plotWidth - bbox.width) / 2;\n    } else if (positions[1] === 'left') {\n      x = bleeding[3];\n    } else if (positions[1] === 'right') {\n      x = this.options.plot.width - bleeding[1] - bbox.width;\n    } // 再确定y\n\n\n    if (positions[0] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    } else if (positions[0] === 'top') {\n      y = bleeding[0];\n    } else if (positions[1] === 'center') {\n      y = (plotHeight - bbox.height) / 2;\n    } else if (positions[1] === 'top') {\n      y = bleeding[0];\n    } else if (positions[1] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    }\n\n    this.x = x;\n    this.y = y;\n    this.container.translate(x, y);\n  };\n\n  HeatmapLegend.prototype.getDefaultOptions = function () {\n    return {\n      text: {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.45)'\n        }\n      },\n      gridlineStyle: {\n        lineWidth: 1,\n        stroke: 'rgba(0, 0, 0, 0.45)'\n      }\n    };\n  };\n\n  HeatmapLegend.prototype.getDarkOptions = function () {\n    return {\n      text: {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(255, 255, 255, 0.45)'\n        }\n      },\n      gridlineStyle: {\n        lineWidth: 1,\n        stroke: 'rgba(255, 255, 255, 0.25)'\n      }\n    };\n  };\n\n  HeatmapLegend.prototype.addInteraction = function () {\n    var _this = this;\n\n    var _a = this.options.plot.options,\n        colorField = _a.colorField,\n        data = _a.data;\n    this.container.on('click', function (ev) {\n      var target = ev.target;\n\n      if (target.get('name') === 'grid') {\n        var appendInfo = target.get('info');\n        var targetInfo = appendInfo.from + \"-\" + appendInfo.to;\n        var relativeData = _this.dataSlides[targetInfo];\n\n        if (relativeData.mode === 'active') {\n          relativeData.mode = 'deactive';\n          target.stopAnimate();\n          target.animate({\n            opacity: DEACTIVE_OPACITY\n          }, 200);\n        } else {\n          relativeData.mode = 'active';\n          target.stopAnimate();\n          target.animate({\n            opacity: ACTIVE_OPACITY\n          }, 200);\n        }\n\n        var filteredData = _this.getFilteredData();\n\n        if (filteredData.length > 0) {\n          _this.view.set('data', filteredData);\n\n          _this.view.scale(colorField, {\n            min: _this.colorScale.min,\n            max: _this.colorScale.max,\n            nice: _this.colorScale.nice\n          });\n\n          _this.view.render();\n        }\n      }\n    });\n  };\n\n  HeatmapLegend.prototype.getFilteredData = function () {\n    var filteredData = [];\n    each(this.dataSlides, function (s) {\n      if (s.mode == 'active') {\n        filteredData.push.apply(filteredData, s.data);\n      }\n    });\n    return filteredData;\n  }; //预先对数据进行分组\n\n\n  HeatmapLegend.prototype.getDataSlide = function (range) {\n    var slide = [];\n    var _a = this.options.plot.options,\n        colorField = _a.colorField,\n        data = _a.data;\n    each(data, function (d) {\n      var value = d[colorField];\n\n      if (value >= range.from && value < range.to) {\n        slide.push(d);\n      }\n    });\n    return slide;\n  };\n\n  return HeatmapLegend;\n}();\n\nexport default HeatmapLegend;","import { __extends } from \"tslib\";\nimport EventEmitter from '@antv/event-emitter';\n\nvar HeatmapBackground =\n/** @class */\nfunction (_super) {\n  __extends(HeatmapBackground, _super);\n\n  function HeatmapBackground(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.options = cfg;\n    _this.view = _this.options.view;\n\n    _this.init();\n\n    return _this;\n  }\n\n  HeatmapBackground.prototype.init = function () {\n    var coord = this.view.get('coord');\n    this.width = coord.width;\n    this.height = coord.height;\n    this.x = coord.start.x;\n    this.y = coord.end.y;\n    var plotContainer = this.options.plot.container;\n    this.container = plotContainer.addGroup();\n    this.container.setZIndex(-100);\n  };\n\n  HeatmapBackground.prototype.render = function () {\n    if (this.options.type === 'color') {\n      this.renderColorBackground();\n    } else if (this.options.type === 'image') {\n      this.renderImageBackground();\n    } else if (this.options.callback) {\n      var callbackCfg = {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height,\n        container: this.container\n      };\n      this.options.callback(callbackCfg);\n    }\n  };\n\n  HeatmapBackground.prototype.renderColorBackground = function () {\n    this.container.addShape('rect', {\n      attrs: {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height,\n        fill: this.options.value\n      }\n    });\n  };\n\n  HeatmapBackground.prototype.renderImageBackground = function () {\n    this.container.addShape('image', {\n      attrs: {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height,\n        img: this.options.src\n      }\n    });\n  };\n\n  HeatmapBackground.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n      this.emit('background:clear');\n    }\n  };\n\n  HeatmapBackground.prototype.destroy = function () {\n    if (this.container) {\n      this.container.remove(); // 使用callback定制的html background需要自己监听销毁事件自行销毁\n\n      this.emit('background:destroy');\n    }\n  };\n\n  return HeatmapBackground;\n}(EventEmitter);\n\nexport default HeatmapBackground;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport '../../geoms/heatmap/linear';\nimport HeatmapLegend from './components/legend';\nimport HeatmapBackground from './components/background';\nimport '../scatter/components/label/scatter-label';\n\nvar HeatmapLayer =\n/** @class */\nfunction (_super) {\n  __extends(HeatmapLayer, _super);\n\n  function HeatmapLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'heatmap';\n    _this.count = 0;\n    return _this;\n  }\n\n  HeatmapLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      xAxis: {\n        visible: true,\n        autoHideLabel: true,\n        autoRotateLabel: true,\n        autoRotateTitle: false,\n        grid: {\n          visible: false\n        },\n        line: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: true,\n          offset: 12\n        }\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: true,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: false\n        },\n        line: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: true,\n          offset: 12\n        }\n      },\n      tooltip: {\n        visible: true,\n        crosshairs: {\n          type: 'cross',\n          style: {\n            lineWidth: 2\n          }\n        }\n      },\n      legend: {\n        visible: true,\n        position: 'bottom-center'\n      },\n      color: ['rgba(33,102,172,0)', 'rgb(103,169,207)', 'rgb(209,229,240)', 'rgb(253,219,199)', 'rgb(239,138,98)', 'rgb(178,24,43)']\n    });\n  };\n\n  HeatmapLayer.prototype.afterRender = function () {\n    if (this.options.legend && this.options.legend.visible) {\n      this.heatmapLegend = new HeatmapLegend(__assign({\n        view: this.view,\n        plot: this\n      }, this.options.legend));\n      this.heatmapLegend.render();\n      this.paddingController.registerPadding(this.heatmapLegend, 'outer');\n    }\n\n    if (this.options.background && this.options.padding !== 'auto') {\n      this.background = new HeatmapBackground(__assign({\n        view: this.view,\n        plot: this\n      }, this.options.background));\n      this.background.render();\n    }\n\n    _super.prototype.afterRender.call(this);\n\n    this.count += 1;\n  };\n\n  HeatmapLayer.prototype.destroy = function () {\n    if (this.heatmapLegend) {\n      this.heatmapLegend.destroy();\n      this.heatmapLegend = null;\n    }\n\n    if (this.background) {\n      this.background.destroy();\n      this.background = null;\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  HeatmapLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[props.xField] = {};\n\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[props.yField] = {};\n\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  HeatmapLayer.prototype.coord = function () {};\n\n  HeatmapLayer.prototype.geometryParser = function (dim, type) {\n    return 'heatmap';\n  };\n\n  HeatmapLayer.prototype.addGeometry = function () {\n    var config = {\n      type: 'linearHeatmap',\n      position: {\n        fields: [this.options.xField, this.options.yField]\n      },\n      color: {\n        fields: [this.options.colorField],\n        values: this.options.color\n      }\n    };\n\n    if (this.options.radius) {\n      config.radius = this.options.radius;\n    }\n\n    if (this.options.intensity) {\n      config.intensity = this.options.intensity;\n    }\n\n    this.setConfig('element', config);\n    this.addPoint();\n  };\n\n  HeatmapLayer.prototype.addPoint = function () {\n    var props = this.options;\n    var defaultConfig = {\n      visible: false,\n      size: 0\n    };\n\n    if (props.point && props.point.visible) {\n      props.point = _.deepMix(defaultConfig, props.point);\n    } else {\n      props.point = defaultConfig;\n    }\n\n    var point = getGeom('point', 'guide', {\n      plot: this\n    });\n    point.active = false;\n    point.label = this.extractLabel();\n    this.setConfig('element', point);\n  };\n\n  HeatmapLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label && label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'scatterLabel',\n      fields: [props.xField, props.yField],\n      position: 'middle',\n      offset: 0\n    }, label));\n    return labelConfig;\n  };\n\n  HeatmapLayer.prototype.legend = function () {\n    this.setConfig('legends', false);\n  };\n\n  HeatmapLayer.prototype.animation = function () {};\n\n  return HeatmapLayer;\n}(ViewLayer);\n\nexport default HeatmapLayer;\nregisterPlotType('heatmap', HeatmapLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport HeatmapLayer from './layer';\n\nvar Heatmap =\n/** @class */\nfunction (_super) {\n  __extends(Heatmap, _super);\n\n  function Heatmap() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Heatmap.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'heatmap';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Heatmap.getDefaultOptions = HeatmapLayer.getDefaultOptions;\n  return Heatmap;\n}(BasePlot);\n\nexport default Heatmap;","import { __assign } from \"tslib\";\nimport { each, isArray, deepMix } from '@antv/util';\nimport { BBox } from '@antv/g';\nvar LABEL_MARGIN = 4;\n\nvar MatrixLegend =\n/** @class */\nfunction () {\n  function MatrixLegend(cfg) {\n    this.destroyed = false;\n    this.dataSlides = {};\n    var defaultOptions = this.getDefaultOptions();\n    this.options = deepMix({}, defaultOptions, cfg);\n    this.view = this.options.view;\n    this.afterRender = true;\n    this.init();\n  }\n\n  MatrixLegend.prototype.init = function () {\n    this.layout = this.getLayout();\n    this.width = this.options.width ? this.options.width : this.getDefaultWidth();\n    this.height = this.options.height ? this.options.height : this.getDefaultHeight();\n    var plotContainer = this.options.plot.container;\n    this.container = plotContainer.addGroup();\n  };\n\n  MatrixLegend.prototype.render = function () {\n    var scales = this.view.get('scales');\n    var colorField = this.options.plot.options.colorField;\n    this.colorScale = scales[colorField];\n    var _a = this.colorScale,\n        min = _a.min,\n        max = _a.max;\n    var color = this.options.plot.options.color;\n\n    if (this.layout === 'horizontal') {\n      this.renderHorizontal(min, max, color);\n    } else {\n      this.renderVertical(min, max, color);\n    }\n\n    this.legendLayout();\n    this.addInteraction();\n  };\n\n  MatrixLegend.prototype.hide = function () {\n    this.container.set('visible', false);\n    this.options.plot.canvas.draw();\n  };\n\n  MatrixLegend.prototype.show = function () {\n    this.container.set('visible', true);\n    this.options.plot.canvas.draw();\n  };\n\n  MatrixLegend.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  MatrixLegend.prototype.destroy = function () {\n    if (this.container) {\n      this.container.remove();\n    }\n\n    this.destroyed = true;\n  };\n\n  MatrixLegend.prototype.getBBox = function () {\n    var origin_bbox = this.container.getBBox();\n    return new BBox(this.x, this.y, origin_bbox.width, origin_bbox.height);\n  };\n\n  MatrixLegend.prototype.renderVertical = function (min, max, colors) {\n    var _this = this;\n\n    var valueStep = (max - min) / (colors.length - 1);\n    var colorStep = 1 / (colors.length - 1);\n    var tickStep = this.height / (colors.length - 1);\n    var gradientColor = 'l(90)';\n    each(colors, function (c, index) {\n      var stepNum = colorStep * index;\n      gradientColor += stepNum + \":\" + c + \" \";\n    });\n    this.container.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height,\n        fill: gradientColor\n      }\n    }); // draw tick and label\n\n    each(colors, function (c, index) {\n      // tick\n      var step = tickStep * index;\n\n      _this.container.addShape('path', {\n        attrs: __assign({\n          path: [['M', 0, step], ['L', _this.width, step]]\n        }, _this.options.ticklineStyle)\n      }); // value\n\n\n      var value = Math.round(valueStep * index);\n\n      _this.container.addShape('text', {\n        attrs: __assign({\n          text: value,\n          textAlign: 'left',\n          textBaseline: 'middle',\n          x: _this.width + LABEL_MARGIN,\n          y: step\n        }, _this.options.text.style)\n      });\n    }); //anchor\n\n    var tri_width = 10;\n    var tri_height = 14;\n    var tri_path = [['M', -tri_width, -tri_height / 2], ['L', 0, 0], ['L', -tri_width, tri_height / 2], ['Z']];\n    this.anchor = this.container.addShape('path', {\n      attrs: __assign({\n        path: tri_path\n      }, this.options.anchorStyle)\n    });\n    this.anchor.set('visible', false);\n  };\n\n  MatrixLegend.prototype.renderHorizontal = function (min, max, colors) {\n    var _this = this;\n\n    var valueStep = (max - min) / (colors.length - 1);\n    var colorStep = 1 / (colors.length - 1);\n    var tickStep = this.width / (colors.length - 1);\n    var gradientColor = 'l(0)';\n    each(colors, function (c, index) {\n      var stepNum = colorStep * index;\n      gradientColor += stepNum + \":\" + c + \" \";\n    });\n    this.container.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height,\n        fill: gradientColor\n      }\n    }); // draw tick and label\n\n    each(colors, function (c, index) {\n      // tick\n      var step = tickStep * index;\n\n      _this.container.addShape('path', {\n        attrs: __assign({\n          path: [['M', step, 0], ['L', step, _this.height]]\n        }, _this.options.ticklineStyle)\n      }); // value\n\n\n      var value = Math.round(valueStep * index);\n\n      _this.container.addShape('text', {\n        attrs: __assign({\n          text: value,\n          textAlign: 'center',\n          textBaseline: 'top',\n          x: step,\n          y: _this.height + LABEL_MARGIN\n        }, _this.options.text.style)\n      });\n    }); //anchor\n\n    var tri_width = 14;\n    var tri_height = 10;\n    var tri_path = [['M', 0, 0], ['L', -tri_width / 2, -tri_height], ['L', tri_width / 2, -tri_height], ['Z']];\n    this.anchor = this.container.addShape('path', {\n      attrs: __assign({\n        path: tri_path\n      }, this.options.anchorStyle)\n    });\n    this.anchor.set('visible', false);\n  };\n\n  MatrixLegend.prototype.getLayout = function () {\n    var positions = this.options.position.split('-');\n    this.position = positions[0];\n\n    if (positions[0] === 'left' || positions[0] === 'right') {\n      return 'vertical';\n    }\n\n    return 'horizontal';\n  };\n\n  MatrixLegend.prototype.getDefaultWidth = function () {\n    if (this.layout === 'horizontal') {\n      var width = this.view.get('panelRange').width;\n      return width;\n    }\n\n    return 10;\n  };\n\n  MatrixLegend.prototype.getDefaultHeight = function () {\n    if (this.layout === 'vertical') {\n      var height = this.view.get('panelRange').height;\n      return height;\n    }\n\n    return 10;\n  };\n\n  MatrixLegend.prototype.legendLayout = function () {\n    var _this = this;\n\n    var panelRange = this.view.get('panelRange');\n    var bleeding = this.options.plot.getPlotTheme().bleeding;\n\n    if (isArray(bleeding)) {\n      each(bleeding, function (it, index) {\n        if (typeof bleeding[index] === 'function') {\n          bleeding[index] = bleeding[index](_this.options.plot.options);\n        }\n      });\n    }\n\n    var bbox = this.container.getBBox();\n    var x = 0;\n    var y = 0;\n    var positions = this.options.position.split('-');\n    var plotWidth = this.options.plot.width;\n    var plotHeight = this.options.plot.height; // 先确定x\n\n    if (positions[0] === 'left') {\n      x = bleeding[3];\n    } else if (positions[0] === 'right') {\n      x = plotWidth - bleeding[1] - bbox.width;\n    } else if (positions[1] === 'center') {\n      // default\n      if (this.width === panelRange.width) {\n        x = panelRange.x;\n      } else {\n        x = (plotWidth - bbox.width) / 2;\n      }\n    } else if (positions[1] === 'left') {\n      x = bleeding[3];\n    } else if (positions[1] === 'right') {\n      x = this.options.plot.width - bleeding[1] - bbox.width;\n    } // 再确定y\n\n\n    if (positions[0] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    } else if (positions[0] === 'top') {\n      y = bleeding[0];\n    } else if (positions[1] === 'center') {\n      // default\n      if (this.height === panelRange.height) {\n        y = panelRange.y;\n      } else {\n        //用户自行设定\n        y = (plotHeight - bbox.height) / 2;\n      }\n    } else if (positions[1] === 'top') {\n      y = bleeding[0];\n    } else if (positions[1] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    }\n\n    this.x = x;\n    this.y = y;\n    this.container.translate(x, y);\n  };\n\n  MatrixLegend.prototype.getDefaultOptions = function () {\n    return {\n      text: {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.45)'\n        }\n      },\n      ticklineStyle: {\n        lineWidth: 1,\n        stroke: 'rgba(0, 0, 0, 0.8)'\n      },\n      anchorStyle: {\n        fill: 'rgba(0,0,0,0.5)'\n      },\n      triggerOn: 'mousemove'\n    };\n  };\n\n  MatrixLegend.prototype.addInteraction = function () {\n    var _this = this;\n\n    var geomType;\n\n    if (this.options.plot.options.shapeType === 'rect') {\n      geomType = 'polygon';\n    } else {\n      geomType = 'point';\n    }\n\n    var eventName = geomType + \":\" + this.options.triggerOn;\n    var labelEventName = \"label:\" + this.options.triggerOn;\n    var field = this.options.plot.options.colorField;\n    var _a = this.colorScale,\n        min = _a.min,\n        max = _a.max;\n    this.view.on(eventName, function (ev) {\n      var value = ev.data._origin[field];\n      var ratio = (value - min) / (max - min);\n\n      _this.moveAnchor(ratio);\n    });\n    this.view.on(labelEventName, function (ev) {\n      var value = ev.data[field];\n      var ratio = (value - min) / (max - min);\n\n      _this.moveAnchor(ratio);\n    });\n    this.options.plot.canvas.on('mouseleave', function (ev) {\n      _this.anchor.set('visible', false);\n    });\n  };\n\n  MatrixLegend.prototype.moveAnchor = function (ratio) {\n    this.anchor.set('visible', true);\n\n    if (this.layout === 'vertical') {\n      var pos = this.height * ratio;\n      var ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      ulMatrix[7] = pos;\n      this.anchor.stopAnimate();\n      this.anchor.animate({\n        matrix: ulMatrix\n      }, 400, 'easeLinear');\n    } else {\n      var pos = this.width * ratio;\n      var ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      ulMatrix[6] = pos;\n      this.anchor.stopAnimate();\n      this.anchor.animate({\n        matrix: ulMatrix\n      }, 400, 'easeLinear');\n    }\n  };\n\n  return MatrixLegend;\n}();\n\nexport default MatrixLegend;","import { registerShape } from '@antv/g2';\nexport function getRectPath(cx, cy, width, height, size) {\n  var w = width * size;\n  var h = height * size;\n  var path = [['M', cx - w / 2, cy + h / 2], ['Q', cx - w / 2, cy, cx - w / 2, cy - h / 2], ['Q', cx, cy - h / 2, cx + w / 2, cy - h / 2], ['Q', cx + w / 2, cy, cx + w / 2, cy + h / 2], ['Q', cx, cy + h / 2, cx - w / 2, cy + h / 2], ['Z']];\n  return path;\n}\nexport function getCirclePath(x, y, size) {\n  var path = [['M', x, y], ['m', -size, 0], ['a', size, size, 0, 1, 0, size * 2, 0], ['a', size, size, 0, 1, 0, -(size * 2), 0], ['Z']];\n  return path;\n}\nexport function getCircleCurve(x, y, size) {\n  // 计算四个角和中点\n  var path = [['M', x - size, y], ['Q', x - size, y - size, x, y - size], ['Q', x + size, y - size, x + size, y], ['Q', x + size, y + size, x, y + size], ['Q', x - size, y + size, x - size, y], ['Z']];\n  return path;\n}\nregisterShape('polygon', 'rect', {\n  draw: function draw(cfg, container) {\n    var points = this.parsePoints(cfg.points);\n    var width = points[2].x - points[0].x;\n    var height = points[0].y - points[1].y;\n    var centerX = points[0].x + width / 2;\n    var centerY = points[1].y + height / 2;\n    /*\n        const path = [\n          ['M', centerX - w / 2, centerY + h / 2],\n          ['L', centerX - w / 2, centerY - h / 2],\n          ['L', centerX + w / 2, centerY - h / 2],\n          ['L', centerX + w / 2, centerY + h / 2],\n          ['Z'],\n        ];\n        */\n\n    var path = getRectPath(centerX, centerY, width, height, cfg.origin.size);\n    return container.addShape('path', {\n      attrs: {\n        path: path,\n        fill: cfg.color,\n        opacity: 1\n      }\n    });\n  }\n});\nregisterShape('point', 'curvePoint', {\n  draw: function draw(cfg, container) {\n    var path = getCirclePath(cfg.x, cfg.y, cfg.size);\n    return container.addShape('path', {\n      attrs: {\n        path: path,\n        fill: cfg.color,\n        opacity: 1\n      }\n    });\n  }\n});","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { rgb2arr } from '../../../util/color';\n\nvar MatrixLabels =\n/** @class */\nfunction (_super) {\n  __extends(MatrixLabels, _super);\n\n  function MatrixLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MatrixLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var items = renderer.get('items');\n    var view = this.get('element').get('view');\n\n    _.each(labels, function (label, index) {\n      var l = label;\n      var item = items[index];\n      var origin = l.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var shape = _this._getShape(shapeId, shapes);\n\n      var _a = _this.get('labelOptions'),\n          adjustColor = _a.adjustColor,\n          adjustPosition = _a.adjustPosition;\n\n      if (adjustColor) {\n        _this.adjustColor(l, shape);\n      }\n\n      if (adjustPosition) {\n        _this.adjustPosition(l, shape);\n      }\n    });\n\n    view.get('canvas').draw();\n  };\n\n  MatrixLabels.prototype._getShape = function (shapeId, shapes) {\n    var target;\n\n    _.each(shapes, function (shape) {\n      var s = shape;\n      var id = s.id;\n\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n\n    return target;\n  };\n\n  MatrixLabels.prototype.adjustColor = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (labelRange.minY >= shapeRange.minY && labelRange.maxY <= shapeRange.maxY) {\n      var shapeColor = shape.attr('fill');\n      var shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      var rgb = rgb2arr(shapeColor);\n      var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      var colorBand = [{\n        from: 0,\n        to: 85,\n        color: 'white'\n      }, {\n        from: 85,\n        to: 170,\n        color: '#F6F6F6'\n      }, {\n        from: 170,\n        to: 255,\n        color: 'black'\n      }];\n      var reflect = this.mappingColor(colorBand, gray);\n      label.attr('fill', reflect);\n    }\n  };\n\n  MatrixLabels.prototype.mappingColor = function (band, gray) {\n    var reflect;\n\n    _.each(band, function (b) {\n      var map = b;\n\n      if (gray >= map.from && gray < map.to) {\n        reflect = map.color;\n      }\n    });\n\n    return reflect;\n  };\n\n  MatrixLabels.prototype.adjustPosition = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (labelRange.width > shapeRange.width || labelRange.height > shapeRange.height) {\n      label.attr('opacity', 0);\n      label.attr('fillOpacity', 0);\n      label.attr('strokeOpacity', 0);\n      label.set('capture', false);\n    }\n  };\n\n  return MatrixLabels;\n}(ElementLabels);\n\nexport { MatrixLabels };\nregisterElementLabels('matrixLabel', MatrixLabels);","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { BBox } from '@antv/g';\nimport { getScale } from '@antv/scale';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport MatrixLegend from './component/legend';\nimport { getRectPath, getCirclePath, getCircleCurve } from './shape';\nimport './component/label';\nimport './component/legend';\n\nvar MatrixLayer =\n/** @class */\nfunction (_super) {\n  __extends(MatrixLayer, _super);\n\n  function MatrixLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'matrix';\n    _this.gridSize = [];\n    return _this;\n  }\n\n  MatrixLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      forceSquare: false,\n      shapeType: 'rect',\n      legend: {\n        visible: true,\n        position: 'right-center'\n      },\n      tooltip: {\n        shared: false,\n        crosshairs: false\n      },\n      xAxis: {\n        visible: true,\n        gridAlign: 'center',\n        grid: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        line: {\n          visible: false\n        },\n        autoRotateLabel: true\n      },\n      yAxis: {\n        visible: true,\n        gridAlign: 'center',\n        grid: {\n          visible: true,\n          align: 'center'\n        },\n        tickLine: {\n          visible: true\n        },\n        autoRotateLabel: true\n      },\n      color: ['#9ae3d5', '#66cdbb', '#e7a744', '#f1e066', '#f27664', '#e7c1a2'],\n      label: {\n        visible: true,\n        adjustColor: true,\n        adjustPosition: true,\n        offset: 0,\n        style: {\n          stroke: 'rgba(255,255,255,0)',\n          lineWidth: 0\n        }\n      }\n    });\n  };\n\n  MatrixLayer.prototype.afterInit = function () {\n    _super.prototype.afterInit.call(this);\n\n    if (this.options.forceSquare) {\n      var panelRange = this.view.get('panelRange');\n      var _a = this.options,\n          xField = _a.xField,\n          yField = _a.yField,\n          data = _a.data;\n\n      var xCount = _.valuesOfKey(data, xField).length;\n\n      var yCount = _.valuesOfKey(data, yField).length;\n\n      var rangeSize = Math.min(panelRange.width, panelRange.height);\n      var count = Math.max(xCount, yCount);\n      var gridSize = rangeSize / count;\n      var width = gridSize * xCount;\n      var height = gridSize * yCount;\n      this.view.set('panelRange', new BBox(panelRange.x, panelRange.y, width, height));\n    }\n  };\n\n  MatrixLayer.prototype.afterRender = function () {\n    if (this.options.legend && this.options.legend.visible) {\n      this.matrixLegend = new MatrixLegend(__assign({\n        view: this.view,\n        plot: this\n      }, this.options.legend));\n      this.matrixLegend.render();\n      this.paddingController.registerPadding(this.matrixLegend, 'outer');\n    }\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  MatrixLayer.prototype.changeShape = function (type) {\n    if (this.options.shapeType === type) {\n      return;\n    }\n\n    this.options.shapeType = type;\n\n    if (type === 'rect') {\n      var geom = this.view.get('elements')[0];\n      var shapes = geom.getShapes();\n      this.circleToRect(shapes);\n    } else if (type === 'circle') {\n      var geom = this.view.get('elements')[0];\n      var shapes = geom.getShapes();\n      this.rectToCircle(shapes);\n    }\n  };\n\n  MatrixLayer.prototype.mappingSize = function (field) {\n    if (this.options.sizeField && this.options.sizeField === field) {\n      return;\n    } // 创建scale\n\n\n    var values = _.valuesOfKey(this.options.data, field);\n\n    var min = Math.min.apply(Math, values);\n    var max = Math.max.apply(Math, values);\n    var LinearScale = getScale('linear');\n    var scale = new LinearScale({\n      min: min,\n      max: max\n    });\n    var geom = this.view.get('elements')[0];\n    var shapes = geom.getShapes();\n\n    if (this.options.shapeType === 'rect') {\n      this.rectSizeMapping(shapes, scale, field);\n    } else if (this.options.shapeType === 'circle') {\n      this.circleSizeMapping(shapes, scale, field);\n    }\n  };\n\n  MatrixLayer.prototype.disableMappingSize = function () {\n    var geom = this.view.get('elements')[0];\n    var shapes = geom.getShapes();\n\n    if (this.options.shapeType === 'rect') {\n      this.rectDisableSizeMapping(shapes);\n    } else if (this.options.shapeType === 'circle') {\n      this.circleDisableSizeMapping(shapes);\n    }\n  };\n\n  MatrixLayer.prototype.geometryParser = function () {\n    return '';\n  };\n\n  MatrixLayer.prototype.coord = function () {};\n\n  MatrixLayer.prototype.legend = function () {\n    this.setConfig('legends', false);\n  };\n\n  MatrixLayer.prototype.addGeometry = function () {\n    this.gridSize = this.getGridSize();\n\n    if (this.options.shapeType === 'rect') {\n      var rect = this.addRect();\n      this.setConfig('element', rect);\n    } else {\n      var circle = this.addCircle();\n      this.setConfig('element', circle);\n    }\n  };\n\n  MatrixLayer.prototype.addRect = function () {\n    // 如果用户设置了size，将size数值转换为[0,1]区间\n    var size = [0.3, 0.9];\n\n    if (this.options.shapeSize) {\n      size[0] = this.options.shapeSize[0] / this.gridSize[0];\n      size[1] = this.options.shapeSize[1] / this.gridSize[1];\n    }\n\n    var rect = {\n      type: 'polygon',\n      position: {\n        fields: [this.options.xField, this.options.yField]\n      },\n      color: {\n        fields: [this.options.colorField],\n        values: this.options.color\n      },\n      shape: {\n        values: ['rect']\n      },\n      label: this.extractLabel()\n    };\n\n    if (this.options.sizeField) {\n      rect.size = {\n        fields: [this.options.sizeField],\n        values: size\n      };\n    } else {\n      rect.size = {\n        values: [1]\n      };\n    }\n\n    return rect;\n  };\n\n  MatrixLayer.prototype.addCircle = function () {\n    var size = [0.3, 0.9];\n\n    if (this.options.shapeSize) {\n      size = this.options.shapeSize;\n    } else {\n      size[0] = this.gridSize[0] * size[0] * 0.5;\n      size[1] = this.gridSize[1] * size[1] * 0.5;\n    }\n\n    var circle = {\n      type: 'point',\n      position: {\n        fields: [this.options.xField, this.options.yField]\n      },\n      color: {\n        fields: [this.options.colorField],\n        values: this.options.color\n      },\n      shape: {\n        values: ['curvePoint']\n      },\n      label: this.extractLabel()\n    };\n\n    if (this.options.sizeField) {\n      circle.size = {\n        fields: [this.options.sizeField],\n        values: size\n      };\n    } else {\n      circle.size = {\n        values: [Math.min(this.gridSize[0], this.gridSize[1]) * 0.5 * 0.9]\n      };\n    }\n\n    return circle;\n  };\n\n  MatrixLayer.prototype.extractLabel = function () {\n    var labelOptions = this.options.label; // 不显示label的情况\n\n    if (!labelOptions.visible) {\n      return false;\n    }\n\n    if (!this.options.sizeField && !this.options.colorField) {\n      return false;\n    }\n\n    var label = getComponent('label', __assign({\n      plot: this,\n      top: true,\n      labelType: 'matrixLabel',\n      fields: this.options.colorField ? [this.options.colorField] : [this.options.sizeField]\n    }, labelOptions));\n    return label;\n  };\n\n  MatrixLayer.prototype.getGridSize = function () {\n    if (this.options.padding === 'auto') {\n      return [0, 0];\n    } else {\n      var viewRange = this.getViewRange();\n      var _a = this.options,\n          padding = _a.padding,\n          xField = _a.xField,\n          yField = _a.yField,\n          data = _a.data;\n      var width = viewRange.width - padding[1] - padding[3];\n      var height = viewRange.height - padding[0] - padding[2];\n\n      var xCount = _.valuesOfKey(data, xField).length;\n\n      var yCount = _.valuesOfKey(data, yField).length;\n\n      return [width / xCount, height / yCount];\n    }\n  };\n\n  MatrixLayer.prototype.circleToRect = function (shapes) {\n    var _this = this;\n\n    var gridSize = this.gridSize;\n\n    _.each(shapes, function (shape) {\n      var _a = shape.get('origin'),\n          x = _a.x,\n          y = _a.y,\n          size = _a.size;\n\n      var sizeRatio = size * 2 / Math.min(gridSize[0], gridSize[1]);\n\n      if (!_this.options.sizeField) {\n        sizeRatio = 1;\n      }\n\n      var curvePath = getCircleCurve(x, y, size);\n      var rectPath = getRectPath(x, y, gridSize[0], gridSize[1], sizeRatio);\n      shape.stopAnimate();\n      shape.attr('path', curvePath);\n      shape.animate({\n        path: rectPath\n      }, 500, 'easeLinear');\n    });\n  };\n\n  MatrixLayer.prototype.rectToCircle = function (shapes) {\n    var _this = this;\n\n    _.each(shapes, function (shape) {\n      var coord = shape.get('coord');\n      var points = shape.get('origin').points;\n      var ps = [];\n\n      _.each(points, function (p) {\n        ps.push(coord.convertPoint(p));\n      });\n\n      var bbox = shape.getBBox();\n      var width = bbox.width;\n      var height = bbox.height;\n      var centerX = bbox.minX + width / 2;\n      var centerY = bbox.minY + height / 2;\n      var offsetRatio = _this.options.sizeField ? 1 : 0.9;\n      var curvePath = getCircleCurve(centerX, centerY, Math.min(width, height) / 2 * offsetRatio);\n      var circlePath = getCirclePath(centerX, centerY, Math.min(width, height) / 2 * offsetRatio);\n      shape.stopAnimate();\n      shape.animate({\n        path: curvePath\n      }, 500, 'easeLinear', function () {\n        shape.attr('path', circlePath);\n      });\n    });\n  };\n\n  MatrixLayer.prototype.rectSizeMapping = function (shapes, scale, field) {\n    _.each(shapes, function (shape) {\n      var data = shape.get('origin')._origin;\n\n      var ratio = 0.3 + scale.scale(data[field]) * 0.6;\n      shape.get('origin').size = ratio;\n      var bbox = shape.getBBox();\n      var width = bbox.width;\n      var height = bbox.height;\n      var centerX = bbox.minX + width / 2;\n      var centerY = bbox.minY + height / 2;\n      var path = getRectPath(centerX, centerY, width, height, ratio);\n      shape.stopAnimate();\n      shape.animate({\n        path: path\n      }, 500, 'easeLinear');\n    });\n  };\n\n  MatrixLayer.prototype.circleSizeMapping = function (shapes, scale, field) {\n    _.each(shapes, function (shape) {\n      var data = shape.get('origin')._origin;\n\n      var ratio = 0.3 + scale.scale(data[field]) * 0.6;\n\n      var _a = shape.get('origin'),\n          x = _a.x,\n          y = _a.y,\n          size = _a.size;\n\n      var path = getCirclePath(x, y, size * ratio);\n      shape.get('origin').size = size * ratio;\n      shape.stopAnimate();\n      shape.animate({\n        path: path\n      }, 500, 'easeLinear');\n    });\n  };\n\n  MatrixLayer.prototype.circleDisableSizeMapping = function (shapes) {\n    var _this = this;\n\n    _.each(shapes, function (shape) {\n      var _a = shape.get('origin'),\n          x = _a.x,\n          y = _a.y;\n\n      var size = Math.min(_this.gridSize[0], _this.gridSize[1]) * 0.9;\n      shape.get('origin').size = size / 2;\n      var path = getCirclePath(x, y, size / 2);\n      shape.stopAnimate();\n      shape.animate({\n        path: path\n      }, 500, 'easeLinear');\n    });\n  };\n\n  MatrixLayer.prototype.rectDisableSizeMapping = function (shapes) {\n    var _this = this;\n\n    _.each(shapes, function (shape) {\n      var bbox = shape.getBBox();\n      var width = bbox.width;\n      var height = bbox.height;\n      var centerX = bbox.minX + width / 2;\n      var centerY = bbox.minY + height / 2;\n      var path = getRectPath(centerX, centerY, _this.gridSize[0], _this.gridSize[1], 1);\n      shape.get('origin').size = 1;\n      shape.stopAnimate();\n      shape.animate({\n        path: path\n      }, 500, 'easeLinear');\n    });\n  };\n\n  return MatrixLayer;\n}(ViewLayer);\n\nexport default MatrixLayer;\nregisterPlotType('matrix', MatrixLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport MatrixLayer from './layer';\n\nvar Matrix =\n/** @class */\nfunction (_super) {\n  __extends(Matrix, _super);\n\n  function Matrix() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Matrix.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'matrix';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Matrix.prototype.changeShape = function (type) {\n    var layer = this.layers[0];\n    layer.changeShape(type);\n  };\n\n  Matrix.prototype.mappingSize = function (field) {\n    var layer = this.layers[0];\n    layer.mappingSize(field);\n  };\n\n  Matrix.prototype.disableMappingSize = function () {\n    var layer = this.layers[0];\n    layer.disableMappingSize();\n  };\n\n  Matrix.getDefaultOptions = MatrixLayer.getDefaultOptions;\n  return Matrix;\n}(BasePlot);\n\nexport default Matrix;","import { __assign } from \"tslib\";\nimport { Global, registerShape } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nfunction getRectPath(points) {\n  var path = [];\n\n  for (var i = 0; i < points.length; i++) {\n    var point = points[i];\n\n    if (point) {\n      var action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  var first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['Z']);\n  return path;\n}\n\nvar ShapeUtil = {\n  addFillAttrs: function addFillAttrs(attrs, cfg) {\n    if (cfg.color) {\n      attrs.fill = cfg.color;\n    }\n\n    if (_.isNumber(cfg.opacity)) {\n      attrs.opacity = attrs.fillOpacity = cfg.opacity;\n    }\n  }\n};\n\nfunction getFillAttrs(cfg) {\n  var defaultAttrs = Global.theme.shape.interval;\n\n  var attrs = _.mix({}, defaultAttrs, cfg.style);\n\n  ShapeUtil.addFillAttrs(attrs, cfg);\n\n  if (cfg.color) {\n    attrs.stroke = attrs.stroke || cfg.color;\n  }\n\n  return attrs;\n} // @ts-ignore\n\n\nregisterShape('interval', 'waterfall', {\n  draw: function draw(cfg, container) {\n    var fillAttrs = getFillAttrs(cfg);\n    var rectPath = getRectPath(cfg.points);\n    rectPath = this.parsePath(rectPath); // 1. 区域\n\n    var interval = container.addShape('path', {\n      attrs: _.mix(fillAttrs, {\n        path: rectPath\n      })\n    });\n\n    var leaderLine = _.get(cfg.style, 'leaderLine');\n\n    if (leaderLine && leaderLine.visible) {\n      var lineStyle = leaderLine.style || {}; // 2. 虚线连线\n\n      if (cfg.nextPoints) {\n        var linkPath = [['M', cfg.points[2].x, cfg.points[2].y], ['L', cfg.nextPoints[0].x, cfg.nextPoints[0].y]];\n        linkPath = this.parsePath(linkPath);\n        var path = container.addShape('path', {\n          attrs: __assign({\n            path: linkPath,\n            stroke: '#d3d3d3',\n            lineDash: [4, 2],\n            lineWidth: 1\n          }, lineStyle)\n        });\n        path.name = 'leader-line';\n      }\n    }\n\n    return interval;\n  }\n});","import { __extends } from \"tslib\";\nimport { registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { ColumnLabels } from '../../../column/component/label/column-label';\nimport { VALUE_FIELD } from '../../layer';\n\nvar WaterfallLabels =\n/** @class */\nfunction (_super) {\n  __extends(WaterfallLabels, _super);\n\n  function WaterfallLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  WaterfallLabels.prototype.adjustPosition = function (label, shape, item) {\n    var MARGIN = 2;\n    var shapeBox = shape.getBBox();\n    var origin = label.get('origin');\n    var yField = item.fields[0];\n    var values = origin[VALUE_FIELD];\n    var diff = origin[yField];\n    var value = _.isArray(values) ? values[1] : values;\n    var yPos = (shapeBox.minY + shapeBox.maxY) / 2;\n    var textBaseline = 'bottom';\n\n    if (diff < 0) {\n      yPos = shapeBox.maxY + MARGIN;\n      textBaseline = 'top';\n    } else {\n      yPos = shapeBox.minY - MARGIN;\n    }\n\n    label.attr('y', yPos);\n    label.attr('text', value);\n    label.attr('textBaseline', textBaseline);\n  };\n\n  return WaterfallLabels;\n}(ColumnLabels);\n\nregisterElementLabels('waterfall', WaterfallLabels);","import { __assign } from \"tslib\";\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { VALUE_FIELD, IS_TOTAL } from '../../layer';\n\nfunction getDefaultCfg() {\n  return {\n    fill: '#fff',\n    fontSize: 12,\n    lineHeight: 12,\n    stroke: 'rgba(0, 0, 0, 0.45)'\n  };\n}\n\nvar DiffLabel =\n/** @class */\nfunction () {\n  function DiffLabel(cfg) {\n    this.textAttrs = {};\n    this.view = cfg.view;\n    this.fields = cfg.fields;\n    this.formatter = cfg.formatter;\n    this.textAttrs = _.mix(getDefaultCfg(), cfg.style);\n\n    this._init();\n  }\n  /** 绘制辅助labels */\n\n\n  DiffLabel.prototype.draw = function () {\n    var _this = this;\n\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n\n    var data = _.clone(this.view.get('data'));\n\n    this.container = this.view.get('frontgroundGroup').addGroup();\n    var shapes = this.view.get('elements')[0].getShapes().filter(function (s) {\n      return s.name === 'interval';\n    });\n    var labelsGroup = new Group();\n\n    _.each(shapes, function (shape, idx) {\n      if (!shape.get('origin')) return;\n\n      var _origin = shape.get('origin')._origin;\n\n      var shapeBox = shape.getBBox();\n      var values = _origin[VALUE_FIELD];\n      var diff = values;\n\n      if (_.isArray(values)) {\n        diff = values[1] - values[0];\n      }\n\n      diff = diff > 0 ? \"+\" + diff : diff;\n      /** is total, total do not need `+` sign */\n\n      if (_origin[IS_TOTAL]) {\n        diff = values[0] - values[1];\n      }\n\n      var formattedText = diff;\n\n      if (_this.formatter) {\n        var color = shapes[idx].attr('fill');\n        formattedText = _this.formatter(\"\" + diff, {\n          _origin: data[idx],\n          color: color\n        }, idx);\n      }\n\n      var text = labelsGroup.addShape('text', {\n        attrs: __assign({\n          text: formattedText,\n          textBaseline: 'middle',\n          textAlign: 'center',\n          x: (shapeBox.minX + shapeBox.maxX) / 2,\n          y: (shapeBox.minY + shapeBox.maxY) / 2\n        }, _this.textAttrs)\n      });\n\n      if (text.getBBox().height > shapeBox.height) {\n        text.set('visible', false);\n      }\n    });\n\n    this.container.add(labelsGroup);\n    this.view.get('canvas').draw();\n  };\n\n  DiffLabel.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  DiffLabel.prototype._init = function () {\n    var _this = this;\n\n    this.view.on('beforerender', function () {\n      _this.clear();\n    });\n    this.view.on('afterrender', function () {\n      _this.draw();\n    });\n  };\n\n  return DiffLabel;\n}();\n\nexport default DiffLabel;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport './geometry/shape/waterfall';\nimport ViewLayer from '../../base/view-layer';\nimport { extractScale } from '../../util/scale';\nimport { getComponent } from '../../components/factory';\nimport * as EventParser from './event';\nimport './component/label/waterfall-label';\nimport DiffLabel from './component/label/diff-label';\nvar G2_GEOM_MAP = {\n  waterfall: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'waterfall'\n};\nexport var VALUE_FIELD = '$$value$$';\nexport var IS_TOTAL = '$$total$$';\nvar INDEX_FIELD = '$$index$$';\n\nvar WaterfallLayer =\n/** @class */\nfunction (_super) {\n  __extends(WaterfallLayer, _super);\n\n  function WaterfallLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'watarfall';\n    return _this;\n  }\n\n  WaterfallLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      legend: {\n        visible: false,\n        position: 'bottom'\n      },\n      label: {\n        visible: true,\n        adjustPosition: true\n      },\n\n      /** 差值 label */\n      diffLabel: {\n        visible: true\n      },\n\n      /** 迁移线 */\n      leaderLine: {\n        visible: true\n      },\n\n      /** 显示总计 */\n      showTotal: {\n        visible: true,\n        label: '总计值'\n      },\n      waterfallStyle: {\n        /** 默认无描边 */\n        lineWidth: 0\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        crosshairs: {\n          type: 'rect'\n        }\n      }\n    });\n  };\n\n  WaterfallLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props);\n\n    this.adjustLegendOptions(options);\n    return options;\n  };\n\n  WaterfallLayer.prototype.afterInit = function () {\n    _super.prototype.afterInit.call(this);\n\n    var options = this.options;\n\n    if (options.diffLabel && options.diffLabel.visible) {\n      this.diffLabel = new DiffLabel({\n        view: this.view,\n        fields: [options.xField, options.yField, VALUE_FIELD],\n        formatter: options.diffLabel.formatter,\n        style: options.diffLabel.style\n      });\n    } else if (this.diffLabel) {\n      this.diffLabel.clear();\n      this.diffLabel = null;\n    }\n  };\n\n  WaterfallLayer.prototype.afterRender = function () {\n    _super.prototype.afterRender.call(this);\n\n    var options = this.options;\n    this.view.on('tooltip:change', function (e) {\n      var items = e.items;\n\n      for (var i = 0; i < items.length; i++) {\n        var item = items[i];\n\n        var _origin = _.get(item.point, '_origin', {}); // 改变 tooltip 显示的name和value\n\n\n        item.name = _origin[options.xField];\n        item.value = _origin[options.yField];\n\n        if (!item.value && _origin[IS_TOTAL]) {\n          var values = _origin[VALUE_FIELD];\n          item.value = values[0] - values[1];\n        }\n\n        e.items[i] = item;\n      }\n    });\n  };\n\n  WaterfallLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  WaterfallLayer.prototype.addGeometry = function () {\n    var options = this.options;\n    var waterfall = {\n      type: 'interval',\n      position: {\n        fields: [options.xField, VALUE_FIELD]\n      },\n      shape: {\n        values: ['waterfall']\n      }\n    };\n\n    if (options.label) {\n      waterfall.label = this.extractLabel();\n    }\n\n    waterfall.style = this._parseStyle();\n    waterfall.color = this._parseColor();\n    this.waterfall = waterfall;\n    this.setConfig('element', waterfall);\n  };\n\n  WaterfallLayer.prototype.processData = function (originData) {\n    var _a;\n\n    var plotData = [];\n    var xField = this.options.xField;\n    var yField = this.options.yField;\n\n    _.map(originData, function (dataItem, idx) {\n      var _a;\n\n      var value = dataItem[yField];\n\n      if (idx > 0) {\n        var prevValue = plotData[idx - 1][VALUE_FIELD];\n\n        if (_.isArray(prevValue)) {\n          value = [prevValue[1], dataItem[yField] + prevValue[1]];\n        } else {\n          value = [prevValue, dataItem[yField] + prevValue];\n        }\n      }\n\n      plotData.push(__assign(__assign({}, dataItem), (_a = {}, _a[VALUE_FIELD] = value, _a[INDEX_FIELD] = idx, _a)));\n    });\n\n    if (this.options.showTotal && this.options.showTotal.visible) {\n      var values = _.map(originData, function (o) {\n        return o[yField];\n      });\n\n      var totalValue = _.reduce(values, function (p, n) {\n        return p + n;\n      }, 0);\n\n      plotData.push((_a = {}, _a[xField] = this.options.showTotal.label, _a[yField] = null, _a[VALUE_FIELD] = [totalValue, 0], _a[INDEX_FIELD] = plotData.length, _a[IS_TOTAL] = true, _a));\n    }\n\n    return plotData;\n  };\n\n  WaterfallLayer.prototype.scale = function () {\n    var options = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[options.xField] = {\n      type: 'cat'\n    };\n\n    if (_.has(options, 'xAxis')) {\n      extractScale(scales[options.xField], options.xAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[options.yField] = {};\n\n    if (_.has(options, 'yAxis')) {\n      extractScale(scales[options.yField], options.yAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  WaterfallLayer.prototype.coord = function () {};\n\n  WaterfallLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  WaterfallLayer.prototype.extractLabel = function () {\n    var options = this.options;\n\n    var label = _.deepMix({}, options.label);\n\n    if (label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'waterfall',\n      fields: [options.yField]\n    }, label));\n    return labelConfig;\n  };\n  /** 牵引线的样式注入到style中 */\n\n\n  WaterfallLayer.prototype._parseStyle = function () {\n    var style = this.options.waterfallStyle;\n    var leaderLine = this.options.leaderLine;\n    var config = {};\n\n    if (_.isFunction(style)) {\n      config.callback = function () {\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        return Object.assign({}, style.apply(void 0, args), {\n          leaderLine: leaderLine\n        });\n      };\n    } else {\n      config.cfg = __assign(__assign({}, style), {\n        leaderLine: leaderLine\n      });\n    }\n\n    return config;\n  };\n\n  WaterfallLayer.prototype._parseColor = function () {\n    var _this = this;\n\n    var options = this.options;\n    var _a = this.options,\n        xField = _a.xField,\n        yField = _a.yField;\n    var config = {\n      fields: [xField, yField, VALUE_FIELD, INDEX_FIELD]\n    };\n\n    if (_.isFunction(options.color)) {\n      config.callback = options.color;\n    } else {\n      var risingColor_1 = '#f4664a';\n      var fallingColor_1 = '#30bf78';\n      var totalColor_1 = 'rgba(0, 0, 0, 0.25)';\n\n      if (_.isString(options.color)) {\n        risingColor_1 = fallingColor_1 = totalColor_1 = options.color;\n      } else if (_.isObject(options.color)) {\n        var _b = options.color,\n            rising = _b.rising,\n            falling = _b.falling,\n            total = _b.total;\n        risingColor_1 = rising;\n        fallingColor_1 = falling;\n        totalColor_1 = total;\n      }\n\n      config.callback = function (type, value, values, index) {\n        if (index === _this.options.data.length) {\n          return totalColor_1 || (values[0] >= 0 ? risingColor_1 : fallingColor_1);\n        }\n\n        return (_.isArray(values) ? values[1] - values[0] : values) >= 0 ? risingColor_1 : fallingColor_1;\n      };\n    }\n\n    return config;\n  };\n  /** 复写 legend 配置, 瀑布图默认无legend */\n\n\n  WaterfallLayer.prototype.adjustLegendOptions = function (options) {\n    var legendOptions = options.legend;\n\n    if (legendOptions) {\n      legendOptions.visible = false;\n    }\n  };\n\n  return WaterfallLayer;\n}(ViewLayer);\n\nexport default WaterfallLayer;\nregisterPlotType('waterfall', WaterfallLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport WaterfallLayer from './layer';\n\nvar Waterfall =\n/** @class */\nfunction (_super) {\n  __extends(Waterfall, _super);\n\n  function Waterfall() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Waterfall.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'waterfall';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Waterfall.getDefaultOptions = WaterfallLayer.getDefaultOptions;\n  return Waterfall;\n}(BasePlot);\n\nexport default Waterfall;","import { each } from '@antv/util';\nexport function dice(root, x0, y0, x1, y1) {\n  var width = x1 - x0;\n  var children = root.children,\n      value = root.value;\n  children.sort(function (a, b) {\n    return b.value - a.value;\n  });\n  var k = width / value;\n  var node_x = x0;\n  each(children, function (c) {\n    c.y0 = y0;\n    c.y1 = y1;\n    c.x0 = node_x;\n    node_x += c.value * k;\n    c.x1 = c.x0 + c.value * k;\n  });\n}","import { each } from '@antv/util';\nexport function slice(root, x0, y0, x1, y1) {\n  var height = y1 - y0;\n  var children = root.children,\n      value = root.value;\n  children.sort(function (a, b) {\n    return b.value - a.value;\n  });\n  var k = height / value;\n  var node_y = y0;\n  each(children, function (c) {\n    c.x0 = x0;\n    c.x1 = x1;\n    c.y0 = node_y;\n    node_y += c.value * k;\n    c.y1 = c.y0 + c.value * k;\n  });\n}","import { dice } from './dice';\nimport { slice } from './slice'; //reference: https://github.com/d3/d3-hierarchy/blob/master/src/treemap/squarify.js\n// 黄金分割\n\nvar ratio = (1 + Math.sqrt(5)) / 2;\nexport default function squarify(root, x0, y0, x1, y1) {\n  var children = root.children;\n  var value = root.value;\n  children.sort(function (a, b) {\n    return b.value - a.value;\n  });\n  var rows = [];\n  var sumValue, maxValue, minValue;\n  var alpha, beta;\n  var newRatio, minRatio;\n  var nodeValue;\n  var i = 0,\n      j = 0; // todo: 剔除empty node\n\n  while (i < children.length) {\n    var width = x1 - x0;\n    var height = y1 - y0;\n    sumValue = children[j++].value;\n    maxValue = sumValue;\n    minValue = sumValue;\n    alpha = Math.max(height / width, width / height) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    for (; j < children.length; j++) {\n      nodeValue = children[j].value;\n      sumValue += nodeValue;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n\n      if (newRatio > minRatio) {\n        sumValue -= nodeValue;\n        break;\n      }\n\n      minRatio = newRatio;\n    }\n\n    var row = {\n      value: sumValue,\n      dice: width < height,\n      children: children.slice(i, j)\n    };\n    rows.push(row);\n\n    if (row.dice) {\n      var h = value ? height * sumValue / value : height;\n      dice(row, x0, y0, x1, y0 + h);\n\n      if (value) {\n        y0 += h;\n      }\n    } else {\n      var w = value ? width * sumValue / value : width;\n      slice(row, x0, y0, x0 + w, y1);\n\n      if (value) {\n        x0 += w;\n      }\n    }\n\n    value -= sumValue;\n    i = j;\n  }\n\n  return rows;\n}","import { __assign, __extends } from \"tslib\";\nimport EventEmitter from '@antv/event-emitter';\n\nvar BaseComponent =\n/** @class */\nfunction (_super) {\n  __extends(BaseComponent, _super);\n\n  function BaseComponent(config) {\n    var _this = _super.call(this) || this;\n\n    _this.container = config.container;\n    _this.destroyed = false;\n    _this.group = _this.container.addGroup();\n    _this.config = config;\n\n    _this.init(config);\n\n    return _this;\n  }\n\n  BaseComponent.prototype.getGroup = function () {\n    return this.group;\n  };\n\n  BaseComponent.prototype.getBBox = function () {\n    return this.getGroup().getBBox();\n  };\n\n  BaseComponent.prototype.render = function () {\n    this.renderInner(this.group);\n    this.getCanvas().draw();\n  };\n\n  BaseComponent.prototype.update = function (config) {\n    this.config = __assign(__assign({}, this.config), config);\n    this.init(__assign(__assign({}, this.config), {\n      config: config\n    }));\n    this.group.clear();\n    this.renderInner(this.group);\n    this.getCanvas().draw();\n  };\n\n  BaseComponent.prototype.destroy = function () {\n    this.group.remove(true);\n    this.destroyed = true;\n  };\n\n  BaseComponent.prototype.getCanvas = function () {\n    return this.container.get('canvas');\n  };\n\n  BaseComponent.prototype.init = function (config) {};\n\n  BaseComponent.prototype.renderInner = function (group) {};\n\n  return BaseComponent;\n}(EventEmitter);\n\nexport default BaseComponent;","import { __assign, __extends } from \"tslib\";\nimport BaseComponent from './base';\nimport { Rect } from '@antv/g';\n\nvar Breadcrumb =\n/** @class */\nfunction (_super) {\n  __extends(Breadcrumb, _super);\n\n  function Breadcrumb() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.listeners = [];\n\n    _this.onItemGroupToggleActive = function (itemGroup, active) {\n      return function () {\n        var rectShape = itemGroup.get('children').find(function (item) {\n          return item.get('class') === 'item-background';\n        });\n\n        if (rectShape) {\n          rectShape.attr(active ? _this.itemActiveBackgroundStyle : _this.itemBackgroundStyle);\n        }\n\n        _this.getCanvas().draw();\n      };\n    };\n\n    return _this;\n  }\n\n  Breadcrumb.prototype.destroy = function () {\n    this.offEvents();\n\n    _super.prototype.destroy.call(this);\n  };\n\n  Breadcrumb.prototype.init = function (config) {\n    this.x = config.x;\n    this.y = config.y;\n    this.items = config.items || [];\n    this.itemPadding = config.itemPadding || [2, 8, 2, 8];\n    this.backgroundStyle = __assign({\n      lineWidth: 1,\n      stroke: '#ffffff'\n    }, config.backgroundStyle || {});\n    this.itemBackgroundStyle = __assign({\n      fill: '#fff'\n    }, config.itemBackgroundStyle || {});\n    this.itemActiveBackgroundStyle = __assign({\n      fill: '#ccc',\n      opacity: 0.2\n    }, config.itemActiveBackgroundStyle || {});\n    this.separator = config.separator || '/';\n    this.separatorStyle = __assign({\n      textBaseline: 'top',\n      fill: '#000',\n      opacity: 0.45\n    }, config.separatorStyle || {});\n    this.itemWidth = config.itemWidth;\n    this.itemHeight = config.itemHeight;\n    this.maxItemWidth = config.maxItemWidth;\n    this.textStyle = __assign({\n      textBaseline: 'top',\n      fill: '#000',\n      opacity: 0.45\n    }, config.textStyle || {});\n  };\n\n  Breadcrumb.prototype.renderInner = function (group) {\n    var startX = 0;\n    var startY = 0;\n    this.offEvents();\n    this.renderItems(group, startX, startY); //this.bindEvents(group);\n\n    this.group.move(this.x, this.y);\n  };\n\n  Breadcrumb.prototype.renderItems = function (group, startX, startY) {\n    var _this = this;\n\n    var _a = this.itemPadding,\n        topPadding = _a[0],\n        rightPadding = _a[1],\n        bottomPadding = _a[2],\n        leftPadding = _a[3];\n    var itemHeight; // background\n\n    var backgroundRect = group.addShape('rect', {\n      class: 'breadcrumb-background',\n      attrs: __assign({\n        x: startX,\n        y: startY,\n        width: 1,\n        height: 1\n      }, this.backgroundStyle)\n    });\n    this.items.forEach(function (item, idx) {\n      // item group\n      var itemGroup = group.addGroup({\n        id: \"item-group-\" + item.key,\n        // data: item.key,\n        data: item,\n        class: 'item-group',\n        attrs: {\n          cursor: 'pointer'\n        }\n      }); // background rect\n\n      var rectShape = itemGroup.addShape('rect', {\n        id: \"item-background-\" + item.key,\n        class: 'item-background',\n        attrs: __assign(__assign({\n          x: startX,\n          y: startY,\n          width: leftPadding + rightPadding,\n          height: topPadding + bottomPadding\n        }, _this.itemBackgroundStyle), {\n          cursor: 'pointer'\n        })\n      });\n      rectShape.name = 'breadcrumb'; // text shape\n\n      var textShape = itemGroup.addShape('text', {\n        id: \"item-text-\" + item.key,\n        class: 'item-text',\n        attrs: __assign(__assign({\n          x: startX + leftPadding,\n          y: startY + topPadding,\n          text: item.text\n        }, _this.textStyle), {\n          cursor: 'pointer'\n        })\n      });\n      textShape.name = 'breadcrumb';\n      var textShapeBBox = textShape.getBBox();\n      itemHeight = _this.itemHeight || textShapeBBox.height;\n      var itemWidth = _this.itemWidth || textShapeBBox.width;\n\n      if (_this.maxItemWidth) {\n        itemWidth = Math.min(itemWidth, _this.maxItemWidth);\n      } // update background rect\n\n\n      var backgroundRectAttr = {\n        x: startX,\n        y: startY,\n        width: itemWidth + leftPadding + rightPadding,\n        height: itemHeight + topPadding + bottomPadding\n      };\n      rectShape.attr('width', backgroundRectAttr.width);\n      rectShape.attr('height', backgroundRectAttr.height); // clip\n\n      itemGroup.attr('clip', new Rect({\n        attrs: backgroundRectAttr\n      }));\n      startX += backgroundRectAttr.width; // separator\n\n      if (idx !== _this.items.length - 1) {\n        var sepShape = group.addShape('text', {\n          attrs: __assign({\n            x: startX,\n            y: startY + topPadding,\n            text: _this.separator\n          }, _this.separatorStyle),\n          class: 'separator'\n        });\n        startX += sepShape.getBBox().width;\n      }\n    }); // update background\n\n    backgroundRect.attr({\n      width: startX,\n      height: itemHeight + topPadding + bottomPadding\n    });\n  };\n\n  Breadcrumb.prototype.bindEvents = function (group) {\n    var _this = this;\n\n    var items = this.items;\n    var itemGroups = group.get('children').filter(function (item) {\n      return item.get('class') === 'item-group';\n    });\n\n    var callback = function callback(event, itemGroup, emitEventName) {\n      return function () {\n        var key = itemGroup.get('data');\n        var item = items.find(function (val) {\n          return val.key === key;\n        });\n\n        _this.emit(emitEventName, {\n          item: item\n        });\n      };\n    };\n\n    itemGroups.forEach(function (itemGroup) {\n      var clickCallback = callback('click', itemGroup, 'onItemClick');\n      var dblclickCallback = callback('dblclick', itemGroup, 'onItemDblclick');\n\n      var mouseEnterCallback = _this.onItemGroupToggleActive(itemGroup, true);\n\n      var mouseLeaveCallback = _this.onItemGroupToggleActive(itemGroup, false);\n\n      itemGroup.on('click', clickCallback);\n      itemGroup.on('dblclick', dblclickCallback);\n      itemGroup.on('mouseenter', mouseEnterCallback);\n      itemGroup.on('mouseleave', mouseLeaveCallback);\n\n      _this.listeners.push({\n        target: itemGroup,\n        event: 'click',\n        callback: clickCallback\n      });\n\n      _this.listeners.push({\n        target: itemGroup,\n        event: 'dblclick',\n        callback: dblclickCallback\n      });\n\n      _this.listeners.push({\n        target: itemGroup,\n        event: 'mouseenter',\n        callback: mouseEnterCallback\n      });\n\n      _this.listeners.push({\n        target: itemGroup,\n        event: 'mouseleave',\n        callback: mouseLeaveCallback\n      });\n    });\n  };\n\n  Breadcrumb.prototype.offEvents = function () {\n    if (this.listeners) {\n      this.listeners.forEach(function (_a) {\n        var target = _a.target,\n            event = _a.event,\n            callback = _a.callback;\n        target.off(event, callback);\n      });\n    }\n\n    this.listeners = [];\n  };\n\n  return Breadcrumb;\n}(BaseComponent);\n\nexport default Breadcrumb;","import { each, clone, deepMix } from '@antv/util';\nimport { Rect } from '@antv/g';\nvar ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\nvar duration = 400;\nvar easing = 'easeQuadInOut';\nexport function drillingDown(target, view, callback) {\n  var rect = getRect(target);\n  var range = getRange(view);\n  var xRatio = range.width / rect.width;\n  var yRatio = range.height / rect.height;\n  var offsetX = (range.minX - rect.minX) * xRatio;\n  var offsetY = (range.minY - rect.minY) * yRatio;\n  var transform = {\n    transform: [['s', xRatio, yRatio], ['t', offsetX, offsetY]]\n  };\n  var geometry = view.get('elements')[0];\n  hideLabel(geometry);\n  var tem_cliper = new Rect({\n    attrs: {\n      x: range.minX,\n      y: range.minY,\n      width: range.width,\n      height: range.height\n    }\n  });\n  var tem_container = view.get('container').addGroup();\n  tem_container.set('zIndex', -100);\n  tem_container.attr('clip', tem_cliper);\n  var tem_shapes = getTemShapes(geometry, tem_container);\n  geometry.get('container').set('visible', false);\n  view.get('canvas').draw();\n  callback();\n  window.setTimeout(function () {\n    each(tem_shapes, function (shape, index) {\n      if (index === 0) {\n        shape.animate(transform, duration, easing, function () {\n          tem_container.remove();\n          view.get('canvas').draw();\n        });\n      } else {\n        shape.animate(transform, duration);\n      }\n    });\n    geometry = view.get('elements')[0];\n    hideLabel(geometry);\n    var shapes = geometry.getShapes();\n    each(shapes, function (shape) {\n      shape.attr('opacity', 0);\n      shape.animate({\n        opacity: 1\n      }, duration, easing);\n    });\n    var container = geometry.get('container');\n    container.stopAnimate();\n    container.set('visible', true);\n    container.attr('matrix', clone(ulMatrix));\n    container.transform([['s', rect.width / range.width, rect.height / range.height], ['t', rect.minX, rect.minY]]);\n    var matrix = clone(ulMatrix);\n    geometry.get('container').animate({\n      matrix: matrix\n    }, duration, easing, function () {\n      showLabel(geometry);\n    });\n    view.get('canvas').draw();\n  }, 16);\n}\n\nfunction getTemShapes(geometry, container) {\n  var shapes = geometry.getShapes();\n  var tem_shapes = [];\n  each(shapes, function (shape) {\n    var s = container.addShape('path', {\n      attrs: deepMix({}, shape.attrs, {\n        capture: false\n      })\n    });\n    tem_shapes.push(s);\n  });\n  return tem_shapes;\n}\n\nexport function rollingUp(name, view, callback) {\n  var geometry = view.get('elements')[0];\n  hideLabel(geometry);\n  var container = geometry.get('container');\n  container.attr('matrix', clone(ulMatrix));\n  var tem_container = view.get('container').addGroup();\n  tem_container.set('zIndex', -100);\n  var tem_shapes = getTemShapes(geometry, tem_container);\n  container.set('visible', false);\n  view.get('canvas').draw();\n  callback();\n  geometry = view.get('elements')[0];\n  hideLabel(geometry);\n  container = geometry.get('container');\n  var shape = findShapeByName(geometry.getShapes(), name); //根据name获得上一级shape\n\n  var rect = getRect(shape);\n  var range = getRange(view);\n  var cliper = new Rect({\n    attrs: {\n      x: range.minX,\n      y: range.minY,\n      width: range.width,\n      height: range.height\n    }\n  });\n  var containerParent = container.get('parent');\n\n  if (!containerParent.attr('clip')) {\n    containerParent.attr('clip', cliper);\n  }\n\n  shrinkTemp(tem_container, tem_shapes, rect, range);\n  var xRatio = range.width / rect.width;\n  var yRatio = range.height / rect.height;\n  var offsetX = (range.minX - rect.minX) * xRatio;\n  var offsetY = (range.minY - rect.minY) * yRatio;\n  container.transform([['s', xRatio, yRatio], ['t', offsetX, offsetY]]);\n  container.set('visible', true);\n  container.animate({\n    matrix: ulMatrix\n  }, duration, easing, function () {\n    showLabel(geometry);\n  });\n}\n\nfunction findShapeByName(shapes, n) {\n  var shape;\n  each(shapes, function (s) {\n    var name = s.get('origin')._origin.name;\n\n    if (name === n) {\n      shape = s;\n    }\n  });\n  return shape;\n}\n\nfunction getRange(view) {\n  var viewRange = view.get('viewRange');\n  var range = {\n    minX: viewRange.minX,\n    minY: viewRange.minY,\n    centerX: (viewRange.maxX - viewRange.minX) / 2,\n    centerY: (viewRange.maxY - viewRange.minY) / 2,\n    width: viewRange.width,\n    height: viewRange.height\n  };\n  return range;\n}\n\nfunction getRect(shape) {\n  var path = shape.attr('path');\n  var x0 = path[0][1];\n  var y1 = path[0][2];\n  var x1 = path[1][1];\n  var y0 = path[2][2];\n  var rect = {\n    minX: x0,\n    minY: y0,\n    centerX: (x1 - x0) / 2,\n    centerY: (y1 - y0) / 2,\n    width: Math.abs(x1 - x0),\n    height: Math.abs(y1 - y0)\n  };\n  return rect;\n}\n\nfunction shrinkTemp(container, shapes, rect, range) {\n  var xRatio = rect.width / range.width;\n  var yRatio = rect.height / range.height;\n  var transform = {\n    transform: [['s', xRatio, yRatio], ['t', rect.minX, rect.minY]]\n  };\n  container.animate(transform, duration, easing, function () {\n    container.remove();\n  });\n  each(shapes, function (shape) {\n    shape.animate({\n      opacity: 0\n    }, duration, easing);\n  });\n}\n\nfunction hideLabel(geometry) {\n  var labelContainer = geometry.get('labelController').labelsContainer;\n  labelContainer.set('visible', false);\n}\n\nfunction showLabel(geometry) {\n  var labelContainer = geometry.get('labelController').labelsContainer;\n  labelContainer.set('visible', true);\n}","import { __assign, __extends } from \"tslib\";\nimport Breadcrumb from '../../../components/breadcrumb';\nimport BaseInteraction from '../../../interaction/base';\nimport { BBox, Rect } from '@antv/g';\nimport { each, hasKey, isFunction, clone } from '@antv/util';\nimport { drillingDown, rollingUp } from './animation';\nvar DEFAULT_ITEM_WIDTH = 100;\nvar DEFAULT_ITEM_HEIGHT = 30;\nvar PADDING_TOP = 10;\n\nvar getValidBreadcrumbConfig = function getValidBreadcrumbConfig(cfg) {\n  if (cfg === void 0) {\n    cfg = {};\n  }\n\n  var _cfg = __assign({\n    x: 0,\n    y: 0,\n    startNode: {\n      name: 'root'\n    },\n    itemWidth: DEFAULT_ITEM_WIDTH,\n    itemHeight: DEFAULT_ITEM_HEIGHT,\n    padding: [0, 0, 0, 0]\n  }, cfg);\n\n  return _cfg;\n};\n\nvar DrillDownInteraction =\n/** @class */\nfunction (_super) {\n  __extends(DrillDownInteraction, _super);\n\n  function DrillDownInteraction() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DrillDownInteraction.getInteractionRange = function (layerRange, interaction) {\n    var config = getValidBreadcrumbConfig(interaction);\n    var _a = config.padding,\n        paddingTop = _a[0],\n        paddingBottom = _a[1];\n    return new BBox(layerRange.minX, layerRange.maxY - config.itemHeight - paddingTop - paddingBottom, layerRange.width, config.itemHeight + paddingTop + paddingBottom);\n  };\n\n  DrillDownInteraction.prototype.start = function (ev) {\n    var _this = this;\n\n    var data = ev.data._origin;\n\n    if (data.children) {\n      this.parentNode = {\n        shape: ev.target,\n        data: {\n          name: clone(this.currentNode.name),\n          value: clone(this.currentNode.value)\n        },\n        depth: clone(this.currentDepth)\n      };\n      this.currentDepth++;\n      drillingDown(ev.target, this.view, function () {\n        _this.update(data);\n      });\n    }\n  };\n\n  DrillDownInteraction.prototype.update = function (data) {\n    if (!hasKey(this.cache, data.name)) {\n      this.cache[data.name] = data;\n    }\n\n    var tempoData = this.plot.getTreemapData(data, data.depth);\n    this.view.changeData(tempoData);\n    this.adjustScale(this.currentDepth);\n    this.currentNode = data;\n    this.render();\n  };\n\n  DrillDownInteraction.prototype.render = function () {\n    if (this.breadcrumb) {\n      var items = this.getItems();\n      this.breadcrumb.update({\n        items: items\n      });\n      this.layout();\n    } else {\n      this.initGeometry();\n      this.cache = {};\n      this.saveOriginMapping();\n      this.container = this.container = this.canvas.addGroup();\n\n      if (!this.startNode) {\n        this.startNode = {\n          name: 'root'\n        };\n      }\n\n      if (this.startNode.name === 'root') {\n        this.startNodeName = hasKey(this.plot.options.data, 'name') ? this.plot.options.data.name : 'root';\n        this.currentNode = this.plot.options.data;\n        this.currentDepth = 1;\n      } else {\n        this.startNodeName = this.startNode.name;\n        this.currentNode = this.startNode;\n      }\n\n      this.y = this.view.get('viewRange').maxY + PADDING_TOP;\n      this.breadcrumb = new Breadcrumb({\n        container: this.container,\n        x: 0,\n        y: this.y,\n        items: this.getItems()\n      });\n      this.breadcrumb.render();\n      this.layout();\n    }\n\n    this.onInteraction();\n  };\n\n  DrillDownInteraction.prototype.clear = function () {};\n\n  DrillDownInteraction.prototype.layout = function () {\n    var currentWidth = this.container.getBBox().width;\n    var x = (this.plot.width - currentWidth) / 2;\n    this.breadcrumb.update({\n      x: x,\n      y: this.y\n    });\n  };\n\n  DrillDownInteraction.prototype.getItems = function () {\n    var items = [];\n\n    if (this.currentNode.name && this.currentNode.name === this.startNodeName) {\n      var rootItem = this.getRootItem();\n      items.push(rootItem);\n    } else {\n      items = [];\n      var parents = [];\n      this.findParent(this.currentNode, parents);\n      items.push(this.getRootItem());\n      each(parents, function (p, index) {\n        items.push({\n          key: String(index + 2),\n          text: p.name,\n          data: p\n        });\n      });\n      items.push({\n        key: String(parents.length + 2),\n        text: this.currentNode.name,\n        data: this.currentNode\n      });\n    }\n\n    return items;\n  };\n\n  DrillDownInteraction.prototype.findParent = function (data, parents) {\n    if (data.parent) {\n      if (hasKey(this.cache, data.parent.name)) {\n        parents.push(this.cache[data.parent.name]);\n      } else {\n        parents.push(data.parent);\n      }\n\n      this.findParent(data.parent, parents);\n    } else {\n      return;\n    }\n  };\n\n  DrillDownInteraction.prototype.onInteraction = function () {\n    var _this = this;\n\n    this.container.on('click', function (ev) {\n      var targetParent = ev.target.get('parent');\n\n      if (targetParent && targetParent.get('class') === 'item-group') {\n        var data_1 = targetParent.get('data');\n\n        if (data_1.data) {\n          if (data_1.text === _this.startNodeName) {\n            var targetDepth = 1; //只有前后depth相邻才执行上卷动画，否则直接更新\n\n            if (_this.currentDepth - 1 === targetDepth) {\n              rollingUp(_this.currentNode.name, _this.view, function () {\n                _this.updateRoot(data_1);\n              });\n            } else {\n              _this.updateRoot(data_1);\n            }\n\n            _this.currentDepth = 1;\n          } else if (_this.currentNode === data_1.data) {\n            return;\n          } else {\n            var previousDepth = clone(_this.currentDepth);\n            _this.currentDepth = parseInt(data_1.key);\n\n            if (previousDepth - 1 === _this.currentDepth) {\n              rollingUp(_this.currentNode.name, _this.view, function () {\n                _this.update(data_1.data);\n              });\n            } else {\n              _this.update(data_1.data);\n            }\n          }\n        }\n      }\n    });\n  };\n\n  DrillDownInteraction.prototype.getRootItem = function () {\n    var rootData = this.plot.options.data;\n    var rootName = hasKey(rootData, 'name') ? rootData.name : 'root';\n    return {\n      key: '1',\n      text: rootName,\n      data: this.plot.rootData\n    };\n  };\n\n  DrillDownInteraction.prototype.saveOriginMapping = function () {\n    var _a = this.plot.options,\n        colorField = _a.colorField,\n        colors = _a.colors;\n    var mappingInfo = {\n      field: colorField,\n      values: colors\n    };\n    this.originMapping = mappingInfo;\n  };\n\n  DrillDownInteraction.prototype.adjustScale = function (index) {\n    var view = this.view; // 根据当前层级确定mapping配置项\n\n    if (hasKey(this.mapping, String(index))) {\n      var mappingCfg = clone(this.mapping[index]);\n\n      if (mappingCfg.values && isFunction(mappingCfg.values)) {\n        var values = mappingCfg.values(this.parentNode, this.currentNode);\n        mappingCfg.values = values;\n      }\n\n      this.view.get('elements')[0].color(mappingCfg.field, mappingCfg.values);\n    } else {\n      var mappingCfg = clone(this.originMapping);\n      this.view.get('elements')[0].color(mappingCfg.field, mappingCfg.values);\n    }\n\n    view.render();\n  };\n\n  DrillDownInteraction.prototype.initGeometry = function () {\n    this.geometry = this.view.get('elements')[0];\n    var viewRange = this.view.get('viewRange');\n    var container = this.geometry.get('container');\n    var cliper = new Rect({\n      attrs: {\n        x: viewRange.minX,\n        y: viewRange.minY,\n        width: viewRange.width,\n        height: viewRange.height\n      }\n    });\n    container.attr('clip', cliper);\n  };\n\n  DrillDownInteraction.prototype.updateRoot = function (data) {\n    this.view.changeData(data.data);\n    this.adjustScale(1);\n    this.currentNode = this.plot.options.data;\n    this.render();\n  };\n\n  return DrillDownInteraction;\n}(BaseInteraction);\n\nexport default DrillDownInteraction;\nBaseInteraction.registerInteraction('drilldown', DrillDownInteraction);","import DrillDownInteraction from './drillDown';\nexport var INTERACTION_MAP = {\n  drilldown: DrillDownInteraction\n};","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onRectClick: 'polygon:click',\n  onRectDblclick: 'polygon:dblclick',\n  onRectMousemove: 'polygon:mousemove',\n  onRectMouseenter: 'polygon:mouseenter',\n  onRectMouseleave: 'polygon:mouseleave',\n  onRectMousedown: 'polygon:mousedown',\n  onRectMouseup: 'polygon:mouseup',\n  onRectContextmenu: 'polygon:contextmenu',\n  test: 'breadcrumb:click'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport { Text } from '@antv/g';\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { breakText } from '../../../util/common';\nvar LEAF_LABEL_OFFSET = 4;\nvar MIN_FONTSIZE = 8;\n\nfunction isLeaf(data, maxLevel) {\n  return !data.children || data.depth >= maxLevel;\n}\n\nfunction textWrapper(label, width) {\n  var fontSize = label.attr('fontSize');\n  var textContent = label.attr('text');\n  var tShape = new Text({\n    attrs: {\n      text: '',\n      x: 0,\n      y: 0,\n      fontSize: fontSize\n    }\n  });\n  var textArr = textContent.split('\\n');\n  var wrappedTextArr = textArr.map(function (wrappedText) {\n    var text = '';\n    var chars = wrappedText.split('');\n    var breakIndex = [];\n\n    for (var i = 0; i < chars.length; i++) {\n      var item = chars[i];\n      tShape.attr('text', text += item);\n      var currentWidth = tShape.getBBox().width - 1;\n\n      if (currentWidth > width) {\n        // 如果是第一个字符就大于宽度不做任何换行处理\n        if (i === 0) {\n          break;\n        }\n\n        breakIndex.push(i);\n        text = '';\n      }\n    }\n\n    return breakText(chars, breakIndex);\n  });\n  tShape.remove();\n  return wrappedTextArr.join('\\n');\n}\n\nfunction textAbbreviate(text, fontSize, width) {\n  var tailShape = new Text({\n    attrs: {\n      text: '...',\n      x: 0,\n      y: 0,\n      fontSize: fontSize\n    }\n  });\n  var tailWidth = tailShape.getBBox().width;\n  var tShape = new Text({\n    attrs: {\n      text: '',\n      x: 0,\n      y: 0,\n      fontSize: fontSize\n    }\n  });\n  var t = '';\n  var abbreviateWidth = width - tailWidth;\n\n  for (var i = 0; i < text.length; i++) {\n    var item = text[i];\n    tShape.attr('text', t += item);\n    var currentWidth = tShape.getBBox().width;\n\n    if (currentWidth >= abbreviateWidth) {\n      var string = t.substr(0, t.length - 1);\n\n      if (string.length > 0) {\n        return string + '...';\n      }\n    }\n  }\n\n  return t;\n}\n\nvar TreemapLabels =\n/** @class */\nfunction (_super) {\n  __extends(TreemapLabels, _super);\n\n  function TreemapLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TreemapLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var view = this.get('element').get('view');\n    var maxLevel = this.get('labelOptions').maxLevel;\n\n    _.each(labels, function (label, index) {\n      var l = label;\n      var data = label.get('origin');\n      var origin = l.get('origin');\n      var isLeafNode = isLeaf(data, maxLevel);\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var shape = _this.getShape(shapeId, shapes);\n\n      var shapeBbox = shape.getBBox();\n\n      if (!isLeafNode && data.showLabel) {\n        var x = shapeBbox.x + shapeBbox.width / 2;\n        var y = shapeBbox.y + 4;\n        label.attr('x', x);\n        label.attr('y', y);\n        label.attr('textBaseline', 'top');\n        label.attr('fontWeight', 600);\n        var wrapperWidth = shapeBbox.width - LEAF_LABEL_OFFSET * 2;\n\n        if (label.getBBox().width > wrapperWidth) {\n          var text = textAbbreviate(label.attr('text'), label.attr('fontSize'), wrapperWidth);\n          label.attr('text', text);\n        }\n      } else {\n        _this.leafText(shapeBbox, label);\n      }\n    });\n\n    view.get('canvas').draw();\n  };\n\n  TreemapLabels.prototype.getShape = function (shapeId, shapes) {\n    var target;\n\n    _.each(shapes, function (shape) {\n      var s = shape;\n      var id = s.id;\n\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n\n    return target;\n  };\n\n  TreemapLabels.prototype.leafText = function (bbox, label) {\n    var labelBBox = label.getBBox();\n\n    var labelText = _.clone(label.attr('text'));\n\n    var sizeOffset = label.get('origin').depth === 1 ? 0 : 2;\n    var fontSize = Math.max(label.attr('fontSize') - sizeOffset, MIN_FONTSIZE);\n    var centerX = bbox.x + bbox.width / 2;\n    var centerY = bbox.y + bbox.height / 2;\n    label.attr({\n      x: centerX,\n      y: centerY,\n      textAlign: 'center',\n      textBaseline: 'middle',\n      lineHeight: fontSize,\n      fontSize: fontSize\n    });\n    var wrapperWidth = bbox.width - LEAF_LABEL_OFFSET * 2;\n\n    if (labelBBox.width > bbox.width && labelBBox.height > bbox.height) {\n      label.attr('text', '');\n      return;\n    } else if (wrapperWidth < fontSize) {\n      label.attr('text', '');\n      return;\n    }\n\n    if (labelBBox.width > bbox.width) {\n      var wrappedText = textWrapper(label, wrapperWidth);\n      label.attr({\n        lineHeight: label.attr('fontSize'),\n        text: wrappedText\n      });\n      var tem_bbox = label.getBBox();\n\n      if (tem_bbox.height > bbox.height) {\n        var text = textAbbreviate(labelText, fontSize, wrapperWidth);\n        label.attr('text', text);\n      }\n    }\n  };\n\n  return TreemapLabels;\n}(ElementLabels);\n\nexport { TreemapLabels };\nregisterElementLabels('treemapLabel', TreemapLabels);","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport squarify from './layout/squarify';\nimport { INTERACTION_MAP } from './interaction';\nimport * as EventParser from './event';\nimport './components/label';\nvar PARENT_NODE_OFFSET = 4;\nvar BLOCK_MARGIN = 4;\n\nvar TreemapLayer =\n/** @class */\nfunction (_super) {\n  __extends(TreemapLayer, _super);\n\n  function TreemapLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'line';\n    return _this;\n  }\n\n  TreemapLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      maxLevel: 2,\n      padding: [0, 0, 0, 0],\n      tooltip: {\n        visible: false\n      },\n      legend: {\n        visible: false\n      },\n      xAxis: {\n        visible: false\n      },\n      yAxis: {\n        visible: false\n      },\n      xField: 'x',\n      yField: 'y',\n      label: {\n        visible: true,\n        adjustPosition: true,\n        style: {\n          stroke: 'rgba(0,0,0,0)',\n          lineWidth: 0,\n          fontSize: 12\n        }\n      },\n      meta: {\n        x: {\n          nice: false\n        },\n        y: {\n          nice: false\n        }\n      }\n    });\n  };\n\n  TreemapLayer.prototype.beforeInit = function () {\n    var _this = this;\n\n    var interactions = this.options.interactions;\n\n    if (interactions) {\n      _.each(interactions, function (interaction) {\n        if (interaction.type === 'drilldown') {\n          _this.isDrilldown = true;\n          _this.options.maxLevel = 1;\n        }\n      });\n    }\n  };\n\n  TreemapLayer.prototype.geometryParser = function (dim, type) {\n    return 'polygon';\n  };\n\n  TreemapLayer.prototype.getTreemapData = function (data, level) {\n    var viewRange = this.getViewRange();\n    var root = squarify(data, viewRange.x, viewRange.y, viewRange.width, viewRange.height);\n    this.recursive(root, 1);\n    var treemapData = [];\n    this.getAllNodes(root, treemapData, level);\n    treemapData.sort(function (a, b) {\n      return a.depth - b.depth;\n    });\n    this.options.xField = 'x';\n    this.options.yField = 'y';\n    return treemapData;\n  };\n\n  TreemapLayer.prototype.processData = function () {\n    return this.rootData;\n  };\n\n  TreemapLayer.prototype.beforInit = function () {\n    _super.prototype.beforeInit.call(this);\n\n    var data = this.options.data;\n    var treemapData = this.getTreemapData(data);\n    this.rootData = treemapData;\n  };\n\n  TreemapLayer.prototype.coord = function () {};\n\n  TreemapLayer.prototype.addGeometry = function () {\n    var _this = this;\n\n    var _a = this.options,\n        data = _a.data,\n        colorField = _a.colorField,\n        color = _a.color;\n    var treemapData = this.getTreemapData(data);\n    this.rootData = treemapData;\n    var maxLevel = this.options.maxLevel;\n    this.rect = {\n      type: 'polygon',\n      position: {\n        fields: ['x', 'y']\n      },\n      color: {\n        fields: [colorField],\n        values: color\n      },\n      style: {\n        fields: ['depth'],\n        callback: function callback(d) {\n          var defaultStyle = {\n            lineWidth: 1,\n            stroke: 'rgba(0,0,0,0.3)',\n            opacity: d / maxLevel\n          };\n\n          if (d === 1) {\n            defaultStyle = {\n              lineWidth: 1,\n              stroke: 'black',\n              opacity: d / maxLevel\n            };\n          }\n\n          return _.deepMix({}, defaultStyle, _this.options.rectStyle);\n        }\n      },\n      label: this.extractLabel()\n    };\n    this.setConfig('element', this.rect);\n  };\n\n  TreemapLayer.prototype.applyInteractions = function () {\n    var _this = this;\n\n    var interactionCfg = this.options.interactions;\n    var interactions = this.view.get('interactions');\n\n    _.each(interactionCfg, function (inter) {\n      var Ctr = INTERACTION_MAP[inter.type];\n\n      if (Ctr) {\n        var interaction = new Ctr(_.deepMix({}, {\n          view: _this.view,\n          plot: _this,\n          startEvent: 'polygon:click'\n        }, inter.cfg));\n        interactions[inter.type] = interaction;\n      }\n    });\n  };\n\n  TreemapLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    if (this.isDrilldown) {\n      this.rect.animate = false;\n    }\n  };\n\n  TreemapLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  TreemapLayer.prototype.extractLabel = function () {\n    var labelOptions = this.options.label; // 不显示label的情况\n\n    if (!labelOptions.visible) {\n      return false;\n    }\n\n    var label = getComponent('label', __assign({\n      labelType: 'treemapLabel',\n      plot: this,\n      top: true,\n      fields: ['name'],\n      maxLevel: this.options.maxLevel\n    }, labelOptions));\n    return label;\n  };\n\n  TreemapLayer.prototype.recursive = function (rows, depth) {\n    var _this = this;\n\n    var colorField = this.options.colorField;\n\n    _.each(rows, function (r) {\n      _.each(r.children, function (c) {\n        c.depth = depth;\n        if (depth > 1) c.parent = r;\n\n        if (!_.hasKey(c, colorField)) {\n          c[colorField] = r[colorField];\n        }\n\n        c.showLabel = true;\n\n        var leaf = _this.isLeaf(c);\n\n        if (!leaf) {\n          var cliperHeight = Math.abs(c.y1 - c.y0);\n\n          var labelHeight = _this.getLabelHeight();\n\n          var parentLabelOffset = cliperHeight / 2 > labelHeight ? labelHeight : BLOCK_MARGIN;\n          c.showLabel = parentLabelOffset === BLOCK_MARGIN ? false : true;\n          var c_rows = squarify(c, c.x0 + BLOCK_MARGIN, c.y0 + parentLabelOffset, c.x1 - BLOCK_MARGIN, c.y1 - BLOCK_MARGIN);\n\n          _this.fillColorField(c_rows, colorField, c[colorField]);\n\n          _this.recursive(c_rows, c.depth + 1);\n        }\n      });\n    });\n  };\n\n  TreemapLayer.prototype.getAllNodes = function (data, nodes, level) {\n    var _this = this;\n\n    var max = level ? level : this.options.maxLevel;\n    var viewRange = this.getViewRange();\n\n    _.each(data, function (d) {\n      if (_.hasKey(d, 'x0') && d.depth <= max) {\n        nodes.push(__assign(__assign({}, d), {\n          x: [d.x0, d.x1, d.x1, d.x0],\n          y: [viewRange.height - d.y1, viewRange.height - d.y1, viewRange.height - d.y0, viewRange.height - d.y0]\n        }));\n      }\n\n      if (_.hasKey(d, 'children')) {\n        _this.getAllNodes(d.children, nodes);\n      }\n    });\n  };\n\n  TreemapLayer.prototype.fillColorField = function (rows, fieldName, value) {\n    _.each(rows, function (r) {\n      if (!_.hasKey(r, fieldName)) {\n        r[fieldName] = value;\n      }\n    });\n  };\n\n  TreemapLayer.prototype.getLabelHeight = function () {\n    var label = this.options.label;\n    var fontSize = this.getTheme().label.textStyle.fontSize;\n    var size = 0;\n\n    if (label && label.visible) {\n      var labelStyle = label.style;\n      size = labelStyle && labelStyle.fontSize ? labelStyle.fontSize : fontSize;\n    }\n\n    return size + PARENT_NODE_OFFSET * 2;\n  };\n\n  TreemapLayer.prototype.isLeaf = function (data) {\n    return !data.children || data.children.length === 0;\n  };\n\n  return TreemapLayer;\n}(ViewLayer);\n\nexport default TreemapLayer;\nregisterPlotType('treemap', TreemapLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport TreemapLayer from './layer';\n\nvar Treemap =\n/** @class */\nfunction (_super) {\n  __extends(Treemap, _super);\n\n  function Treemap() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Treemap.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'treemap';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Treemap.getDefaultOptions = TreemapLayer.getDefaultOptions;\n  return Treemap;\n}(BasePlot);\n\nexport default Treemap;","import { __extends } from \"tslib\";\nimport LineLayer from '../line/layer';\nimport { registerPlotType } from '../../base/global';\nimport * as _ from '@antv/util';\n\nvar StepLineLayer =\n/** @class */\nfunction (_super) {\n  __extends(StepLineLayer, _super);\n\n  function StepLineLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'step-line'; // 覆写父类的 type\n\n    return _this;\n  }\n\n  StepLineLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      step: 'hv'\n    });\n  };\n\n  return StepLineLayer;\n}(LineLayer);\n\nexport { StepLineLayer };\nregisterPlotType('step-line', StepLineLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { StepLineLayer } from './layer';\nimport BasePlot from '../../base/plot';\n\nvar StepLine =\n/** @class */\nfunction (_super) {\n  __extends(StepLine, _super);\n\n  function StepLine() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * 复写父类方法\n   * @param props\n   */\n\n\n  StepLine.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'step-line';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  StepLine.getDefaultOptions = StepLineLayer.getDefaultOptions;\n  return StepLine;\n}(BasePlot);\n\nexport default StepLine;","import { __extends } from \"tslib\";\n/**\n * Create By Bruce Too\n * On 2020-01-09\n */\n\nimport * as _ from '@antv/util';\nimport HtmlTooltip from '@antv/component/lib/tooltip/html';\n\nvar WordCloudTooltips =\n/** @class */\nfunction (_super) {\n  __extends(WordCloudTooltips, _super);\n\n  function WordCloudTooltips(cfg) {\n    var _this = this;\n\n    var newCfg = _.deepMix({}, cfg, {\n      itemTpl: \"<div data-index={index}>\\n        <span style=\\\"background-color:{color};\\\" class=\\\"g2-tooltip-marker\\\"></span>\\n        {name}<span class=\\\"g2-tooltip-value\\\">{value}</span></div>\"\n    });\n\n    _this = _super.call(this, newCfg) || this;\n    return _this;\n  }\n\n  WordCloudTooltips.prototype.show = function () {\n    var container = this.get('container');\n    container.style.visibility = 'visible';\n    container.style.display = 'block';\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.show();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.show();\n    }\n\n    this.set('visible', true);\n  };\n\n  WordCloudTooltips.prototype.hide = function () {\n    var container = this.get('container');\n    container.style.visibility = 'hidden';\n    container.style.display = 'none';\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.hide();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.hide();\n    }\n\n    this.set('visible', false);\n  };\n\n  return WordCloudTooltips;\n}(HtmlTooltip);\n\nexport default WordCloudTooltips;","/* eslint-disable */\n// @ts-nocheck\n// TODO rewrite with typescript @brucetoo\n\n/*!\n * wordcloud2.js\n * http://timdream.org/wordcloud2.js/\n *\n * Copyright 2011 - 2013 Tim Chien\n * Released under the MIT license\n */\n'use strict'; // setImmediate\n\nif (!window.setImmediate) {\n  window.setImmediate = function setupSetImmediate() {\n    return window.msSetImmediate || window.webkitSetImmediate || window.mozSetImmediate || window.oSetImmediate || function setupSetZeroTimeout() {\n      if (!window.postMessage || !window.addEventListener) {\n        return null;\n      }\n\n      var callbacks = [undefined];\n      var message = 'zero-timeout-message'; // Like setTimeout, but only takes a function argument.  There's\n      // no time argument (always zero) and no arguments (you have to\n      // use a closure).\n\n      var setZeroTimeout = function setZeroTimeout(callback) {\n        var id = callbacks.length;\n        callbacks.push(callback);\n        window.postMessage(message + id.toString(36), '*');\n        return id;\n      };\n\n      window.addEventListener('message', function setZeroTimeoutMessage(evt) {\n        // Skipping checking event source, retarded IE confused this window\n        // object with another in the presence of iframe\n        if (typeof evt.data !== 'string' || evt.data.substr(0, message.length) !== message\n        /* ||\n        evt.source !== window */\n        ) {\n            return;\n          }\n\n        evt.stopImmediatePropagation();\n        var id = parseInt(evt.data.substr(message.length), 36);\n\n        if (!callbacks[id]) {\n          return;\n        }\n\n        callbacks[id]();\n        callbacks[id] = undefined;\n      }, true);\n      /* specify clearImmediate() here since we need the scope */\n\n      window.clearImmediate = function clearZeroTimeout(id) {\n        if (!callbacks[id]) {\n          return;\n        }\n\n        callbacks[id] = undefined;\n      };\n\n      return setZeroTimeout;\n    }() || // fallback\n    function setImmediateFallback(fn) {\n      window.setTimeout(fn, 0);\n    };\n  }();\n}\n\nif (!window.clearImmediate) {\n  window.clearImmediate = function setupClearImmediate() {\n    return window.msClearImmediate || window.webkitClearImmediate || window.mozClearImmediate || window.oClearImmediate || // \"clearZeroTimeout\" is implement on the previous block ||\n    // fallback\n    function clearImmediateFallback(timer) {\n      window.clearTimeout(timer);\n    };\n  }();\n} // Check if WordCloud can run on this browser\n\n\nvar isSupported = function isSupported() {\n  var canvas = document.createElement('canvas');\n\n  if (!canvas || !canvas.getContext) {\n    return false;\n  }\n\n  var ctx = canvas.getContext('2d');\n\n  if (!ctx.getImageData) {\n    return false;\n  }\n\n  if (!ctx.fillText) {\n    return false;\n  }\n\n  if (!Array.prototype.some) {\n    return false;\n  }\n\n  if (!Array.prototype.push) {\n    return false;\n  }\n\n  return true;\n}(); // Find out if the browser impose minium font size by\n// drawing small texts on a canvas and measure it's width.\n\n\nvar minFontSize = function getMinFontSize() {\n  if (!isSupported) {\n    return;\n  }\n\n  var ctx = document.createElement('canvas').getContext('2d'); // start from 20\n\n  var size = 20; // two sizes to measure\n\n  var hanWidth, mWidth;\n\n  while (size) {\n    ctx.font = size.toString(10) + 'px sans-serif';\n\n    if (ctx.measureText(\"\\uFF37\").width === hanWidth && ctx.measureText('m').width === mWidth) {\n      return size + 1;\n    }\n\n    hanWidth = ctx.measureText(\"\\uFF37\").width;\n    mWidth = ctx.measureText('m').width;\n    size--;\n  }\n\n  return 0;\n}(); // Based on http://jsfromhell.com/array/shuffle\n\n\nvar shuffleArray = function shuffleArray(arr) {\n  for (var j, x, i = arr.length; i; j = Math.floor(Math.random() * i), x = arr[--i], arr[i] = arr[j], arr[j] = x) {}\n\n  return arr;\n};\n\nvar WordCloud = function WordCloud(elements, options) {\n  if (!isSupported) {\n    return;\n  }\n\n  if (!Array.isArray(elements)) {\n    elements = [elements];\n  }\n\n  elements.forEach(function (el, i) {\n    if (typeof el === 'string') {\n      elements[i] = document.getElementById(el);\n\n      if (!elements[i]) {\n        throw 'The element id specified is not found.';\n      }\n    } else if (!el.tagName && !el.appendChild) {\n      throw 'You must pass valid HTML elements, or ID of the element.';\n    }\n  });\n  /* Default values to be overwritten by options object */\n\n  var settings = {\n    data: [],\n    fontFamily: '\"Trebuchet MS\", \"Heiti TC\", \"微軟正黑體\", ' + '\"Arial Unicode MS\", \"Droid Fallback Sans\", sans-serif',\n    fontWeight: 'normal',\n    color: 'random-dark',\n    minFontSize: minFontSize,\n    maxFontSize: 60,\n    clearCanvas: true,\n    backgroundColor: '#fff',\n    gridSize: 8,\n    drawOutOfBound: false,\n    origin: null,\n    drawMask: false,\n    maskColor: 'rgba(255,0,0,0.3)',\n    maskGapWidth: 0.3,\n    wait: 0,\n    abortThreshold: 0,\n    abort: function noop() {},\n    minRotation: -Math.PI / 2,\n    maxRotation: Math.PI / 2,\n    rotateRatio: 0.5,\n    rotationSteps: 1,\n    shuffle: true,\n    shape: 'circle',\n    ellipticity: 1,\n    active: true,\n    selected: -1,\n    shadowColor: '#333',\n    shadowBlur: 10,\n    classes: null,\n    onWordCloudHover: null,\n    onWordCloudClick: null\n  };\n  var interactionItems = [];\n\n  if (options) {\n    for (var key in options) {\n      if (key === 'wordStyle') {\n        for (var fontKey in options[key]) {\n          if (fontKey in settings) {\n            settings[fontKey] = options[key][fontKey];\n          }\n        }\n      } else {\n        if (key in settings) {\n          settings[key] = options[key];\n        }\n      }\n    }\n  }\n\n  if (settings.minFontSize < minFontSize) {\n    // can't less than browse's min font size\n    settings.minFontSize = minFontSize;\n  }\n\n  if (settings.minFontSize > settings.maxFontSize) {\n    console.error('minSize cant bigger than maxSize');\n    return;\n  }\n\n  var maxWeight = 0;\n\n  for (var i = 0; i < settings.data.length; i++) {\n    if (maxWeight < settings.data[i].weight) {\n      maxWeight = settings.data[i].weight;\n    }\n  }\n\n  var getRealFontSize = function getRealFontSize(weight) {\n    return Math.min(Math.max(settings.minFontSize, settings.maxFontSize * weight / maxWeight), settings.maxFontSize);\n  };\n\n  var isCardioid = false;\n  /* Convert shape into a function */\n\n  if (typeof settings.shape !== 'function') {\n    switch (settings.shape) {\n      case 'circle':\n      /* falls through */\n\n      default:\n        // 'circle' is the default and a shortcut in the code loop.\n        settings.shape = 'circle';\n        break;\n\n      case 'cardioid':\n        // https://baike.baidu.com/item/%E5%BF%83%E8%84%8F%E7%BA%BF/10323843?fromtitle=%E5%BF%83%E5%BD%A2%E7%BA%BF&fromid=10018818\n        settings.shape = function shapeCardioid(theta) {\n          return 1 - Math.sin(theta);\n        };\n\n        isCardioid = true;\n        break;\n\n      /*\n      To work out an X-gon, one has to calculate \"m\",\n      where 1/(cos(2*PI/X)+m*sin(2*PI/X)) = 1/(cos(0)+m*sin(0))\n      http://www.wolframalpha.com/input/?i=1%2F%28cos%282*PI%2FX%29%2Bm*sin%28\n      2*PI%2FX%29%29+%3D+1%2F%28cos%280%29%2Bm*sin%280%29%29\n      Copy the solution into polar equation r = 1/(cos(t') + m*sin(t'))\n      where t' equals to mod(t, 2PI/X);\n      */\n\n      case 'diamond':\n        settings.shape = function shapeSquare(theta) {\n          var thetaPrime = theta % (2 * Math.PI / 4);\n          return 1 / (Math.cos(thetaPrime) + Math.sin(thetaPrime));\n        };\n\n        break;\n\n      case 'square':\n        // http://www.wolframalpha.com/input/?i=plot+r+%3D+1%2F%28cos%28mod+\n        // %28t%2C+PI%2F2%29%29%2Bsin%28mod+%28t%2C+PI%2F2%29%29%29%2C+t+%3D\n        // +0+..+2*PI\n        settings.shape = function shapeSquare(theta) {\n          var thetaPrime = (theta + Math.PI / 4) % (2 * Math.PI / 4);\n          return 1 / (Math.cos(thetaPrime) + Math.sin(thetaPrime));\n        };\n\n        break;\n\n      case 'triangle-forward':\n        // http://www.wolframalpha.com/input/?i=plot+r+%3D+1%2F%28cos%28mod+\n        // %28t%2C+2*PI%2F3%29%29%2Bsqrt%283%29sin%28mod+%28t%2C+2*PI%2F3%29\n        // %29%29%2C+t+%3D+0+..+2*PI\n        settings.shape = function shapeTriangle(theta) {\n          var thetaPrime = theta % (2 * Math.PI / 3);\n          return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n        };\n\n        break;\n\n      case 'triangle-backward':\n        settings.shape = function shapeTriangle(theta) {\n          var thetaPrime = (theta + Math.PI) % (2 * Math.PI / 3);\n          return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n        };\n\n        break;\n\n      case 'triangle':\n      case 'triangle-up':\n        settings.shape = function shapeTriangle(theta) {\n          var thetaPrime = (theta + Math.PI * 3 / 2) % (2 * Math.PI / 3);\n          return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n        };\n\n        break;\n\n      case 'triangle-down':\n        settings.shape = function shapeTriangle(theta) {\n          var thetaPrime = (theta + Math.PI * 5 / 2) % (2 * Math.PI / 3);\n          return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n        };\n\n        break;\n\n      case 'pentagon':\n        settings.shape = function shapePentagon(theta) {\n          var thetaPrime = (theta + 0.955) % (2 * Math.PI / 5);\n          return 1 / (Math.cos(thetaPrime) + 0.726543 * Math.sin(thetaPrime));\n        };\n\n        break;\n\n      case 'star':\n        settings.shape = function shapeStar(theta) {\n          var thetaPrime = (theta + 0.955) % (2 * Math.PI / 10);\n\n          if ((theta + 0.955) % (2 * Math.PI / 5) - 2 * Math.PI / 10 >= 0) {\n            return 1 / (Math.cos(2 * Math.PI / 10 - thetaPrime) + 3.07768 * Math.sin(2 * Math.PI / 10 - thetaPrime));\n          } else {\n            return 1 / (Math.cos(thetaPrime) + 3.07768 * Math.sin(thetaPrime));\n          }\n        };\n\n        break;\n    }\n  }\n  /* Make sure gridSize is a whole number and is not smaller than 4px */\n\n\n  settings.gridSize = Math.max(Math.floor(settings.gridSize), 4);\n  /* shorthand */\n\n  var g = settings.gridSize;\n  var maskRectWidth = g - settings.maskGapWidth;\n  /* normalize rotation settings */\n\n  var rotationRange = Math.abs(settings.maxRotation - settings.minRotation);\n  var minRotation = Math.min(settings.maxRotation, settings.minRotation);\n  var rotationSteps = settings.rotationSteps;\n  /* information/object available to all functions, set when start() */\n\n  var grid, // 2d array containing filling information\n  ngx, ngy, // width and height of the grid\n  center, // position of the center of the cloud\n  maxRadius;\n  /* timestamp for measuring each putWord() action */\n\n  var escapeTime;\n  /* function for getting the color of the text */\n\n  var getTextColor;\n\n  function random_hsl_color(min, max) {\n    return 'hsl(' + (Math.random() * 360).toFixed() + ',' + (Math.random() * 30 + 70).toFixed() + '%,' + (Math.random() * (max - min) + min).toFixed() + '%)';\n  }\n\n  switch (settings.color) {\n    case 'random-dark':\n      getTextColor = function getRandomDarkColor() {\n        return random_hsl_color(10, 50);\n      };\n\n      break;\n\n    case 'random-light':\n      getTextColor = function getRandomLightColor() {\n        return random_hsl_color(50, 90);\n      };\n\n      break;\n\n    default:\n      if (typeof settings.color === 'function') {\n        getTextColor = settings.color;\n      }\n\n      break;\n  }\n  /* function for getting the classes of the text */\n\n\n  var getTextClasses = null;\n\n  if (typeof settings.classes === 'function') {\n    getTextClasses = settings.classes;\n  }\n  /* Interactive */\n\n\n  var interactive = false;\n  var infoGrid = [];\n  var hovered;\n\n  var getInfoGridFromMouseTouchEvent = function getInfoGridFromMouseTouchEvent(evt) {\n    var canvas = evt.currentTarget;\n    var rect = canvas.getBoundingClientRect();\n    var clientX;\n    var clientY;\n    /** Detect if touches are available */\n\n    if (evt.touches) {\n      clientX = evt.touches[0].clientX;\n      clientY = evt.touches[0].clientY;\n    } else {\n      clientX = evt.clientX;\n      clientY = evt.clientY;\n    }\n\n    var eventX = clientX - rect.left;\n    var eventY = clientY - rect.top;\n    var x = Math.floor(eventX * (canvas.width / rect.width || 1) / g);\n    var y = Math.floor(eventY * (canvas.height / rect.height || 1) / g);\n    return infoGrid[x][y];\n  };\n\n  var defaultHoverAction = function defaultHoverAction(item, dimension, evt, start) {\n    if (item) {\n      start(item.id);\n    } else {\n      start(-1);\n    }\n  };\n\n  var wordcloudhover = function wordcloudhover(evt) {\n    var info = getInfoGridFromMouseTouchEvent(evt);\n\n    if (hovered === info) {\n      return;\n    }\n\n    if (!info) {\n      settings.onWordCloudHover(undefined, undefined, evt, start);\n\n      if (settings.active) {\n        defaultHoverAction(undefined, undefined, evt, start);\n      }\n\n      return;\n    }\n\n    settings.onWordCloudHover(info.item, info.dimension, evt, start);\n\n    if (settings.active) {\n      defaultHoverAction(info.item, info.dimension, evt, start);\n    }\n\n    hovered = info;\n  };\n\n  var wordcloudclick = function wordcloudclick(evt) {\n    var info = getInfoGridFromMouseTouchEvent(evt);\n\n    if (!info) {\n      return;\n    }\n\n    settings.onWordCloudClick(info.item, info.dimension, evt);\n    evt.preventDefault();\n  };\n  /* Get points on the grid for a given radius away from the center */\n\n\n  var pointsAtRadius = [];\n\n  var getPointsAtRadius = function getPointsAtRadius(radius) {\n    if (pointsAtRadius[radius]) {\n      return pointsAtRadius[radius];\n    } // Look for these number of points on each radius\n\n\n    var T = radius * 8; // Getting all the points at this radius\n\n    var t = T;\n    var points = [];\n\n    if (radius === 0) {\n      points.push([center[0], center[1], 0]);\n    }\n\n    while (t--) {\n      // distort the radius to put the cloud in shape\n      var rx = 1;\n\n      if (settings.shape !== 'circle') {\n        rx = settings.shape(t / T * 2 * Math.PI); // 0 to 1\n      } // Push [x, y, t]; t is used solely for getTextColor()\n\n\n      points.push([center[0] + radius * rx * Math.cos(-t / T * 2 * Math.PI), center[1] + radius * rx * Math.sin(-t / T * 2 * Math.PI) * settings.ellipticity, t / T * 2 * Math.PI]);\n    }\n\n    pointsAtRadius[radius] = points;\n    return points;\n  };\n  /* Return true if we had spent too much time */\n\n\n  var exceedTime = function exceedTime() {\n    return settings.abortThreshold > 0 && new Date().getTime() - escapeTime > settings.abortThreshold;\n  };\n  /* Get the deg of rotation according to settings, and luck. */\n\n\n  var getRotateDeg = function getRotateDeg() {\n    if (settings.rotateRatio === 0) {\n      return 0;\n    }\n\n    if (Math.random() > settings.rotateRatio) {\n      return 0;\n    }\n\n    if (rotationRange === 0) {\n      return minRotation;\n    } // return minRotation + Math.round(Math.random() * rotationRange / rotationSteps) * rotationSteps;\n\n\n    if (rotationSteps > 0) {\n      // Min rotation + zero or more steps * span of one step\n      return minRotation + Math.floor(Math.random() * rotationSteps) * rotationRange / rotationSteps;\n    } else {\n      return minRotation + Math.random() * rotationRange;\n    }\n  };\n\n  var getTextInfo = function getTextInfo(word, weight, rotateDeg) {\n    // calculate the acutal font size\n    // fontSize === 0 means wants the text skipped,\n    // and size < minSize means we cannot draw the text\n    var debug = false;\n    var fontSize = getRealFontSize(weight);\n\n    if (fontSize <= 0) {\n      return false;\n    } // Scale factor here is to make sure fillText is not limited by\n    // the minium font size set by browser.\n    // It will always be 1 or 2n.\n\n\n    var mu = 1;\n\n    if (fontSize < minFontSize) {\n      mu = function calculateScaleFactor() {\n        var mu = 2;\n\n        while (mu * fontSize < minFontSize) {\n          mu += 2;\n        }\n\n        return mu;\n      }();\n    }\n\n    var fcanvas = document.createElement('canvas');\n    var fctx = fcanvas.getContext('2d', {\n      willReadFrequently: true\n    });\n    fctx.font = settings.fontWeight + ' ' + (fontSize * mu).toString(10) + 'px ' + settings.fontFamily; // Estimate the dimension of the text with measureText().\n\n    var fw = fctx.measureText(word).width / mu;\n    var fh = Math.max(fontSize * mu, fctx.measureText('m').width, fctx.measureText(\"\\uFF37\").width) / mu; // Create a boundary box that is larger than our estimates,\n    // so text don't get cut of (it sill might)\n\n    var boxWidth = fw + fh * 2;\n    var boxHeight = fh * 3;\n    var fgw = Math.ceil(boxWidth / g);\n    var fgh = Math.ceil(boxHeight / g);\n    boxWidth = fgw * g;\n    boxHeight = fgh * g; // Calculate the proper offsets to make the text centered at\n    // the preferred position.\n    // This is simply half of the width.\n\n    var fillTextOffsetX = -fw / 2; // Instead of moving the box to the exact middle of the preferred\n    // position, for Y-offset we move 0.4 instead, so Latin alphabets look\n    // vertical centered.\n\n    var fillTextOffsetY = -fh * 0.4; // Calculate the actual dimension of the canvas, considering the rotation.\n\n    var cgh = Math.ceil((boxWidth * Math.abs(Math.sin(rotateDeg)) + boxHeight * Math.abs(Math.cos(rotateDeg))) / g);\n    var cgw = Math.ceil((boxWidth * Math.abs(Math.cos(rotateDeg)) + boxHeight * Math.abs(Math.sin(rotateDeg))) / g);\n    var width = cgw * g;\n    var height = cgh * g;\n    fcanvas.setAttribute('width', width);\n    fcanvas.setAttribute('height', height);\n\n    if (debug) {\n      // Attach fcanvas to the DOM\n      document.body.appendChild(fcanvas); // Save it's state so that we could restore and draw the grid correctly.\n\n      fctx.save();\n    } // Scale the canvas with |mu|.\n\n\n    fctx.scale(1 / mu, 1 / mu);\n    fctx.translate(width * mu / 2, height * mu / 2);\n    fctx.rotate(-rotateDeg); // Once the width/height is set, ctx info will be reset.\n    // Set it again here.\n\n    fctx.font = settings.fontWeight + ' ' + (fontSize * mu).toString(10) + 'px ' + settings.fontFamily; // Fill the text into the fcanvas.\n    // XXX: We cannot because textBaseline = 'top' here because\n    // Firefox and Chrome uses different default line-height for canvas.\n    // Please read https://bugzil.la/737852#c6.\n    // Here, we use textBaseline = 'middle' and draw the text at exactly\n    // 0.5 * fontSize lower.\n\n    fctx.fillStyle = '#000';\n    fctx.textBaseline = 'middle';\n    fctx.fillText(word, fillTextOffsetX * mu, (fillTextOffsetY + fontSize * 0.5) * mu); // Get the pixels of the text\n\n    var imageData;\n\n    try {\n      imageData = fctx.getImageData(0, 0, width, height).data;\n    } catch (e) {\n      // data not long type\n      return false;\n    }\n\n    if (exceedTime()) {\n      return false;\n    }\n\n    if (debug) {\n      // Draw the box of the original estimation\n      fctx.strokeRect(fillTextOffsetX * mu, fillTextOffsetY, fw * mu, fh * mu);\n      fctx.restore();\n    } // Read the pixels and save the information to the occupied array\n\n\n    var occupied = [];\n    var gx = cgw,\n        gy,\n        x,\n        y;\n    var bounds = [cgh / 2, cgw / 2, cgh / 2, cgw / 2];\n\n    while (gx--) {\n      gy = cgh;\n\n      while (gy--) {\n        y = g;\n\n        singleGridLoop: {\n          while (y--) {\n            x = g;\n\n            while (x--) {\n              if (imageData[((gy * g + y) * width + (gx * g + x)) * 4 + 3]) {\n                occupied.push([gx, gy]);\n\n                if (gx < bounds[3]) {\n                  bounds[3] = gx;\n                }\n\n                if (gx > bounds[1]) {\n                  bounds[1] = gx;\n                }\n\n                if (gy < bounds[0]) {\n                  bounds[0] = gy;\n                }\n\n                if (gy > bounds[2]) {\n                  bounds[2] = gy;\n                }\n\n                if (debug) {\n                  fctx.fillStyle = 'rgba(255, 0, 0, 0.5)';\n                  fctx.fillRect(gx * g, gy * g, g - 0.5, g - 0.5);\n                }\n\n                break singleGridLoop;\n              }\n            }\n          }\n\n          if (debug) {\n            fctx.fillStyle = 'rgba(0, 0, 255, 0.5)';\n            fctx.fillRect(gx * g, gy * g, g - 0.5, g - 0.5);\n          }\n        }\n      }\n    }\n\n    if (debug) {\n      // real bounds\n      fctx.fillStyle = 'rgba(0, 255, 0, 0.5)';\n      fctx.fillRect(bounds[3] * g, bounds[0] * g, (bounds[1] - bounds[3] + 1) * g, (bounds[2] - bounds[0] + 1) * g);\n    } // Return information needed to create the text on the real canvas\n\n\n    return {\n      mu: mu,\n      occupied: occupied,\n      bounds: bounds,\n      gw: cgw,\n      gh: cgh,\n      fillTextOffsetX: fillTextOffsetX,\n      fillTextOffsetY: fillTextOffsetY,\n      fillTextWidth: fw,\n      fillTextHeight: fh,\n      fontSize: fontSize\n    };\n  };\n  /* Determine if there is room available in the given dimension */\n\n\n  var canFitText = function canFitText(gx, gy, gw, gh, occupied) {\n    // Go through the occupied points,\n    // return false if the space is not available.\n    var i = occupied.length;\n\n    while (i--) {\n      var px = gx + occupied[i][0];\n      var py = gy + occupied[i][1];\n\n      if (px >= ngx || py >= ngy || px < 0 || py < 0) {\n        if (!settings.drawOutOfBound) {\n          return false;\n        }\n\n        continue;\n      }\n\n      if (!grid[px][py]) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n  /* Actually draw the text on the grid */\n\n\n  var drawText = function drawText(gx, gy, info, word, weight, distance, theta, rotateDeg, attributes, id, refresh) {\n    var fontSize = info.fontSize;\n    var color = settings.color;\n    var classes = settings.classes;\n\n    if (!refresh) {\n      if (getTextColor) {\n        color = getTextColor(word, weight, fontSize, distance, theta);\n      } else {\n        color = settings.color;\n      }\n\n      if (getTextClasses) {\n        classes = getTextClasses(word, weight, fontSize, distance, theta);\n      } else {\n        classes = settings.classes;\n      }\n    } else {\n      var find = getInteractionItemById(id);\n      color = find ? find.color : settings.color;\n    }\n\n    var dimension;\n    var bounds = info.bounds;\n    dimension = {\n      x: (gx + bounds[3]) * g,\n      y: (gy + bounds[0]) * g,\n      w: (bounds[1] - bounds[3] + 1) * g,\n      h: (bounds[2] - bounds[0] + 1) * g\n    };\n    elements.forEach(function (el) {\n      if (el.getContext) {\n        var ctx = el.getContext('2d');\n        var mu = info.mu; // Save the current state before messing it\n\n        ctx.save();\n        var font = settings.fontWeight + ' ' + (fontSize * mu).toString(10) + 'px ' + settings.fontFamily;\n        ctx.scale(1 / mu, 1 / mu);\n        ctx.font = font;\n        ctx.fillStyle = color; // Translate the canvas position to the origin coordinate of where\n        // the text should be put.\n\n        var transX = (gx + info.gw / 2) * g * mu;\n        var transY = (gy + info.gh / 2) * g * mu;\n        ctx.translate(transX, transY);\n\n        if (rotateDeg !== 0) {\n          ctx.rotate(-rotateDeg);\n        } // Finally, fill the text.\n        // XXX: We cannot because textBaseline = 'top' here because\n        // Firefox and Chrome uses different default line-height for canvas.\n        // Please read https://bugzil.la/737852#c6.\n        // Here, we use textBaseline = 'middle' and draw the text at exactly\n        // 0.5 * fontSize lower.\n\n\n        ctx.textBaseline = 'middle';\n\n        if (settings.selected === id) {\n          ctx.shadowColor = settings.shadowColor;\n          ctx.shadowBlur = settings.shadowBlur;\n        }\n\n        ctx.fillText(word, info.fillTextOffsetX * mu, (info.fillTextOffsetY + fontSize * 0.5) * mu); // The below box is always matches how <span>s are positioned\n        // ctx.strokeRect(info.fillTextOffsetX, info.fillTextOffsetY,\n        //   info.fillTextWidth, info.fillTextHeight);\n\n        if (!refresh) {\n          interactionItems.push({\n            gx: gx,\n            gy: gy,\n            info: info,\n            word: word,\n            weight: weight,\n            distance: distance,\n            theta: theta,\n            rotateDeg: rotateDeg,\n            attributes: attributes,\n            id: id,\n            color: color\n          });\n        } // Restore the state.\n\n\n        ctx.restore();\n      } else {\n        // drawText on DIV element\n        var span = document.createElement('span');\n        var transformRule = '';\n        transformRule = 'rotate(' + -rotateDeg / Math.PI * 180 + 'deg) ';\n\n        if (info.mu !== 1) {\n          transformRule += 'translateX(-' + info.fillTextWidth / 4 + 'px) ' + 'scale(' + 1 / info.mu + ')';\n        }\n\n        var styleRules = {\n          position: 'absolute',\n          display: 'block',\n          font: settings.fontWeight + ' ' + fontSize * info.mu + 'px ' + settings.fontFamily,\n          left: (gx + info.gw / 2) * g + info.fillTextOffsetX + 'px',\n          top: (gy + info.gh / 2) * g + info.fillTextOffsetY + 'px',\n          width: info.fillTextWidth + 'px',\n          height: info.fillTextHeight + 'px',\n          lineHeight: fontSize + 'px',\n          whiteSpace: 'nowrap',\n          transform: transformRule,\n          webkitTransform: transformRule,\n          msTransform: transformRule,\n          transformOrigin: '50% 40%',\n          webkitTransformOrigin: '50% 40%',\n          msTransformOrigin: '50% 40%'\n        };\n\n        if (color) {\n          styleRules.color = color;\n        }\n\n        span.textContent = word;\n\n        for (var cssProp in styleRules) {\n          span.style[cssProp] = styleRules[cssProp];\n        }\n\n        if (attributes) {\n          for (var attribute in attributes) {\n            span.setAttribute(attribute, attributes[attribute]);\n          }\n        }\n\n        if (classes) {\n          span.className += classes;\n        }\n\n        el.appendChild(span);\n      }\n    });\n  };\n  /* Help function to updateGrid */\n\n\n  var fillGridAt = function fillGridAt(x, y, drawMask, dimension, item) {\n    if (x >= ngx || y >= ngy || x < 0 || y < 0) {\n      return;\n    }\n\n    grid[x][y] = false;\n\n    if (drawMask) {\n      var ctx = elements[0].getContext('2d');\n      ctx.fillRect(x * g, y * g, maskRectWidth, maskRectWidth);\n    }\n\n    if (interactive) {\n      infoGrid[x][y] = {\n        item: item,\n        dimension: dimension\n      };\n    }\n  };\n  /* Update the filling information of the given space with occupied points.\n     Draw the mask on the canvas if necessary. */\n\n\n  var updateGrid = function updateGrid(gx, gy, gw, gh, info) {\n    var occupied = info.occupied;\n    var drawMask = settings.drawMask;\n    var ctx;\n\n    if (drawMask) {\n      ctx = elements[0].getContext('2d');\n      ctx.save();\n      ctx.fillStyle = settings.maskColor;\n    }\n\n    var dimension;\n\n    if (interactive) {\n      var bounds = info.bounds;\n      dimension = {\n        x: (gx + bounds[3]) * g,\n        y: (gy + bounds[0]) * g,\n        w: (bounds[1] - bounds[3] + 1) * g,\n        h: (bounds[2] - bounds[0] + 1) * g\n      };\n    }\n\n    var i = occupied.length;\n\n    while (i--) {\n      var px = gx + occupied[i][0];\n      var py = gy + occupied[i][1];\n\n      if (px >= ngx || py >= ngy || px < 0 || py < 0) {\n        continue;\n      } // save item's color from info\n\n\n      var find = getInteractionItemById(info.item.id);\n\n      if (find) {\n        info.item.color = find.color;\n      }\n\n      fillGridAt(px, py, drawMask, dimension, info.item);\n    }\n\n    if (drawMask) {\n      ctx.restore();\n    }\n  };\n\n  var tryToPutWordAtPoint = function tryToPutWordAtPoint(gxy, info, word, weight, distance, rotateDeg, attributes, id) {\n    var gx = Math.floor(gxy[0] - info.gw / 2);\n    var gy = Math.floor(gxy[1] - info.gh / 2);\n    var gw = info.gw;\n    var gh = info.gh; // If we cannot fit the text at this position, return false\n    // and go to the next position.\n\n    if (!canFitText(gx, gy, gw, gh, info.occupied)) {\n      return false;\n    } // Actually put the text on the canvas\n\n\n    drawText(gx, gy, info, word, weight, distance, gxy[2], rotateDeg, attributes, id, false); // Mark the spaces on the grid as filled\n\n    updateGrid(gx, gy, gw, gh, info);\n    return {\n      gx: gx,\n      gy: gy,\n      rot: rotateDeg,\n      info: info\n    };\n  };\n  /* putWord() processes each item on the list,\n     calculate it's size and determine it's position, and actually\n     put it on the canvas. */\n\n\n  var putWord = function putWord(item) {\n    var word, weight, attributes, id;\n\n    if (Array.isArray(item)) {\n      word = item[0];\n      weight = item[1];\n    } else {\n      word = item.word;\n      weight = item.weight;\n      attributes = item.attributes;\n      id = item.id;\n    }\n\n    var rotateDeg = getRotateDeg(); // get info needed to put the text onto the canvas\n\n    var info = getTextInfo(word, weight, rotateDeg);\n    info['item'] = item; // not getting the info means we shouldn't be drawing this one.\n\n    if (!info) {\n      return false;\n    }\n\n    if (exceedTime()) {\n      return false;\n    } // If drawOutOfBound is set to false,\n    // skip the loop if we have already know the bounding box of\n    // word is larger than the canvas.\n\n\n    if (!settings.drawOutOfBound) {\n      var bounds = info.bounds;\n\n      if (bounds[1] - bounds[3] + 1 > ngx || bounds[2] - bounds[0] + 1 > ngy) {\n        return false;\n      }\n    } // Determine the position to put the text by\n    // start looking for the nearest points\n\n\n    var r = maxRadius + 1;\n\n    while (r--) {\n      var points = getPointsAtRadius(maxRadius - r);\n\n      if (settings.shuffle) {\n        points = [].concat(points);\n        shuffleArray(points);\n      } // Try to fit the words by looking at each point.\n      // array.some() will stop and return true\n      // when putWordAtPoint() returns true.\n\n\n      for (var i = 0; i < points.length; i++) {\n        var res = tryToPutWordAtPoint(points[i], info, word, weight, maxRadius - r, rotateDeg, attributes, id);\n\n        if (res) {\n          return res;\n        }\n      } // var drawn = points.some(tryToPutWordAtPoint);\n      // if (drawn) {\n      //   // leave putWord() and return true\n      //   return true;\n      // }\n\n    } // we tried all distances but text won't fit, return null\n\n\n    return null;\n  };\n  /* Send DOM event to all elements. Will stop sending event and return\n     if the previous one is canceled (for cancelable events). */\n\n\n  var sendEvent = function sendEvent(type, cancelable, detail) {\n    if (cancelable) {\n      return !elements.some(function (el) {\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(type, true, cancelable, detail || {});\n        return !el.dispatchEvent(evt);\n      }, this);\n    } else {\n      elements.forEach(function (el) {\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(type, true, cancelable, detail || {});\n        el.dispatchEvent(evt);\n      }, this);\n    }\n  };\n\n  var getInteractionItemById = function getInteractionItemById(id) {\n    for (var i = 0; i < interactionItems.length; i++) {\n      var find = interactionItems[i];\n\n      if (interactionItems[i].id === id) {\n        return find;\n      }\n    }\n\n    return undefined;\n  };\n  /* Start drawing on a canvas */\n\n\n  var start = function start(selected) {\n    if (selected !== undefined) {\n      // re-refresh canvas with selected\n      // work in canvas only for now\n      if (settings.selected !== selected && elements[0].getContext) {\n        settings.selected = selected;\n        var ctx = elements[0].getContext('2d'); // draw background\n\n        ctx.fillStyle = settings.backgroundColor;\n        ctx.clearRect(0, 0, elements[0].width, elements[0].height);\n        ctx.fillRect(0, 0, elements[0].width, elements[0].height); // draw text\n\n        for (var i_1 = 0; i_1 < interactionItems.length; i_1++) {\n          var find = interactionItems[i_1];\n          drawText(find.gx, find.gy, find.info, find.word, find.weight, find.distance, find.theta, find.rotateDeg, find.attributes, find.id, true);\n        }\n      }\n\n      return;\n    } // For dimensions, clearCanvas etc.,\n    // we only care about the first element.\n\n\n    var canvas = elements[0];\n\n    if (canvas.getContext) {\n      ngx = Math.ceil(canvas.width / g);\n      ngy = Math.ceil(canvas.height / g);\n    } else {\n      var rect = canvas.getBoundingClientRect();\n      ngx = Math.ceil(rect.width / g);\n      ngy = Math.ceil(rect.height / g);\n    } // Sending a wordcloudstart event which cause the previous loop to stop.\n    // Do nothing if the event is canceled.\n\n\n    if (!sendEvent('wordcloudstart', true)) {\n      return;\n    } // Determine the center of the word cloud\n\n\n    center = settings.origin ? [settings.origin[0] / g, settings.origin[1] / g] : [ngx / 2, ngy / (isCardioid ? 4 : 2)]; // Maxium radius to look for space\n\n    maxRadius = Math.floor(Math.sqrt(ngx * ngx + ngy * ngy));\n    /* Clear the canvas only if the clearCanvas is set,\n       if not, update the grid to the current canvas state */\n\n    grid = [];\n    var gx, gy, i;\n\n    if (!canvas.getContext || settings.clearCanvas) {\n      elements.forEach(function (el) {\n        if (el.getContext) {\n          var ctx = el.getContext('2d');\n          ctx.fillStyle = settings.backgroundColor;\n          ctx.clearRect(0, 0, ngx * (g + 1), ngy * (g + 1));\n          ctx.fillRect(0, 0, ngx * (g + 1), ngy * (g + 1));\n        } else {\n          el.textContent = '';\n          el.style.backgroundColor = settings.backgroundColor;\n          el.style.position = 'relative';\n        }\n      });\n      /* fill the grid with empty state */\n\n      gx = ngx;\n\n      while (gx--) {\n        grid[gx] = [];\n        gy = ngy;\n\n        while (gy--) {\n          grid[gx][gy] = true;\n        }\n      }\n    } else {\n      /* Determine bgPixel by creating\n         another canvas and fill the specified background color. */\n      var bctx = document.createElement('canvas').getContext('2d');\n      bctx.fillStyle = settings.backgroundColor;\n      bctx.fillRect(0, 0, 1, 1);\n      var bgPixel = bctx.getImageData(0, 0, 1, 1).data;\n      /* Read back the pixels of the canvas we got to tell which part of the\n         canvas is empty.\n         (no clearCanvas only works with a canvas, not divs) */\n\n      var imageData = canvas.getContext('2d').getImageData(0, 0, ngx * g, ngy * g).data;\n      gx = ngx;\n      var x, y;\n\n      while (gx--) {\n        grid[gx] = [];\n        gy = ngy;\n\n        while (gy--) {\n          y = g;\n\n          singleGridLoop: while (y--) {\n            x = g;\n\n            while (x--) {\n              i = 4;\n\n              while (i--) {\n                if (imageData[((gy * g + y) * ngx * g + (gx * g + x)) * 4 + i] !== bgPixel[i]) {\n                  grid[gx][gy] = false;\n                  break singleGridLoop;\n                }\n              }\n            }\n          }\n\n          if (grid[gx][gy] !== false) {\n            grid[gx][gy] = true;\n          }\n        }\n      }\n\n      imageData = bctx = bgPixel = undefined;\n    } // fill the infoGrid with empty state if we need it\n\n\n    if (settings.onWordCloudHover || settings.onWordCloudClick) {\n      interactive = true;\n      /* fill the grid with empty state */\n\n      gx = ngx + 1;\n\n      while (gx--) {\n        infoGrid[gx] = [];\n      }\n\n      if (settings.onWordCloudHover) {\n        canvas.addEventListener('mousemove', wordcloudhover);\n      }\n\n      if (settings.onWordCloudClick) {\n        canvas.addEventListener('click', wordcloudclick);\n        canvas.addEventListener('touchstart', wordcloudclick);\n        canvas.addEventListener('touchend', function (e) {\n          e.preventDefault();\n        });\n        canvas.style.webkitTapHighlightColor = 'rgba(0, 0, 0, 0)';\n      }\n\n      canvas.addEventListener('wordcloudstart', function stopInteraction() {\n        canvas.removeEventListener('wordcloudstart', stopInteraction);\n        canvas.removeEventListener('mousemove', wordcloudhover);\n        canvas.removeEventListener('click', wordcloudclick);\n        hovered = undefined;\n      });\n    }\n\n    i = 0;\n    var loopingFunction, stoppingFunction;\n\n    if (settings.wait !== 0) {\n      loopingFunction = window.setTimeout;\n      stoppingFunction = window.clearTimeout;\n    } else {\n      loopingFunction = window.setImmediate;\n      stoppingFunction = window.clearImmediate;\n    }\n\n    var addEventListener = function addEventListener(type, listener) {\n      elements.forEach(function (el) {\n        el.addEventListener(type, listener);\n      }, this);\n    };\n\n    var removeEventListener = function removeEventListener(type, listener) {\n      elements.forEach(function (el) {\n        el.removeEventListener(type, listener);\n      }, this);\n    };\n\n    var anotherWordCloudStart = function anotherWordCloudStart() {\n      removeEventListener('wordcloudstart', anotherWordCloudStart);\n      stoppingFunction(timer);\n    };\n\n    addEventListener('wordcloudstart', anotherWordCloudStart);\n    var timer = loopingFunction(function loop() {\n      if (i >= settings.data.length) {\n        stoppingFunction(timer);\n        sendEvent('wordcloudstop', false);\n        removeEventListener('wordcloudstart', anotherWordCloudStart);\n        return;\n      }\n\n      escapeTime = new Date().getTime();\n      var drawn = putWord(settings.data[i]);\n      var canceled = !sendEvent('wordclouddrawn', true, {\n        item: settings.data[i],\n        drawn: drawn\n      });\n\n      if (exceedTime() || canceled) {\n        stoppingFunction(timer);\n        settings.abort();\n        sendEvent('wordcloudabort', false);\n        sendEvent('wordcloudstop', false);\n        removeEventListener('wordcloudstart', anotherWordCloudStart);\n        return;\n      }\n\n      i++;\n      timer = loopingFunction(loop, settings.wait);\n    }, settings.wait);\n  }; // All set, start the drawing\n\n\n  start();\n};\n\nWordCloud.isSupported = isSupported;\nWordCloud.minFontSize = minFontSize;\nexport default WordCloud;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Layer from '../../base/layer';\nimport WordCloudTooltips from './word-cloud-tooltips';\nimport WordCloud from './wordcloud2';\n\nvar WordCloudLayer =\n/** @class */\nfunction (_super) {\n  __extends(WordCloudLayer, _super);\n\n  function WordCloudLayer(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._toolTipsAction = function (item, dimension, evt, start) {\n      if (dimension) {\n        _this._toolTips.setContent('', [// @ts-ignore\n        {\n          color: item.color || 'red',\n          name: item.word,\n          value: item.weight\n        }]); // @ts-ignore\n        // NOTE evt.layerX is relative x in canvas, absolute x is dimension.x\n\n\n        _this._toolTips.setPosition(evt.layerX, evt.layerY);\n\n        _this._toolTips.show();\n      } else {\n        _this._toolTips.hide();\n      }\n\n      _this._configHoverAction && _this._configHoverAction(item, dimension, evt, start);\n    };\n\n    _this._configHoverAction = props.onWordCloudHover;\n    _this._enableToolTips = _.get(props, 'tooltip.visible', true);\n    _this.options = _.deepMix({}, {\n      width: 400,\n      height: 400,\n      enableToolTips: true\n    }, props, // replace use config's hover action if needed, and trigger later\n    {\n      onWordCloudHover: _this._enableToolTips ? _this._toolTipsAction : _this._configHoverAction\n    });\n    return _this;\n  }\n\n  WordCloudLayer.prototype.init = function () {\n    _super.prototype.init.call(this);\n\n    this._initToolTips();\n  };\n\n  WordCloudLayer.prototype.render = function () {\n    _super.prototype.render.call(this);\n\n    this._render();\n  };\n\n  WordCloudLayer.prototype._initToolTips = function () {\n    this._toolTips = new WordCloudTooltips({\n      showTitle: false,\n      visible: true,\n      canvas: this.canvas,\n      follow: true,\n      inPanel: false\n    });\n  };\n\n  WordCloudLayer.prototype._render = function () {\n    this._targetCanvas = this.canvas.get('el');\n\n    if (this.options.maskImage) {\n      this._handleMaskImage();\n    } else {\n      // mask image not exist\n      this._start();\n    }\n  };\n\n  WordCloudLayer.prototype._handleMaskImage = function () {\n    var _this = this;\n\n    var image = new Image();\n    image.src = this.options.maskImage;\n    image.crossOrigin = 'Anonymous';\n\n    image.onload = function () {\n      if (image.naturalHeight + image.naturalWidth === 0 || image.width + image.height === 0) {\n        _this._start();\n      } else {\n        // handle no-zero image silhouette\n        _this._startWithMaskImage(image);\n      }\n    };\n\n    image.onerror = function () {\n      console.error('image %s load failed !!!', _this.options.maskImage); // load image error, ignore this mask\n\n      _this._start();\n    };\n  };\n\n  WordCloudLayer.prototype._start = function () {\n    this._handleG2PlotConfig();\n\n    WordCloud(this._targetCanvas, this.options);\n  };\n\n  WordCloudLayer.prototype._handleG2PlotConfig = function () {\n    var fontSize = this.options.wordStyle.fontSize || [10, 60];\n    var rotation = this.options.wordStyle.rotation || [-Math.PI / 2, Math.PI / 2];\n    var active, shadowColor, shadowBlur;\n\n    if (this.options.wordStyle.active) {\n      active = true;\n      shadowColor = this.options.wordStyle.active.shadowColor || '#333';\n      shadowBlur = this.options.wordStyle.active.shadowBlur || 10;\n    } else {\n      active = false;\n    }\n\n    this.options = _.deepMix({}, this.options, {\n      minFontSize: fontSize[0],\n      maxFontSize: fontSize[1],\n      minRotation: rotation[0],\n      maxRotation: rotation[1],\n      active: active,\n      shadowColor: shadowColor,\n      shadowBlur: shadowBlur\n    });\n  };\n\n  WordCloudLayer.prototype._startWithMaskImage = function (image) {\n    var _a = this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(image)),\n        maskImageCanvas = _a.maskImageCanvas,\n        maskImageContext = _a.maskImageContext;\n    /* Determine bgPixel by creating\n     another canvas and fill the specified background color. */\n\n\n    var bctx = document.createElement('canvas').getContext('2d');\n    bctx.fillStyle = this.options.backgroundColor || '#fff';\n    bctx.fillRect(0, 0, 1, 1);\n    var bgPixel = bctx.getImageData(0, 0, 1, 1).data;\n    var imageData = maskImageContext.getImageData(0, 0, maskImageCanvas.width, maskImageCanvas.height);\n    var newImageData = maskImageContext.createImageData(imageData);\n\n    for (var i = 0; i < imageData.data.length; i += 4) {\n      if (imageData.data[i + 3] > 128) {\n        // keep this area's data the same as pixel color\n        newImageData.data[i] = bgPixel[0];\n        newImageData.data[i + 1] = bgPixel[1];\n        newImageData.data[i + 2] = bgPixel[2];\n        newImageData.data[i + 3] = bgPixel[3];\n      } else {\n        // This color must not be the same as the bgPixel.\n        // check wordcloud2.js#1192 's condition\n        newImageData.data[i] = bgPixel[0];\n        newImageData.data[i + 1] = bgPixel[1];\n        newImageData.data[i + 2] = bgPixel[2];\n        newImageData.data[i + 3] = 254; // just for not same as the bg color\n      }\n    }\n\n    maskImageContext.putImageData(newImageData, 0, 0);\n\n    var targetCtx = this._targetCanvas.getContext('2d');\n\n    targetCtx.drawImage(maskImageCanvas, 0, 0);\n    this.options = _.deepMix({}, this.options, {\n      clearCanvas: false\n    });\n\n    this._start();\n  };\n\n  WordCloudLayer.prototype._scaleMaskImageCanvas = function (maskImageCanvas) {\n    var maskCanvasScaled = document.createElement('canvas'); // get real canvas determined by pixelRatio\n\n    maskCanvasScaled.width = this.canvas.get('widthCanvas');\n    maskCanvasScaled.height = this.canvas.get('heightCanvas');\n    var ctx = maskCanvasScaled.getContext('2d'); // keep scale smooth\n\n    ctx.imageSmoothingEnabled = true; // ctx.mozImageSmoothingEnabled = true;\n    // ctx.webkitImageSmoothingEnabled = true;\n    // ctx.msImageSmoothingEnabled = true;\n\n    ctx.drawImage(maskImageCanvas, 0, 0, maskImageCanvas.width, maskImageCanvas.height, 0, 0, maskCanvasScaled.width, maskCanvasScaled.height);\n    return {\n      maskImageCanvas: maskCanvasScaled,\n      maskImageContext: ctx\n    };\n  };\n\n  WordCloudLayer.prototype._transformWhite2BlackPixels = function (image) {\n    var maskImageCanvas = document.createElement('canvas');\n    maskImageCanvas.width = image.width;\n    maskImageCanvas.height = image.height;\n    var ctx = maskImageCanvas.getContext('2d');\n    ctx.drawImage(image, 0, 0, image.width, image.height);\n    var imageData = ctx.getImageData(0, 0, maskImageCanvas.width, maskImageCanvas.height);\n    var SINGLE_COMPONENT_SIZE = 4;\n    var BLACK_PIXEL = 0;\n    var FULL_PIXEL = 255; // R - G - B - A\n\n    for (var i = 0; i < imageData.data.length; i += SINGLE_COMPONENT_SIZE) {\n      var rgb = imageData.data[i] + imageData.data[i + 1] + imageData.data[i + 2];\n      var alpha = imageData.data[i + 3];\n\n      if (alpha < 128 || rgb > 250 * 3) {\n        // white area(not to draw)\n        imageData.data[i] = FULL_PIXEL;\n        imageData.data[i + 1] = FULL_PIXEL;\n        imageData.data[i + 2] = FULL_PIXEL;\n        imageData.data[i + 3] = BLACK_PIXEL;\n      } else {\n        // black area wait to draw(image black silhouette)\n        imageData.data[i] = BLACK_PIXEL;\n        imageData.data[i + 1] = BLACK_PIXEL;\n        imageData.data[i + 2] = BLACK_PIXEL;\n        imageData.data[i + 3] = FULL_PIXEL;\n      }\n    }\n\n    ctx.putImageData(imageData, 0, 0);\n    return maskImageCanvas;\n  };\n\n  return WordCloudLayer;\n}(Layer);\n\nexport default WordCloudLayer;","import { __extends } from \"tslib\";\n/**\n * Create By Bruce Too\n * On 2019-12-25\n */\n\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport WordCloudLayer from './layer';\nimport { registerPlotType } from '../../base/global';\n\nvar WordCloud =\n/** @class */\nfunction (_super) {\n  __extends(WordCloud, _super);\n\n  function WordCloud(container, props) {\n    var _this = this; // only canvas works for now\n\n\n    props.renderer = 'canvas';\n    _this = _super.call(this, container, props) || this;\n    return _this;\n  }\n\n  WordCloud.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'wordCloud';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  return WordCloud;\n}(BasePlot);\n\nexport default WordCloud;\nregisterPlotType('wordCloud', WordCloudLayer);","import { rgb2arr } from '../../../../../util/color';\nimport * as _ from '@antv/util';\nexport function mappingColor(band, gray) {\n  var reflect;\n\n  _.each(band, function (b) {\n    var map = b;\n\n    if (gray >= map.from && gray < map.to) {\n      reflect = map.color;\n    }\n  });\n\n  return reflect;\n}\n/** 自动调整label颜色 */\n\nexport function autoAdjustColor(label, shape) {\n  var labelRange = label.getBBox();\n  var shapeRange = shape.getBBox();\n\n  if (labelRange.minY >= shapeRange.minY && labelRange.maxY <= shapeRange.maxY) {\n    var shapeColor = shape.attr('fill');\n    var shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n    var rgb = rgb2arr(shapeColor);\n    var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n    var colorBand = [{\n      from: 0,\n      to: 85,\n      color: 'white'\n    }, {\n      from: 85,\n      to: 170,\n      color: '#F6F6F6'\n    }, {\n      from: 170,\n      to: 255,\n      color: 'black'\n    }];\n    var reflect = mappingColor(colorBand, gray);\n    label.attr('fill', reflect);\n\n    if (reflect !== 'black') {\n      label.attr('stroke', null);\n      label.attr('lineWidth', 0);\n    } else {\n      label.attr('stroke', 'white');\n      label.attr('lineWidth', 2);\n    }\n  } else if (labelRange.maxY < shapeRange.minY) {\n    // 非 shape 范围内的 label 需要考虑主题背景\n    var theme = this.get('theme');\n\n    var labelTextColor = _.get(theme, 'label.textStyle.fill', 'black');\n\n    label.attr('fill', labelTextColor);\n  }\n}","import { __extends } from \"tslib\";\nimport { registerElementLabels, getElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { getEndPoint } from '../../../pie/component/label/utils';\nimport { distBetweenPoints } from '../../../../util/math';\nimport { autoAdjustColor } from './utils';\nvar PolarElementLabels = getElementLabels('polar');\n\nvar RoseLabels =\n/** @class */\nfunction (_super) {\n  __extends(RoseLabels, _super);\n\n  function RoseLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RoseLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var view = this.get('element').get('view');\n\n    var _a = this.get('labelOptions'),\n        fields = _a.fields,\n        offset = _a.offset,\n        adjustColor = _a.adjustColor,\n        type = _a.type;\n\n    var _b = view.get('coord'),\n        center = _b.center,\n        startAngle = _b.startAngle;\n\n    var categoryField = fields[0];\n    var adjustField = fields[2];\n    var scale = view.get('scales')[categoryField];\n\n    if (!adjustField) {\n      labels.forEach(function (label) {\n        var origin = label.get('origin');\n\n        var shapeId = _this.get('element').getShapeId(origin);\n\n        var shape = _this._getShape(shapeId, shapes);\n\n        var angleValue = scale.scale(origin[categoryField]);\n        var angle = startAngle + Math.PI * 2 * angleValue;\n        var anchor = shape.get('origin');\n        var r = distBetweenPoints(center, anchor) + offset;\n        var labelAnchor = getEndPoint(center, angle, r);\n        label.attr('x', labelAnchor.x);\n        label.attr('y', labelAnchor.y);\n        label.attr('textBaseline', 'middle');\n\n        _this.adjustTextAlign(label, shape);\n\n        if (adjustColor && type === 'inner') {\n          autoAdjustColor(label, shape);\n        }\n      });\n    }\n\n    view.get('canvas').draw();\n  };\n\n  RoseLabels.prototype._getShape = function (shapeId, shapes) {\n    var target;\n\n    _.each(shapes, function (shape) {\n      var s = shape;\n      var id = s.id;\n\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n\n    return target;\n  };\n\n  RoseLabels.prototype.adjustTextAlign = function (label, shape) {\n    var box = label.getBBox();\n    var labelAnchor = {\n      x: box.x + box.width / 2,\n      y: box.y + box.height / 2\n    };\n    var anchor = shape.get('origin');\n    var autoRotate = this.get('labelOptions').autoRotate;\n    label.attr('textAlign', 'center');\n\n    if (!autoRotate) {\n      if (labelAnchor.x > anchor.x) {\n        label.attr('textAlign', 'left');\n      } else if (labelAnchor.x < anchor.x) {\n        label.attr('textAlign', 'right');\n      }\n    }\n  };\n\n  return RoseLabels;\n}(PolarElementLabels);\n\nexport { RoseLabels };\nregisterElementLabels('roseLabel', RoseLabels);","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport * as EventParser from '../column/event';\nimport './component/label/rose-label';\nvar G2_GEOM_MAP = {\n  rose: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  rose: 'column'\n};\n\nvar RoseLayer =\n/** @class */\nfunction (_super) {\n  __extends(RoseLayer, _super);\n\n  function RoseLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'rose';\n    return _this;\n  }\n\n  RoseLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      width: 400,\n      height: 400,\n      title: {\n        visible: false\n      },\n      description: {\n        visible: false\n      },\n      forceFit: true,\n      padding: 'auto',\n      radius: 0.8,\n      innerRadius: 0,\n      label: {\n        visible: true,\n        type: 'inner',\n        autoRotate: true,\n        adjustColor: false\n      },\n      legend: {\n        visible: true,\n        position: 'bottom-center'\n      },\n      tooltip: {\n        visible: true,\n        shared: false,\n        crosshairs: null\n      },\n      columnStyle: {\n        stroke: 'white',\n        lineWidth: 1\n      },\n      xAxis: {\n        autoRotateLabel: true,\n        line: {\n          visible: false\n        },\n        tickLine: {\n          visible: false\n        },\n        grid: {\n          visible: true,\n          style: {\n            lineWidth: 0.5\n          }\n        },\n        label: {\n          offset: 5\n        }\n      },\n      yAxis: {\n        visible: false\n      }\n    });\n  };\n\n  RoseLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props); // @ts-ignore\n\n\n    var defaultOptions = this.constructor.getDefaultOptions();\n    var columnStyle = props.sectorStyle;\n    var xField = props.categoryField;\n    var yField = props.radiusField;\n    return _.deepMix({}, options, defaultOptions, {\n      columnStyle: columnStyle,\n      xField: xField,\n      yField: yField\n    }, props);\n  };\n\n  RoseLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  RoseLayer.prototype.scale = function () {\n    // super.scale();\n    var props = this.options;\n    var scales = {};\n    scales[props.radiusField] = {};\n    scales[props.categoryField] = {\n      type: 'cat'\n    };\n    this.setConfig('scales', scales);\n  };\n  /** 不显示坐标轴 */\n\n\n  RoseLayer.prototype.axis = function () {\n    _super.prototype.axis.call(this);\n\n    var options = this.options;\n\n    if (!options.stackField && !options.groupField) {\n      this.setConfig('axes', false);\n    }\n  };\n\n  RoseLayer.prototype.coord = function () {\n    var props = this.options;\n    var coordConfig = {\n      type: 'polar',\n      cfg: {\n        radius: props.radius,\n        innerRadius: props.innerRadius || 0\n      }\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  RoseLayer.prototype.addGeometry = function () {\n    var options = this.options;\n    this.adjustColorFieldMapping();\n    this.adjustLegendOptions();\n    var rose = getGeom('interval', 'main', {\n      plot: this,\n      positionFields: [options.categoryField, options.radiusField],\n      widthRatio: 1\n    });\n    rose.label = this.extractLabel();\n    rose.adjust = this.adjustRoseAdjust();\n    this.rose = rose;\n    this.setConfig('element', rose);\n  };\n\n  RoseLayer.prototype.adjustColorFieldMapping = function () {\n    var options = this.options;\n\n    if (options.stackField || options.groupField) {\n      this.options.colorField = null;\n    }\n  };\n\n  RoseLayer.prototype.adjustRoseAdjust = function () {\n    if (this.options.stackField) {\n      return [{\n        type: 'stack'\n      }];\n    } else if (this.options.groupField) {\n      return [{\n        type: 'dodge',\n        marginRatio: 0\n      }];\n    }\n\n    return null;\n  };\n\n  RoseLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.rose.animate = false;\n    }\n  };\n\n  RoseLayer.prototype.annotation = function () {};\n\n  RoseLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  RoseLayer.prototype.extractLabel = function () {\n    var options = this.options;\n\n    if (!options.label || !options.label.visible) {\n      return false;\n    }\n\n    var label = _.deepMix({}, options.label);\n\n    this.adjustLabelOptions(label);\n    var fields = [options.categoryField, options.radiusField];\n\n    if (options.stackField || options.groupField) {\n      fields.push(options.stackField || options.groupField);\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'roseLabel',\n      fields: fields\n    }, label));\n    return labelConfig;\n  };\n\n  RoseLayer.prototype.adjustLabelOptions = function (labelOptions) {\n    var radiusField = this.options.radiusField;\n\n    if (labelOptions) {\n      var offset = labelOptions.offset,\n          type = labelOptions.type,\n          formatter = labelOptions.formatter;\n\n      if (type === 'inner') {\n        labelOptions.offset = offset < 0 ? offset : -10;\n      } else if (type === 'outer') {\n        labelOptions.offset = offset >= 0 ? offset : 10;\n      }\n\n      if (!formatter) {\n        // 默认显示 数值\n        labelOptions.formatter = function (text, item) {\n          return \"\" + item._origin[radiusField];\n        };\n      }\n    }\n  };\n\n  RoseLayer.prototype.adjustLegendOptions = function () {\n    var options = this.options;\n    var legendOptions = options.legend;\n\n    if (legendOptions) {\n      if (!options.stackField && !options.groupField) {\n        legendOptions.clickable = false;\n      }\n    }\n  };\n\n  return RoseLayer;\n}(ViewLayer);\n\nexport default RoseLayer;\nregisterPlotType('rose', RoseLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport RoseLayer from './layer';\n\nvar Rose =\n/** @class */\nfunction (_super) {\n  __extends(Rose, _super);\n\n  function Rose() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Rose.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'rose';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Rose.getDefaultOptions = RoseLayer.getDefaultOptions;\n  return Rose;\n}(BasePlot);\n\nexport default Rose;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ViewLayer from '../base/view-layer';\nimport { getComponent } from '../components/factory';\nimport '../geoms/line/mini';\n\nvar TinyLayer =\n/** @class */\nfunction (_super) {\n  __extends(TinyLayer, _super);\n\n  function TinyLayer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TinyLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      title: {\n        visible: false\n      },\n      description: {\n        visible: false\n      },\n      padding: [0, 0, 0, 0],\n      legend: {\n        visible: false\n      },\n      xAxis: {\n        visible: false\n      },\n      yAxis: {\n        visible: false\n      },\n      tooltip: {\n        visible: false\n      }\n    });\n  };\n\n  TinyLayer.prototype.coord = function () {};\n\n  TinyLayer.prototype.addGeometry = function () {};\n\n  TinyLayer.prototype.annotation = function () {\n    var _this = this;\n\n    var props = this.options;\n    var config = [];\n    var defaultGuidelineCfg = {\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#66d6a8'\n        }\n      }\n    };\n\n    _.each(props.guideLine, function (line) {\n      var guideLine = getComponent('guideLine', {\n        plot: _this,\n        cfg: _.deepMix({}, defaultGuidelineCfg, line)\n      });\n      config.push(guideLine);\n    });\n\n    this.setConfig('annotations', config);\n  };\n\n  return TinyLayer;\n}(ViewLayer);\n\nexport default TinyLayer;","import { __assign } from \"tslib\";\nimport * as _ from '@antv/util';\n\nvar Marker =\n/** @class */\nfunction () {\n  function Marker(cfg) {\n    _.assign(this, cfg);\n\n    this.init();\n  }\n\n  Marker.prototype.destroy = function () {\n    if (this.shape) {\n      this.shape.destroy();\n    }\n  };\n\n  Marker.prototype.update = function (cfg, duration, easing) {\n    var updateCfg = {};\n\n    _.assign(this, cfg);\n\n    this.coord = this.view.get('coord');\n\n    if (cfg.value) {\n      var x = this.coord.convert({\n        x: 0,\n        y: this.value\n      }).x;\n      var matrix = [1, 0, 0, 0, 1, 0, x, 0, 1];\n      updateCfg.matrix = matrix;\n    }\n\n    if (cfg.style) {\n      var origin_attr = this.shape.attrs;\n\n      var attrs = _.deepMix({}, origin_attr, cfg.style);\n\n      updateCfg = _.deepMix({}, attrs, updateCfg);\n    }\n\n    this.shape.stopAnimate();\n    this.shape.animate(updateCfg, duration, easing);\n  };\n\n  Marker.prototype.init = function () {\n    this.coord = this.view.get('coord');\n    this.container = this.view.get('container');\n    var x = this.coord.convert({\n      x: 0,\n      y: this.value\n    }).x; // progress坐标系是转置坐标系\n\n    var y0 = this.coord.center.y - this.progressSize / 2 - 2;\n    var y1 = this.coord.center.y + this.progressSize / 2 + 2;\n\n    var style = _.deepMix({}, {\n      stroke: 'grey',\n      lineWidth: 1\n    }, this.style);\n\n    this.shape = this.container.addShape('path', {\n      attrs: __assign({\n        path: [['M', 0, y0], ['L', 0, y1]]\n      }, style),\n      name: 'progress-marker'\n    });\n    this.shape.move(x, 0);\n    this.canvas.draw();\n  };\n\n  return Marker;\n}();\n\nexport default Marker;","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onProgressClick: 'interval:click',\n  onProgressDblclick: 'interval:dblclick',\n  onProgressMousemove: 'interval:mousemove',\n  onProgressMousedown: 'interval:mousedown',\n  onProgressMouseup: 'interval:mouseup',\n  onProgressMouseenter: 'progress:mouseenter',\n  onProgressMouseleave: 'progress:mouseleave',\n  onProgressContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer from '../tiny-layer';\nimport Marker from './component/marker';\nimport * as EventParser from './event';\nvar G2_GEOM_MAP = {\n  progress: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'progress'\n};\nvar DEFAULT_COLOR = ['#55A6F3', '#E8EDF3'];\n\nvar ProgressLayer =\n/** @class */\nfunction (_super) {\n  __extends(ProgressLayer, _super);\n\n  function ProgressLayer() {\n    /**\n     * 将进度条配置项转为堆叠条形图配置项\n     */\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'progress';\n    _this.isEntered = false;\n    return _this;\n  }\n\n  ProgressLayer.prototype.processProps = function () {\n    var props = this.options;\n    props.data = this.processData();\n    var cfg = {\n      padding: [0, 0, 0, 0],\n      xField: 'value',\n      yField: '1',\n      stackField: 'type',\n      barSize: props.size ? props.size : this.getSize(),\n      barStyle: props.progressStyle,\n      color: this.parseColorProps(props) || DEFAULT_COLOR\n    };\n    props = _.mix(props, cfg);\n  };\n\n  ProgressLayer.prototype.init = function () {\n    this.processProps();\n\n    _super.prototype.init.call(this);\n  };\n\n  ProgressLayer.prototype.update = function (cfg) {\n    var props = this.options;\n\n    if (_.hasKey(cfg, 'percent')) {\n      props.percent = cfg.percent;\n      this.changeData(this.processData());\n    }\n\n    if (cfg.style) {\n      this.styleUpdateAnimation(cfg.style);\n      this.updateColorConfigByStyle(cfg.style);\n    }\n\n    if (cfg.color) {\n      var style = void 0;\n\n      if (_.isArray(cfg.color)) {\n        this.options.color = cfg.color;\n        style = [{\n          fill: cfg.color[0]\n        }, {\n          fill: cfg.color[1]\n        }];\n      } else {\n        this.options.color[0] = cfg.color;\n        style = {\n          fill: cfg.color\n        };\n      }\n\n      this.styleUpdateAnimation(style);\n    }\n\n    if (cfg.marker) {\n      this.updateMarkers(cfg.marker);\n      this.options.marker = cfg.marker;\n    }\n  };\n\n  ProgressLayer.prototype.destroy = function () {\n    if (this.markers && this.markers.length > 0) {\n      _.each(this.markers, function (marker) {\n        marker.destroy();\n      });\n\n      this.markers = [];\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  ProgressLayer.prototype.afterRender = function () {\n    var _this = this;\n\n    if (this.options.marker && !this.markers) {\n      this.markers = [];\n\n      _.each(this.options.marker, function (cfg) {\n        var markerCfg = _.mix({\n          canvas: _this.canvas,\n          view: _this.view,\n          progressSize: _this.options.barSize\n        }, cfg);\n\n        var marker = new Marker(markerCfg);\n\n        _this.markers.push(marker);\n      });\n    }\n\n    var progressContainer = this.view.get('elements')[0].get('container');\n    var bbox = progressContainer.getBBox();\n    var rect = progressContainer.addShape('rect', {\n      attrs: {\n        width: bbox.width,\n        height: bbox.height,\n        x: bbox.minX,\n        y: bbox.minY,\n        fill: 'rgba(0,0,0,0)'\n      }\n    });\n    this.canvas.draw();\n    rect.on('mouseenter', function (ev) {\n      _this.isEntered = true;\n\n      _this.view.emit('progress:mouseenter', ev);\n    });\n    rect.on('mouseleave', function (ev) {\n      _this.isEntered = false;\n\n      _this.view.emit('progress:mouseleave', ev);\n    });\n    var canvasDom = this.canvas.get('canvasDOM');\n    canvasDom.addEventListener('mouseleave', function (ev) {\n      if (_this.isEntered) {\n        _this.view.emit('progress:mouseleave', ev);\n\n        _this.isEntered = false;\n      }\n    });\n  };\n\n  ProgressLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  ProgressLayer.prototype.coord = function () {\n    var coordConfig = {\n      actions: [['transpose']]\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  ProgressLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    var bar = getGeom('interval', 'main', {\n      positionFields: [props.yField, props.xField],\n      plot: this\n    });\n    bar.adjust = [{\n      type: 'stack'\n    }];\n\n    if (_.has(props, 'animation')) {\n      bar.animate = props.animation;\n    }\n\n    this.setConfig('element', bar);\n  };\n\n  ProgressLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  ProgressLayer.prototype.parseColorProps = function (props) {\n    var colorOption;\n\n    if (props.color) {\n      if (_.isFunction(props.color)) {\n        colorOption = props.color(props.percent);\n      } else {\n        colorOption = props.color;\n      }\n\n      if (_.isString(colorOption)) {\n        var color = _.clone(DEFAULT_COLOR);\n\n        color[0] = colorOption;\n        return color;\n      } else {\n        return colorOption;\n      }\n    }\n\n    return props.color;\n  };\n\n  ProgressLayer.prototype.processData = function () {\n    var props = this.options;\n    var data = [{\n      type: 'current',\n      value: props.percent\n    }, {\n      type: 'rest',\n      value: 1.0 - props.percent\n    }];\n    return data;\n  };\n\n  ProgressLayer.prototype.updateMarkers = function (markerCfg) {\n    var markerLength = markerCfg.length;\n    var animationOptions = this.getUpdateAnimationOptions(); // marker diff\n\n    _.each(this.markers, function (marker, index) {\n      if (index > markerLength - 1) {\n        marker.destroy();\n      } else {\n        marker.update(markerCfg[index], animationOptions.duration, animationOptions.easing);\n      }\n    }); // add new markers\n\n\n    if (this.markers.length < markerLength) {\n      var startIndex = this.markers.length;\n\n      for (var i = startIndex; i < markerLength; i++) {\n        var cfg = _.deepMix({}, {\n          canvas: this.canvas,\n          view: this.view,\n          progressSize: this.options.barSize\n        }, markerCfg[i]);\n\n        var marker = new Marker(cfg);\n        this.markers.push(marker);\n      }\n    }\n  };\n\n  ProgressLayer.prototype.getSize = function () {\n    var height = this.height;\n\n    if (height >= 50) {\n      return 10;\n    }\n\n    return 4;\n  };\n\n  ProgressLayer.prototype.styleUpdateAnimation = function (style) {\n    // style更新动画接受用户animation配置的透传\n    var _a = this.getUpdateAnimationOptions(),\n        duration = _a.duration,\n        easing = _a.easing; // get geometry shapes\n\n\n    var progressShapes = [];\n    var view = this.view;\n    var geometry = view.get('elements');\n\n    _.each(geometry, function (geom) {\n      if (geom.get('shapeType') === 'interval') {\n        var shapes = geom.getShapes();\n        progressShapes.push.apply(progressShapes, shapes);\n      }\n    });\n\n    if (_.isArray(style)) {\n      _.each(style, function (s, index) {\n        progressShapes[index].animate(s, duration, easing);\n      });\n    } else {\n      progressShapes[0].animate(style, duration, easing);\n    }\n  };\n\n  ProgressLayer.prototype.getUpdateAnimationOptions = function () {\n    var duration = 450;\n    var easing = 'easeQuadInOut';\n    var animationOptions = this.options.animation;\n\n    if (animationOptions && animationOptions.update) {\n      if (animationOptions.update.duration) {\n        duration = animationOptions.update.duration;\n      }\n\n      if (animationOptions.update.easing) {\n        easing = animationOptions.update.easing;\n      }\n    }\n\n    return {\n      duration: duration,\n      easing: easing\n    };\n  };\n\n  ProgressLayer.prototype.updateColorConfigByStyle = function (style) {\n    var _this = this;\n\n    if (_.isArray(style)) {\n      _.each(style, function (s, index) {\n        if (s.fill) {\n          _this.options.color[index] = s.fill;\n        }\n      });\n    } else if (style.fill) {\n      this.options.color[0] = style.fill;\n    }\n  };\n\n  return ProgressLayer;\n}(TinyLayer);\n\nexport default ProgressLayer;\nregisterPlotType('progress', ProgressLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport ProgressLayer from './layer';\n\nvar Progress =\n/** @class */\nfunction (_super) {\n  __extends(Progress, _super);\n\n  function Progress() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Progress.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'progress';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Progress.prototype.update = function (value, style) {\n    var layer = this.layers[0];\n    layer.update(value, style);\n  };\n\n  Progress.getDefaultOptions = ProgressLayer.getDefaultOptions;\n  return Progress;\n}(BasePlot);\n\nexport default Progress;","import * as G from '@antv/g';\nimport { Animate } from '@antv/g2';\nimport * as _ from '@antv/util'; // 记录之前的状态\n\nvar preShapeInfo = {};\n/** 更新动画 */\n\nfunction progressUpdate(shape, animateCfg, coord) {\n  var path = shape.attr('path');\n  var clip;\n  var uniform = {};\n  var index = shape.get('index');\n\n  var _a = getAngle(shape, coord),\n      startAngle = _a.startAngle,\n      endAngle = _a.endAngle;\n\n  if (preShapeInfo[shape.id]) {\n    var _b = getShapeInfo(shape),\n        preStart = _b.preStart,\n        preEnd = _b.preEnd,\n        prePath = _b.prePath;\n\n    var anchor = getAnchor(preStart, startAngle);\n    var direction_1 = getDirection(preStart, preEnd, startAngle, endAngle);\n\n    if (direction_1 === 'antiClockWise') {\n      shape.attr('path', prePath);\n    }\n\n    if (anchor === 'start') {\n      clip = createClip(coord, startAngle, preEnd);\n      uniform.endAngle = endAngle;\n    } else {\n      clip = createClip(coord, preStart, endAngle);\n      uniform.startAngle = startAngle;\n    }\n\n    shape.attr('clip', clip);\n    shape.setSilent('animating', true);\n\n    animateCfg.callback = function () {\n      if (shape && !shape.get('destroyed')) {\n        shape.attr('clip', null);\n        shape.setSilent('cacheShape', null);\n        shape.setSilent('animating', false);\n        clip.remove();\n\n        if (direction_1 === 'antiClockWise') {\n          shape.attr('path', path);\n        }\n      }\n    };\n    /** 执行动画 */\n\n    /** 准备动画参数 */\n\n\n    var delay = animateCfg.delay;\n\n    if (_.isFunction(delay)) {\n      delay = animateCfg.delay(index);\n    }\n\n    var easing = animateCfg.easing;\n\n    if (_.isFunction(easing)) {\n      easing = animateCfg.easing(index);\n    }\n    /** 动起来 */\n\n\n    clip.animate(uniform, animateCfg.duration, easing, animateCfg.callback, delay);\n  }\n\n  setShapeInfo(shape, startAngle, endAngle);\n}\n\nexport function setShapeInfo(shape, start, end) {\n  if (!preShapeInfo[shape.id]) {\n    preShapeInfo[shape.id] = {};\n  }\n\n  preShapeInfo[shape.id].preStart = start;\n  preShapeInfo[shape.id].preEnd = end;\n  preShapeInfo[shape.id].prePath = shape.attr('path');\n}\n\nfunction getShapeInfo(shape) {\n  return preShapeInfo[shape.id] || null;\n}\n/**\n * 获取动画锚点(固定不变的端点)是头部还是尾部\n * 锚点会决定clip的生成和动画\n */\n\n\nfunction getAnchor(preStart, startAngle) {\n  if (preStart === startAngle) {\n    return 'start';\n  }\n\n  return 'end';\n}\n/**\n * 获取动画方向是顺时针还是逆时针\n * 动画方向决定在shape在动画开始前是否采用前一帧的path\n */\n\n\nfunction getDirection(preStart, preEnd, startAngle, endAngle) {\n  if (preStart < startAngle || preEnd > endAngle) {\n    return 'antiClockWise';\n  }\n\n  return 'clockWise';\n}\n\nfunction createClip(coord, from, to) {\n  var margin = 200;\n  var center = coord.getCenter();\n  var radius = coord.getRadius();\n  var clip = new G.Shapes.Fan({\n    attrs: {\n      x: center.x,\n      y: center.y,\n      rs: 0,\n      re: radius + margin,\n      startAngle: from,\n      endAngle: to\n    }\n  });\n  return clip;\n}\n\nexport function getAngle(shape, coord) {\n  var points = shape.points || shape.get('origin').points;\n  var box = getPointsBox(points);\n  var endAngle;\n  var startAngle;\n  var coordStartAngle = coord.startAngle;\n  var coordEndAngle = coord.endAngle;\n  var diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coord.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle: startAngle,\n    endAngle: endAngle\n  };\n}\n\nfunction getPointsBox(points) {\n  if (_.isEmpty(points)) {\n    return null;\n  }\n\n  var minX = points[0].x;\n  var maxX = points[0].x;\n  var minY = points[0].y;\n  var maxY = points[0].y;\n\n  _.each(points, function (point) {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX: minX,\n    maxX: maxX,\n    minY: minY,\n    maxY: maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2\n  };\n}\n\nAnimate.registerAnimation('update', 'groupProgress', progressUpdate);","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onRingProgressClick: 'interval:click',\n  onRingProgressDblclick: 'interval:dblclick',\n  onRingProgressMousemove: 'interval:mousemove',\n  onRingProgressMousedown: 'interval:mousedown',\n  onRingProgressMouseup: 'interval:mouseup',\n  onRingProgressMouseenter: 'interval:mouseenter',\n  onRingProgressMouseleave: 'interval:mouseleave',\n  onRingProgressContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { getGeom } from '../../geoms/factory';\nimport ProgressLayer from '../progress/layer';\nimport { getAngle, setShapeInfo } from './animation/index';\nimport * as EventParser from './event';\nvar DEFAULT_COLOR = ['#55A6F3', '#E8EDF3'];\n\nvar RingProgressLayer =\n/** @class */\nfunction (_super) {\n  __extends(RingProgressLayer, _super);\n\n  function RingProgressLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'ringProgrsss';\n    return _this;\n  }\n\n  RingProgressLayer.prototype.processProps = function () {\n    var props = this.options;\n    props.data = this.processData();\n    var cfg = {\n      padding: [0, 0, 0, 0],\n      xField: 'value',\n      yField: '1',\n      stackField: 'type',\n      barStyle: props.progressStyle,\n      color: this.parseColorProps(props) || DEFAULT_COLOR\n    };\n    props = _.mix(props, cfg);\n  };\n\n  RingProgressLayer.prototype.afterRender = function () {\n    _super.prototype.afterRender.call(this);\n\n    var coord = this.view.get('coord'); // 缓存图形\n\n    var geoms = this.view.get('elements');\n\n    _.each(geoms, function (geom) {\n      var shapes = geom.getShapes();\n\n      _.each(shapes, function (shape) {\n        var _a = getAngle(shape, coord),\n            startAngle = _a.startAngle,\n            endAngle = _a.endAngle;\n\n        setShapeInfo(shape, startAngle, endAngle);\n      });\n    });\n  };\n\n  RingProgressLayer.prototype.coord = function () {\n    var coordConfig = {\n      type: 'theta',\n      cfg: {\n        radius: 1.0,\n        innerRadius: this.getThickness(this.options.size)\n      }\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  RingProgressLayer.prototype.annotation = function () {};\n\n  RingProgressLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    this.ring = getGeom('interval', 'main', {\n      positionFields: [props.yField, props.xField],\n      plot: this\n    });\n    this.ring.adjust = [{\n      type: 'stack'\n    }];\n    this.setConfig('element', this.ring);\n  };\n\n  RingProgressLayer.prototype.animation = function () {\n    this.ring.animate = {\n      appear: {\n        duration: 1000\n      },\n      update: {\n        easing: 'easeLinear',\n        animation: 'groupProgress',\n        duration: 1000\n      }\n    };\n  };\n\n  RingProgressLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  RingProgressLayer.prototype.getThickness = function (value) {\n    var width = this.width;\n    var height = this.height;\n    var size = Math.min(width, height);\n\n    if (value) {\n      return 1.0 - value / size;\n    }\n\n    if (size >= 60) {\n      return 1.0 - 20 / size;\n    }\n\n    return 1.0 - 10 / size;\n  };\n\n  return RingProgressLayer;\n}(ProgressLayer);\n\nexport default RingProgressLayer;\nregisterPlotType('ringProgress', RingProgressLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport RingProgressLayer from './layer';\n\nvar RingProgress =\n/** @class */\nfunction (_super) {\n  __extends(RingProgress, _super);\n\n  function RingProgress() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RingProgress.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'ringProgress';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  RingProgress.prototype.update = function (value) {\n    var layer = this.layers[0];\n    layer.update(value);\n  };\n\n  RingProgress.getDefaultOptions = RingProgressLayer.getDefaultOptions;\n  return RingProgress;\n}(BasePlot);\n\nexport default RingProgress;","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onColumnClick: 'interval:click',\n  onColumnDblclick: 'interval:dblclick',\n  onColumnMousemove: 'interval:mousemove',\n  onColumnMousedown: 'interval:mousedown',\n  onColumnMouseup: 'interval:mouseup',\n  onColumnMouseenter: 'interval:mouseenter',\n  onColumnMouseleave: 'interval:mouseleave',\n  onColumnContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer from '../tiny-layer';\nimport * as EventParser from './event';\nvar WIDTH_RATIO = 0.6;\nvar G2_GEOM_MAP = {\n  column: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'column'\n};\n\nvar TinyColumnLayer =\n/** @class */\nfunction (_super) {\n  __extends(TinyColumnLayer, _super);\n\n  function TinyColumnLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'tinyColumn';\n    return _this;\n  }\n\n  TinyColumnLayer.prototype.init = function () {\n    this.processProps();\n\n    _super.prototype.init.call(this);\n  };\n\n  TinyColumnLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  TinyColumnLayer.prototype.scale = function () {\n    var options = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[options.xField] = {\n      type: 'cat'\n    };\n    this.setConfig('scales', scales);\n  };\n\n  TinyColumnLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    var column = getGeom('interval', 'main', {\n      positionFields: [props.xField, props.yField],\n      plot: this\n    });\n    this.setConfig('element', column);\n  };\n\n  TinyColumnLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  TinyColumnLayer.prototype.processProps = function () {\n    var props = this.options;\n    var cfg = {\n      padding: [0, 0, 0, 0],\n      columnSize: this.getSize()\n    };\n    props = _.mix(props, cfg);\n  };\n\n  TinyColumnLayer.prototype.getSize = function () {\n    var props = this.options;\n    var columnNumber = this.getColumnNum(props.data, props.xField);\n    var width = this.width;\n    return width / columnNumber * WIDTH_RATIO;\n  };\n\n  TinyColumnLayer.prototype.getColumnNum = function (data, field) {\n    var values = [];\n\n    _.each(data, function (d) {\n      var v = d[field];\n\n      if (values.indexOf(v) < 0) {\n        values.push(v);\n      }\n    });\n\n    return values.length;\n  };\n\n  return TinyColumnLayer;\n}(TinyLayer);\n\nexport default TinyColumnLayer;\nregisterPlotType('tinyColumn', TinyColumnLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport TinyColumnLayer from './layer';\n\nvar TinyColumn =\n/** @class */\nfunction (_super) {\n  __extends(TinyColumn, _super);\n\n  function TinyColumn() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TinyColumn.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'tinyColumn';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  TinyColumn.getDefaultOptions = TinyColumnLayer.getDefaultOptions;\n  return TinyColumn;\n}(BasePlot);\n\nexport default TinyColumn;","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onAreaClick: 'area:click',\n  onAreaDblclick: 'area:dblclick',\n  onAreaMousemove: 'area:mousemove',\n  onAreaMousedown: 'area:mousedown',\n  onAreaMouseup: 'area:mouseup',\n  onAreaMouseenter: 'area:mouseenter',\n  onAreaMouseleave: 'area:mouseleave',\n  onAreaContextmenu: 'area:contextmenu',\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineContextmenu: 'line:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport { registerPlotType } from '../../base/global';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer from '../tiny-layer';\nimport * as EventParser from './event';\nvar GEOM_MAP = {\n  area: 'area',\n  line: 'line'\n};\n\nvar TinyAreaLayer =\n/** @class */\nfunction (_super) {\n  __extends(TinyAreaLayer, _super);\n\n  function TinyAreaLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'tinyArea';\n    return _this;\n  }\n\n  TinyAreaLayer.prototype.geometryParser = function (dim, type) {\n    return GEOM_MAP[type];\n  };\n\n  TinyAreaLayer.prototype.addGeometry = function () {\n    this.area = getGeom('area', 'mini', {\n      plot: this\n    });\n    this.setConfig('element', this.area);\n    this.line = getGeom('line', 'mini', {\n      plot: this\n    });\n    this.setConfig('element', this.line);\n  };\n\n  TinyAreaLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  return TinyAreaLayer;\n}(TinyLayer);\n\nexport default TinyAreaLayer;\nregisterPlotType('tinyArea', TinyAreaLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport TinyAreaLayer from './layer';\n\nvar TinyArea =\n/** @class */\nfunction (_super) {\n  __extends(TinyArea, _super);\n\n  function TinyArea() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TinyArea.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'tinyArea';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  TinyArea.getDefaultOptions = TinyAreaLayer.getDefaultOptions;\n  return TinyArea;\n}(BasePlot);\n\nexport default TinyArea;","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineContextmenu: 'line:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport { registerPlotType } from '../../base/global';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer from '../tiny-layer';\nimport * as EventParser from './event';\nvar GEOM_MAP = {\n  line: 'line'\n};\n\nvar TinyLineLayer =\n/** @class */\nfunction (_super) {\n  __extends(TinyLineLayer, _super);\n\n  function TinyLineLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'tinyLine';\n    return _this;\n  }\n\n  TinyLineLayer.prototype.geometryParser = function (dim, type) {\n    return GEOM_MAP[type];\n  };\n\n  TinyLineLayer.prototype.addGeometry = function () {\n    this.line = getGeom('line', 'mini', {\n      plot: this\n    });\n    this.setConfig('element', this.line);\n  };\n\n  TinyLineLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  return TinyLineLayer;\n}(TinyLayer);\n\nexport default TinyLineLayer;\nregisterPlotType('tinyLine', TinyLineLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport TinyLineLayer from './layer';\n\nvar TinyLine =\n/** @class */\nfunction (_super) {\n  __extends(TinyLine, _super);\n\n  function TinyLine() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TinyLine.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'tinyLine';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  TinyLine.getDefaultOptions = TinyLineLayer.getDefaultOptions;\n  return TinyLine;\n}(BasePlot);\n\nexport default TinyLine;","import { __extends } from \"tslib\";\nimport Plot from '../base/plot';\nimport { deepMix } from '@antv/util';\n\nvar ComboPlot =\n/** @class */\nfunction (_super) {\n  __extends(ComboPlot, _super);\n\n  function ComboPlot() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ComboPlot.prototype.getDefaultOptions = function () {\n    return {};\n  };\n\n  ComboPlot.prototype.getGlobalOptions = function (props) {\n    return {\n      xAxis: props.xAxis,\n      yAxis: props.yAxis,\n      theme: props.theme,\n      legend: props.legend\n    };\n  };\n\n  ComboPlot.prototype.createComboLayers = function () {\n    this.globalOptions = deepMix({}, this.getDefaultOptions(), this.getGlobalOptions(this.options));\n  };\n\n  return ComboPlot;\n}(Plot);\n\nexport default ComboPlot;","import * as _ from '@antv/util';\nimport { getGlobalTheme } from '../../theme/global';\nvar SINGLE_TYPE = ['line', 'area', 'column', 'bar', 'bubble', 'scatter'];\nexport function getColorConfig(type, props, count) {\n  if (props.color) {\n    return {\n      single: false,\n      color: props.color\n    };\n  }\n\n  var isSingle = isSingleGraph(type, props);\n  var colors = getGlobalTheme().colors;\n\n  if (isSingle && !props.color) {\n    return {\n      single: true,\n      color: colors[count]\n    };\n  }\n}\n/** 判断是不是单图元类型的图表：单折线图、基础柱状图、散点图、基础面积图等 */\n\nexport function isSingleGraph(type, props) {\n  if (_.contains(SINGLE_TYPE, type)) {\n    if (type === 'line' && _.has(props, 'seriesField')) {\n      return false;\n    }\n\n    if (type === 'column' && _.has(props, 'colorField')) {\n      return false;\n    }\n\n    return true;\n  }\n\n  return false;\n}","import { Legend } from '@antv/component';\nimport { BBox } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { getGlobalTheme } from '../../theme/global';\nexport function getLegendData(viewLayer, props) {\n  var legendItems = [];\n  var view = viewLayer.view;\n  var geometry = view.get('elements')[0];\n  var colorAttr = geometry.getAttr('color'); // color和shape决定cat legend的生成，暂时先不考虑shape\n\n  var markerCfg = {\n    isInCircle: geometry.isInCircle(),\n    color: colorAttr.values[0]\n  };\n  var marker = geometry.get('shapeFactory').getMarkerStyle(geometry.get('type'), markerCfg);\n  /** 处理default不生成图例的场景 */\n\n  if (colorAttr.scales.length === 0) {\n    legendItems.push({\n      value: props.name,\n      checked: true,\n      marker: marker,\n      isSingle: true,\n      layer: viewLayer\n    });\n  } else {\n    /** 正常生成图例 */\n    var values = colorAttr.scales[0].values;\n\n    _.each(values, function (v, index) {\n      var markerColor = colorAttr.values[index];\n      var markerValue = v;\n      var cfg = {\n        isInCircle: geometry.isInCircle(),\n        color: markerColor\n      };\n      var markerItem = geometry.get('shapeFactory').getMarkerStyle(geometry.get('type'), cfg);\n      legendItems.push({\n        field: colorAttr.scales[0].field,\n        value: markerValue,\n        checked: true,\n        marker: markerItem,\n        isSingle: false,\n        layer: viewLayer\n      });\n    });\n  }\n\n  return legendItems;\n}\nexport function mergeLegendData(items) {\n  return items;\n}\nexport function createLegend(items, width, height, canvas, position) {\n  var legendTheme = getGlobalTheme().legend;\n  var positions = position.split('-');\n  var layout = 'horizontal';\n\n  if (positions[0] === 'left' || positions[0] === 'right') {\n    layout = 'vertical';\n  }\n\n  var legendCfg = {\n    type: 'category-legend',\n    items: items,\n    maxSize: width,\n    container: canvas.addGroup(),\n    layout: layout,\n    textStyle: {\n      fill: '#8C8C8C',\n      fontSize: 12,\n      textAlign: 'start',\n      textBaseline: 'middle',\n      lineHeight: 20\n    },\n    titleDistance: 10,\n    autoWrap: true,\n    itemMarginBottom: 4,\n    backgroundPadding: 0,\n    maxLength: width\n  };\n  var legend = new Legend.CanvasCategory(legendCfg);\n  legendLayout(width, height, legend, position);\n  addLegendInteraction(legend);\n  /** return legend as a padding component */\n\n  var bbox = legend.get('itemsGroup').getBBox();\n  var paddingBbox; // merge legend inner padding\n\n  var innerPadding = legendTheme.innerPadding;\n\n  if (positions[0] === 'left') {\n    paddingBbox = new BBox(legend.get('x') + innerPadding[3], legend.get('y'), bbox.width, bbox.height);\n  } else if (positions[0] === 'right') {\n    paddingBbox = new BBox(legend.get('x') - innerPadding[1], legend.get('y'), bbox.width, bbox.height);\n  } else if (positions[0] === 'top') {\n    paddingBbox = new BBox(legend.get('x'), legend.get('y') + innerPadding[0], bbox.width, bbox.height);\n  } else if (positions[0] === 'bottom') {\n    paddingBbox = new BBox(legend.get('x'), legend.get('y') - innerPadding[2], bbox.width, bbox.height);\n  }\n\n  return {\n    position: positions[0],\n    component: legend,\n    getBBox: function getBBox() {\n      return paddingBbox;\n    }\n  };\n}\n\nfunction addLegendInteraction(legend) {\n  var filteredValue = [];\n  legend.on('itemclick', function (ev) {\n    var item = ev.item,\n        checked = ev.checked; // 如果是单图例模式\n\n    if (item.isSingle) {\n      if (!checked) {\n        item.layer.hide();\n      } else {\n        item.layer.show();\n      }\n    } else {\n      // 正常的图例筛选数据逻辑\n      var view = item.layer.view;\n\n      if (!checked) {\n        filteredValue.push(item.value);\n        view.filter(item.field, function (f) {\n          return !_.contains(filteredValue, f);\n        });\n        view.repaint();\n        var filteredData = view.get('filteredData');\n\n        if (filteredData.length === 0) {\n          item.layer.hide();\n        } else if (!item.layer.visibility) {\n          item.layer.show();\n        }\n      } else {\n        _.pull(filteredValue, item.value);\n\n        view.filter(item.value, function (f) {\n          return !_.contains(filteredValue, f);\n        });\n        view.repaint();\n\n        if (!item.layer.visibility) {\n          item.layer.show();\n        }\n      }\n    }\n  });\n}\n\nfunction legendLayout(width, height, legend, position) {\n  console.log(position);\n  var bleeding = getGlobalTheme().bleeding;\n\n  if (_.isArray(bleeding)) {\n    _.each(bleeding, function (it, index) {\n      if (typeof bleeding[index] === 'function') {\n        bleeding[index] = bleeding[index]({});\n      }\n    });\n  }\n\n  var bbox = legend.get('itemsGroup').getBBox();\n  var x = 0;\n  var y = 0;\n  var positions = position.split('-'); // 先确定x\n\n  if (positions[0] === 'left') {\n    x = bleeding[3];\n  } else if (positions[0] === 'right') {\n    x = width - bleeding[1] - bbox.width;\n  } else if (positions[1] === 'center') {\n    x = (width - bbox.width) / 2;\n  } else if (positions[1] === 'left') {\n    x = bleeding[3];\n  } else if (positions[1] === 'right') {\n    x = width - bleeding[1] - bbox.width;\n  } // 再确定y\n\n\n  if (positions[0] === 'bottom') {\n    y = height - bleeding[2] - bbox.height;\n  } else if (positions[0] === 'top') {\n    y = bleeding[0];\n  } else if (positions[1] === 'center') {\n    y = (height - bbox.height) / 2;\n  } else if (positions[1] === 'top') {\n    y = bleeding[0];\n  } else if (positions[1] === 'bottom') {\n    y = height - bleeding[2] - bbox.height;\n  }\n\n  legend.moveTo(x, y);\n  legend.draw();\n}","import { BBox } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { getGlobalTheme } from '../../theme/global';\nexport function getOverlappingPadding(layer, components) {\n  var bleeding = getGlobalTheme().bleeding;\n\n  if (_.isArray(bleeding)) {\n    _.each(bleeding, function (it, index) {\n      if (typeof bleeding[index] === 'function') {\n        bleeding[index] = bleeding[index]({});\n      }\n    });\n  }\n\n  var viewMinX = layer.layerBBox.minX;\n  var viewMaxX = layer.layerBBox.maxX;\n\n  var viewMinY = _.clone(layer.layerBBox.minY);\n\n  var viewMaxY = layer.layerBBox.maxY;\n\n  _.each(components, function (component) {\n    var position = component.position;\n\n    var _a = component.getBBox(),\n        minX = _a.minX,\n        maxX = _a.maxX,\n        minY = _a.minY,\n        maxY = _a.maxY;\n\n    if (maxY > viewMinY && maxY < viewMaxY && position === 'top') {\n      viewMinY = maxY;\n    }\n\n    if (minY > viewMinY && minY < viewMaxY && position === 'bottom') {\n      viewMaxY = minY;\n    }\n\n    if (maxX > viewMinX && maxX < viewMaxX && position === 'left') {\n      viewMinX = maxX;\n    }\n\n    if (minX > viewMinX && maxX < viewMaxX && position === 'right') {\n      viewMaxX = minX;\n    }\n  });\n\n  var range = new BBox(viewMinX, viewMinY, viewMaxX - viewMinX, viewMaxY - viewMinY);\n  var top_padding = range.minY - layer.layerBBox.minY;\n\n  if (top_padding === 0) {\n    top_padding = bleeding[0];\n  }\n\n  var right_padding = layer.layerBBox.maxX - range.maxX;\n  var bottom_padding = layer.layerBBox.maxY - range.maxY;\n  var left_padding = range.minX - layer.layerBBox.minX;\n  return [top_padding, right_padding, bottom_padding, left_padding];\n}","import { __assign } from \"tslib\";\nimport { Axis } from '@antv/component';\nimport { BBox } from '@antv/g';\nimport { getScale } from '@antv/scale';\nimport * as _ from '@antv/util';\nimport { getGlobalTheme } from '../../theme';\nimport { isSingleGraph } from './adjustColorConfig';\nimport { getOverlappingPadding } from './padding';\nimport { getComponent } from '../../components/factory';\nvar AXIS_GAP = 4;\nexport function getAxisData(viewLayer, props, globalOptions) {\n  var view = viewLayer.view;\n  var scales = view.get('scales');\n  var scalesInfo = [];\n  var singleGraph = isSingleGraph(viewLayer.type, props); // get xscale info\n\n  if (props.xField) {\n    var xscale = scales[props.xField];\n    var scaleInfo = {\n      dim: 'x',\n      scale: xscale,\n      originalData: props.data\n    };\n    scalesInfo.push(scaleInfo);\n  } // get yscale info\n\n\n  if (props.yField) {\n    var yscale = scales[props.yField];\n    var scaleInfo = {\n      dim: 'y',\n      scale: yscale,\n      originalData: props.data,\n      color: singleGraph && globalOptions.yAxis.colorMapping ? props.color : null,\n      layer: viewLayer\n    };\n    scalesInfo.push(scaleInfo);\n  }\n\n  return scalesInfo;\n}\nexport function mergeAxisScale(axisInfo, dim, axisOptions) {\n  if (dim === 'x') {\n    var xAxisInfo = axisInfo.filter(function (axis) {\n      if (axis.dim === 'x') {\n        return axis;\n      }\n    });\n    return mergeXAxis(xAxisInfo);\n  } else {\n    var yAxisInfo = axisInfo.filter(function (axis) {\n      if (axis.dim === 'y') {\n        return axis;\n      }\n    });\n    return mergeYAxis(yAxisInfo, axisOptions.synchroTick);\n  }\n}\n\nfunction mergeXAxis(axisInfo) {\n  // 判断是否能够合并度量\n  var isSameScale = sameScaleTest(axisInfo);\n\n  if (!isSameScale) {\n    return [axisInfo[0].scale];\n  }\n\n  if (axisInfo[0].scale.type === 'cat') {\n    return getCatScale(axisInfo);\n  } else {\n    return getLinearScale(axisInfo, 5);\n  }\n}\n\nfunction mergeYAxis(axisInfo, synchroTick) {\n  var isSameScale = sameScaleTest(axisInfo); // 默认全部采用左轴的tickCount，具体标度对齐逻辑留待以后优化\n\n  var tickCount = axisInfo[0].scale.tickCount;\n  var LinearScale = getScale('linear');\n\n  if (!isSameScale) {\n    return axisInfo.map(function (axis) {\n      var scale = axis.scale;\n      var values = calValues(scale, tickCount);\n\n      if (synchroTick) {\n        var linearScale = new LinearScale({\n          min: scale.min,\n          max: scale.max,\n          ticks: values,\n          tickCount: tickCount,\n          color: axis.color\n        });\n        linearScale.layer = axis.layer;\n        return linearScale;\n      } else {\n        scale.layer = axis.layer;\n        scale.color = axis.color;\n        return scale;\n      }\n    });\n  } else {\n    return getLinearScale(axisInfo, tickCount);\n  }\n}\n\nfunction getLinearScale(axisInfo, tickCount) {\n  var scaleMin = axisInfo[0].scale.min;\n  var scaleMax = axisInfo[0].scale.max;\n\n  for (var _i = 0, axisInfo_1 = axisInfo; _i < axisInfo_1.length; _i++) {\n    var axis = axisInfo_1[_i];\n    scaleMin = Math.min(scaleMin, axis.scale.min);\n    scaleMax = Math.max(scaleMax, axis.scale.max);\n  }\n\n  var LinearScale = getScale('linear');\n  var scale = new LinearScale({\n    min: scaleMin,\n    max: scaleMax,\n    tickCount: tickCount\n  });\n  return scale;\n}\n\nfunction getCatScale(axisInfo) {\n  var scaleValues = [];\n\n  for (var _i = 0, axisInfo_2 = axisInfo; _i < axisInfo_2.length; _i++) {\n    var axis = axisInfo_2[_i];\n    scaleValues.push.apply(scaleValues, axis.scale.values);\n  } // todo: time cat 重新排序\n\n\n  var CatScale = getScale('cat');\n  var scale = new CatScale({\n    values: _.uniq(scaleValues)\n  });\n  return scale;\n}\n\nfunction sameScaleTest(axisInfo) {\n  var sampleDataSource = axisInfo[0].originalData;\n  var sampleField = axisInfo[0].scale.field;\n\n  for (var _i = 0, axisInfo_3 = axisInfo; _i < axisInfo_3.length; _i++) {\n    var axis = axisInfo_3[_i];\n    var data = axis.originalData;\n    var field = axis.scale.field; // 判断数据源和scale字段\n\n    if (data !== sampleDataSource || field !== sampleField) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function createAxis(scale, dim, canvas, cfg, globalOptions) {\n  var theme = getTheme(globalOptions);\n  var isVertical = dim === 'x' ? false : true;\n  var group;\n\n  if (scale.layer) {\n    group = scale.layer.container.addGroup();\n  } else {\n    group = canvas.addGroup();\n  }\n\n  var ticks = getAxisTicks(scale, dim);\n  var parser = getComponent('axis', {\n    dim: dim,\n    plot: {\n      options: globalOptions,\n      getPlotTheme: function getPlotTheme() {\n        return getGlobalTheme();\n      }\n    }\n  });\n  var defaultStyle = theme.axis && theme.axis[dim] ? toAxisStyle(theme.axis[dim]) : {};\n\n  if (scale.color) {\n    defaultStyle = adjustColorStyle(scale.color, parser);\n  }\n\n  var axisConfig = _.deepMix({}, parser, {\n    type: 'line',\n    group: group,\n    canvas: canvas,\n    start: cfg.start,\n    end: cfg.end,\n    isVertical: isVertical,\n    factor: cfg.factor,\n    ticks: ticks,\n    label: function label(text) {\n      return {\n        text: text,\n        textStyle: parser.label.textStyle\n      };\n    }\n  }, defaultStyle);\n\n  var axis = new Axis.Line(axisConfig);\n  axis.layer = scale.layer;\n  axis.render();\n  return axis;\n}\n\nfunction getAxisTicks(scale, dim) {\n  var tickValues = [];\n  var ticks = scale.ticks,\n      range = scale.range;\n  var step = (range[1] - range[0]) / (ticks.length - 1);\n\n  _.each(ticks, function (tick, index) {\n    var value = dim === 'y' ? 1.0 - (range[0] + step * index) : range[0] + step * index;\n    tickValues.push({\n      text: tick,\n      value: value\n    });\n  });\n\n  return tickValues;\n}\n\nfunction calValues(scale, tickCount) {\n  var values = [];\n  var min = scale.min,\n      max = scale.max;\n  var step = (max - min) / tickCount;\n\n  for (var i = 0; i < tickCount; i++) {\n    var value = min + step * i;\n    values.push(value);\n  }\n\n  return values;\n}\n\nexport function axesLayout(globalOptions, axisInfo, padding, layer, width, height, canvas) {\n  var bleeding = getGlobalTheme().bleeding; // merge padding and bleeding by zero value\n\n  _.each(padding, function (p, index) {\n    if (p === 0) {\n      padding[index] = bleeding[index];\n    }\n  });\n\n  var paddingComponents = []; // 创建axis\n\n  var axes = [];\n  var xAxisScale;\n  var xAxis;\n  var xAxisHeight = 0;\n\n  if (globalOptions.xAxis.visible) {\n    xAxisScale = mergeAxisScale(axisInfo, 'x');\n    xAxis = createAxis(xAxisScale[0], 'x', canvas, {\n      start: {\n        x: 0,\n        y: 0\n      },\n      end: {\n        x: width,\n        y: 0\n      },\n      factor: 1\n    }, globalOptions);\n    xAxisHeight += xAxis.get('group').getBBox().height;\n  }\n\n  if (globalOptions.yAxis.visible) {\n    var yAxisScale = mergeAxisScale(axisInfo, 'y', globalOptions.yAxis);\n\n    _.each(yAxisScale, function (scale, index) {\n      var factor = index === 0 ? -1 : 1;\n      var axis = createAxis(scale, 'y', canvas, {\n        start: {\n          x: 0,\n          y: padding[0]\n        },\n        end: {\n          x: 0,\n          y: height - xAxisHeight - padding[2]\n        },\n        factor: factor\n      }, globalOptions);\n\n      if (index === 0) {\n        axis.get('group').translate(padding[3], 0);\n      }\n\n      axes.push(axis);\n    });\n\n    axisLayout(axes, paddingComponents, width, padding);\n  }\n\n  if (globalOptions.xAxis.visible) {\n    var axisPadding = getOverlappingPadding(layer, paddingComponents);\n    var ypos_1 = axes.length === 0 ? height - xAxisHeight - padding[2] : axes[0].get('group').getBBox().maxY;\n    xAxis.destroy();\n    xAxis = createAxis(xAxisScale[0], 'x', canvas, {\n      start: {\n        x: axisPadding[3],\n        y: ypos_1\n      },\n      end: {\n        x: width - axisPadding[1],\n        y: ypos_1\n      },\n      factor: 1\n    }, globalOptions);\n    paddingComponents.push({\n      position: 'bottom',\n      component: xAxis,\n      getBBox: function getBBox() {\n        var container = xAxis.get('group');\n        var bbox = container.getBBox();\n        return new BBox(bbox.minX, bbox.minY + ypos_1, bbox.width, bbox.height);\n      }\n    });\n  }\n\n  return paddingComponents;\n}\n\nfunction axisLayout(axes, paddingComponents, width, padding) {\n  // 先处理最左边的\n  var leftAxis = axes[0];\n  var leftContainer = leftAxis.get('group');\n  var leftBbox = leftContainer.getBBox();\n  leftContainer.translate(leftBbox.width, 0);\n  paddingComponents.push({\n    position: 'left',\n    component: leftAxis,\n    getBBox: function getBBox() {\n      var matrix = leftContainer.attr('matrix');\n      return new BBox(leftBbox.minX + matrix[6], leftBbox.minY, leftBbox.width, leftBbox.height);\n    }\n  });\n  var temp_width = padding[1];\n\n  var _loop_1 = function _loop_1(i) {\n    var axis = axes[i];\n    var container = axis.get('group');\n    var bbox = container.getBBox();\n    container.translate(width - temp_width - bbox.width, 0);\n    temp_width += bbox.width + AXIS_GAP;\n    var component = {\n      position: 'right',\n      component: axis,\n      getBBox: function getBBox() {\n        var matrix = container.attr('matrix');\n        return new BBox(bbox.minX + matrix[6], bbox.minX, bbox.width, bbox.height);\n      }\n    };\n    paddingComponents.push(component);\n  }; // 处理右边的\n\n\n  for (var i = axes.length - 1; i > 0; i--) {\n    _loop_1(i);\n  }\n}\n\nfunction adjustColorStyle(color, options) {\n  return {\n    line: options.line ? {\n      stroke: color,\n      lineWidth: 1\n    } : null,\n    tickLine: options.tickLine ? {\n      stroke: color,\n      lineWidth: 1,\n      length: 5\n    } : null,\n    label: options.label ? {\n      textStyle: {\n        fill: color\n      }\n    } : null\n  };\n}\n\nexport function drawYGrid(axis, coord, container, globalOptions) {\n  var theme = getTheme(globalOptions);\n  var gridCfg = globalOptions.yAxis.grid;\n  var defaultStyle = theme.axis.y.grid.style;\n\n  var style = _.deepMix({}, defaultStyle, gridCfg.style);\n\n  var gridGroup = container.addGroup();\n  var labelItems = axis.get('labelItems');\n\n  _.each(labelItems, function (item, index) {\n    if (index > 0) {\n      gridGroup.addShape('path', {\n        attrs: __assign({\n          path: [['M', coord.start.x, item.point.y], ['L', coord.end.x, item.point.y]]\n        }, style)\n      });\n    }\n  });\n}\n\nfunction toAxisStyle(theme) {\n  var style = {};\n\n  _.each(theme, function (t, key) {\n    if (_.hasKey(t, 'style')) {\n      style[key] = t.style;\n    }\n  });\n\n  return style;\n}\n\nfunction getTheme(options) {\n  var theme = getGlobalTheme();\n\n  if (options.theme) {\n    if (_.isString(options.theme)) {\n      theme = getGlobalTheme(options.theme);\n    } else if (_.isObject(options.theme)) {\n      theme = options.theme;\n    }\n  }\n\n  return theme;\n}","import { each, contains, isArray, isObject, indexOf, isNil, has, keys } from '@antv/util';\nimport { Tooltip } from '@antv/component';\nimport { getShapeFactory } from '@antv/g2';\nimport { getGlobalTheme } from '../../theme/global';\nvar TYPE_SHOW_MARKERS = ['line', 'area', 'path', 'areaStack'];\nexport function showTooltip(canvas, layers, tooltipCfg) {\n  var tooltip = renderTooltip(layers[0], canvas);\n  canvas.on('mousemove', function (ev) {\n    var tooltipItems = [];\n    var point = {\n      x: ev.x / 2,\n      y: ev.y / 2\n    };\n    each(layers, function (layer) {\n      var view = layer.view;\n\n      if (view && layer.visibility) {\n        var coord_1 = view.get('coord');\n        var geoms = view.get('elements');\n        each(geoms, function (geom) {\n          var type = geom.get('type');\n          var dataArray = geom.get('dataArray');\n\n          if (contains(['area', 'line', 'path', 'interval'], type)) {\n            var items = getTooltipItems(point, geom, type, dataArray, coord_1);\n            tooltipItems.push.apply(tooltipItems, items);\n          } else {\n            var shapeContainer = geom.get('shapeContainer');\n            var shapes = getShapeByX(shapeContainer, point.x);\n            each(shapes, function (shape) {\n              if (shape.get('visible') && shape.get('origin')) {\n                var items = geom.getTooltipItems(shape.get('origin'), null);\n                tooltipItems.push.apply(tooltipItems, items);\n              }\n            });\n          }\n        });\n      }\n    });\n    adjustItems(tooltipItems, ev.target, tooltipCfg);\n\n    if (tooltipItems.length > 0) {\n      tooltip.setContent('', getUniqueItems(tooltipItems));\n      tooltip.setPosition(point.x, point.y, ev.target);\n      tooltip.show();\n    } else if (tooltip.get('visible')) {\n      tooltip.hide();\n    }\n  });\n  return tooltip;\n}\n\nfunction getTooltipItems(point, geom, type, dataArray, coord) {\n  var items = [];\n  each(dataArray, function (data) {\n    var tmpPoint = geom.findPoint(point, data);\n\n    if (tmpPoint) {\n      var subItems = geom.getTooltipItems(tmpPoint, null);\n      each(subItems, function (v) {\n        // tslint:disable-next-line: no-shadowed-variable\n        var point = v.point;\n\n        if (!isNil(point) && !isNil(point.x) && !isNil(point.y)) {\n          var x = isArray(point.x) ? point.x[point.x.length - 1] : point.x;\n          var y = isArray(point.y) ? point.y[point.y.length - 1] : point.y;\n          point = coord.applyMatrix(x, y, 1);\n          v.x = point[0];\n          v.y = point[1];\n          v.showMarker = true;\n          var itemMarker = getItemMarker(geom, v.color);\n          itemMarker.radius = 40;\n          v.marker = itemMarker;\n\n          if (indexOf(TYPE_SHOW_MARKERS, type) !== -1) {\n            items.push(v);\n          }\n        }\n      });\n      items.push.apply(items, subItems);\n    }\n  });\n  return items;\n}\n\nfunction renderTooltip(layer, canvas) {\n  var tooltipTheme = getGlobalTheme().tooltip;\n  var options = {\n    panelGroup: layer.view.get('panelGroup'),\n    panelRange: layer.view.get('panelRange'),\n    capture: false,\n    canvas: canvas,\n    frontgroundGroup: layer.view.get('frontgroundGroup'),\n    theme: tooltipTheme,\n    backgroundGroup: layer.view.get('backgroundGroup')\n  };\n  return new Tooltip.Html(options);\n}\n\nfunction getItemMarker(geom, color) {\n  var shapeType = geom.get('shapeType') || 'point';\n  var shape = geom.getDefaultValue('shape') || 'circle';\n  var shapeObject = getShapeFactory(shapeType);\n  var cfg = {\n    color: color\n  };\n  var marker = shapeObject.getMarkerStyle(shape, cfg);\n  return marker;\n}\n\nfunction getUniqueItems(items) {\n  var tmp = [];\n  each(items, function (item) {\n    var index = indexOfArray(tmp, item);\n\n    if (index === -1) {\n      tmp.push(item);\n    }\n  });\n  return tmp;\n}\n\nfunction indexOfArray(items, item) {\n  var rst = -1;\n  each(items, function (sub, index) {\n    var isEqual = true;\n\n    for (var key in item) {\n      if (has(item, key)) {\n        if (!isObject(item[key]) && item[key] !== sub[key]) {\n          isEqual = false;\n          break;\n        }\n      }\n    }\n\n    if (isEqual) {\n      rst = index;\n      return false;\n    }\n  });\n  return rst;\n}\n\nfunction adjustItems(items, target, cfg) {\n  if (target.get('origin')) {\n    var data_1;\n\n    if (isArray(target.get('origin'))) {\n      data_1 = getDataByTitle(items[0].title, target.get('origin')).data;\n    } else {\n      data_1 = target.get('origin')._origin;\n    }\n\n    each(items, function (item) {\n      if (item.point._origin !== data_1) {\n        item.color = '#ccc';\n      }\n    });\n  }\n\n  if (cfg.sort) {\n    items.sort(function (a, b) {\n      return parseFloat(b.value) - parseFloat(a.value);\n    });\n  }\n}\n\nfunction getDataByTitle(title, data) {\n  for (var i in data) {\n    var d = data[i]._origin;\n    var ks = keys(d);\n\n    for (var j in ks) {\n      var key = ks[j];\n\n      if (d[key] === title) {\n        return {\n          data: d,\n          key: key\n        };\n      }\n    }\n  }\n}\n\nfunction getShapeByX(container, x) {\n  var shapes = [];\n  var children = container.get('children');\n  each(children, function (c) {\n    var bbox = c.getBBox();\n\n    if (bbox.minX < x && bbox.maxX > x) {\n      shapes.push(c);\n    }\n  });\n  return shapes;\n}","import { __extends } from \"tslib\";\nimport ComboPlot from './base';\nimport * as _ from '@antv/util';\nimport { getPlotType } from '../base/global';\nimport Layer from '../base/layer';\nimport '../plots/index';\nimport * as ComboUtil from './util';\nimport { getOverlappingPadding } from './util/padding';\nimport { getGlobalTheme } from '../theme/global';\n\nvar OverlappedComboPlot =\n/** @class */\nfunction (_super) {\n  __extends(OverlappedComboPlot, _super);\n\n  function OverlappedComboPlot(container, props) {\n    var _this = _super.call(this, container, props) || this;\n\n    _this.options = props;\n    return _this;\n  }\n\n  OverlappedComboPlot.prototype.getDefaultOptions = function () {\n    return {\n      xAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: false,\n        grid: {\n          visible: false\n        },\n        line: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false,\n          offset: 12\n        }\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: true\n        },\n        line: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false,\n          offset: 12\n        },\n        colorMapping: true,\n        synchroTick: true\n      },\n      label: {\n        visible: false\n      },\n      tooltip: {\n        visible: true,\n        sort: true\n      },\n      legend: {\n        visible: true,\n        position: 'top-left'\n      }\n    };\n  };\n\n  OverlappedComboPlot.prototype.createComboLayers = function () {\n    var _this = this;\n\n    _super.prototype.createComboLayers.call(this);\n\n    this.legendInfo = [];\n    this.axisInfo = [];\n    this.paddingComponents = [];\n    this.globalComponents = [];\n    this.singleGeomCount = 0;\n    this.backLayer = new Layer({\n      canvas: this.getCanvas(),\n      width: this.width,\n      height: this.height\n    });\n\n    if (this.options.layers.length > 0) {\n      /** create layers */\n      _.each(this.options.layers, function (layerCfg) {\n        var _a, _b;\n\n        var overlapConfig = _this.getOverlappedConfig(layerCfg);\n\n        var viewLayerCtr = getPlotType(layerCfg.type);\n\n        var viewLayerProps = _.deepMix({}, layerCfg, {\n          canvas: _this.canvas,\n          x: 0,\n          y: 0,\n          width: _this.width,\n          height: _this.height\n        }, overlapConfig);\n\n        var viewLayer = new viewLayerCtr(viewLayerProps);\n        viewLayer.hide();\n        viewLayer.render();\n\n        (_a = _this.axisInfo).push.apply(_a, ComboUtil.getAxisData(viewLayer, viewLayerProps, _this.globalOptions));\n\n        (_b = _this.legendInfo).push.apply(_b, ComboUtil.getLegendData(viewLayer, viewLayerProps));\n\n        _this.addLayer(viewLayer);\n      });\n    }\n    /** add top layer for legend & tooltip */\n\n\n    this.topLayer = new Layer({\n      canvas: this.getCanvas(),\n      width: this.width,\n      height: this.height\n    });\n  };\n  /** 图层叠加时的layer config */\n\n\n  OverlappedComboPlot.prototype.getOverlappedConfig = function (layerCfg) {\n    var colorCfg = ComboUtil.getColorConfig(layerCfg.type, layerCfg, this.singleGeomCount);\n\n    if (colorCfg && colorCfg.single) {\n      this.singleGeomCount++;\n    }\n\n    return _.deepMix({}, {\n      xAxis: {\n        visible: false\n      },\n      yAxis: {\n        visible: false\n      },\n      legend: {\n        visible: false\n      },\n      tooltip: {\n        visible: false\n      },\n      padding: [0, 0, 0, 0],\n      color: colorCfg ? colorCfg.color : null\n    });\n  };\n\n  OverlappedComboPlot.prototype.overlappingLegend = function () {\n    var legendItems = ComboUtil.mergeLegendData(this.legendInfo);\n    this.legendContainer = this.topLayer.container.addGroup();\n    return ComboUtil.createLegend(legendItems, this.width, this.height, this.getCanvas(), this.globalOptions.legend.position);\n  };\n\n  OverlappedComboPlot.prototype.render = function () {\n    var _a;\n\n    var _this = this;\n\n    this.doDestroy();\n    this.createComboLayers();\n    var bleeding = getGlobalTheme().bleeding;\n\n    if (this.globalOptions.legend.visible) {\n      var legend = this.overlappingLegend();\n      this.globalComponents.push({\n        type: 'legend',\n        component: legend.component\n      });\n      this.paddingComponents.push(legend);\n    } // 先获取legend的padding\n\n\n    var legendPadding = getOverlappingPadding(this.layers[0], this.paddingComponents);\n    var axisComponents = ComboUtil.axesLayout(this.globalOptions, this.axisInfo, legendPadding, this.layers[0], this.width, this.height, this.getCanvas());\n\n    (_a = this.paddingComponents).push.apply(_a, axisComponents);\n\n    _.each(axisComponents, function (axis) {\n      _this.globalComponents.push({\n        type: 'axis',\n        component: axis.component\n      });\n    }); // 计算padding\n\n\n    var padding = getOverlappingPadding(this.layers[0], this.paddingComponents);\n\n    if (!this.globalOptions.xAxis.visible) {\n      padding[2] += bleeding[2];\n    } // 更新layers\n\n\n    _.each(this.layers, function (layer) {\n      layer.updateConfig({\n        padding: padding\n      });\n      layer.show();\n      layer.render();\n      layer.view.get('backgroundGroup').get('backShape').remove();\n      layer.view.get('panelGroup').get('backShape').remove();\n    }); //补画坐标轴grid\n\n\n    if (this.globalOptions.yAxis.grid.visible) {\n      var leftAxis = axisComponents[0].component;\n      var containerLayer = this.layers[0];\n      var coord = containerLayer.view.get('coord');\n      var container = containerLayer.view.get('backgroundGroup');\n      ComboUtil.drawYGrid(leftAxis, coord, container, this.globalOptions);\n    }\n\n    if (this.globalOptions.tooltip.visible) {\n      var tooltip = ComboUtil.showTooltip(this.canvas, this.layers, this.globalOptions.tooltip);\n      this.globalComponents.push({\n        type: 'tooltip',\n        component: tooltip\n      });\n    }\n  };\n\n  OverlappedComboPlot.prototype.doDestroy = function () {\n    this.clearComponents();\n    this.eachLayer(function (layer) {\n      layer.destroy();\n    });\n    this.layers = [];\n  };\n\n  OverlappedComboPlot.prototype.clearComponents = function () {\n    _.each(this.globalComponents, function (c) {\n      if (c.type === 'legend' || c.type === 'tooltip') {\n        c.component.destroy();\n      }\n\n      if (c.type === 'axis') {\n        c.component.clear();\n      }\n    });\n\n    this.paddingComponents = [];\n    this.globalComponents = [];\n  };\n\n  return OverlappedComboPlot;\n}(ComboPlot);\n\nexport default OverlappedComboPlot;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Column, Ring, Liquid } from '@antv/g2plot';\r\nimport { Card, Icon, Button } from 'antd';\r\nimport http from 'utils/getFetch';\r\nimport './index.less';\r\n\r\nclass DataStat extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tabList: [],\r\n      commonNavs: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n    setTimeout(() => {\r\n      this.renderColumnPlot();\r\n      this.renderRingPlot();\r\n      this.renderLiquidPlot();\r\n    }, 200);\r\n  }\r\n\r\n  getData = () => {\r\n    http.post('sys/stat').then(res => {\r\n      this.setState({\r\n        tabList: res.tabList,\r\n        commonNavs: res.commonNavs\r\n      });\r\n    });\r\n  }\r\n\r\n  renderColumnPlot = () => {\r\n    const data = [\r\n      { year: '2016 年', sales: 100 },\r\n      { year: '2017 年', sales: 121 },\r\n      { year: '2018 年', sales: 110 },\r\n      { year: '2019 年', sales: 145 },\r\n      { year: '2020 年', sales: 90 },\r\n    ];\r\n    \r\n    this.columnPlot = new Column('c1', {\r\n      data,\r\n      forceFit: true,\r\n      padding: 'auto',\r\n      xField: 'year',\r\n      yField: 'sales',\r\n      colorField: 'year',\r\n      barSize: 40,\r\n      meta: {\r\n        year: {\r\n          alias: '年份',\r\n        },\r\n        sales: {\r\n          alias: '销售额(万)',\r\n        },\r\n      },\r\n    });\r\n    \r\n    this.columnPlot.render();\r\n  }\r\n\r\n  renderRingPlot = () => {\r\n    const data = [\r\n      {\r\n        type: '集团',\r\n        value: 100,\r\n      },\r\n      {\r\n        type: '开发',\r\n        value: 80,\r\n      },\r\n      {\r\n        type: '运营',\r\n        value: 60,\r\n      },\r\n      {\r\n        type: '销售',\r\n        value: 20,\r\n      }\r\n    ];\r\n\r\n    this.ringPlot = new Ring('c2', {\r\n      forceFit: true,\r\n      radius: 1,\r\n      innerRadius: 0.6,\r\n      padding: [0,0,0,0],\r\n      data,\r\n      angleField: 'value',\r\n      colorField: 'type',\r\n    });\r\n    \r\n    this.ringPlot.render();\r\n  }\r\n\r\n  renderLiquidPlot = () => {\r\n    this.liquidPlot = new Liquid('c3', {\r\n      forceFit: true,\r\n      statistic: 'normal',\r\n      min: 0,\r\n      max: 1000,\r\n      value: 420,\r\n      showValue: true,\r\n    });\r\n    this.liquidPlot.render();\r\n  }\r\n\r\n  render() {\r\n    const { tabList, commonNavs } = this.state;\r\n\r\n    return (\r\n      <div className=\"page-stat\">\r\n        <div className=\"stat-tabs\">\r\n          {tabList.map((item, i) => (\r\n            <div className={`stat-tab tab${i + 1}`} key={i}>\r\n              <div className=\"stat-title\">{item.name}</div>\r\n              <div className=\"stat-number\">{item.value}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"stat-cards\">\r\n          <Card\r\n            className=\"card-l\"\r\n            size=\"small\"\r\n            title=\"常用功能导航\"\r\n            extra={<Link to=\"/\"><Icon type=\"more\" /></Link>}\r\n          >\r\n            <div className=\"card-body common-navs\">\r\n              {commonNavs.map((item, i) => (\r\n                <div className=\"common-nav\" key={i}>\r\n                  <Link to=\"/\">\r\n                    <Button className=\"nav-icon\" size=\"large\" shape=\"circle\" icon={item.icon} />\r\n                  </Link>\r\n                  <span className=\"nav-name\">{item.name}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </Card>\r\n          <Card\r\n            className=\"card-r\"\r\n            size=\"small\"\r\n            title=\"今日待办\"\r\n            extra={<Link to=\"/\"><Icon type=\"more\" /></Link>}\r\n          >\r\n            <div className=\"card-body\">\r\n              <div id=\"c3\"></div>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n        <div className=\"stat-cards\">\r\n          <Card\r\n            className=\"card-l\"\r\n            size=\"small\"\r\n            title=\"出入境人数\"\r\n            extra={<Link to=\"/\"><Icon type=\"more\" /></Link>}\r\n          >\r\n            <div className=\"card-body\">\r\n              <div id=\"c1\"></div>\r\n            </div>\r\n          </Card>\r\n          <Card\r\n            className=\"card-r\"\r\n            size=\"small\"\r\n            title=\"各层机关人数\"\r\n            extra={<Link to=\"/\"><Icon type=\"more\" /></Link>}\r\n          >\r\n            <div className=\"card-body\">\r\n              <div id=\"c2\"></div>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DataStat;\r\n","var isArrayLike = function isArrayLike(value) {\n  /**\n   * isArrayLike([1, 2, 3]) => true\n   * isArrayLike(document.body.children) => true\n   * isArrayLike('abc') => true\n   * isArrayLike(Function) => false\n   */\n  return value !== null && typeof value !== 'function' && isFinite(value.length);\n};\n\nexport default isArrayLike;","import isArrayLike from './is-array-like';\n\nvar contains = function contains(arr, value) {\n  if (!isArrayLike(arr)) {\n    return false;\n  }\n\n  return arr.indexOf(value) > -1;\n};\n\nexport default contains;","var toString = {}.toString;\n\nvar isType = function isType(value, type) {\n  return toString.call(value) === '[object ' + type + ']';\n};\n\nexport default isType;","import isType from './is-type';\nexport default (function (value) {\n  return Array.isArray ? Array.isArray(value) : isType(value, 'Array');\n});","export default (function (value) {\n  /**\n   * isObject({}) => true\n   * isObject([1, 2, 3]) => true\n   * isObject(Function) => true\n   * isObject(null) => false\n   */\n  var type = typeof value;\n  return value !== null && type === 'object' || type === 'function';\n});","import isArray from './is-array';\nimport isObject from './is-object';\n\nfunction each(elements, func) {\n  if (!elements) {\n    return;\n  }\n\n  var rst;\n\n  if (isArray(elements)) {\n    for (var i = 0, len = elements.length; i < len; i++) {\n      rst = func(elements[i], i);\n\n      if (rst === false) {\n        break;\n      }\n    }\n  } else if (isObject(elements)) {\n    for (var k in elements) {\n      if (elements.hasOwnProperty(k)) {\n        rst = func(elements[k], k);\n\n        if (rst === false) {\n          break;\n        }\n      }\n    }\n  }\n}\n\nexport default each;","import each from './each';\nimport isArrayLike from './is-array-like';\n\nvar filter = function filter(arr, func) {\n  if (!isArrayLike(arr)) {\n    return arr;\n  }\n\n  var result = [];\n  each(arr, function (value, index) {\n    if (func(value, index)) {\n      result.push(value);\n    }\n  });\n  return result;\n};\n\nexport default filter;","import filter from './filter';\nimport contains from './contains';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to inspect.\n * @param {Array} values The values to exclude.\n * @return {Array} Returns the new array of filtered values.\n * @example\n * difference([2, 1], [2, 3]);  // => [1]\n */\n\nvar difference = function difference(arr, values) {\n  if (values === void 0) {\n    values = [];\n  }\n\n  return filter(arr, function (value) {\n    return !contains(values, value);\n  });\n};\n\nexport default difference;","/**\n * 是否为函数\n * @param  {*} fn 对象\n * @return {Boolean}  是否函数\n */\nimport isType from './is-type';\nexport default (function (value) {\n  return isType(value, 'Function');\n});","// isFinite,\nvar isNil = function isNil(value) {\n  /**\n   * isNil(null) => true\n   * isNil() => true\n   */\n  return value === null || value === undefined;\n};\n\nexport default isNil;","import each from './each';\nimport isFunction from './is-function';\nvar keys = Object.keys ? function (obj) {\n  return Object.keys(obj);\n} : function (obj) {\n  var result = [];\n  each(obj, function (value, key) {\n    if (!(isFunction(obj) && key === 'prototype')) {\n      result.push(key);\n    }\n  });\n  return result;\n};\nexport default keys;","import isNil from './is-nil';\nimport keys from './keys';\n\nfunction isMatch(obj, attrs) {\n  var _keys = keys(attrs);\n\n  var length = _keys.length;\n  if (isNil(obj)) return !length;\n\n  for (var i = 0; i < length; i += 1) {\n    var key = _keys[i];\n\n    if (attrs[key] !== obj[key] || !(key in obj)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default isMatch;","var isObjectLike = function isObjectLike(value) {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   * isObjectLike(null) => false\n   */\n  return typeof value === 'object' && value !== null;\n};\n\nexport default isObjectLike;","import isObjectLike from './is-object-like';\nimport isType from './is-type';\n\nvar isPlainObject = function isPlainObject(value) {\n  /**\n   * isObjectLike(new Foo) => false\n   * isObjectLike([1, 2, 3]) => false\n   * isObjectLike({ x: 0, y: 0 }) => true\n   * isObjectLike(Object.create(null)) => true\n   */\n  if (!isObjectLike(value) || !isType(value, 'Object')) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(value) === null) {\n    return true;\n  }\n\n  var proto = value;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(value) === proto;\n};\n\nexport default isPlainObject;","import isFunction from './is-function';\nimport isMatch from './is-match';\nimport isArray from './is-array';\nimport isPlainObject from './is-plain-object';\n\nfunction find(arr, predicate) {\n  if (!isArray(arr)) return null;\n\n  var _predicate;\n\n  if (isFunction(predicate)) {\n    _predicate = predicate;\n  }\n\n  if (isPlainObject(predicate)) {\n    _predicate = function _predicate(a) {\n      return isMatch(a, predicate);\n    };\n  }\n\n  if (_predicate) {\n    for (var i = 0; i < arr.length; i += 1) {\n      if (_predicate(arr[i])) {\n        return arr[i];\n      }\n    }\n  }\n\n  return null;\n}\n\nexport default find;","function findIndex(arr, predicate, fromIndex) {\n  if (fromIndex === void 0) {\n    fromIndex = 0;\n  }\n\n  for (var i = fromIndex; i < arr.length; i++) {\n    if (predicate(arr[i], i)) {\n      // 找到终止循环\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nexport default findIndex;","import isNil from './is-nil';\nimport isArray from './is-array';\n\nvar firstValue = function firstValue(data, name) {\n  var rst = null;\n\n  for (var i = 0; i < data.length; i++) {\n    var obj = data[i];\n    var value = obj[name];\n\n    if (!isNil(value)) {\n      if (isArray(value)) {\n        rst = value[0]; // todo 这里是否应该使用递归，调用 firstValue @绝云\n      } else {\n        rst = value;\n      }\n\n      break;\n    }\n  }\n\n  return rst;\n};\n\nexport default firstValue;","import isArray from './is-array';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to flatten.\n * @return {Array} Returns the new flattened array.\n * @example\n *\n * flatten([1, [2, [3, [4]], 5]]);  // => [1, 2, [3, [4]], 5]\n */\n\nvar flatten = function flatten(arr) {\n  if (!isArray(arr)) {\n    return [];\n  }\n\n  var rst = [];\n\n  for (var i = 0; i < arr.length; i++) {\n    rst = rst.concat(arr[i]);\n  }\n\n  return rst;\n};\n\nexport default flatten;","import isArray from './is-array';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to flatten.\n * @param {Array} result The array to return.\n * @return {Array} Returns the new flattened array.\n * @example\n *\n * flattenDeep([1, [2, [3, [4]], 5]]);  // => [1, 2, 3, 4, 5]\n */\n\nvar flattenDeep = function flattenDeep(arr, result) {\n  if (result === void 0) {\n    result = [];\n  }\n\n  if (!isArray(arr)) {\n    result.push(arr);\n  } else {\n    for (var i = 0; i < arr.length; i += 1) {\n      flattenDeep(arr[i], result);\n    }\n  }\n\n  return result;\n};\n\nexport default flattenDeep;","import isArray from './is-array';\nimport filter from './filter';\n\nvar getRange = function getRange(values) {\n  // 存在 NaN 时，min,max 判定会出问题\n  values = filter(values, function (v) {\n    return !isNaN(v);\n  });\n\n  if (!values.length) {\n    // 如果没有数值则直接返回0\n    return {\n      min: 0,\n      max: 0\n    };\n  }\n\n  if (isArray(values[0])) {\n    var tmp = [];\n\n    for (var i = 0; i < values.length; i++) {\n      tmp = tmp.concat(values[i]);\n    }\n\n    values = tmp;\n  }\n\n  var max = Math.max.apply(null, values);\n  var min = Math.min.apply(null, values);\n  return {\n    min: min,\n    max: max\n  };\n};\n\nexport default getRange;","var arrPrototype = Array.prototype;\nvar splice = arrPrototype.splice;\nvar indexOf = arrPrototype.indexOf;\n\nvar pull = function pull(arr) {\n  var values = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    values[_i - 1] = arguments[_i];\n  }\n\n  for (var i = 0; i < values.length; i++) {\n    var value = values[i];\n    var fromIndex = -1;\n\n    while ((fromIndex = indexOf.call(arr, value)) > -1) {\n      splice.call(arr, fromIndex, 1);\n    }\n  }\n\n  return arr;\n};\n\nexport default pull;","import isArrayLike from './is-array-like';\nvar splice = Array.prototype.splice;\n\nvar pullAt = function pullAt(arr, indexes) {\n  if (!isArrayLike(arr)) {\n    return [];\n  }\n\n  var length = arr ? indexes.length : 0;\n  var last = length - 1;\n\n  while (length--) {\n    var previous = void 0;\n    var index = indexes[length];\n\n    if (length === last || index !== previous) {\n      previous = index;\n      splice.call(arr, index, 1);\n    }\n  }\n\n  return arr;\n};\n\nexport default pullAt;","import each from './each';\nimport isArray from './is-array';\nimport isPlainObject from './is-plain-object';\n\nvar reduce = function reduce(arr, fn, init) {\n  if (!isArray(arr) && !isPlainObject(arr)) {\n    return arr;\n  }\n\n  var result = init;\n  each(arr, function (data, i) {\n    result = fn(result, data, i);\n  });\n  return result;\n};\n\nexport default reduce;","import isArrayLike from './is-array-like';\nimport pullAt from './pull-at';\n\nvar remove = function remove(arr, predicate) {\n  /**\n   * const arr = [1, 2, 3, 4]\n   * const evens = remove(arr, n => n % 2 == 0)\n   * console.log(arr) // => [1, 3]\n   * console.log(evens) // => [2, 4]\n   */\n  var result = [];\n\n  if (!isArrayLike(arr)) {\n    return result;\n  }\n\n  var i = -1;\n  var indexes = [];\n  var length = arr.length;\n\n  while (++i < length) {\n    var value = arr[i];\n\n    if (predicate(value, i, arr)) {\n      result.push(value);\n      indexes.push(i);\n    }\n  }\n\n  pullAt(arr, indexes);\n  return result;\n};\n\nexport default remove;","import isType from './is-type';\nexport default (function (str) {\n  return isType(str, 'String');\n});","import isArray from './is-array';\nimport isString from './is-string';\nimport isFunction from './is-function';\n\nfunction sortBy(arr, key) {\n  var comparer;\n\n  if (isFunction(key)) {\n    comparer = function comparer(a, b) {\n      return key(a) - key(b);\n    };\n  } else {\n    var keys_1 = [];\n\n    if (isString(key)) {\n      keys_1.push(key);\n    } else if (isArray(key)) {\n      keys_1 = key;\n    }\n\n    comparer = function comparer(a, b) {\n      for (var i = 0; i < keys_1.length; i += 1) {\n        var prop = keys_1[i];\n\n        if (a[prop] > b[prop]) {\n          return 1;\n        }\n\n        if (a[prop] < b[prop]) {\n          return -1;\n        }\n      }\n\n      return 0;\n    };\n  }\n\n  arr.sort(comparer);\n  return arr;\n}\n\nexport default sortBy;","import contains from './contains';\nimport each from './each';\n\nvar uniq = function uniq(arr) {\n  var resultArr = [];\n  each(arr, function (item) {\n    if (!contains(resultArr, item)) {\n      resultArr.push(item);\n    }\n  });\n  return resultArr;\n};\n\nexport default uniq;","import uniq from './uniq';\n\nvar union = function union() {\n  var sources = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    sources[_i] = arguments[_i];\n  }\n\n  return uniq([].concat.apply([], sources));\n};\n\nexport default union;","import each from './each';\nimport isArray from './is-array';\nimport isNil from './is-nil';\nexport default (function (data, name) {\n  var rst = [];\n  var tmpMap = {};\n  data.forEach(function (obj) {\n    var value = obj[name];\n\n    if (!isNil(value)) {\n      // flatten\n      if (!isArray(value)) {\n        value = [value];\n      }\n\n      each(value, function (val) {\n        // unique\n        if (!tmpMap[val]) {\n          rst.push(val);\n          tmpMap[val] = true;\n        }\n      });\n    }\n  });\n  return rst;\n});","import isArrayLike from './is-array-like';\nexport default function head(o) {\n  if (isArrayLike(o)) {\n    return o[0];\n  }\n\n  return undefined;\n}","import isArrayLike from './is-array-like';\nexport default function last(o) {\n  if (isArrayLike(o)) {\n    var arr = o;\n    return arr[arr.length - 1];\n  }\n\n  return undefined;\n}","import isArray from './is-array';\nimport isString from './is-string';\n\nfunction startsWith(arr, e) {\n  return isArray(arr) || isString(arr) ? arr[0] === e : false;\n}\n\nexport default startsWith;","import isArray from './is-array';\nimport isString from './is-string';\n\nfunction endsWith(arr, e) {\n  return isArray(arr) || isString(arr) ? arr[arr.length - 1] === e : false;\n}\n\nexport default endsWith;","/**\n * 只要有一个不满足条件就返回 false\n * @param arr\n * @param func\n */\nvar every = function every(arr, func) {\n  for (var i = 0; i < arr.length; i++) {\n    if (!func(arr[i], i)) return false;\n  }\n\n  return true;\n};\n\nexport default every;","/**\n * 只要有一个满足条件就返回 true\n * @param arr\n * @param func\n */\nvar some = function some(arr, func) {\n  for (var i = 0; i < arr.length; i++) {\n    if (func(arr[i], i)) return true;\n  }\n\n  return false;\n};\n\nexport default some;","import each from './each';\nimport isArray from './is-array';\nimport isFunction from './is-function';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction groupBy(data, condition) {\n  if (!condition || !isArray(data)) {\n    return {};\n  }\n\n  var result = {}; // 兼容方法和 字符串的写法\n\n  var predicate = isFunction(condition) ? condition : function (item) {\n    return item[condition];\n  };\n  var key;\n  each(data, function (item) {\n    key = predicate(item);\n\n    if (hasOwnProperty.call(result, key)) {\n      result[key].push(item);\n    } else {\n      result[key] = [item];\n    }\n  });\n  return result;\n}\n\nexport default groupBy;","import isArray from './is-array';\nimport isFunction from './is-function';\nimport groupBy from './group-by';\n\nvar groupToMap = function groupToMap(data, condition) {\n  if (!condition) {\n    return {\n      0: data\n    };\n  }\n\n  if (!isFunction(condition)) {\n    var paramsCondition_1 = isArray(condition) ? condition : condition.replace(/\\s+/g, '').split('*');\n\n    condition = function condition(row) {\n      var unique = '_'; // 避免出现数字作为Key的情况，会进行按照数字的排序\n\n      for (var i = 0, l = paramsCondition_1.length; i < l; i++) {\n        unique += row[paramsCondition_1[i]] && row[paramsCondition_1[i]].toString();\n      }\n\n      return unique;\n    };\n  }\n\n  var groups = groupBy(data, condition);\n  return groups;\n};\n\nexport default groupToMap;","import groupToMap from './group-to-map';\nexport default (function (data, condition) {\n  if (!condition) {\n    // 没有条件，则自身改成数组\n    return [data];\n  }\n\n  var groups = groupToMap(data, condition);\n  var array = [];\n\n  for (var i in groups) {\n    array.push(groups[i]);\n  }\n\n  return array;\n});","/**\n * 获取封装的事件\n * @protected\n * @param  {Object} obj   对象\n * @param  {String} action 事件名称\n * @return {Function}        返回事件处理函数\n */\nfunction getWrapBehavior(obj, action) {\n  return obj['_wrap_' + action];\n}\n\nexport default getWrapBehavior;","/**\n * 封装事件，便于使用上下文this,和便于解除事件时使用\n * @protected\n * @param  {Object} obj   对象\n * @param  {String} action 事件名称\n * @return {Function}        返回事件处理函数\n */\nfunction wrapBehavior(obj, action) {\n  if (obj['_wrap_' + action]) {\n    return obj['_wrap_' + action];\n  }\n\n  var method = function method(e) {\n    obj[action](e);\n  };\n\n  obj['_wrap_' + action] = method;\n  return method;\n}\n\nexport default wrapBehavior;","var numColorCache = {};\n\nfunction numberToColor(num) {\n  // 增加缓存\n  var color = numColorCache[num];\n\n  if (!color) {\n    var str = num.toString(16);\n\n    for (var i = str.length; i < 6; i++) {\n      str = '0' + str;\n    }\n\n    color = '#' + str;\n    numColorCache[num] = color;\n  }\n\n  return color;\n}\n\nexport default numberToColor;","import isArray from './is-array';\n\nfunction parseRadius(radius) {\n  var r1 = 0,\n      r2 = 0,\n      r3 = 0,\n      r4 = 0;\n\n  if (isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n\n  return {\n    r1: r1,\n    r2: r2,\n    r3: r3,\n    r4: r4\n  };\n}\n\nexport default parseRadius;","var clamp = function clamp(a, min, max) {\n  if (a < min) {\n    return min;\n  } else if (a > max) {\n    return max;\n  }\n\n  return a;\n};\n\nexport default clamp;","var fixedBase = function fixedBase(v, base) {\n  var str = base.toString();\n  var index = str.indexOf('.');\n\n  if (index === -1) {\n    return Math.round(v);\n  }\n\n  var length = str.substr(index + 1).length;\n\n  if (length > 20) {\n    length = 20;\n  }\n\n  return parseFloat(v.toFixed(length));\n};\n\nexport default fixedBase;","/**\n * 判断是否数字\n * @return {Boolean} 是否数字\n */\nimport isType from './is-type';\n\nvar isNumber = function isNumber(value) {\n  return isType(value, 'Number');\n};\n\nexport default isNumber;","import isNumber from './is-number';\n\nvar isDecimal = function isDecimal(num) {\n  return isNumber(num) && num % 1 !== 0;\n};\n\nexport default isDecimal;","import isNumber from './is-number';\n\nvar isEven = function isEven(num) {\n  return isNumber(num) && num % 2 === 0;\n};\n\nexport default isEven;","import isNumber from './is-number';\nvar isInteger = Number.isInteger ? Number.isInteger : function (num) {\n  return isNumber(num) && num % 1 === 0;\n};\nexport default isInteger;","import isNumber from './is-number';\n\nvar isNegative = function isNegative(num) {\n  return isNumber(num) && num < 0;\n};\n\nexport default isNegative;","var PRECISION = 0.00001; // numbers less than this is considered as 0\n\nexport default function isNumberEqual(a, b, precision) {\n  if (precision === void 0) {\n    precision = PRECISION;\n  }\n\n  return Math.abs(a - b) < precision;\n}\n;","import isNumber from './is-number';\n\nvar isOdd = function isOdd(num) {\n  return isNumber(num) && num % 2 !== 0;\n};\n\nexport default isOdd;","import isNumber from './is-number';\n\nvar isPositive = function isPositive(num) {\n  return isNumber(num) && num > 0;\n};\n\nexport default isPositive;","import each from './each';\nimport isArray from './is-array';\nimport isFunction from './is-function';\n/**\n * @param {Array} arr The array to iterate over.\n * @param {Function} [fn] The iteratee invoked per element.\n * @return {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\n\nexport default (function (arr, fn) {\n  if (!isArray(arr)) {\n    return undefined;\n  }\n\n  var max = arr[0];\n  var maxData;\n\n  if (isFunction(fn)) {\n    maxData = fn(arr[0]);\n  } else {\n    maxData = arr[0][fn];\n  }\n\n  var data;\n  each(arr, function (val) {\n    if (isFunction(fn)) {\n      data = fn(val);\n    } else {\n      data = val[fn];\n    }\n\n    if (data > maxData) {\n      max = val;\n      maxData = data;\n    }\n  });\n  return max;\n});","import each from './each';\nimport isArray from './is-array';\nimport isFunction from './is-function';\n/**\n * @param {Array} arr The array to iterate over.\n * @param {Function} [fn] The iteratee invoked per element.\n * @return {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * minBy(objects, 'n');\n * // => { 'n': 1 }\n */\n\nexport default (function (arr, fn) {\n  if (!isArray(arr)) {\n    return undefined;\n  }\n\n  var min = arr[0];\n  var minData;\n\n  if (isFunction(fn)) {\n    minData = fn(arr[0]);\n  } else {\n    minData = arr[0][fn];\n  }\n\n  var data;\n  each(arr, function (val) {\n    if (isFunction(fn)) {\n      data = fn(val);\n    } else {\n      data = val[fn];\n    }\n\n    if (data < minData) {\n      min = val;\n      minData = data;\n    }\n  });\n  return min;\n});","var mod = function mod(n, m) {\n  return (n % m + m) % m;\n};\n\nexport default mod;","var DEGREE = 180 / Math.PI;\n\nvar toDegree = function toDegree(radian) {\n  return DEGREE * radian;\n};\n\nexport default toDegree;","export default parseInt;","var RADIAN = Math.PI / 180;\n\nvar toRadian = function toRadian(degree) {\n  return RADIAN * degree;\n};\n\nexport default toRadian;","import each from './each';\nexport default each;","export default (function (obj, key) {\n  return obj.hasOwnProperty(key);\n});","import has from './has';\nexport default has;","import each from './each';\nimport isFunction from './is-function'; // @ts-ignore\n\nvar values = Object.values ? function (obj) {\n  return Object.values(obj);\n} : function (obj) {\n  var result = [];\n  each(obj, function (value, key) {\n    if (!(isFunction(obj) && key === 'prototype')) {\n      result.push(value);\n    }\n  });\n  return result;\n};\nexport default values;","import contains from './contains';\nimport values from './values';\nexport default (function (obj, value) {\n  return contains(values(obj), value);\n});","import isNil from './is-nil';\nexport default (function (value) {\n  if (isNil(value)) return '';\n  return value.toString();\n});","import toString from './to-string';\n\nvar lowerCase = function lowerCase(str) {\n  return toString(str).toLowerCase();\n};\n\nexport default lowerCase;","import toString from './to-string';\n\nvar lowerFirst = function lowerFirst(value) {\n  var str = toString(value);\n  return str.charAt(0).toLowerCase() + str.substring(1);\n};\n\nexport default lowerFirst;","function substitute(str, o) {\n  if (!str || !o) {\n    return str;\n  }\n\n  return str.replace(/\\\\?\\{([^{}]+)\\}/g, function (match, name) {\n    if (match.charAt(0) === '\\\\') {\n      return match.slice(1);\n    }\n\n    return o[name] === undefined ? '' : o[name];\n  });\n}\n\nexport default substitute;","import toString from './to-string';\n\nvar upperCase = function upperCase(str) {\n  return toString(str).toUpperCase();\n};\n\nexport default upperCase;","import toString from './to-string';\n\nvar upperFirst = function upperFirst(value) {\n  var str = toString(value);\n  return str.charAt(0).toUpperCase() + str.substring(1);\n};\n\nexport default upperFirst;","var toString = {}.toString;\n\nvar getType = function getType(value) {\n  return toString.call(value).replace(/^\\[object /, '').replace(/]$/, '');\n};\n\nexport default getType;","/**\n * 是否是参数类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nimport isType from './is-type';\n\nvar isArguments = function isArguments(value) {\n  return isType(value, 'Arguments');\n};\n\nexport default isArguments;","/**\n * 是否是布尔类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nimport isType from './is-type';\n\nvar isBoolean = function isBoolean(value) {\n  return isType(value, 'Boolean');\n};\n\nexport default isBoolean;","import isType from './is-type';\n\nvar isDate = function isDate(value) {\n  return isType(value, 'Date');\n};\n\nexport default isDate;","/**\n * 是否是参数类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nimport isType from './is-type';\n\nvar isError = function isError(value) {\n  return isType(value, 'Error');\n};\n\nexport default isError;","/**\n * 判断是否为有限数\n * @return {Boolean}\n */\nimport isNumber from './is-number';\nexport default function (value) {\n  return isNumber(value) && isFinite(value);\n}","var isNull = function isNull(value) {\n  return value === null;\n};\n\nexport default isNull;","var objectProto = Object.prototype;\n\nvar isPrototype = function isPrototype(value) {\n  var Ctor = value && value.constructor;\n  var proto = typeof Ctor === 'function' && Ctor.prototype || objectProto;\n  return value === proto;\n};\n\nexport default isPrototype;","import isType from './is-type';\n\nvar isRegExp = function isRegExp(str) {\n  return isType(str, 'RegExp');\n};\n\nexport default isRegExp;","var isUndefined = function isUndefined(value) {\n  return value === undefined;\n};\n\nexport default isUndefined;","/**\n * 判断是否HTML元素\n * @return {Boolean} 是否HTML元素\n */\nvar isElement = function isElement(o) {\n  return o instanceof Element || o instanceof HTMLDocument;\n};\n\nexport default isElement;","export default function requestAnimationFrame(fn) {\n  var method = window.requestAnimationFrame || window.webkitRequestAnimationFrame || // @ts-ignore\n  window.mozRequestAnimationFrame || // @ts-ignore\n  window.msRequestAnimationFrame || function (f) {\n    return setTimeout(f, 16);\n  };\n\n  return method(fn);\n}\n;","export default function cancelAnimationFrame(handler) {\n  var method = window.cancelAnimationFrame || window.webkitCancelAnimationFrame || // @ts-ignore\n  window.mozCancelAnimationFrame || // @ts-ignore\n  window.msCancelAnimationFrame || clearTimeout;\n  method(handler);\n}\n;","// FIXME: Mutable param should be forbidden in static lang.\nfunction _mix(dist, obj) {\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key) && key !== 'constructor' && obj[key] !== undefined) {\n      dist[key] = obj[key];\n    }\n  }\n}\n\nexport default function mix(dist, src1, src2, src3) {\n  if (src1) _mix(dist, src1);\n  if (src2) _mix(dist, src2);\n  if (src3) _mix(dist, src3);\n  return dist;\n}","import mix from './mix';\nimport isFunction from './is-function';\n\nvar augment = function augment() {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n\n  var c = args[0];\n\n  for (var i = 1; i < args.length; i++) {\n    var obj = args[i];\n\n    if (isFunction(obj)) {\n      obj = obj.prototype;\n    }\n\n    mix(c.prototype, obj);\n  }\n};\n\nexport default augment;","import isArray from './is-array';\n\nvar clone = function clone(obj) {\n  if (typeof obj !== 'object' || obj === null) {\n    return obj;\n  }\n\n  var rst;\n\n  if (isArray(obj)) {\n    rst = [];\n\n    for (var i = 0, l = obj.length; i < l; i++) {\n      if (typeof obj[i] === 'object' && obj[i] != null) {\n        rst[i] = clone(obj[i]);\n      } else {\n        rst[i] = obj[i];\n      }\n    }\n  } else {\n    rst = {};\n\n    for (var k in obj) {\n      if (typeof obj[k] === 'object' && obj[k] != null) {\n        rst[k] = clone(obj[k]);\n      } else {\n        rst[k] = obj[k];\n      }\n    }\n  }\n\n  return rst;\n};\n\nexport default clone;","function debounce(func, wait, immediate) {\n  var timeout;\n  return function () {\n    var context = this,\n        args = arguments;\n\n    var later = function later() {\n      timeout = null;\n\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n}\n\nexport default debounce;","import isFunction from './is-function';\n/**\n * _.memoize(calColor);\n * _.memoize(calColor, (...args) => args[0]);\n * @param f\n * @param resolver\n */\n\nexport default (function (f, resolver) {\n  if (!isFunction(f)) {\n    throw new TypeError('Expected a function');\n  }\n\n  var memoized = function memoized() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    } // 使用方法构造 key，如果不存在 resolver，则直接取第一个参数作为 key\n\n\n    var key = resolver ? resolver.apply(this, args) : args[0];\n    var cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n\n    var result = f.apply(this, args); // 缓存起来\n\n    cache.set(key, result);\n    return result;\n  };\n\n  memoized.cache = new Map();\n  return memoized;\n});","import isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nvar MAX_MIX_LEVEL = 5;\n\nfunction _deepMix(dist, src, level, maxLevel) {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n\n  for (var key in src) {\n    if (src.hasOwnProperty(key)) {\n      var value = src[key];\n\n      if (value !== null && isPlainObject(value)) {\n        if (!isPlainObject(dist[key])) {\n          dist[key] = {};\n        }\n\n        if (level < maxLevel) {\n          _deepMix(dist[key], value, level + 1, maxLevel);\n        } else {\n          dist[key] = src[key];\n        }\n      } else if (isArray(value)) {\n        dist[key] = [];\n        dist[key] = dist[key].concat(value);\n      } else if (value !== undefined) {\n        dist[key] = value;\n      }\n    }\n  }\n} // todo 重写\n\n\nvar deepMix = function deepMix(rst) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  for (var i = 0; i < args.length; i += 1) {\n    _deepMix(rst, args[i]);\n  }\n\n  return rst;\n};\n\nexport default deepMix;","import mix from './mix';\nimport isFunction from './is-function';\n\nvar extend = function extend(subclass, superclass, overrides, staticOverrides) {\n  // 如果只提供父类构造函数，则自动生成子类构造函数\n  if (!isFunction(superclass)) {\n    overrides = superclass;\n    superclass = subclass;\n\n    subclass = function subclass() {};\n  }\n\n  var create = Object.create ? function (proto, c) {\n    return Object.create(proto, {\n      constructor: {\n        value: c\n      }\n    });\n  } : function (proto, c) {\n    function Tmp() {}\n\n    Tmp.prototype = proto;\n    var o = new Tmp();\n    o.constructor = c;\n    return o;\n  };\n  var superObj = create(superclass.prototype, subclass); // new superclass(),//实例化父类作为子类的prototype\n\n  subclass.prototype = mix(superObj, subclass.prototype); // 指定子类的prototype\n\n  subclass.superclass = create(superclass.prototype, superclass);\n  mix(superObj, overrides);\n  mix(subclass, staticOverrides);\n  return subclass;\n};\n\nexport default extend;","import isArrayLike from './is-array-like';\n\nvar indexOf = function indexOf(arr, obj) {\n  if (!isArrayLike(arr)) {\n    return -1;\n  }\n\n  var m = Array.prototype.indexOf;\n\n  if (m) {\n    return m.call(arr, obj);\n  }\n\n  var index = -1;\n\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i] === obj) {\n      index = i;\n      break;\n    }\n  }\n\n  return index;\n};\n\nexport default indexOf;","import isNil from './is-nil';\nimport isArrayLike from './is-array-like';\nimport getType from './get-type';\nimport isPrototype from './is-prototype';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isEmpty(value) {\n  /**\n   * isEmpty(null) => true\n   * isEmpty() => true\n   * isEmpty(true) => true\n   * isEmpty(1) => true\n   * isEmpty([1, 2, 3]) => false\n   * isEmpty('abc') => false\n   * isEmpty({ a: 1 }) => false\n   */\n  if (isNil(value)) {\n    return true;\n  }\n\n  if (isArrayLike(value)) {\n    return !value.length;\n  }\n\n  var type = getType(value);\n\n  if (type === 'Map' || type === 'Set') {\n    return !value.size;\n  }\n\n  if (isPrototype(value)) {\n    return !Object.keys(value).length;\n  }\n\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default isEmpty;","import isObjectLike from './is-object-like';\nimport isArrayLike from './is-array-like';\nimport isString from './is-string';\n\nvar isEqual = function isEqual(value, other) {\n  if (value === other) {\n    return true;\n  }\n\n  if (!value || !other) {\n    return false;\n  }\n\n  if (isString(value) || isString(other)) {\n    return false;\n  }\n\n  if (isArrayLike(value) || isArrayLike(other)) {\n    if (value.length !== other.length) {\n      return false;\n    }\n\n    var rst = true;\n\n    for (var i = 0; i < value.length; i++) {\n      rst = isEqual(value[i], other[i]);\n\n      if (!rst) {\n        break;\n      }\n    }\n\n    return rst;\n  }\n\n  if (isObjectLike(value) || isObjectLike(other)) {\n    var valueKeys = Object.keys(value);\n    var otherKeys = Object.keys(other);\n\n    if (valueKeys.length !== otherKeys.length) {\n      return false;\n    }\n\n    var rst = true;\n\n    for (var i = 0; i < valueKeys.length; i++) {\n      rst = isEqual(value[valueKeys[i]], other[valueKeys[i]]);\n\n      if (!rst) {\n        break;\n      }\n    }\n\n    return rst;\n  }\n\n  return false;\n};\n\nexport default isEqual;","import isFunction from './is-function';\nimport isEqual from './is-equal';\n/**\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [fn] The function to customize comparisons.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * function isGreeting(value) {\n *   return /^h(?:i|ello)$/.test(value);\n * }\n *\n * function customizer(objValue, othValue) {\n *   if (isGreeting(objValue) && isGreeting(othValue)) {\n *     return true;\n *   }\n * }\n *\n * var array = ['hello', 'goodbye'];\n * var other = ['hi', 'goodbye'];\n *\n * isEqualWith(array, other, customizer);  // => true\n */\n\nexport default (function (value, other, fn) {\n  if (!isFunction(fn)) {\n    return isEqual(value, other);\n  }\n\n  return !!fn(value, other);\n});","import each from './each';\nimport isArrayLike from './is-array-like';\n\nvar map = function map(arr, func) {\n  if (!isArrayLike(arr)) {\n    // @ts-ignore\n    return arr;\n  }\n\n  var result = [];\n  each(arr, function (value, index) {\n    result.push(func(value, index));\n  });\n  return result;\n};\n\nexport default map;","import isNil from './is-nil';\nimport isObject from './is-object';\n\nvar identity = function identity(v) {\n  return v;\n};\n\nexport default (function (object, func) {\n  if (func === void 0) {\n    func = identity;\n  }\n\n  var r = {};\n\n  if (isObject(object) && !isNil(object)) {\n    Object.keys(object).forEach(function (key) {\n      // @ts-ignore\n      r[key] = func(object[key], key);\n    });\n  }\n\n  return r;\n});","import isString from './is-string';\n/**\n * https://github.com/developit/dlv/blob/master/index.js\n * @param obj\n * @param key\n * @param defaultValue\n */\n\nexport default (function (obj, key, defaultValue) {\n  var p = 0;\n  var keyArr = isString(key) ? key.split('.') : key;\n\n  while (obj && p < keyArr.length) {\n    obj = obj[keyArr[p++]];\n  }\n\n  return obj === undefined || p < keyArr.length ? defaultValue : obj;\n});","import isObject from './is-object';\nimport isString from './is-string';\nimport isNumber from './is-number';\n/**\n * https://github.com/developit/dlv/blob/master/index.js\n * @param obj\n * @param path\n * @param value\n */\n\nexport default (function (obj, path, value) {\n  var o = obj;\n  var keyArr = isString(path) ? path.split('.') : path;\n  keyArr.forEach(function (key, idx) {\n    // 不是最后一个\n    if (idx < keyArr.length - 1) {\n      if (!isObject(o[key])) {\n        o[key] = isNumber(keyArr[idx + 1]) ? [] : {};\n      }\n\n      o = o[key];\n    } else {\n      o[key] = value;\n    }\n  });\n  return obj;\n});","import each from './each';\nimport isPlainObject from './is-plain-object';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport default (function (object, keys) {\n  if (object === null || !isPlainObject(object)) {\n    return {};\n  }\n\n  var result = {};\n  each(keys, function (key) {\n    if (hasOwnProperty.call(object, key)) {\n      result[key] = object[key];\n    }\n  });\n  return result;\n});","export default (function (func, wait, options) {\n  var timeout, context, args, result;\n  var previous = 0;\n  if (!options) options = {};\n\n  var later = function later() {\n    previous = options.leading === false ? 0 : Date.now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n\n  var throttled = function throttled() {\n    var now = Date.now();\n    if (!previous && options.leading === false) previous = now;\n    var remaining = wait - (now - previous);\n    context = this;\n    args = arguments;\n\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n\n      previous = now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n\n    return result;\n  };\n\n  throttled.cancel = function () {\n    clearTimeout(timeout);\n    previous = 0;\n    timeout = context = args = null;\n  };\n\n  return throttled;\n});","import isArrayLike from './is-array-like';\nexport default (function (value) {\n  return isArrayLike(value) ? Array.prototype.slice.call(value) : [];\n});","var map = {};\nexport default (function (prefix) {\n  prefix = prefix || 'g';\n\n  if (!map[prefix]) {\n    map[prefix] = 1;\n  } else {\n    map[prefix] += 1;\n  }\n\n  return prefix + map[prefix];\n});","export default (function () {});","export default (function (v) {\n  return v;\n});","import isNil from './is-nil';\nimport isArraylike from './is-array-like';\nexport default function size(o) {\n  if (isNil(o)) {\n    return 0;\n  }\n\n  if (isArraylike(o)) {\n    return o.length;\n  }\n\n  return Object.keys(o).length;\n}","/**\n * k-v 存储\n */\nvar default_1 =\n/** @class */\nfunction () {\n  function default_1() {\n    this.map = {};\n  }\n\n  default_1.prototype.has = function (key) {\n    return this.map[key] !== undefined;\n  };\n\n  default_1.prototype.get = function (key, def) {\n    var v = this.map[key];\n    return v === undefined ? def : v;\n  };\n\n  default_1.prototype.set = function (key, value) {\n    this.map[key] = value;\n  };\n\n  default_1.prototype.clear = function () {\n    this.map = {};\n  };\n\n  default_1.prototype.delete = function (key) {\n    delete this.map[key];\n  };\n\n  default_1.prototype.size = function () {\n    return Object.keys(this.map).length;\n  };\n\n  return default_1;\n}();\n\nexport default default_1;","// array\nexport { default as contains, default as includes } from './contains';\nexport { default as difference } from './difference';\nexport { default as find } from './find';\nexport { default as findIndex } from './find-index';\nexport { default as firstValue } from './first-value';\nexport { default as flatten } from './flatten';\nexport { default as flattenDeep } from './flatten-deep';\nexport { default as getRange } from './get-range';\nexport { default as pull } from './pull';\nexport { default as pullAt } from './pull-at';\nexport { default as reduce } from './reduce';\nexport { default as remove } from './remove';\nexport { default as sortBy } from './sort-by';\nexport { default as union } from './union';\nexport { default as uniq } from './uniq';\nexport { default as valuesOfKey } from './values-of-key';\nexport { default as head } from './head';\nexport { default as last } from './last';\nexport { default as startsWith } from './starts-with';\nexport { default as endsWith } from './ends-with';\nexport { default as filter } from './filter';\nexport { default as every } from './every';\nexport { default as some } from './some';\nexport { default as group } from './group';\nexport { default as groupBy } from './group-by';\nexport { default as groupToMap } from './group-to-map'; // event\n\nexport { default as getWrapBehavior } from './get-wrap-behavior';\nexport { default as wrapBehavior } from './wrap-behavior'; // format\n\nexport { default as number2color } from './number2color';\nexport { default as parseRadius } from './parse-radius'; // math\n\nexport { default as clamp } from './clamp';\nexport { default as fixedBase } from './fixed-base';\nexport { default as isDecimal } from './is-decimal';\nexport { default as isEven } from './is-even';\nexport { default as isInteger } from './is-integer';\nexport { default as isNegative } from './is-negative';\nexport { default as isNumberEqual } from './is-number-equal';\nexport { default as isOdd } from './is-odd';\nexport { default as isPositive } from './is-positive';\nexport { default as maxBy } from './max-by';\nexport { default as minBy } from './min-by';\nexport { default as mod } from './mod';\nexport { default as toDegree } from './to-degree';\nexport { default as toInteger } from './to-integer';\nexport { default as toRadian } from './to-radian'; // object\n\nexport { default as forIn } from './for-in';\nexport { default as has } from './has';\nexport { default as hasKey } from './has-key';\nexport { default as hasValue } from './has-value';\nexport { default as keys } from './keys';\nexport { default as isMatch } from './is-match';\nexport { default as values } from './values'; // string\n\nexport { default as lowerCase } from './lower-case';\nexport { default as lowerFirst } from './lower-first';\nexport { default as substitute } from './substitute';\nexport { default as upperCase } from './upper-case';\nexport { default as upperFirst } from './upper-first'; // type\n\nexport { default as getType } from './get-type';\nexport { default as isArguments } from './is-arguments';\nexport { default as isArray } from './is-array';\nexport { default as isArrayLike } from './is-array-like';\nexport { default as isBoolean } from './is-boolean';\nexport { default as isDate } from './is-date';\nexport { default as isError } from './is-error';\nexport { default as isFunction } from './is-function';\nexport { default as isFinite } from './is-finite';\nexport { default as isNil } from './is-nil';\nexport { default as isNull } from './is-null';\nexport { default as isNumber } from './is-number';\nexport { default as isObject } from './is-object';\nexport { default as isObjectLike } from './is-object-like';\nexport { default as isPlainObject } from './is-plain-object';\nexport { default as isPrototype } from './is-prototype';\nexport { default as isRegExp } from './is-reg-exp';\nexport { default as isString } from './is-string';\nexport { default as isType } from './is-type';\nexport { default as isUndefined } from './is-undefined';\nexport { default as isElement } from './is-element';\nexport { default as requestAnimationFrame } from './request-animation-frame';\nexport { default as clearAnimationFrame } from './clear-animation-frame'; // other\n\nexport { default as augment } from './augment';\nexport { default as clone } from './clone';\nexport { default as debounce } from './debounce';\nexport { default as memoize } from './memoize';\nexport { default as deepMix } from './deep-mix';\nexport { default as each } from './each';\nexport { default as extend } from './extend';\nexport { default as indexOf } from './index-of';\nexport { default as isEmpty } from './is-empty';\nexport { default as isEqual } from './is-equal';\nexport { default as isEqualWith } from './is-equal-with';\nexport { default as map } from './map';\nexport { default as mapValues } from './map-values';\nexport { default as mix, default as assign } from './mix';\nexport { default as get } from './get';\nexport { default as set } from './set';\nexport { default as pick } from './pick';\nexport { default as throttle } from './throttle';\nexport { default as toArray } from './to-array';\nexport { default as toString } from './to-string';\nexport { default as uniqueId } from './unique-id';\nexport { default as noop } from './noop';\nexport { default as identity } from './identity';\nexport { default as size } from './size'; // 不知道为什么，需要把这个 export，不然 ts 会报类型错误\n\nexport { default as Cache } from './cache';","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nexport { _assign as __assign };\nexport function __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nexport function __param(paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nexport function __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nexport function __exportStar(m, exports) {\n  for (var p in m) {\n    if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\nexport function __values(o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n}\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n}\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n}\n;\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []),\n      i,\n      q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n) {\n    if (g[n]) i[n] = function (v) {\n      return new Promise(function (a, b) {\n        q.push([n, v, a, b]) > 1 || resume(n, v);\n      });\n    };\n  }\n\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n\n  function step(r) {\n    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n\n  function settle(f, v) {\n    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n  }\n}\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) {\n    throw e;\n  }), verb(\"return\"), i[Symbol.iterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n, f) {\n    i[n] = o[n] ? function (v) {\n      return (p = !p) ? {\n        value: __await(o[n](v)),\n        done: n === \"return\"\n      } : f ? f(v) : v;\n    } : f;\n  }\n}\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator],\n      i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i);\n\n  function verb(n) {\n    i[n] = o[n] && function (v) {\n      return new Promise(function (resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function (v) {\n      resolve({\n        value: v,\n        done: d\n      });\n    }, reject);\n  }\n}\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n;\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result.default = mod;\n  return result;\n}\nexport function __importDefault(mod) {\n  return mod && mod.__esModule ? mod : {\n    default: mod\n  };\n}","!function (t, e) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = e() : \"function\" == typeof define && define.amd ? define([], e) : \"object\" == typeof exports ? exports.G = e() : t.G = e();\n}(window, function () {\n  return function (t) {\n    var e = {};\n\n    function n(r) {\n      if (e[r]) return e[r].exports;\n      var i = e[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return t[r].call(i.exports, i, i.exports, n), i.l = !0, i.exports;\n    }\n\n    return n.m = t, n.c = e, n.d = function (t, e, r) {\n      n.o(t, e) || Object.defineProperty(t, e, {\n        enumerable: !0,\n        get: r\n      });\n    }, n.r = function (t) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (t, e) {\n      if (1 & e && (t = n(t)), 8 & e) return t;\n      if (4 & e && \"object\" == typeof t && t && t.__esModule) return t;\n      var r = Object.create(null);\n      if (n.r(r), Object.defineProperty(r, \"default\", {\n        enumerable: !0,\n        value: t\n      }), 2 & e && \"string\" != typeof t) for (var i in t) {\n        n.d(r, i, function (e) {\n          return t[e];\n        }.bind(null, i));\n      }\n      return r;\n    }, n.n = function (t) {\n      var e = t && t.__esModule ? function () {\n        return t.default;\n      } : function () {\n        return t;\n      };\n      return n.d(e, \"a\", e), e;\n    }, n.o = function (t, e) {\n      return Object.prototype.hasOwnProperty.call(t, e);\n    }, n.p = \"\", n(n.s = 20);\n  }([function (t, e, n) {\n    var r;\n    r = function r() {\n      return function (t) {\n        var e = {};\n\n        function n(r) {\n          if (e[r]) return e[r].exports;\n          var i = e[r] = {\n            i: r,\n            l: !1,\n            exports: {}\n          };\n          return t[r].call(i.exports, i, i.exports, n), i.l = !0, i.exports;\n        }\n\n        return n.m = t, n.c = e, n.d = function (t, e, r) {\n          n.o(t, e) || Object.defineProperty(t, e, {\n            configurable: !1,\n            enumerable: !0,\n            get: r\n          });\n        }, n.n = function (t) {\n          var e = t && t.__esModule ? function () {\n            return t.default;\n          } : function () {\n            return t;\n          };\n          return n.d(e, \"a\", e), e;\n        }, n.o = function (t, e) {\n          return Object.prototype.hasOwnProperty.call(t, e);\n        }, n.p = \"\", n(n.s = 40);\n      }([function (t, e, n) {\n        var r = n(16),\n            i = n(1);\n\n        t.exports = function (t, e) {\n          if (t) if (i(t)) for (var n = 0, a = t.length; n < a && !1 !== e(t[n], n); n++) {\n            ;\n          } else if (r(t)) for (var o in t) {\n            if (t.hasOwnProperty(o) && !1 === e(t[o], o)) break;\n          }\n        };\n      }, function (t, e, n) {\n        var r = n(2),\n            i = Array.isArray ? Array.isArray : function (t) {\n          return r(t, \"Array\");\n        };\n        t.exports = i;\n      }, function (t, e) {\n        var n = {}.toString;\n\n        t.exports = function (t, e) {\n          return n.call(t) === \"[object \" + e + \"]\";\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"Function\");\n        };\n      }, function (t, e) {\n        t.exports = function (t) {\n          return null !== t && \"function\" != typeof t && isFinite(t.length);\n        };\n      }, function (t, e) {\n        t.exports = function (t) {\n          return null == t;\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"Number\");\n        };\n      }, function (t, e, n) {\n        var r = n(13),\n            i = n(2);\n\n        t.exports = function (t) {\n          if (!r(t) || !i(t, \"Object\")) return !1;\n          if (null === Object.getPrototypeOf(t)) return !0;\n\n          for (var e = t; null !== Object.getPrototypeOf(e);) {\n            e = Object.getPrototypeOf(e);\n          }\n\n          return Object.getPrototypeOf(t) === e;\n        };\n      }, function (t, e, n) {\n        var r = n(5);\n\n        t.exports = function (t) {\n          return r(t) ? \"\" : t.toString();\n        };\n      }, function (t, e, n) {\n        var r = n(4),\n            i = Array.prototype.indexOf;\n\n        t.exports = function (t, e) {\n          return !!r(t) && i.call(t, e) > -1;\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"String\");\n        };\n      }, function (t, e) {\n        function n(t, e) {\n          for (var n in e) {\n            e.hasOwnProperty(n) && \"constructor\" !== n && void 0 !== e[n] && (t[n] = e[n]);\n          }\n        }\n\n        t.exports = function (t, e, r, i) {\n          return e && n(t, e), r && n(t, r), i && n(t, i), t;\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(4);\n\n        t.exports = function (t, e) {\n          if (!i(t)) return t;\n          var n = [];\n          return r(t, function (t, r) {\n            e(t, r) && n.push(t);\n          }), n;\n        };\n      }, function (t, e) {\n        var n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n          return typeof t;\n        } : function (t) {\n          return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n        };\n\n        t.exports = function (t) {\n          return \"object\" === (void 0 === t ? \"undefined\" : n(t)) && null !== t;\n        };\n      }, function (t, e, n) {\n        var r = n(4);\n\n        t.exports = function (t) {\n          return r(t) ? Array.prototype.slice.call(t) : [];\n        };\n      }, function (t, e) {\n        Object.defineProperty(e, \"__esModule\", {\n          value: !0\n        }), e.setMatrixArrayType = function (t) {\n          e.ARRAY_TYPE = t;\n        }, e.toRadian = function (t) {\n          return t * r;\n        }, e.equals = function (t, e) {\n          return Math.abs(t - e) <= n * Math.max(1, Math.abs(t), Math.abs(e));\n        };\n        var n = e.EPSILON = 1e-6;\n        e.ARRAY_TYPE = \"undefined\" != typeof Float32Array ? Float32Array : Array, e.RANDOM = Math.random;\n        var r = Math.PI / 180;\n      }, function (t, e) {\n        var n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n          return typeof t;\n        } : function (t) {\n          return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n        };\n\n        t.exports = function (t) {\n          var e = void 0 === t ? \"undefined\" : n(t);\n          return null !== t && \"object\" === e || \"function\" === e;\n        };\n      }, function (t, e, n) {\n        var r = n(18),\n            i = n(5);\n\n        t.exports = function (t, e) {\n          var n = r(e),\n              a = n.length;\n          if (i(t)) return !a;\n\n          for (var o = 0; o < a; o += 1) {\n            var s = n[o];\n            if (e[s] !== t[s] || !(s in t)) return !1;\n          }\n\n          return !0;\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(3),\n            a = Object.keys ? function (t) {\n          return Object.keys(t);\n        } : function (t) {\n          var e = [];\n          return r(t, function (n, r) {\n            i(t) && \"prototype\" === r || e.push(r);\n          }), e;\n        };\n        t.exports = a;\n      }, function (t, e, n) {\n        var r = n(4),\n            i = Array.prototype.splice;\n\n        t.exports = function (t, e) {\n          if (!r(t)) return [];\n\n          for (var n = t ? e.length : 0, a = n - 1; n--;) {\n            var o = void 0,\n                s = e[n];\n            n !== a && s === o || (o = s, i.call(t, s, 1));\n          }\n\n          return t;\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(9);\n\n        t.exports = function (t) {\n          var e = [];\n          return r(t, function (t) {\n            i(e, t) || e.push(t);\n          }), e;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e, n) {\n          return t < e ? e : t > n ? n : t;\n        };\n      }, function (t, e) {\n        t.exports = parseInt;\n      }, function (t, e, n) {\n        var r = n(89);\n        r.translate = function (t, e, n) {\n          var i = new Array(9);\n          return r.fromTranslation(i, n), r.multiply(t, i, e);\n        }, r.rotate = function (t, e, n) {\n          var i = new Array(9);\n          return r.fromRotation(i, n), r.multiply(t, i, e);\n        }, r.scale = function (t, e, n) {\n          var i = new Array(9);\n          return r.fromScaling(i, n), r.multiply(t, i, e);\n        }, t.exports = r;\n      }, function (t, e, n) {\n        var r = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n          return typeof t;\n        } : function (t) {\n          return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n        },\n            i = n(1);\n\n        t.exports = function t(e) {\n          if (\"object\" !== (void 0 === e ? \"undefined\" : r(e)) || null === e) return e;\n          var n = void 0;\n\n          if (i(e)) {\n            n = [];\n\n            for (var a = 0, o = e.length; a < o; a++) {\n              \"object\" === r(e[a]) && null != e[a] ? n[a] = t(e[a]) : n[a] = e[a];\n            }\n          } else for (var s in n = {}, e) {\n            \"object\" === r(e[s]) && null != e[s] ? n[s] = t(e[s]) : n[s] = e[s];\n          }\n\n          return n;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          return t.hasOwnProperty(e);\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(3),\n            a = Object.values ? function (t) {\n          return Object.values(t);\n        } : function (t) {\n          var e = [];\n          return r(t, function (n, r) {\n            i(t) && \"prototype\" === r || e.push(n);\n          }), e;\n        };\n        t.exports = a;\n      }, function (t, e, n) {\n        var r = n(28);\n\n        t.exports = function (t, e, n, i, a) {\n          if (a) return [[\"M\", +t + +a, e], [\"l\", n - 2 * a, 0], [\"a\", a, a, 0, 0, 1, a, a], [\"l\", 0, i - 2 * a], [\"a\", a, a, 0, 0, 1, -a, a], [\"l\", 2 * a - n, 0], [\"a\", a, a, 0, 0, 1, -a, -a], [\"l\", 0, 2 * a - i], [\"a\", a, a, 0, 0, 1, a, -a], [\"z\"]];\n          var o = [[\"M\", t, e], [\"l\", n, 0], [\"l\", 0, i], [\"l\", -n, 0], [\"z\"]];\n          return o.parsePathArray = r, o;\n        };\n      }, function (t, e) {\n        var n = /,?([a-z]),?/gi;\n\n        t.exports = function (t) {\n          return t.join(\",\").replace(n, \"$1\");\n        };\n      }, function (t, e, n) {\n        var r = n(30),\n            i = function t(e, n, r, i, a, o, s, u, c, l) {\n          r === i && (r += 1);\n\n          var h = 120 * Math.PI / 180,\n              f = Math.PI / 180 * (+a || 0),\n              p = [],\n              d = void 0,\n              v = void 0,\n              y = void 0,\n              g = void 0,\n              x = void 0,\n              m = function m(t, e, n) {\n            return {\n              x: t * Math.cos(n) - e * Math.sin(n),\n              y: t * Math.sin(n) + e * Math.cos(n)\n            };\n          };\n\n          if (l) v = l[0], y = l[1], g = l[2], x = l[3];else {\n            e = (d = m(e, n, -f)).x, n = d.y, u = (d = m(u, c, -f)).x, c = d.y, e === u && n === c && (u += 1, c += 1);\n            var b = (e - u) / 2,\n                M = (n - c) / 2,\n                w = b * b / (r * r) + M * M / (i * i);\n            w > 1 && (r *= w = Math.sqrt(w), i *= w);\n\n            var _ = r * r,\n                A = i * i,\n                P = (o === s ? -1 : 1) * Math.sqrt(Math.abs((_ * A - _ * M * M - A * b * b) / (_ * M * M + A * b * b)));\n\n            g = P * r * M / i + (e + u) / 2, x = P * -i * b / r + (n + c) / 2, v = Math.asin(((n - x) / i).toFixed(9)), y = Math.asin(((c - x) / i).toFixed(9)), v = e < g ? Math.PI - v : v, y = u < g ? Math.PI - y : y, v < 0 && (v = 2 * Math.PI + v), y < 0 && (y = 2 * Math.PI + y), s && v > y && (v -= 2 * Math.PI), !s && y > v && (y -= 2 * Math.PI);\n          }\n          var S = y - v;\n\n          if (Math.abs(S) > h) {\n            var k = y,\n                O = u,\n                I = c;\n            y = v + h * (s && y > v ? 1 : -1), p = t(u = g + r * Math.cos(y), c = x + i * Math.sin(y), r, i, a, 0, s, O, I, [y, k, g, x]);\n          }\n\n          S = y - v;\n          var T = Math.cos(v),\n              C = Math.sin(v),\n              E = Math.cos(y),\n              N = Math.sin(y),\n              j = Math.tan(S / 4),\n              L = 4 / 3 * r * j,\n              q = 4 / 3 * i * j,\n              B = [e, n],\n              R = [e + L * C, n - q * T],\n              F = [u + L * N, c - q * E],\n              D = [u, c];\n          if (R[0] = 2 * B[0] - R[0], R[1] = 2 * B[1] - R[1], l) return [R, F, D].concat(p);\n\n          for (var W = [], Y = 0, H = (p = [R, F, D].concat(p).join().split(\",\")).length; Y < H; Y++) {\n            W[Y] = Y % 2 ? m(p[Y - 1], p[Y], f).y : m(p[Y], p[Y + 1], f).x;\n          }\n\n          return W;\n        },\n            a = function a(t, e, n, r) {\n          return [t, e, n, r, n, r];\n        },\n            o = function o(t, e, n, r, i, a) {\n          return [1 / 3 * t + 2 / 3 * n, 1 / 3 * e + 2 / 3 * r, 1 / 3 * i + 2 / 3 * n, 1 / 3 * a + 2 / 3 * r, i, a];\n        };\n\n        t.exports = function (t, e) {\n          var n = r(t),\n              s = e && r(e),\n              u = {\n            x: 0,\n            y: 0,\n            bx: 0,\n            by: 0,\n            X: 0,\n            Y: 0,\n            qx: null,\n            qy: null\n          },\n              c = {\n            x: 0,\n            y: 0,\n            bx: 0,\n            by: 0,\n            X: 0,\n            Y: 0,\n            qx: null,\n            qy: null\n          },\n              l = [],\n              h = [],\n              f = \"\",\n              p = \"\",\n              d = void 0,\n              v = function v(t, e, n) {\n            var r = void 0,\n                s = void 0;\n            if (!t) return [\"C\", e.x, e.y, e.x, e.y, e.x, e.y];\n\n            switch (!(t[0] in {\n              T: 1,\n              Q: 1\n            }) && (e.qx = e.qy = null), t[0]) {\n              case \"M\":\n                e.X = t[1], e.Y = t[2];\n                break;\n\n              case \"A\":\n                t = [\"C\"].concat(i.apply(0, [e.x, e.y].concat(t.slice(1))));\n                break;\n\n              case \"S\":\n                \"C\" === n || \"S\" === n ? (r = 2 * e.x - e.bx, s = 2 * e.y - e.by) : (r = e.x, s = e.y), t = [\"C\", r, s].concat(t.slice(1));\n                break;\n\n              case \"T\":\n                \"Q\" === n || \"T\" === n ? (e.qx = 2 * e.x - e.qx, e.qy = 2 * e.y - e.qy) : (e.qx = e.x, e.qy = e.y), t = [\"C\"].concat(o(e.x, e.y, e.qx, e.qy, t[1], t[2]));\n                break;\n\n              case \"Q\":\n                e.qx = t[1], e.qy = t[2], t = [\"C\"].concat(o(e.x, e.y, t[1], t[2], t[3], t[4]));\n                break;\n\n              case \"L\":\n                t = [\"C\"].concat(a(e.x, e.y, t[1], t[2]));\n                break;\n\n              case \"H\":\n                t = [\"C\"].concat(a(e.x, e.y, t[1], e.y));\n                break;\n\n              case \"V\":\n                t = [\"C\"].concat(a(e.x, e.y, e.x, t[1]));\n                break;\n\n              case \"Z\":\n                t = [\"C\"].concat(a(e.x, e.y, e.X, e.Y));\n            }\n\n            return t;\n          },\n              y = function y(t, e) {\n            if (t[e].length > 7) {\n              t[e].shift();\n\n              for (var r = t[e]; r.length;) {\n                l[e] = \"A\", s && (h[e] = \"A\"), t.splice(e++, 0, [\"C\"].concat(r.splice(0, 6)));\n              }\n\n              t.splice(e, 1), d = Math.max(n.length, s && s.length || 0);\n            }\n          },\n              g = function g(t, e, r, i, a) {\n            t && e && \"M\" === t[a][0] && \"M\" !== e[a][0] && (e.splice(a, 0, [\"M\", i.x, i.y]), r.bx = 0, r.by = 0, r.x = t[a][1], r.y = t[a][2], d = Math.max(n.length, s && s.length || 0));\n          };\n\n          d = Math.max(n.length, s && s.length || 0);\n\n          for (var x = 0; x < d; x++) {\n            n[x] && (f = n[x][0]), \"C\" !== f && (l[x] = f, x && (p = l[x - 1])), n[x] = v(n[x], u, p), \"A\" !== l[x] && \"C\" === f && (l[x] = \"C\"), y(n, x), s && (s[x] && (f = s[x][0]), \"C\" !== f && (h[x] = f, x && (p = h[x - 1])), s[x] = v(s[x], c, p), \"A\" !== h[x] && \"C\" === f && (h[x] = \"C\"), y(s, x)), g(n, s, u, c, x), g(s, n, c, u, x);\n            var m = n[x],\n                b = s && s[x],\n                M = m.length,\n                w = s && b.length;\n            u.x = m[M - 2], u.y = m[M - 1], u.bx = parseFloat(m[M - 4]) || u.x, u.by = parseFloat(m[M - 3]) || u.y, c.bx = s && (parseFloat(b[w - 4]) || c.x), c.by = s && (parseFloat(b[w - 3]) || c.y), c.x = s && b[w - 2], c.y = s && b[w - 1];\n          }\n\n          return s ? [n, s] : n;\n        };\n      }, function (t, e, n) {\n        var r = n(31),\n            i = n(32);\n\n        function a(t, e, n, r, i) {\n          var a = [];\n\n          if (null === i && null === r && (r = n), t = +t, e = +e, n = +n, r = +r, null !== i) {\n            var o = Math.PI / 180,\n                s = t + n * Math.cos(-r * o),\n                u = t + n * Math.cos(-i * o);\n            a = [[\"M\", s, e + n * Math.sin(-r * o)], [\"A\", n, n, 0, +(i - r > 180), 0, u, e + n * Math.sin(-i * o)]];\n          } else a = [[\"M\", t, e], [\"m\", 0, -r], [\"a\", n, r, 0, 1, 1, 0, 2 * r], [\"a\", n, r, 0, 1, 1, 0, -2 * r], [\"z\"]];\n\n          return a;\n        }\n\n        t.exports = function (t) {\n          if (!(t = r(t)) || !t.length) return [[\"M\", 0, 0]];\n          var e = [],\n              n = 0,\n              o = 0,\n              s = 0,\n              u = 0,\n              c = 0,\n              l = void 0,\n              h = void 0;\n          \"M\" === t[0][0] && (s = n = +t[0][1], u = o = +t[0][2], c++, e[0] = [\"M\", n, o]);\n\n          for (var f, p, d = 3 === t.length && \"M\" === t[0][0] && \"R\" === t[1][0].toUpperCase() && \"Z\" === t[2][0].toUpperCase(), v = c, y = t.length; v < y; v++) {\n            if (e.push(f = []), (l = (p = t[v])[0]) !== l.toUpperCase()) switch (f[0] = l.toUpperCase(), f[0]) {\n              case \"A\":\n                f[1] = p[1], f[2] = p[2], f[3] = p[3], f[4] = p[4], f[5] = p[5], f[6] = +p[6] + n, f[7] = +p[7] + o;\n                break;\n\n              case \"V\":\n                f[1] = +p[1] + o;\n                break;\n\n              case \"H\":\n                f[1] = +p[1] + n;\n                break;\n\n              case \"R\":\n                for (var g = 2, x = (h = [n, o].concat(p.slice(1))).length; g < x; g++) {\n                  h[g] = +h[g] + n, h[++g] = +h[g] + o;\n                }\n\n                e.pop(), e = e.concat(i(h, d));\n                break;\n\n              case \"O\":\n                e.pop(), (h = a(n, o, p[1], p[2])).push(h[0]), e = e.concat(h);\n                break;\n\n              case \"U\":\n                e.pop(), e = e.concat(a(n, o, p[1], p[2], p[3])), f = [\"U\"].concat(e[e.length - 1].slice(-2));\n                break;\n\n              case \"M\":\n                s = +p[1] + n, u = +p[2] + o;\n                break;\n\n              default:\n                for (var m = 1, b = p.length; m < b; m++) {\n                  f[m] = +p[m] + (m % 2 ? n : o);\n                }\n\n            } else if (\"R\" === l) h = [n, o].concat(p.slice(1)), e.pop(), e = e.concat(i(h, d)), f = [\"R\"].concat(p.slice(-2));else if (\"O\" === l) e.pop(), (h = a(n, o, p[1], p[2])).push(h[0]), e = e.concat(h);else if (\"U\" === l) e.pop(), e = e.concat(a(n, o, p[1], p[2], p[3])), f = [\"U\"].concat(e[e.length - 1].slice(-2));else for (var M = 0, w = p.length; M < w; M++) {\n              f[M] = p[M];\n            }\n            if (\"O\" !== (l = l.toUpperCase())) switch (f[0]) {\n              case \"Z\":\n                n = +s, o = +u;\n                break;\n\n              case \"H\":\n                n = f[1];\n                break;\n\n              case \"V\":\n                o = f[1];\n                break;\n\n              case \"M\":\n                s = f[f.length - 2], u = f[f.length - 1];\n                break;\n\n              default:\n                n = f[f.length - 2], o = f[f.length - 1];\n            }\n          }\n\n          return e;\n        };\n      }, function (t, e) {\n        var n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n          return typeof t;\n        } : function (t) {\n          return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n        },\n            r = \"\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\",\n            i = new RegExp(\"([a-z])[\" + r + \",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\" + r + \"]*,?[\" + r + \"]*)+)\", \"ig\"),\n            a = new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\" + r + \"]*,?[\" + r + \"]*\", \"ig\");\n\n        t.exports = function (t) {\n          if (!t) return null;\n          if ((void 0 === t ? \"undefined\" : n(t)) === n([])) return t;\n          var e = {\n            a: 7,\n            c: 6,\n            o: 2,\n            h: 1,\n            l: 2,\n            m: 2,\n            r: 4,\n            q: 4,\n            s: 4,\n            t: 2,\n            v: 1,\n            u: 3,\n            z: 0\n          },\n              r = [];\n          return String(t).replace(i, function (t, n, i) {\n            var o = [],\n                s = n.toLowerCase();\n            if (i.replace(a, function (t, e) {\n              e && o.push(+e);\n            }), \"m\" === s && o.length > 2 && (r.push([n].concat(o.splice(0, 2))), s = \"l\", n = \"m\" === n ? \"l\" : \"L\"), \"o\" === s && 1 === o.length && r.push([n, o[0]]), \"r\" === s) r.push([n].concat(o));else for (; o.length >= e[s] && (r.push([n].concat(o.splice(0, e[s]))), e[s]);) {\n              ;\n            }\n          }), r;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          for (var n = [], r = 0, i = t.length; i - 2 * !e > r; r += 2) {\n            var a = [{\n              x: +t[r - 2],\n              y: +t[r - 1]\n            }, {\n              x: +t[r],\n              y: +t[r + 1]\n            }, {\n              x: +t[r + 2],\n              y: +t[r + 3]\n            }, {\n              x: +t[r + 4],\n              y: +t[r + 5]\n            }];\n            e ? r ? i - 4 === r ? a[3] = {\n              x: +t[0],\n              y: +t[1]\n            } : i - 2 === r && (a[2] = {\n              x: +t[0],\n              y: +t[1]\n            }, a[3] = {\n              x: +t[2],\n              y: +t[3]\n            }) : a[0] = {\n              x: +t[i - 2],\n              y: +t[i - 1]\n            } : i - 4 === r ? a[3] = a[2] : r || (a[0] = {\n              x: +t[r],\n              y: +t[r + 1]\n            }), n.push([\"C\", (-a[0].x + 6 * a[1].x + a[2].x) / 6, (-a[0].y + 6 * a[1].y + a[2].y) / 6, (a[1].x + 6 * a[2].x - a[3].x) / 6, (a[1].y + 6 * a[2].y - a[3].y) / 6, a[2].x, a[2].y]);\n          }\n\n          return n;\n        };\n      }, function (t, e, n) {\n        var r = n(8);\n\n        t.exports = function (t) {\n          return r(t).toLowerCase();\n        };\n      }, function (t, e, n) {\n        var r = n(8);\n\n        t.exports = function (t) {\n          return r(t).toUpperCase();\n        };\n      }, function (t, e) {\n        var n = {}.toString;\n\n        t.exports = function (t) {\n          return n.call(t).replace(/^\\[object /, \"\").replace(/\\]$/, \"\");\n        };\n      }, function (t, e) {\n        var n = Object.prototype;\n\n        t.exports = function (t) {\n          var e = t && t.constructor;\n          return t === (\"function\" == typeof e && e.prototype || n);\n        };\n      }, function (t, e, n) {\n        var r = n(3),\n            i = n(1),\n            a = n(38);\n\n        t.exports = function (t, e) {\n          if (!e) return {\n            0: t\n          };\n\n          if (!r(e)) {\n            var n = i(e) ? e : e.replace(/\\s+/g, \"\").split(\"*\");\n\n            e = function e(t) {\n              for (var e = \"_\", r = 0, i = n.length; r < i; r++) {\n                e += t[n[r]] && t[n[r]].toString();\n              }\n\n              return e;\n            };\n          }\n\n          return a(t, e);\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(1),\n            a = Object.prototype.hasOwnProperty;\n\n        t.exports = function (t, e) {\n          if (!e || !i(t)) return t;\n          var n = {},\n              o = null;\n          return r(t, function (t) {\n            o = e(t), a.call(n, o) ? n[o].push(t) : n[o] = [t];\n          }), n;\n        };\n      }, function (t, e, n) {\n        var r = n(13),\n            i = n(4),\n            a = n(10);\n\n        t.exports = function t(e, n) {\n          if (e === n) return !0;\n          if (!e || !n) return !1;\n          if (a(e) || a(n)) return !1;\n\n          if (i(e) || i(n)) {\n            if (e.length !== n.length) return !1;\n\n            for (var o = !0, s = 0; s < e.length && (o = t(e[s], n[s])); s++) {\n              ;\n            }\n\n            return o;\n          }\n\n          if (r(e) || r(n)) {\n            var u = Object.keys(e),\n                c = Object.keys(n);\n            if (u.length !== c.length) return !1;\n\n            for (var l = !0, h = 0; h < u.length && (l = t(e[u[h]], n[u[h]])); h++) {\n              ;\n            }\n\n            return l;\n          }\n\n          return !1;\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(11),\n            a = n(41),\n            o = n(53),\n            s = n(67),\n            u = n(70),\n            c = n(74),\n            l = n(88),\n            h = n(95),\n            f = n(99),\n            p = n(105),\n            d = n(111),\n            v = {\n          DOMUtil: a,\n          DomUtil: a,\n          MatrixUtil: l,\n          PathUtil: f,\n          arrayUtil: o,\n          domUtil: a,\n          eventUtil: s,\n          formatUtil: u,\n          mathUtil: c,\n          matrixUtil: l,\n          objectUtil: h,\n          stringUtil: p,\n          pathUtil: f,\n          typeUtil: d,\n          augment: n(119),\n          clone: n(24),\n          debounce: n(120),\n          deepMix: n(121),\n          each: r,\n          extend: n(122),\n          filter: n(12),\n          group: n(123),\n          groupBy: n(38),\n          groupToMap: n(37),\n          indexOf: n(124),\n          isEmpty: n(125),\n          isEqual: n(39),\n          isEqualWith: n(126),\n          map: n(127),\n          mix: i,\n          pick: n(128),\n          throttle: n(129),\n          toArray: n(14),\n          toString: n(8),\n          uniqueId: n(130)\n        };\n        r([a, o, s, u, c, l, h, f, p, d], function (t) {\n          i(v, t);\n        }), t.exports = v;\n      }, function (t, e, n) {\n        t.exports = {\n          addEventListener: n(42),\n          createDom: n(43),\n          getBoundingClientRect: n(44),\n          getHeight: n(45),\n          getOuterHeight: n(46),\n          getOuterWidth: n(47),\n          getRatio: n(48),\n          getStyle: n(49),\n          getWidth: n(50),\n          modifyCSS: n(51),\n          requestAnimationFrame: n(52)\n        };\n      }, function (t, e) {\n        t.exports = function (t, e, n) {\n          if (t) {\n            if (t.addEventListener) return t.addEventListener(e, n, !1), {\n              remove: function remove() {\n                t.removeEventListener(e, n, !1);\n              }\n            };\n            if (t.attachEvent) return t.attachEvent(\"on\" + e, n), {\n              remove: function remove() {\n                t.detachEvent(\"on\" + e, n);\n              }\n            };\n          }\n        };\n      }, function (t, e) {\n        var n = document.createElement(\"table\"),\n            r = document.createElement(\"tr\"),\n            i = /^\\s*<(\\w+|!)[^>]*>/,\n            a = {\n          tr: document.createElement(\"tbody\"),\n          tbody: n,\n          thead: n,\n          tfoot: n,\n          td: r,\n          th: r,\n          \"*\": document.createElement(\"div\")\n        };\n\n        t.exports = function (t) {\n          var e = i.test(t) && RegExp.$1;\n          e in a || (e = \"*\");\n          var n = a[e];\n          t = t.replace(/(^\\s*)|(\\s*$)/g, \"\"), n.innerHTML = \"\" + t;\n          var r = n.childNodes[0];\n          return n.removeChild(r), r;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          if (t && t.getBoundingClientRect) {\n            var n = t.getBoundingClientRect(),\n                r = document.documentElement.clientTop,\n                i = document.documentElement.clientLeft;\n            return {\n              top: n.top - r,\n              bottom: n.bottom - r,\n              left: n.left - i,\n              right: n.right - i\n            };\n          }\n\n          return e || null;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          var n = this.getStyle(t, \"height\", e);\n          return \"auto\" === n && (n = t.offsetHeight), parseFloat(n);\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          var n = this.getHeight(t, e),\n              r = parseFloat(this.getStyle(t, \"borderTopWidth\")) || 0,\n              i = parseFloat(this.getStyle(t, \"paddingTop\")) || 0,\n              a = parseFloat(this.getStyle(t, \"paddingBottom\")) || 0;\n          return n + r + (parseFloat(this.getStyle(t, \"borderBottomWidth\")) || 0) + i + a;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          var n = this.getWidth(t, e),\n              r = parseFloat(this.getStyle(t, \"borderLeftWidth\")) || 0,\n              i = parseFloat(this.getStyle(t, \"paddingLeft\")) || 0,\n              a = parseFloat(this.getStyle(t, \"paddingRight\")) || 0;\n          return n + r + (parseFloat(this.getStyle(t, \"borderRightWidth\")) || 0) + i + a;\n        };\n      }, function (t, e) {\n        t.exports = function () {\n          return window.devicePixelRatio ? window.devicePixelRatio : 2;\n        };\n      }, function (t, e, n) {\n        var r = n(5);\n\n        t.exports = function (t, e, n) {\n          try {\n            return window.getComputedStyle ? window.getComputedStyle(t, null)[e] : t.currentStyle[e];\n          } catch (t) {\n            return r(n) ? null : n;\n          }\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          var n = this.getStyle(t, \"width\", e);\n          return \"auto\" === n && (n = t.offsetWidth), parseFloat(n);\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          if (t) for (var n in e) {\n            e.hasOwnProperty(n) && (t.style[n] = e[n]);\n          }\n          return t;\n        };\n      }, function (t, e) {\n        t.exports = function (t) {\n          return (window.requestAnimationFrame || window.webkitRequestAnimationFrame || function (t) {\n            return setTimeout(t, 16);\n          })(t);\n        };\n      }, function (t, e, n) {\n        t.exports = {\n          contains: n(9),\n          difference: n(54),\n          find: n(55),\n          firstValue: n(56),\n          flatten: n(57),\n          flattenDeep: n(58),\n          getRange: n(59),\n          merge: n(60),\n          pull: n(61),\n          pullAt: n(19),\n          reduce: n(62),\n          remove: n(63),\n          sortBy: n(64),\n          union: n(65),\n          uniq: n(20),\n          valuesOfKey: n(66)\n        };\n      }, function (t, e, n) {\n        var r = n(12),\n            i = n(9);\n\n        t.exports = function (t) {\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];\n          return r(t, function (t) {\n            return !i(e, t);\n          });\n        };\n      }, function (t, e, n) {\n        var r = n(3),\n            i = n(7),\n            a = n(17);\n\n        t.exports = function (t, e) {\n          var n = void 0;\n          if (r(e) && (n = e), i(e) && (n = function n(t) {\n            return a(t, e);\n          }), n) for (var o = 0; o < t.length; o += 1) {\n            if (n(t[o])) return t[o];\n          }\n          return null;\n        };\n      }, function (t, e, n) {\n        var r = n(5),\n            i = n(1);\n\n        t.exports = function (t, e) {\n          for (var n = null, a = 0; a < t.length; a++) {\n            var o = t[a][e];\n\n            if (!r(o)) {\n              n = i(o) ? o[0] : o;\n              break;\n            }\n          }\n\n          return n;\n        };\n      }, function (t, e, n) {\n        var r = n(1),\n            i = n(0);\n\n        t.exports = function (t) {\n          if (!r(t)) return t;\n          var e = [];\n          return i(t, function (t) {\n            r(t) ? i(t, function (t) {\n              e.push(t);\n            }) : e.push(t);\n          }), e;\n        };\n      }, function (t, e, n) {\n        var r = n(1);\n\n        t.exports = function t(e) {\n          var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];\n          if (r(e)) for (var i = 0; i < e.length; i += 1) {\n            t(e[i], n);\n          } else n.push(e);\n          return n;\n        };\n      }, function (t, e, n) {\n        var r = n(12),\n            i = n(1);\n\n        t.exports = function (t) {\n          if (!(t = r(t, function (t) {\n            return !isNaN(t);\n          })).length) return {\n            min: 0,\n            max: 0\n          };\n\n          if (i(t[0])) {\n            for (var e = [], n = 0; n < t.length; n++) {\n              e = e.concat(t[n]);\n            }\n\n            t = e;\n          }\n\n          var a = Math.max.apply(null, t);\n          return {\n            min: Math.min.apply(null, t),\n            max: a\n          };\n        };\n      }, function (t, e) {\n        t.exports = function (t) {\n          for (var e = [], n = 0; n < t.length; n++) {\n            e = e.concat(t[n]);\n          }\n\n          return e;\n        };\n      }, function (t, e) {\n        var n = Array.prototype,\n            r = n.splice,\n            i = n.indexOf,\n            a = n.slice;\n\n        t.exports = function (t) {\n          for (var e = a.call(arguments, 1), n = 0; n < e.length; n++) {\n            for (var o = e[n], s = -1; (s = i.call(t, o)) > -1;) {\n              r.call(t, s, 1);\n            }\n          }\n\n          return t;\n        };\n      }, function (t, e, n) {\n        var r = n(1),\n            i = n(7),\n            a = n(0);\n\n        t.exports = function (t, e, n) {\n          if (!r(t) && !i(t)) return t;\n          var o = n;\n          return a(t, function (t, n) {\n            o = e(o, t, n);\n          }), o;\n        };\n      }, function (t, e, n) {\n        var r = n(4),\n            i = n(19);\n\n        t.exports = function (t, e) {\n          var n = [];\n          if (!r(t)) return n;\n\n          for (var a = -1, o = [], s = t.length; ++a < s;) {\n            var u = t[a];\n            e(u, a, t) && (n.push(u), o.push(a));\n          }\n\n          return i(t, o), n;\n        };\n      }, function (t, e, n) {\n        var r = n(10),\n            i = n(3),\n            a = n(1);\n\n        t.exports = function (t, e) {\n          var n = void 0;\n          if (i(e)) n = function n(t, _n) {\n            return e(t) - e(_n);\n          };else {\n            var o = [];\n            r(e) ? o.push(e) : a(e) && (o = e), n = function n(t, e) {\n              for (var n = 0; n < o.length; n += 1) {\n                var r = o[n];\n                if (t[r] > e[r]) return 1;\n                if (t[r] < e[r]) return -1;\n              }\n\n              return 0;\n            };\n          }\n          return t.sort(n), t;\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(14),\n            a = n(20);\n\n        t.exports = function () {\n          var t = [],\n              e = i(arguments);\n          return r(e, function (e) {\n            t = t.concat(e);\n          }), a(t);\n        };\n      }, function (t, e, n) {\n        var r = n(5),\n            i = n(1),\n            a = n(0);\n\n        t.exports = function (t, e) {\n          for (var n = [], o = {}, s = 0; s < t.length; s++) {\n            var u = t[s][e];\n            r(u) || (i(u) || (u = [u]), a(u, function (t) {\n              o[t] || (n.push(t), o[t] = !0);\n            }));\n          }\n\n          return n;\n        };\n      }, function (t, e, n) {\n        t.exports = {\n          getWrapBehavior: n(68),\n          wrapBehavior: n(69)\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          return t[\"_wrap_\" + e];\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          if (t[\"_wrap_\" + e]) return t[\"_wrap_\" + e];\n\n          var n = function n(_n2) {\n            t[e](_n2);\n          };\n\n          return t[\"_wrap_\" + e] = n, n;\n        };\n      }, function (t, e, n) {\n        var r = n(71);\n        t.exports = {\n          number2color: r,\n          numberToColor: r,\n          parsePath: n(72),\n          parseRadius: n(73)\n        };\n      }, function (t, e) {\n        var n = {};\n\n        t.exports = function (t) {\n          var e = n[t];\n\n          if (!e) {\n            for (var r = t.toString(16), i = r.length; i < 6; i++) {\n              r = \"0\" + r;\n            }\n\n            e = \"#\" + r, n[t] = e;\n          }\n\n          return e;\n        };\n      }, function (t, e, n) {\n        var r = n(1),\n            i = n(10),\n            a = n(0),\n            o = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,\n            s = /[^\\s\\,]+/gi;\n\n        t.exports = function (t) {\n          return r(t = t || []) ? t : i(t) ? (t = t.match(o), a(t, function (e, n) {\n            if ((e = e.match(s))[0].length > 1) {\n              var r = e[0].charAt(0);\n              e.splice(1, 0, e[0].substr(1)), e[0] = r;\n            }\n\n            a(e, function (t, n) {\n              isNaN(t) || (e[n] = +t);\n            }), t[n] = e;\n          }), t) : void 0;\n        };\n      }, function (t, e, n) {\n        var r = n(1);\n\n        t.exports = function (t) {\n          var e = 0,\n              n = 0,\n              i = 0,\n              a = 0;\n          return r(t) ? 1 === t.length ? e = n = i = a = t[0] : 2 === t.length ? (e = i = t[0], n = a = t[1]) : 3 === t.length ? (e = t[0], n = a = t[1], i = t[2]) : (e = t[0], n = t[1], i = t[2], a = t[3]) : e = n = i = a = t, {\n            r1: e,\n            r2: n,\n            r3: i,\n            r4: a\n          };\n        };\n      }, function (t, e, n) {\n        var r = n(75);\n        t.exports = {\n          clamp: n(21),\n          fixedBase: n(76),\n          isDecimal: n(77),\n          isEven: n(78),\n          isInteger: n(79),\n          isNegative: n(80),\n          isNumberEqual: r,\n          isOdd: n(81),\n          isPositive: n(82),\n          maxBy: n(83),\n          minBy: n(84),\n          mod: n(85),\n          snapEqual: r,\n          toDegree: n(86),\n          toInt: n(22),\n          toInteger: n(22),\n          toRadian: n(87)\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1e-5;\n          return Math.abs(t - e) < n;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          var n = e.toString(),\n              r = n.indexOf(\".\");\n          if (-1 === r) return Math.round(t);\n          var i = n.substr(r + 1).length;\n          return i > 20 && (i = 20), parseFloat(t.toFixed(i));\n        };\n      }, function (t, e, n) {\n        var r = n(6);\n\n        t.exports = function (t) {\n          return r(t) && t % 1 != 0;\n        };\n      }, function (t, e, n) {\n        var r = n(6);\n\n        t.exports = function (t) {\n          return r(t) && t % 2 == 0;\n        };\n      }, function (t, e, n) {\n        var r = n(6),\n            i = Number.isInteger ? Number.isInteger : function (t) {\n          return r(t) && t % 1 == 0;\n        };\n        t.exports = i;\n      }, function (t, e, n) {\n        var r = n(6);\n\n        t.exports = function (t) {\n          return r(t) && t < 0;\n        };\n      }, function (t, e, n) {\n        var r = n(6);\n\n        t.exports = function (t) {\n          return r(t) && t % 2 != 0;\n        };\n      }, function (t, e, n) {\n        var r = n(6);\n\n        t.exports = function (t) {\n          return r(t) && t > 0;\n        };\n      }, function (t, e, n) {\n        var r = n(1),\n            i = n(3),\n            a = n(0);\n\n        t.exports = function (t, e) {\n          if (r(t)) {\n            var n = t[0],\n                o = void 0;\n            o = i(e) ? e(t[0]) : t[0][e];\n            var s = void 0;\n            return a(t, function (t) {\n              (s = i(e) ? e(t) : t[e]) > o && (n = t, o = s);\n            }), n;\n          }\n        };\n      }, function (t, e, n) {\n        var r = n(1),\n            i = n(3),\n            a = n(0);\n\n        t.exports = function (t, e) {\n          if (r(t)) {\n            var n = t[0],\n                o = void 0;\n            o = i(e) ? e(t[0]) : t[0][e];\n            var s = void 0;\n            return a(t, function (t) {\n              (s = i(e) ? e(t) : t[e]) < o && (n = t, o = s);\n            }), n;\n          }\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          return (t % e + e) % e;\n        };\n      }, function (t, e) {\n        var n = 180 / Math.PI;\n\n        t.exports = function (t) {\n          return n * t;\n        };\n      }, function (t, e) {\n        var n = Math.PI / 180;\n\n        t.exports = function (t) {\n          return n * t;\n        };\n      }, function (t, e, n) {\n        t.exports = {\n          mat3: n(23),\n          vec2: n(90),\n          vec3: n(92),\n          transform: n(94)\n        };\n      }, function (t, e, n) {\n        Object.defineProperty(e, \"__esModule\", {\n          value: !0\n        }), e.sub = e.mul = void 0, e.create = function () {\n          var t = new r.ARRAY_TYPE(9);\n          return r.ARRAY_TYPE != Float32Array && (t[1] = 0, t[2] = 0, t[3] = 0, t[5] = 0, t[6] = 0, t[7] = 0), t[0] = 1, t[4] = 1, t[8] = 1, t;\n        }, e.fromMat4 = function (t, e) {\n          return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[4], t[4] = e[5], t[5] = e[6], t[6] = e[8], t[7] = e[9], t[8] = e[10], t;\n        }, e.clone = function (t) {\n          var e = new r.ARRAY_TYPE(9);\n          return e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e[4] = t[4], e[5] = t[5], e[6] = t[6], e[7] = t[7], e[8] = t[8], e;\n        }, e.copy = function (t, e) {\n          return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t[4] = e[4], t[5] = e[5], t[6] = e[6], t[7] = e[7], t[8] = e[8], t;\n        }, e.fromValues = function (t, e, n, i, a, o, s, u, c) {\n          var l = new r.ARRAY_TYPE(9);\n          return l[0] = t, l[1] = e, l[2] = n, l[3] = i, l[4] = a, l[5] = o, l[6] = s, l[7] = u, l[8] = c, l;\n        }, e.set = function (t, e, n, r, i, a, o, s, u, c) {\n          return t[0] = e, t[1] = n, t[2] = r, t[3] = i, t[4] = a, t[5] = o, t[6] = s, t[7] = u, t[8] = c, t;\n        }, e.identity = function (t) {\n          return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 1, t[5] = 0, t[6] = 0, t[7] = 0, t[8] = 1, t;\n        }, e.transpose = function (t, e) {\n          if (t === e) {\n            var n = e[1],\n                r = e[2],\n                i = e[5];\n            t[1] = e[3], t[2] = e[6], t[3] = n, t[5] = e[7], t[6] = r, t[7] = i;\n          } else t[0] = e[0], t[1] = e[3], t[2] = e[6], t[3] = e[1], t[4] = e[4], t[5] = e[7], t[6] = e[2], t[7] = e[5], t[8] = e[8];\n\n          return t;\n        }, e.invert = function (t, e) {\n          var n = e[0],\n              r = e[1],\n              i = e[2],\n              a = e[3],\n              o = e[4],\n              s = e[5],\n              u = e[6],\n              c = e[7],\n              l = e[8],\n              h = l * o - s * c,\n              f = -l * a + s * u,\n              p = c * a - o * u,\n              d = n * h + r * f + i * p;\n          return d ? (d = 1 / d, t[0] = h * d, t[1] = (-l * r + i * c) * d, t[2] = (s * r - i * o) * d, t[3] = f * d, t[4] = (l * n - i * u) * d, t[5] = (-s * n + i * a) * d, t[6] = p * d, t[7] = (-c * n + r * u) * d, t[8] = (o * n - r * a) * d, t) : null;\n        }, e.adjoint = function (t, e) {\n          var n = e[0],\n              r = e[1],\n              i = e[2],\n              a = e[3],\n              o = e[4],\n              s = e[5],\n              u = e[6],\n              c = e[7],\n              l = e[8];\n          return t[0] = o * l - s * c, t[1] = i * c - r * l, t[2] = r * s - i * o, t[3] = s * u - a * l, t[4] = n * l - i * u, t[5] = i * a - n * s, t[6] = a * c - o * u, t[7] = r * u - n * c, t[8] = n * o - r * a, t;\n        }, e.determinant = function (t) {\n          var e = t[0],\n              n = t[1],\n              r = t[2],\n              i = t[3],\n              a = t[4],\n              o = t[5],\n              s = t[6],\n              u = t[7],\n              c = t[8];\n          return e * (c * a - o * u) + n * (-c * i + o * s) + r * (u * i - a * s);\n        }, e.multiply = i, e.translate = function (t, e, n) {\n          var r = e[0],\n              i = e[1],\n              a = e[2],\n              o = e[3],\n              s = e[4],\n              u = e[5],\n              c = e[6],\n              l = e[7],\n              h = e[8],\n              f = n[0],\n              p = n[1];\n          return t[0] = r, t[1] = i, t[2] = a, t[3] = o, t[4] = s, t[5] = u, t[6] = f * r + p * o + c, t[7] = f * i + p * s + l, t[8] = f * a + p * u + h, t;\n        }, e.rotate = function (t, e, n) {\n          var r = e[0],\n              i = e[1],\n              a = e[2],\n              o = e[3],\n              s = e[4],\n              u = e[5],\n              c = e[6],\n              l = e[7],\n              h = e[8],\n              f = Math.sin(n),\n              p = Math.cos(n);\n          return t[0] = p * r + f * o, t[1] = p * i + f * s, t[2] = p * a + f * u, t[3] = p * o - f * r, t[4] = p * s - f * i, t[5] = p * u - f * a, t[6] = c, t[7] = l, t[8] = h, t;\n        }, e.scale = function (t, e, n) {\n          var r = n[0],\n              i = n[1];\n          return t[0] = r * e[0], t[1] = r * e[1], t[2] = r * e[2], t[3] = i * e[3], t[4] = i * e[4], t[5] = i * e[5], t[6] = e[6], t[7] = e[7], t[8] = e[8], t;\n        }, e.fromTranslation = function (t, e) {\n          return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 1, t[5] = 0, t[6] = e[0], t[7] = e[1], t[8] = 1, t;\n        }, e.fromRotation = function (t, e) {\n          var n = Math.sin(e),\n              r = Math.cos(e);\n          return t[0] = r, t[1] = n, t[2] = 0, t[3] = -n, t[4] = r, t[5] = 0, t[6] = 0, t[7] = 0, t[8] = 1, t;\n        }, e.fromScaling = function (t, e) {\n          return t[0] = e[0], t[1] = 0, t[2] = 0, t[3] = 0, t[4] = e[1], t[5] = 0, t[6] = 0, t[7] = 0, t[8] = 1, t;\n        }, e.fromMat2d = function (t, e) {\n          return t[0] = e[0], t[1] = e[1], t[2] = 0, t[3] = e[2], t[4] = e[3], t[5] = 0, t[6] = e[4], t[7] = e[5], t[8] = 1, t;\n        }, e.fromQuat = function (t, e) {\n          var n = e[0],\n              r = e[1],\n              i = e[2],\n              a = e[3],\n              o = n + n,\n              s = r + r,\n              u = i + i,\n              c = n * o,\n              l = r * o,\n              h = r * s,\n              f = i * o,\n              p = i * s,\n              d = i * u,\n              v = a * o,\n              y = a * s,\n              g = a * u;\n          return t[0] = 1 - h - d, t[3] = l - g, t[6] = f + y, t[1] = l + g, t[4] = 1 - c - d, t[7] = p - v, t[2] = f - y, t[5] = p + v, t[8] = 1 - c - h, t;\n        }, e.normalFromMat4 = function (t, e) {\n          var n = e[0],\n              r = e[1],\n              i = e[2],\n              a = e[3],\n              o = e[4],\n              s = e[5],\n              u = e[6],\n              c = e[7],\n              l = e[8],\n              h = e[9],\n              f = e[10],\n              p = e[11],\n              d = e[12],\n              v = e[13],\n              y = e[14],\n              g = e[15],\n              x = n * s - r * o,\n              m = n * u - i * o,\n              b = n * c - a * o,\n              M = r * u - i * s,\n              w = r * c - a * s,\n              _ = i * c - a * u,\n              A = l * v - h * d,\n              P = l * y - f * d,\n              S = l * g - p * d,\n              k = h * y - f * v,\n              O = h * g - p * v,\n              I = f * g - p * y,\n              T = x * I - m * O + b * k + M * S - w * P + _ * A;\n\n          return T ? (T = 1 / T, t[0] = (s * I - u * O + c * k) * T, t[1] = (u * S - o * I - c * P) * T, t[2] = (o * O - s * S + c * A) * T, t[3] = (i * O - r * I - a * k) * T, t[4] = (n * I - i * S + a * P) * T, t[5] = (r * S - n * O - a * A) * T, t[6] = (v * _ - y * w + g * M) * T, t[7] = (y * b - d * _ - g * m) * T, t[8] = (d * w - v * b + g * x) * T, t) : null;\n        }, e.projection = function (t, e, n) {\n          return t[0] = 2 / e, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = -2 / n, t[5] = 0, t[6] = -1, t[7] = 1, t[8] = 1, t;\n        }, e.str = function (t) {\n          return \"mat3(\" + t[0] + \", \" + t[1] + \", \" + t[2] + \", \" + t[3] + \", \" + t[4] + \", \" + t[5] + \", \" + t[6] + \", \" + t[7] + \", \" + t[8] + \")\";\n        }, e.frob = function (t) {\n          return Math.sqrt(Math.pow(t[0], 2) + Math.pow(t[1], 2) + Math.pow(t[2], 2) + Math.pow(t[3], 2) + Math.pow(t[4], 2) + Math.pow(t[5], 2) + Math.pow(t[6], 2) + Math.pow(t[7], 2) + Math.pow(t[8], 2));\n        }, e.add = function (t, e, n) {\n          return t[0] = e[0] + n[0], t[1] = e[1] + n[1], t[2] = e[2] + n[2], t[3] = e[3] + n[3], t[4] = e[4] + n[4], t[5] = e[5] + n[5], t[6] = e[6] + n[6], t[7] = e[7] + n[7], t[8] = e[8] + n[8], t;\n        }, e.subtract = a, e.multiplyScalar = function (t, e, n) {\n          return t[0] = e[0] * n, t[1] = e[1] * n, t[2] = e[2] * n, t[3] = e[3] * n, t[4] = e[4] * n, t[5] = e[5] * n, t[6] = e[6] * n, t[7] = e[7] * n, t[8] = e[8] * n, t;\n        }, e.multiplyScalarAndAdd = function (t, e, n, r) {\n          return t[0] = e[0] + n[0] * r, t[1] = e[1] + n[1] * r, t[2] = e[2] + n[2] * r, t[3] = e[3] + n[3] * r, t[4] = e[4] + n[4] * r, t[5] = e[5] + n[5] * r, t[6] = e[6] + n[6] * r, t[7] = e[7] + n[7] * r, t[8] = e[8] + n[8] * r, t;\n        }, e.exactEquals = function (t, e) {\n          return t[0] === e[0] && t[1] === e[1] && t[2] === e[2] && t[3] === e[3] && t[4] === e[4] && t[5] === e[5] && t[6] === e[6] && t[7] === e[7] && t[8] === e[8];\n        }, e.equals = function (t, e) {\n          var n = t[0],\n              i = t[1],\n              a = t[2],\n              o = t[3],\n              s = t[4],\n              u = t[5],\n              c = t[6],\n              l = t[7],\n              h = t[8],\n              f = e[0],\n              p = e[1],\n              d = e[2],\n              v = e[3],\n              y = e[4],\n              g = e[5],\n              x = e[6],\n              m = e[7],\n              b = e[8];\n          return Math.abs(n - f) <= r.EPSILON * Math.max(1, Math.abs(n), Math.abs(f)) && Math.abs(i - p) <= r.EPSILON * Math.max(1, Math.abs(i), Math.abs(p)) && Math.abs(a - d) <= r.EPSILON * Math.max(1, Math.abs(a), Math.abs(d)) && Math.abs(o - v) <= r.EPSILON * Math.max(1, Math.abs(o), Math.abs(v)) && Math.abs(s - y) <= r.EPSILON * Math.max(1, Math.abs(s), Math.abs(y)) && Math.abs(u - g) <= r.EPSILON * Math.max(1, Math.abs(u), Math.abs(g)) && Math.abs(c - x) <= r.EPSILON * Math.max(1, Math.abs(c), Math.abs(x)) && Math.abs(l - m) <= r.EPSILON * Math.max(1, Math.abs(l), Math.abs(m)) && Math.abs(h - b) <= r.EPSILON * Math.max(1, Math.abs(h), Math.abs(b));\n        };\n\n        var r = function (t) {\n          if (t && t.__esModule) return t;\n          var e = {};\n          if (null != t) for (var n in t) {\n            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n          }\n          return e.default = t, e;\n        }(n(15));\n\n        function i(t, e, n) {\n          var r = e[0],\n              i = e[1],\n              a = e[2],\n              o = e[3],\n              s = e[4],\n              u = e[5],\n              c = e[6],\n              l = e[7],\n              h = e[8],\n              f = n[0],\n              p = n[1],\n              d = n[2],\n              v = n[3],\n              y = n[4],\n              g = n[5],\n              x = n[6],\n              m = n[7],\n              b = n[8];\n          return t[0] = f * r + p * o + d * c, t[1] = f * i + p * s + d * l, t[2] = f * a + p * u + d * h, t[3] = v * r + y * o + g * c, t[4] = v * i + y * s + g * l, t[5] = v * a + y * u + g * h, t[6] = x * r + m * o + b * c, t[7] = x * i + m * s + b * l, t[8] = x * a + m * u + b * h, t;\n        }\n\n        function a(t, e, n) {\n          return t[0] = e[0] - n[0], t[1] = e[1] - n[1], t[2] = e[2] - n[2], t[3] = e[3] - n[3], t[4] = e[4] - n[4], t[5] = e[5] - n[5], t[6] = e[6] - n[6], t[7] = e[7] - n[7], t[8] = e[8] - n[8], t;\n        }\n\n        e.mul = i, e.sub = a;\n      }, function (t, e, n) {\n        var r = n(91),\n            i = n(21);\n        r.angle = function (t, e) {\n          var n = r.dot(t, e) / (r.length(t) * r.length(e));\n          return Math.acos(i(n, -1, 1));\n        }, r.direction = function (t, e) {\n          return t[0] * e[1] - e[0] * t[1];\n        }, r.angleTo = function (t, e, n) {\n          var i = r.angle(t, e),\n              a = r.direction(t, e) >= 0;\n          return n ? a ? 2 * Math.PI - i : i : a ? i : 2 * Math.PI - i;\n        }, r.vertical = function (t, e, n) {\n          return n ? (t[0] = e[1], t[1] = -1 * e[0]) : (t[0] = -1 * e[1], t[1] = e[0]), t;\n        }, t.exports = r;\n      }, function (t, e, n) {\n        Object.defineProperty(e, \"__esModule\", {\n          value: !0\n        }), e.forEach = e.sqrLen = e.sqrDist = e.dist = e.div = e.mul = e.sub = e.len = void 0, e.create = a, e.clone = function (t) {\n          var e = new i.ARRAY_TYPE(2);\n          return e[0] = t[0], e[1] = t[1], e;\n        }, e.fromValues = function (t, e) {\n          var n = new i.ARRAY_TYPE(2);\n          return n[0] = t, n[1] = e, n;\n        }, e.copy = function (t, e) {\n          return t[0] = e[0], t[1] = e[1], t;\n        }, e.set = function (t, e, n) {\n          return t[0] = e, t[1] = n, t;\n        }, e.add = function (t, e, n) {\n          return t[0] = e[0] + n[0], t[1] = e[1] + n[1], t;\n        }, e.subtract = o, e.multiply = s, e.divide = u, e.ceil = function (t, e) {\n          return t[0] = Math.ceil(e[0]), t[1] = Math.ceil(e[1]), t;\n        }, e.floor = function (t, e) {\n          return t[0] = Math.floor(e[0]), t[1] = Math.floor(e[1]), t;\n        }, e.min = function (t, e, n) {\n          return t[0] = Math.min(e[0], n[0]), t[1] = Math.min(e[1], n[1]), t;\n        }, e.max = function (t, e, n) {\n          return t[0] = Math.max(e[0], n[0]), t[1] = Math.max(e[1], n[1]), t;\n        }, e.round = function (t, e) {\n          return t[0] = Math.round(e[0]), t[1] = Math.round(e[1]), t;\n        }, e.scale = function (t, e, n) {\n          return t[0] = e[0] * n, t[1] = e[1] * n, t;\n        }, e.scaleAndAdd = function (t, e, n, r) {\n          return t[0] = e[0] + n[0] * r, t[1] = e[1] + n[1] * r, t;\n        }, e.distance = c, e.squaredDistance = l, e.length = h, e.squaredLength = f, e.negate = function (t, e) {\n          return t[0] = -e[0], t[1] = -e[1], t;\n        }, e.inverse = function (t, e) {\n          return t[0] = 1 / e[0], t[1] = 1 / e[1], t;\n        }, e.normalize = function (t, e) {\n          var n = e[0],\n              r = e[1],\n              i = n * n + r * r;\n          return i > 0 && (i = 1 / Math.sqrt(i), t[0] = e[0] * i, t[1] = e[1] * i), t;\n        }, e.dot = function (t, e) {\n          return t[0] * e[0] + t[1] * e[1];\n        }, e.cross = function (t, e, n) {\n          var r = e[0] * n[1] - e[1] * n[0];\n          return t[0] = t[1] = 0, t[2] = r, t;\n        }, e.lerp = function (t, e, n, r) {\n          var i = e[0],\n              a = e[1];\n          return t[0] = i + r * (n[0] - i), t[1] = a + r * (n[1] - a), t;\n        }, e.random = function (t, e) {\n          e = e || 1;\n          var n = 2 * i.RANDOM() * Math.PI;\n          return t[0] = Math.cos(n) * e, t[1] = Math.sin(n) * e, t;\n        }, e.transformMat2 = function (t, e, n) {\n          var r = e[0],\n              i = e[1];\n          return t[0] = n[0] * r + n[2] * i, t[1] = n[1] * r + n[3] * i, t;\n        }, e.transformMat2d = function (t, e, n) {\n          var r = e[0],\n              i = e[1];\n          return t[0] = n[0] * r + n[2] * i + n[4], t[1] = n[1] * r + n[3] * i + n[5], t;\n        }, e.transformMat3 = function (t, e, n) {\n          var r = e[0],\n              i = e[1];\n          return t[0] = n[0] * r + n[3] * i + n[6], t[1] = n[1] * r + n[4] * i + n[7], t;\n        }, e.transformMat4 = function (t, e, n) {\n          var r = e[0],\n              i = e[1];\n          return t[0] = n[0] * r + n[4] * i + n[12], t[1] = n[1] * r + n[5] * i + n[13], t;\n        }, e.rotate = function (t, e, n, r) {\n          var i = e[0] - n[0],\n              a = e[1] - n[1],\n              o = Math.sin(r),\n              s = Math.cos(r);\n          return t[0] = i * s - a * o + n[0], t[1] = i * o + a * s + n[1], t;\n        }, e.angle = function (t, e) {\n          var n = t[0],\n              r = t[1],\n              i = e[0],\n              a = e[1],\n              o = n * n + r * r;\n          o > 0 && (o = 1 / Math.sqrt(o));\n          var s = i * i + a * a;\n          s > 0 && (s = 1 / Math.sqrt(s));\n          var u = (n * i + r * a) * o * s;\n          return u > 1 ? 0 : u < -1 ? Math.PI : Math.acos(u);\n        }, e.str = function (t) {\n          return \"vec2(\" + t[0] + \", \" + t[1] + \")\";\n        }, e.exactEquals = function (t, e) {\n          return t[0] === e[0] && t[1] === e[1];\n        }, e.equals = function (t, e) {\n          var n = t[0],\n              r = t[1],\n              a = e[0],\n              o = e[1];\n          return Math.abs(n - a) <= i.EPSILON * Math.max(1, Math.abs(n), Math.abs(a)) && Math.abs(r - o) <= i.EPSILON * Math.max(1, Math.abs(r), Math.abs(o));\n        };\n\n        var r,\n            i = function (t) {\n          if (t && t.__esModule) return t;\n          var e = {};\n          if (null != t) for (var n in t) {\n            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n          }\n          return e.default = t, e;\n        }(n(15));\n\n        function a() {\n          var t = new i.ARRAY_TYPE(2);\n          return i.ARRAY_TYPE != Float32Array && (t[0] = 0, t[1] = 0), t;\n        }\n\n        function o(t, e, n) {\n          return t[0] = e[0] - n[0], t[1] = e[1] - n[1], t;\n        }\n\n        function s(t, e, n) {\n          return t[0] = e[0] * n[0], t[1] = e[1] * n[1], t;\n        }\n\n        function u(t, e, n) {\n          return t[0] = e[0] / n[0], t[1] = e[1] / n[1], t;\n        }\n\n        function c(t, e) {\n          var n = e[0] - t[0],\n              r = e[1] - t[1];\n          return Math.sqrt(n * n + r * r);\n        }\n\n        function l(t, e) {\n          var n = e[0] - t[0],\n              r = e[1] - t[1];\n          return n * n + r * r;\n        }\n\n        function h(t) {\n          var e = t[0],\n              n = t[1];\n          return Math.sqrt(e * e + n * n);\n        }\n\n        function f(t) {\n          var e = t[0],\n              n = t[1];\n          return e * e + n * n;\n        }\n\n        e.len = h, e.sub = o, e.mul = s, e.div = u, e.dist = c, e.sqrDist = l, e.sqrLen = f, e.forEach = (r = a(), function (t, e, n, i, a, o) {\n          var s = void 0,\n              u = void 0;\n\n          for (e || (e = 2), n || (n = 0), u = i ? Math.min(i * e + n, t.length) : t.length, s = n; s < u; s += e) {\n            r[0] = t[s], r[1] = t[s + 1], a(r, r, o), t[s] = r[0], t[s + 1] = r[1];\n          }\n\n          return t;\n        });\n      }, function (t, e, n) {\n        var r = n(93);\n        t.exports = r;\n      }, function (t, e, n) {\n        Object.defineProperty(e, \"__esModule\", {\n          value: !0\n        }), e.forEach = e.sqrLen = e.len = e.sqrDist = e.dist = e.div = e.mul = e.sub = void 0, e.create = a, e.clone = function (t) {\n          var e = new i.ARRAY_TYPE(3);\n          return e[0] = t[0], e[1] = t[1], e[2] = t[2], e;\n        }, e.length = o, e.fromValues = s, e.copy = function (t, e) {\n          return t[0] = e[0], t[1] = e[1], t[2] = e[2], t;\n        }, e.set = function (t, e, n, r) {\n          return t[0] = e, t[1] = n, t[2] = r, t;\n        }, e.add = function (t, e, n) {\n          return t[0] = e[0] + n[0], t[1] = e[1] + n[1], t[2] = e[2] + n[2], t;\n        }, e.subtract = u, e.multiply = c, e.divide = l, e.ceil = function (t, e) {\n          return t[0] = Math.ceil(e[0]), t[1] = Math.ceil(e[1]), t[2] = Math.ceil(e[2]), t;\n        }, e.floor = function (t, e) {\n          return t[0] = Math.floor(e[0]), t[1] = Math.floor(e[1]), t[2] = Math.floor(e[2]), t;\n        }, e.min = function (t, e, n) {\n          return t[0] = Math.min(e[0], n[0]), t[1] = Math.min(e[1], n[1]), t[2] = Math.min(e[2], n[2]), t;\n        }, e.max = function (t, e, n) {\n          return t[0] = Math.max(e[0], n[0]), t[1] = Math.max(e[1], n[1]), t[2] = Math.max(e[2], n[2]), t;\n        }, e.round = function (t, e) {\n          return t[0] = Math.round(e[0]), t[1] = Math.round(e[1]), t[2] = Math.round(e[2]), t;\n        }, e.scale = function (t, e, n) {\n          return t[0] = e[0] * n, t[1] = e[1] * n, t[2] = e[2] * n, t;\n        }, e.scaleAndAdd = function (t, e, n, r) {\n          return t[0] = e[0] + n[0] * r, t[1] = e[1] + n[1] * r, t[2] = e[2] + n[2] * r, t;\n        }, e.distance = h, e.squaredDistance = f, e.squaredLength = p, e.negate = function (t, e) {\n          return t[0] = -e[0], t[1] = -e[1], t[2] = -e[2], t;\n        }, e.inverse = function (t, e) {\n          return t[0] = 1 / e[0], t[1] = 1 / e[1], t[2] = 1 / e[2], t;\n        }, e.normalize = d, e.dot = v, e.cross = function (t, e, n) {\n          var r = e[0],\n              i = e[1],\n              a = e[2],\n              o = n[0],\n              s = n[1],\n              u = n[2];\n          return t[0] = i * u - a * s, t[1] = a * o - r * u, t[2] = r * s - i * o, t;\n        }, e.lerp = function (t, e, n, r) {\n          var i = e[0],\n              a = e[1],\n              o = e[2];\n          return t[0] = i + r * (n[0] - i), t[1] = a + r * (n[1] - a), t[2] = o + r * (n[2] - o), t;\n        }, e.hermite = function (t, e, n, r, i, a) {\n          var o = a * a,\n              s = o * (2 * a - 3) + 1,\n              u = o * (a - 2) + a,\n              c = o * (a - 1),\n              l = o * (3 - 2 * a);\n          return t[0] = e[0] * s + n[0] * u + r[0] * c + i[0] * l, t[1] = e[1] * s + n[1] * u + r[1] * c + i[1] * l, t[2] = e[2] * s + n[2] * u + r[2] * c + i[2] * l, t;\n        }, e.bezier = function (t, e, n, r, i, a) {\n          var o = 1 - a,\n              s = o * o,\n              u = a * a,\n              c = s * o,\n              l = 3 * a * s,\n              h = 3 * u * o,\n              f = u * a;\n          return t[0] = e[0] * c + n[0] * l + r[0] * h + i[0] * f, t[1] = e[1] * c + n[1] * l + r[1] * h + i[1] * f, t[2] = e[2] * c + n[2] * l + r[2] * h + i[2] * f, t;\n        }, e.random = function (t, e) {\n          e = e || 1;\n          var n = 2 * i.RANDOM() * Math.PI,\n              r = 2 * i.RANDOM() - 1,\n              a = Math.sqrt(1 - r * r) * e;\n          return t[0] = Math.cos(n) * a, t[1] = Math.sin(n) * a, t[2] = r * e, t;\n        }, e.transformMat4 = function (t, e, n) {\n          var r = e[0],\n              i = e[1],\n              a = e[2],\n              o = n[3] * r + n[7] * i + n[11] * a + n[15];\n          return o = o || 1, t[0] = (n[0] * r + n[4] * i + n[8] * a + n[12]) / o, t[1] = (n[1] * r + n[5] * i + n[9] * a + n[13]) / o, t[2] = (n[2] * r + n[6] * i + n[10] * a + n[14]) / o, t;\n        }, e.transformMat3 = function (t, e, n) {\n          var r = e[0],\n              i = e[1],\n              a = e[2];\n          return t[0] = r * n[0] + i * n[3] + a * n[6], t[1] = r * n[1] + i * n[4] + a * n[7], t[2] = r * n[2] + i * n[5] + a * n[8], t;\n        }, e.transformQuat = function (t, e, n) {\n          var r = n[0],\n              i = n[1],\n              a = n[2],\n              o = n[3],\n              s = e[0],\n              u = e[1],\n              c = e[2],\n              l = i * c - a * u,\n              h = a * s - r * c,\n              f = r * u - i * s,\n              p = i * f - a * h,\n              d = a * l - r * f,\n              v = r * h - i * l,\n              y = 2 * o;\n          return l *= y, h *= y, f *= y, p *= 2, d *= 2, v *= 2, t[0] = s + l + p, t[1] = u + h + d, t[2] = c + f + v, t;\n        }, e.rotateX = function (t, e, n, r) {\n          var i = [],\n              a = [];\n          return i[0] = e[0] - n[0], i[1] = e[1] - n[1], i[2] = e[2] - n[2], a[0] = i[0], a[1] = i[1] * Math.cos(r) - i[2] * Math.sin(r), a[2] = i[1] * Math.sin(r) + i[2] * Math.cos(r), t[0] = a[0] + n[0], t[1] = a[1] + n[1], t[2] = a[2] + n[2], t;\n        }, e.rotateY = function (t, e, n, r) {\n          var i = [],\n              a = [];\n          return i[0] = e[0] - n[0], i[1] = e[1] - n[1], i[2] = e[2] - n[2], a[0] = i[2] * Math.sin(r) + i[0] * Math.cos(r), a[1] = i[1], a[2] = i[2] * Math.cos(r) - i[0] * Math.sin(r), t[0] = a[0] + n[0], t[1] = a[1] + n[1], t[2] = a[2] + n[2], t;\n        }, e.rotateZ = function (t, e, n, r) {\n          var i = [],\n              a = [];\n          return i[0] = e[0] - n[0], i[1] = e[1] - n[1], i[2] = e[2] - n[2], a[0] = i[0] * Math.cos(r) - i[1] * Math.sin(r), a[1] = i[0] * Math.sin(r) + i[1] * Math.cos(r), a[2] = i[2], t[0] = a[0] + n[0], t[1] = a[1] + n[1], t[2] = a[2] + n[2], t;\n        }, e.angle = function (t, e) {\n          var n = s(t[0], t[1], t[2]),\n              r = s(e[0], e[1], e[2]);\n          d(n, n), d(r, r);\n          var i = v(n, r);\n          return i > 1 ? 0 : i < -1 ? Math.PI : Math.acos(i);\n        }, e.str = function (t) {\n          return \"vec3(\" + t[0] + \", \" + t[1] + \", \" + t[2] + \")\";\n        }, e.exactEquals = function (t, e) {\n          return t[0] === e[0] && t[1] === e[1] && t[2] === e[2];\n        }, e.equals = function (t, e) {\n          var n = t[0],\n              r = t[1],\n              a = t[2],\n              o = e[0],\n              s = e[1],\n              u = e[2];\n          return Math.abs(n - o) <= i.EPSILON * Math.max(1, Math.abs(n), Math.abs(o)) && Math.abs(r - s) <= i.EPSILON * Math.max(1, Math.abs(r), Math.abs(s)) && Math.abs(a - u) <= i.EPSILON * Math.max(1, Math.abs(a), Math.abs(u));\n        };\n\n        var r,\n            i = function (t) {\n          if (t && t.__esModule) return t;\n          var e = {};\n          if (null != t) for (var n in t) {\n            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n          }\n          return e.default = t, e;\n        }(n(15));\n\n        function a() {\n          var t = new i.ARRAY_TYPE(3);\n          return i.ARRAY_TYPE != Float32Array && (t[0] = 0, t[1] = 0, t[2] = 0), t;\n        }\n\n        function o(t) {\n          var e = t[0],\n              n = t[1],\n              r = t[2];\n          return Math.sqrt(e * e + n * n + r * r);\n        }\n\n        function s(t, e, n) {\n          var r = new i.ARRAY_TYPE(3);\n          return r[0] = t, r[1] = e, r[2] = n, r;\n        }\n\n        function u(t, e, n) {\n          return t[0] = e[0] - n[0], t[1] = e[1] - n[1], t[2] = e[2] - n[2], t;\n        }\n\n        function c(t, e, n) {\n          return t[0] = e[0] * n[0], t[1] = e[1] * n[1], t[2] = e[2] * n[2], t;\n        }\n\n        function l(t, e, n) {\n          return t[0] = e[0] / n[0], t[1] = e[1] / n[1], t[2] = e[2] / n[2], t;\n        }\n\n        function h(t, e) {\n          var n = e[0] - t[0],\n              r = e[1] - t[1],\n              i = e[2] - t[2];\n          return Math.sqrt(n * n + r * r + i * i);\n        }\n\n        function f(t, e) {\n          var n = e[0] - t[0],\n              r = e[1] - t[1],\n              i = e[2] - t[2];\n          return n * n + r * r + i * i;\n        }\n\n        function p(t) {\n          var e = t[0],\n              n = t[1],\n              r = t[2];\n          return e * e + n * n + r * r;\n        }\n\n        function d(t, e) {\n          var n = e[0],\n              r = e[1],\n              i = e[2],\n              a = n * n + r * r + i * i;\n          return a > 0 && (a = 1 / Math.sqrt(a), t[0] = e[0] * a, t[1] = e[1] * a, t[2] = e[2] * a), t;\n        }\n\n        function v(t, e) {\n          return t[0] * e[0] + t[1] * e[1] + t[2] * e[2];\n        }\n\n        e.sub = u, e.mul = c, e.div = l, e.dist = h, e.sqrDist = f, e.len = o, e.sqrLen = p, e.forEach = (r = a(), function (t, e, n, i, a, o) {\n          var s = void 0,\n              u = void 0;\n\n          for (e || (e = 3), n || (n = 0), u = i ? Math.min(i * e + n, t.length) : t.length, s = n; s < u; s += e) {\n            r[0] = t[s], r[1] = t[s + 1], r[2] = t[s + 2], a(r, r, o), t[s] = r[0], t[s + 1] = r[1], t[s + 2] = r[2];\n          }\n\n          return t;\n        });\n      }, function (t, e, n) {\n        var r = n(24),\n            i = n(0),\n            a = n(23);\n\n        t.exports = function (t, e) {\n          return t = r(t), i(e, function (e) {\n            switch (e[0]) {\n              case \"t\":\n                a.translate(t, t, [e[1], e[2]]);\n                break;\n\n              case \"s\":\n                a.scale(t, t, [e[1], e[2]]);\n                break;\n\n              case \"r\":\n                a.rotate(t, t, e[1]);\n                break;\n\n              case \"m\":\n                a.multiply(t, t, e[1]);\n                break;\n\n              default:\n                return !1;\n            }\n          }), t;\n        };\n      }, function (t, e, n) {\n        t.exports = {\n          forIn: n(96),\n          has: n(25),\n          hasKey: n(97),\n          hasValue: n(98),\n          keys: n(18),\n          isMatch: n(17),\n          values: n(26)\n        };\n      }, function (t, e, n) {\n        t.exports = n(0);\n      }, function (t, e, n) {\n        t.exports = n(25);\n      }, function (t, e, n) {\n        var r = n(9),\n            i = n(26);\n\n        t.exports = function (t, e) {\n          return r(i(t), e);\n        };\n      }, function (t, e, n) {\n        var r = n(100),\n            i = n(30),\n            a = n(29),\n            o = n(32);\n        t.exports = {\n          catmullRom2Bezier: o,\n          catmullRomToBezier: o,\n          fillPath: n(101),\n          fillPathByDiff: n(102),\n          formatPath: n(104),\n          intersection: r,\n          pathIntersection: r,\n          parsePathArray: n(28),\n          parsePathString: n(31),\n          pathToAbsolute: i,\n          path2absolute: i,\n          pathTocurve: a,\n          path2curve: a,\n          rectPath: n(27)\n        };\n      }, function (t, e, n) {\n        var r = n(1),\n            i = n(27),\n            a = n(29),\n            o = function o(t, e, n, r, i) {\n          return t * (t * (-3 * e + 9 * n - 9 * r + 3 * i) + 6 * e - 12 * n + 6 * r) - 3 * e + 3 * n;\n        },\n            s = function s(t, e, n, r, i, a, _s, u, c) {\n          null === c && (c = 1);\n\n          for (var l = (c = c > 1 ? 1 : c < 0 ? 0 : c) / 2, h = [-.1252, .1252, -.3678, .3678, -.5873, .5873, -.7699, .7699, -.9041, .9041, -.9816, .9816], f = [.2491, .2491, .2335, .2335, .2032, .2032, .1601, .1601, .1069, .1069, .0472, .0472], p = 0, d = 0; d < 12; d++) {\n            var v = l * h[d] + l,\n                y = o(v, t, n, i, _s),\n                g = o(v, e, r, a, u),\n                x = y * y + g * g;\n            p += f[d] * Math.sqrt(x);\n          }\n\n          return l * p;\n        },\n            u = function u(t, e, n, r, i, a, o, s) {\n          for (var u = [], c = [[], []], l = void 0, h = void 0, f = void 0, p = void 0, d = 0; d < 2; ++d) {\n            if (0 === d ? (h = 6 * t - 12 * n + 6 * i, l = -3 * t + 9 * n - 9 * i + 3 * o, f = 3 * n - 3 * t) : (h = 6 * e - 12 * r + 6 * a, l = -3 * e + 9 * r - 9 * a + 3 * s, f = 3 * r - 3 * e), Math.abs(l) < 1e-12) {\n              if (Math.abs(h) < 1e-12) continue;\n              (p = -f / h) > 0 && p < 1 && u.push(p);\n            } else {\n              var v = h * h - 4 * f * l,\n                  y = Math.sqrt(v);\n\n              if (!(v < 0)) {\n                var g = (-h + y) / (2 * l);\n                g > 0 && g < 1 && u.push(g);\n                var x = (-h - y) / (2 * l);\n                x > 0 && x < 1 && u.push(x);\n              }\n            }\n          }\n\n          for (var m = u.length, b = m, M = void 0; m--;) {\n            M = 1 - (p = u[m]), c[0][m] = M * M * M * t + 3 * M * M * p * n + 3 * M * p * p * i + p * p * p * o, c[1][m] = M * M * M * e + 3 * M * M * p * r + 3 * M * p * p * a + p * p * p * s;\n          }\n\n          return c[0][b] = t, c[1][b] = e, c[0][b + 1] = o, c[1][b + 1] = s, c[0].length = c[1].length = b + 2, {\n            min: {\n              x: Math.min.apply(0, c[0]),\n              y: Math.min.apply(0, c[1])\n            },\n            max: {\n              x: Math.max.apply(0, c[0]),\n              y: Math.max.apply(0, c[1])\n            }\n          };\n        },\n            c = function c(t, e, n, r, i, a, o, s) {\n          if (!(Math.max(t, n) < Math.min(i, o) || Math.min(t, n) > Math.max(i, o) || Math.max(e, r) < Math.min(a, s) || Math.min(e, r) > Math.max(a, s))) {\n            var u = (t - n) * (a - s) - (e - r) * (i - o);\n\n            if (u) {\n              var c = ((t * r - e * n) * (i - o) - (t - n) * (i * s - a * o)) / u,\n                  l = ((t * r - e * n) * (a - s) - (e - r) * (i * s - a * o)) / u,\n                  h = +c.toFixed(2),\n                  f = +l.toFixed(2);\n              if (!(h < +Math.min(t, n).toFixed(2) || h > +Math.max(t, n).toFixed(2) || h < +Math.min(i, o).toFixed(2) || h > +Math.max(i, o).toFixed(2) || f < +Math.min(e, r).toFixed(2) || f > +Math.max(e, r).toFixed(2) || f < +Math.min(a, s).toFixed(2) || f > +Math.max(a, s).toFixed(2))) return {\n                x: c,\n                y: l\n              };\n            }\n          }\n        },\n            l = function l(t, e, n) {\n          return e >= t.x && e <= t.x + t.width && n >= t.y && n <= t.y + t.height;\n        },\n            h = function h(t, e, n, r) {\n          return null === t && (t = e = n = r = 0), null === e && (e = t.y, n = t.width, r = t.height, t = t.x), {\n            x: t,\n            y: e,\n            width: n,\n            w: n,\n            height: r,\n            h: r,\n            x2: t + n,\n            y2: e + r,\n            cx: t + n / 2,\n            cy: e + r / 2,\n            r1: Math.min(n, r) / 2,\n            r2: Math.max(n, r) / 2,\n            r0: Math.sqrt(n * n + r * r) / 2,\n            path: i(t, e, n, r),\n            vb: [t, e, n, r].join(\" \")\n          };\n        },\n            f = function f(t, e, n, i, a, o, s, c) {\n          r(t) || (t = [t, e, n, i, a, o, s, c]);\n          var l = u.apply(null, t);\n          return h(l.min.x, l.min.y, l.max.x - l.min.x, l.max.y - l.min.y);\n        },\n            p = function p(t, e, n, r, i, a, o, s, u) {\n          var c = 1 - u,\n              l = Math.pow(c, 3),\n              h = Math.pow(c, 2),\n              f = u * u,\n              p = f * u,\n              d = t + 2 * u * (n - t) + f * (i - 2 * n + t),\n              v = e + 2 * u * (r - e) + f * (a - 2 * r + e),\n              y = n + 2 * u * (i - n) + f * (o - 2 * i + n),\n              g = r + 2 * u * (a - r) + f * (s - 2 * a + r);\n          return {\n            x: l * t + 3 * h * u * n + 3 * c * u * u * i + p * o,\n            y: l * e + 3 * h * u * r + 3 * c * u * u * a + p * s,\n            m: {\n              x: d,\n              y: v\n            },\n            n: {\n              x: y,\n              y: g\n            },\n            start: {\n              x: c * t + u * n,\n              y: c * e + u * r\n            },\n            end: {\n              x: c * i + u * o,\n              y: c * a + u * s\n            },\n            alpha: 90 - 180 * Math.atan2(d - y, v - g) / Math.PI\n          };\n        },\n            d = function d(t, e, n) {\n          if (!function (t, e) {\n            return t = h(t), e = h(e), l(e, t.x, t.y) || l(e, t.x2, t.y) || l(e, t.x, t.y2) || l(e, t.x2, t.y2) || l(t, e.x, e.y) || l(t, e.x2, e.y) || l(t, e.x, e.y2) || l(t, e.x2, e.y2) || (t.x < e.x2 && t.x > e.x || e.x < t.x2 && e.x > t.x) && (t.y < e.y2 && t.y > e.y || e.y < t.y2 && e.y > t.y);\n          }(f(t), f(e))) return n ? 0 : [];\n\n          for (var r = ~~(s.apply(0, t) / 8), i = ~~(s.apply(0, e) / 8), a = [], o = [], u = {}, d = n ? 0 : [], v = 0; v < r + 1; v++) {\n            var y = p.apply(0, t.concat(v / r));\n            a.push({\n              x: y.x,\n              y: y.y,\n              t: v / r\n            });\n          }\n\n          for (var g = 0; g < i + 1; g++) {\n            var x = p.apply(0, e.concat(g / i));\n            o.push({\n              x: x.x,\n              y: x.y,\n              t: g / i\n            });\n          }\n\n          for (var m = 0; m < r; m++) {\n            for (var b = 0; b < i; b++) {\n              var M = a[m],\n                  w = a[m + 1],\n                  _ = o[b],\n                  A = o[b + 1],\n                  P = Math.abs(w.x - M.x) < .001 ? \"y\" : \"x\",\n                  S = Math.abs(A.x - _.x) < .001 ? \"y\" : \"x\",\n                  k = c(M.x, M.y, w.x, w.y, _.x, _.y, A.x, A.y);\n\n              if (k) {\n                if (u[k.x.toFixed(4)] === k.y.toFixed(4)) continue;\n                u[k.x.toFixed(4)] = k.y.toFixed(4);\n\n                var O = M.t + Math.abs((k[P] - M[P]) / (w[P] - M[P])) * (w.t - M.t),\n                    I = _.t + Math.abs((k[S] - _[S]) / (A[S] - _[S])) * (A.t - _.t);\n\n                O >= 0 && O <= 1 && I >= 0 && I <= 1 && (n ? d++ : d.push({\n                  x: k.x,\n                  y: k.y,\n                  t1: O,\n                  t2: I\n                }));\n              }\n            }\n          }\n\n          return d;\n        };\n\n        t.exports = function (t, e) {\n          return function (t, e, n) {\n            t = a(t), e = a(e);\n\n            for (var r = void 0, i = void 0, o = void 0, s = void 0, u = void 0, c = void 0, l = void 0, h = void 0, f = void 0, p = void 0, v = n ? 0 : [], y = 0, g = t.length; y < g; y++) {\n              var x = t[y];\n              if (\"M\" === x[0]) r = u = x[1], i = c = x[2];else {\n                \"C\" === x[0] ? (f = [r, i].concat(x.slice(1)), r = f[6], i = f[7]) : (f = [r, i, r, i, u, c, u, c], r = u, i = c);\n\n                for (var m = 0, b = e.length; m < b; m++) {\n                  var M = e[m];\n                  if (\"M\" === M[0]) o = l = M[1], s = h = M[2];else {\n                    \"C\" === M[0] ? (p = [o, s].concat(M.slice(1)), o = p[6], s = p[7]) : (p = [o, s, o, s, l, h, l, h], o = l, s = h);\n                    var w = d(f, p, n);\n                    if (n) v += w;else {\n                      for (var _ = 0, A = w.length; _ < A; _++) {\n                        w[_].segment1 = y, w[_].segment2 = m, w[_].bez1 = f, w[_].bez2 = p;\n                      }\n\n                      v = v.concat(w);\n                    }\n                  }\n                }\n              }\n            }\n\n            return v;\n          }(t, e);\n        };\n      }, function (t, e) {\n        function n(t, e) {\n          var n = [],\n              r = [];\n          return t.length && function t(e, i) {\n            if (1 === e.length) n.push(e[0]), r.push(e[0]);else {\n              for (var a = [], o = 0; o < e.length - 1; o++) {\n                0 === o && n.push(e[0]), o === e.length - 2 && r.push(e[o + 1]), a[o] = [(1 - i) * e[o][0] + i * e[o + 1][0], (1 - i) * e[o][1] + i * e[o + 1][1]];\n              }\n\n              t(a, i);\n            }\n          }(t, e), {\n            left: n,\n            right: r.reverse()\n          };\n        }\n\n        function r(t, e, r) {\n          if (1 === r) return [[].concat(t)];\n          var i = [];\n          if (\"L\" === e[0] || \"C\" === e[0] || \"Q\" === e[0]) i = i.concat(function (t, e, r) {\n            var i = [[t[1], t[2]]];\n            r = r || 2;\n            var a = [];\n            \"A\" === e[0] ? (i.push(e[6]), i.push(e[7])) : \"C\" === e[0] ? (i.push([e[1], e[2]]), i.push([e[3], e[4]]), i.push([e[5], e[6]])) : \"S\" === e[0] || \"Q\" === e[0] ? (i.push([e[1], e[2]]), i.push([e[3], e[4]])) : i.push([e[1], e[2]]);\n\n            for (var o = i, s = 1 / r, u = 0; u < r - 1; u++) {\n              var c = n(o, s / (1 - s * u));\n              a.push(c.left), o = c.right;\n            }\n\n            return a.push(o), a.map(function (t) {\n              var e = [];\n              return 4 === t.length && (e.push(\"C\"), e = e.concat(t[2])), t.length >= 3 && (3 === t.length && e.push(\"Q\"), e = e.concat(t[1])), 2 === t.length && e.push(\"L\"), e = e.concat(t[t.length - 1]);\n            });\n          }(t, e, r));else {\n            var a = [].concat(t);\n            \"M\" === a[0] && (a[0] = \"L\");\n\n            for (var o = 0; o <= r - 1; o++) {\n              i.push(a);\n            }\n          }\n          return i;\n        }\n\n        t.exports = function (t, e) {\n          if (1 === t.length) return t;\n          var n = t.length - 1,\n              i = e.length - 1,\n              a = n / i,\n              o = [];\n\n          if (1 === t.length && \"M\" === t[0][0]) {\n            for (var s = 0; s < i - n; s++) {\n              t.push(t[0]);\n            }\n\n            return t;\n          }\n\n          for (var u = 0; u < i; u++) {\n            var c = Math.floor(a * u);\n            o[c] = (o[c] || 0) + 1;\n          }\n\n          var l = o.reduce(function (e, i, a) {\n            return a === n ? e.concat(t[n]) : e.concat(r(t[a], t[a + 1], i));\n          }, []);\n          return l.unshift(t[0]), \"Z\" !== e[i] && \"z\" !== e[i] || l.push(\"Z\"), l;\n        };\n      }, function (t, e, n) {\n        var r = n(103);\n\n        function i(t, e, n) {\n          var r = null,\n              i = n;\n          return e < i && (i = e, r = \"add\"), t < i && (i = t, r = \"del\"), {\n            type: r,\n            min: i\n          };\n        }\n\n        t.exports = function (t, e) {\n          var n = function (t, e) {\n            var n = t.length,\n                a = e.length,\n                o = void 0,\n                s = void 0,\n                u = 0;\n            if (0 === n || 0 === a) return null;\n\n            for (var c = [], l = 0; l <= n; l++) {\n              c[l] = [], c[l][0] = {\n                min: l\n              };\n            }\n\n            for (var h = 0; h <= a; h++) {\n              c[0][h] = {\n                min: h\n              };\n            }\n\n            for (var f = 1; f <= n; f++) {\n              o = t[f - 1];\n\n              for (var p = 1; p <= a; p++) {\n                s = e[p - 1], u = r(o, s) ? 0 : 1;\n                var d = c[f - 1][p].min + 1,\n                    v = c[f][p - 1].min + 1,\n                    y = c[f - 1][p - 1].min + u;\n                c[f][p] = i(d, v, y);\n              }\n            }\n\n            return c;\n          }(t, e),\n              a = t.length,\n              o = e.length,\n              s = [],\n              u = 1,\n              c = 1;\n\n          if (n[a][o] !== a) {\n            for (var l = 1; l <= a; l++) {\n              var h = n[l][l].min;\n              c = l;\n\n              for (var f = u; f <= o; f++) {\n                n[l][f].min < h && (h = n[l][f].min, c = f);\n              }\n\n              u = c, n[l][u].type && s.push({\n                index: l - 1,\n                type: n[l][u].type\n              });\n            }\n\n            for (var p = s.length - 1; p >= 0; p--) {\n              u = s[p].index, \"add\" === s[p].type ? t.splice(u, 0, [].concat(t[u])) : t.splice(u, 1);\n            }\n          }\n\n          if ((a = t.length) < o) for (var d = 0; d < o - a; d++) {\n            \"z\" === t[a - 1][0] || \"Z\" === t[a - 1][0] ? t.splice(a - 2, 0, t[a - 2]) : t.push(t[a - 1]);\n          }\n          return t;\n        };\n      }, function (t, e, n) {\n        var r = n(0);\n\n        t.exports = function (t, e) {\n          if (t.length !== e.length) return !1;\n          var n = !0;\n          return r(t, function (t, r) {\n            if (t !== e[r]) return n = !1, !1;\n          }), n;\n        };\n      }, function (t, e) {\n        function n(t) {\n          var e = [];\n\n          switch (t[0]) {\n            case \"M\":\n            case \"L\":\n              e.push([t[1], t[2]]);\n              break;\n\n            case \"A\":\n              e.push([t[6], t[7]]);\n              break;\n\n            case \"Q\":\n              e.push([t[3], t[4]]), e.push([t[1], t[2]]);\n              break;\n\n            case \"T\":\n              e.push([t[1], t[2]]);\n              break;\n\n            case \"C\":\n              e.push([t[5], t[6]]), e.push([t[1], t[2]]), e.push([t[3], t[4]]);\n              break;\n\n            case \"S\":\n              e.push([t[3], t[4]]), e.push([t[1], t[2]]);\n              break;\n\n            case \"H\":\n            case \"V\":\n              e.push([t[1], t[1]]);\n          }\n\n          return e;\n        }\n\n        function r(t, e, r) {\n          for (var i = [].concat(t), a = void 0, o = 1 / (r + 1), s = n(e)[0], u = 1; u <= r; u++) {\n            o *= u, 0 === (a = Math.floor(t.length * o)) ? i.unshift([s[0] * o + t[a][0] * (1 - o), s[1] * o + t[a][1] * (1 - o)]) : i.splice(a, 0, [s[0] * o + t[a][0] * (1 - o), s[1] * o + t[a][1] * (1 - o)]);\n          }\n\n          return i;\n        }\n\n        t.exports = function (t, e) {\n          if (t.length <= 1) return t;\n\n          for (var i = void 0, a = 0; a < e.length; a++) {\n            if (t[a][0] !== e[a][0]) switch (i = n(t[a]), e[a][0]) {\n              case \"M\":\n                t[a] = [\"M\"].concat(i[0]);\n                break;\n\n              case \"L\":\n                t[a] = [\"L\"].concat(i[0]);\n                break;\n\n              case \"A\":\n                t[a] = [].concat(e[a]), t[a][6] = i[0][0], t[a][7] = i[0][1];\n                break;\n\n              case \"Q\":\n                if (i.length < 2) {\n                  if (!(a > 0)) {\n                    t[a] = e[a];\n                    break;\n                  }\n\n                  i = r(i, t[a - 1], 1);\n                }\n\n                t[a] = [\"Q\"].concat(i.reduce(function (t, e) {\n                  return t.concat(e);\n                }, []));\n                break;\n\n              case \"T\":\n                t[a] = [\"T\"].concat(i[0]);\n                break;\n\n              case \"C\":\n                if (i.length < 3) {\n                  if (!(a > 0)) {\n                    t[a] = e[a];\n                    break;\n                  }\n\n                  i = r(i, t[a - 1], 2);\n                }\n\n                t[a] = [\"C\"].concat(i.reduce(function (t, e) {\n                  return t.concat(e);\n                }, []));\n                break;\n\n              case \"S\":\n                if (i.length < 2) {\n                  if (!(a > 0)) {\n                    t[a] = e[a];\n                    break;\n                  }\n\n                  i = r(i, t[a - 1], 1);\n                }\n\n                t[a] = [\"S\"].concat(i.reduce(function (t, e) {\n                  return t.concat(e);\n                }, []));\n                break;\n\n              default:\n                t[a] = e[a];\n            }\n          }\n\n          return t;\n        };\n      }, function (t, e, n) {\n        var r = {\n          lc: n(106),\n          lowerCase: n(33),\n          lowerFirst: n(107),\n          substitute: n(108),\n          uc: n(109),\n          upperCase: n(34),\n          upperFirst: n(110)\n        };\n        t.exports = r;\n      }, function (t, e, n) {\n        t.exports = n(33);\n      }, function (t, e, n) {\n        var r = n(8);\n\n        t.exports = function (t) {\n          var e = r(t);\n          return e.charAt(0).toLowerCase() + e.substring(1);\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          return t && e ? t.replace(/\\\\?\\{([^{}]+)\\}/g, function (t, n) {\n            return \"\\\\\" === t.charAt(0) ? t.slice(1) : void 0 === e[n] ? \"\" : e[n];\n          }) : t;\n        };\n      }, function (t, e, n) {\n        t.exports = n(34);\n      }, function (t, e, n) {\n        var r = n(8);\n\n        t.exports = function (t) {\n          var e = r(t);\n          return e.charAt(0).toUpperCase() + e.substring(1);\n        };\n      }, function (t, e, n) {\n        var r = n(2),\n            i = {\n          getType: n(35),\n          isArray: n(1),\n          isArrayLike: n(4),\n          isBoolean: n(112),\n          isFunction: n(3),\n          isNil: n(5),\n          isNull: n(113),\n          isNumber: n(6),\n          isObject: n(16),\n          isObjectLike: n(13),\n          isPlainObject: n(7),\n          isPrototype: n(36),\n          isType: r,\n          isUndefined: n(114),\n          isString: n(10),\n          isRegExp: n(115),\n          isDate: n(116),\n          isArguments: n(117),\n          isError: n(118)\n        };\n        t.exports = i;\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"Boolean\");\n        };\n      }, function (t, e) {\n        t.exports = function (t) {\n          return null === t;\n        };\n      }, function (t, e) {\n        t.exports = function (t) {\n          return void 0 === t;\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"RegExp\");\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"Date\");\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"Arguments\");\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"Error\");\n        };\n      }, function (t, e, n) {\n        var r = n(3),\n            i = n(14),\n            a = n(11);\n\n        t.exports = function (t) {\n          for (var e = i(arguments), n = 1; n < e.length; n++) {\n            var o = e[n];\n            r(o) && (o = o.prototype), a(t.prototype, o);\n          }\n        };\n      }, function (t, e) {\n        t.exports = function (t, e, n) {\n          var r = void 0;\n          return function () {\n            var i = this,\n                a = arguments,\n                o = function o() {\n              r = null, n || t.apply(i, a);\n            },\n                s = n && !r;\n\n            clearTimeout(r), r = setTimeout(o, e), s && t.apply(i, a);\n          };\n        };\n      }, function (t, e, n) {\n        var r = n(7),\n            i = n(1);\n\n        function a(t, e, n, o) {\n          for (var s in n = n || 0, o = o || 5, e) {\n            if (e.hasOwnProperty(s)) {\n              var u = e[s];\n              null !== u && r(u) ? (r(t[s]) || (t[s] = {}), n < o ? a(t[s], u, n + 1, o) : t[s] = e[s]) : i(u) ? (t[s] = [], t[s] = t[s].concat(u)) : void 0 !== u && (t[s] = u);\n            }\n          }\n        }\n\n        t.exports = function () {\n          for (var t = new Array(arguments.length), e = t.length, n = 0; n < e; n++) {\n            t[n] = arguments[n];\n          }\n\n          for (var r = t[0], i = 1; i < e; i++) {\n            a(r, t[i]);\n          }\n\n          return r;\n        };\n      }, function (t, e, n) {\n        var r = n(3),\n            i = n(11);\n\n        t.exports = function (t, e, n, a) {\n          r(e) || (n = e, e = t, t = function t() {});\n          var o = Object.create ? function (t, e) {\n            return Object.create(t, {\n              constructor: {\n                value: e\n              }\n            });\n          } : function (t, e) {\n            function n() {}\n\n            n.prototype = t;\n            var r = new n();\n            return r.constructor = e, r;\n          },\n              s = o(e.prototype, t);\n          return t.prototype = i(s, t.prototype), t.superclass = o(e.prototype, e), i(s, n), i(t, a), t;\n        };\n      }, function (t, e, n) {\n        var r = n(37);\n\n        t.exports = function (t, e) {\n          if (!e) return [t];\n          var n = r(t, e),\n              i = [];\n\n          for (var a in n) {\n            i.push(n[a]);\n          }\n\n          return i;\n        };\n      }, function (t, e, n) {\n        var r = n(4);\n\n        t.exports = function (t, e) {\n          if (!r(t)) return -1;\n          var n = Array.prototype.indexOf;\n          if (n) return n.call(t, e);\n\n          for (var i = -1, a = 0; a < t.length; a++) {\n            if (t[a] === e) {\n              i = a;\n              break;\n            }\n          }\n\n          return i;\n        };\n      }, function (t, e, n) {\n        var r = n(5),\n            i = n(4),\n            a = n(35),\n            o = n(36),\n            s = Object.prototype.hasOwnProperty;\n\n        t.exports = function (t) {\n          if (r(t)) return !0;\n          if (i(t)) return !t.length;\n          var e = a(t);\n          if (\"Map\" === e || \"Set\" === e) return !t.size;\n          if (o(t)) return !Object.keys(t).length;\n\n          for (var n in t) {\n            if (s.call(t, n)) return !1;\n          }\n\n          return !0;\n        };\n      }, function (t, e, n) {\n        var r = n(3),\n            i = n(39);\n\n        t.exports = function (t, e, n) {\n          return r(n) ? !!n(t, e) : i(t, e);\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(4);\n\n        t.exports = function (t, e) {\n          if (!i(t)) return t;\n          var n = [];\n          return r(t, function (t, r) {\n            n.push(e(t, r));\n          }), n;\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(7),\n            a = Object.prototype.hasOwnProperty;\n\n        t.exports = function (t, e) {\n          if (null === t || !i(t)) return {};\n          var n = {};\n          return r(e, function (e) {\n            a.call(t, e) && (n[e] = t[e]);\n          }), n;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e, n) {\n          var r = void 0,\n              i = void 0,\n              a = void 0,\n              o = void 0,\n              s = 0;\n          n || (n = {});\n\n          var u = function u() {\n            s = !1 === n.leading ? 0 : Date.now(), r = null, o = t.apply(i, a), r || (i = a = null);\n          },\n              c = function c() {\n            var c = Date.now();\n            s || !1 !== n.leading || (s = c);\n            var l = e - (c - s);\n            return i = this, a = arguments, l <= 0 || l > e ? (r && (clearTimeout(r), r = null), s = c, o = t.apply(i, a), r || (i = a = null)) : r || !1 === n.trailing || (r = setTimeout(u, l)), o;\n          };\n\n          return c.cancel = function () {\n            clearTimeout(r), s = 0, r = i = a = null;\n          }, c;\n        };\n      }, function (t, e) {\n        var n,\n            r = (n = {}, function (t) {\n          return n[t = t || \"g\"] ? n[t] += 1 : n[t] = 1, t + n[t];\n        });\n        t.exports = r;\n      }]);\n    }, t.exports = r();\n  }, function (t, e, n) {\n    \"use strict\";\n\n    n.r(e), n.d(e, \"__extends\", function () {\n      return i;\n    }), n.d(e, \"__assign\", function () {\n      return _a;\n    }), n.d(e, \"__rest\", function () {\n      return o;\n    }), n.d(e, \"__decorate\", function () {\n      return s;\n    }), n.d(e, \"__param\", function () {\n      return u;\n    }), n.d(e, \"__metadata\", function () {\n      return c;\n    }), n.d(e, \"__awaiter\", function () {\n      return l;\n    }), n.d(e, \"__generator\", function () {\n      return h;\n    }), n.d(e, \"__exportStar\", function () {\n      return f;\n    }), n.d(e, \"__values\", function () {\n      return p;\n    }), n.d(e, \"__read\", function () {\n      return d;\n    }), n.d(e, \"__spread\", function () {\n      return v;\n    }), n.d(e, \"__spreadArrays\", function () {\n      return y;\n    }), n.d(e, \"__await\", function () {\n      return g;\n    }), n.d(e, \"__asyncGenerator\", function () {\n      return x;\n    }), n.d(e, \"__asyncDelegator\", function () {\n      return m;\n    }), n.d(e, \"__asyncValues\", function () {\n      return b;\n    }), n.d(e, \"__makeTemplateObject\", function () {\n      return M;\n    }), n.d(e, \"__importStar\", function () {\n      return w;\n    }), n.d(e, \"__importDefault\", function () {\n      return _;\n    });\n    /*! *****************************************************************************\n    Copyright (c) Microsoft Corporation. All rights reserved.\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\n    this file except in compliance with the License. You may obtain a copy of the\n    License at http://www.apache.org/licenses/LICENSE-2.0\n    \n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\n    MERCHANTABLITY OR NON-INFRINGEMENT.\n    \n    See the Apache Version 2.0 License for specific language governing permissions\n    and limitations under the License.\n    ***************************************************************************** */\n\n    var _r = function r(t, e) {\n      return (_r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) {\n          e.hasOwnProperty(n) && (t[n] = e[n]);\n        }\n      })(t, e);\n    };\n\n    function i(t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _r(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    }\n\n    var _a = function a() {\n      return (_a = Object.assign || function (t) {\n        for (var e, n = 1, r = arguments.length; n < r; n++) {\n          for (var i in e = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);\n          }\n        }\n\n        return t;\n      }).apply(this, arguments);\n    };\n\n    function o(t, e) {\n      var n = {};\n\n      for (var r in t) {\n        Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);\n      }\n\n      if (null != t && \"function\" == typeof Object.getOwnPropertySymbols) {\n        var i = 0;\n\n        for (r = Object.getOwnPropertySymbols(t); i < r.length; i++) {\n          e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]]);\n        }\n      }\n\n      return n;\n    }\n\n    function s(t, e, n, r) {\n      var i,\n          a = arguments.length,\n          o = a < 3 ? e : null === r ? r = Object.getOwnPropertyDescriptor(e, n) : r;\n      if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(t, e, n, r);else for (var s = t.length - 1; s >= 0; s--) {\n        (i = t[s]) && (o = (a < 3 ? i(o) : a > 3 ? i(e, n, o) : i(e, n)) || o);\n      }\n      return a > 3 && o && Object.defineProperty(e, n, o), o;\n    }\n\n    function u(t, e) {\n      return function (n, r) {\n        e(n, r, t);\n      };\n    }\n\n    function c(t, e) {\n      if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.metadata) return Reflect.metadata(t, e);\n    }\n\n    function l(t, e, n, r) {\n      return new (n || (n = Promise))(function (i, a) {\n        function o(t) {\n          try {\n            u(r.next(t));\n          } catch (t) {\n            a(t);\n          }\n        }\n\n        function s(t) {\n          try {\n            u(r.throw(t));\n          } catch (t) {\n            a(t);\n          }\n        }\n\n        function u(t) {\n          t.done ? i(t.value) : new n(function (e) {\n            e(t.value);\n          }).then(o, s);\n        }\n\n        u((r = r.apply(t, e || [])).next());\n      });\n    }\n\n    function h(t, e) {\n      var n,\n          r,\n          i,\n          a,\n          o = {\n        label: 0,\n        sent: function sent() {\n          if (1 & i[0]) throw i[1];\n          return i[1];\n        },\n        trys: [],\n        ops: []\n      };\n      return a = {\n        next: s(0),\n        throw: s(1),\n        return: s(2)\n      }, \"function\" == typeof Symbol && (a[Symbol.iterator] = function () {\n        return this;\n      }), a;\n\n      function s(a) {\n        return function (s) {\n          return function (a) {\n            if (n) throw new TypeError(\"Generator is already executing.\");\n\n            for (; o;) {\n              try {\n                if (n = 1, r && (i = 2 & a[0] ? r.return : a[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, a[1])).done) return i;\n\n                switch (r = 0, i && (a = [2 & a[0], i.value]), a[0]) {\n                  case 0:\n                  case 1:\n                    i = a;\n                    break;\n\n                  case 4:\n                    return o.label++, {\n                      value: a[1],\n                      done: !1\n                    };\n\n                  case 5:\n                    o.label++, r = a[1], a = [0];\n                    continue;\n\n                  case 7:\n                    a = o.ops.pop(), o.trys.pop();\n                    continue;\n\n                  default:\n                    if (!(i = (i = o.trys).length > 0 && i[i.length - 1]) && (6 === a[0] || 2 === a[0])) {\n                      o = 0;\n                      continue;\n                    }\n\n                    if (3 === a[0] && (!i || a[1] > i[0] && a[1] < i[3])) {\n                      o.label = a[1];\n                      break;\n                    }\n\n                    if (6 === a[0] && o.label < i[1]) {\n                      o.label = i[1], i = a;\n                      break;\n                    }\n\n                    if (i && o.label < i[2]) {\n                      o.label = i[2], o.ops.push(a);\n                      break;\n                    }\n\n                    i[2] && o.ops.pop(), o.trys.pop();\n                    continue;\n                }\n\n                a = e.call(t, o);\n              } catch (t) {\n                a = [6, t], r = 0;\n              } finally {\n                n = i = 0;\n              }\n            }\n\n            if (5 & a[0]) throw a[1];\n            return {\n              value: a[0] ? a[1] : void 0,\n              done: !0\n            };\n          }([a, s]);\n        };\n      }\n    }\n\n    function f(t, e) {\n      for (var n in t) {\n        e.hasOwnProperty(n) || (e[n] = t[n]);\n      }\n    }\n\n    function p(t) {\n      var e = \"function\" == typeof Symbol && t[Symbol.iterator],\n          n = 0;\n      return e ? e.call(t) : {\n        next: function next() {\n          return t && n >= t.length && (t = void 0), {\n            value: t && t[n++],\n            done: !t\n          };\n        }\n      };\n    }\n\n    function d(t, e) {\n      var n = \"function\" == typeof Symbol && t[Symbol.iterator];\n      if (!n) return t;\n      var r,\n          i,\n          a = n.call(t),\n          o = [];\n\n      try {\n        for (; (void 0 === e || e-- > 0) && !(r = a.next()).done;) {\n          o.push(r.value);\n        }\n      } catch (t) {\n        i = {\n          error: t\n        };\n      } finally {\n        try {\n          r && !r.done && (n = a.return) && n.call(a);\n        } finally {\n          if (i) throw i.error;\n        }\n      }\n\n      return o;\n    }\n\n    function v() {\n      for (var t = [], e = 0; e < arguments.length; e++) {\n        t = t.concat(d(arguments[e]));\n      }\n\n      return t;\n    }\n\n    function y() {\n      for (var t = 0, e = 0, n = arguments.length; e < n; e++) {\n        t += arguments[e].length;\n      }\n\n      var r = Array(t),\n          i = 0;\n\n      for (e = 0; e < n; e++) {\n        for (var a = arguments[e], o = 0, s = a.length; o < s; o++, i++) {\n          r[i] = a[o];\n        }\n      }\n\n      return r;\n    }\n\n    function g(t) {\n      return this instanceof g ? (this.v = t, this) : new g(t);\n    }\n\n    function x(t, e, n) {\n      if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n      var r,\n          i = n.apply(t, e || []),\n          a = [];\n      return r = {}, o(\"next\"), o(\"throw\"), o(\"return\"), r[Symbol.asyncIterator] = function () {\n        return this;\n      }, r;\n\n      function o(t) {\n        i[t] && (r[t] = function (e) {\n          return new Promise(function (n, r) {\n            a.push([t, e, n, r]) > 1 || s(t, e);\n          });\n        });\n      }\n\n      function s(t, e) {\n        try {\n          (n = i[t](e)).value instanceof g ? Promise.resolve(n.value.v).then(u, c) : l(a[0][2], n);\n        } catch (t) {\n          l(a[0][3], t);\n        }\n\n        var n;\n      }\n\n      function u(t) {\n        s(\"next\", t);\n      }\n\n      function c(t) {\n        s(\"throw\", t);\n      }\n\n      function l(t, e) {\n        t(e), a.shift(), a.length && s(a[0][0], a[0][1]);\n      }\n    }\n\n    function m(t) {\n      var e, n;\n      return e = {}, r(\"next\"), r(\"throw\", function (t) {\n        throw t;\n      }), r(\"return\"), e[Symbol.iterator] = function () {\n        return this;\n      }, e;\n\n      function r(r, i) {\n        e[r] = t[r] ? function (e) {\n          return (n = !n) ? {\n            value: g(t[r](e)),\n            done: \"return\" === r\n          } : i ? i(e) : e;\n        } : i;\n      }\n    }\n\n    function b(t) {\n      if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n      var e,\n          n = t[Symbol.asyncIterator];\n      return n ? n.call(t) : (t = p(t), e = {}, r(\"next\"), r(\"throw\"), r(\"return\"), e[Symbol.asyncIterator] = function () {\n        return this;\n      }, e);\n\n      function r(n) {\n        e[n] = t[n] && function (e) {\n          return new Promise(function (r, i) {\n            (function (t, e, n, r) {\n              Promise.resolve(r).then(function (e) {\n                t({\n                  value: e,\n                  done: n\n                });\n              }, e);\n            })(r, i, (e = t[n](e)).done, e.value);\n          });\n        };\n      }\n    }\n\n    function M(t, e) {\n      return Object.defineProperty ? Object.defineProperty(t, \"raw\", {\n        value: e\n      }) : t.raw = e, t;\n    }\n\n    function w(t) {\n      if (t && t.__esModule) return t;\n      var e = {};\n      if (null != t) for (var n in t) {\n        Object.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n      }\n      return e.default = t, e;\n    }\n\n    function _(t) {\n      return t && t.__esModule ? t : {\n        default: t\n      };\n    }\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = function () {\n      function t(t, e, n, r) {\n        void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === n && (n = 0), void 0 === r && (r = 0), this.height = r, this.width = n, this.x = this.minX = t, this.y = this.minY = e;\n        var i = this.maxX = t + n,\n            a = this.maxY = e + r;\n        this.tl = {\n          x: t,\n          y: e\n        }, this.tr = {\n          x: i,\n          y: e\n        }, this.bl = {\n          x: t,\n          y: a\n        }, this.br = {\n          x: i,\n          y: a\n        }, this.bottom = 0, this.left = this.x, this.right = 0, this.top = this.y;\n      }\n\n      return t.fromRange = function (e, n, r, i) {\n        return new t(e, n, r - e, i - n);\n      }, t.prototype.equals = function (t) {\n        return this.x === t.x && this.y === t.y && this.width === t.width && this.height === t.height;\n      }, t;\n    }();\n\n    e.default = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n        i = n(0),\n        a = n(10),\n        o = n(4),\n        s = {\n      matrix: \"matrix\",\n      path: \"path\",\n      points: \"points\",\n      lineDash: \"lineDash\"\n    };\n\n    var u = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.isShape = !0, e;\n      }\n\n      return r.__extends(e, t), e.prototype.createPath = function (t) {}, e.prototype.afterPath = function (t) {}, e.prototype.isPointInPath = function (t, e) {\n        return !1;\n      }, e.prototype.drawInner = function (t) {\n        var e = this.attrs;\n        this.createPath(t);\n        var n = t.globalAlpha;\n\n        if (this.hasFill()) {\n          var r = e.fillOpacity;\n          i.isNil(r) || 1 === r ? t.fill() : (t.globalAlpha = r, t.fill(), t.globalAlpha = n);\n        }\n\n        if (this.hasStroke() && this.attrs.lineWidth > 0) {\n          var a = e.strokeOpacity;\n          i.isNil(a) || 1 === a || (t.globalAlpha = a), t.stroke();\n        }\n\n        this.afterPath(t);\n      }, e.prototype.isHitBox = function () {\n        return !0;\n      }, e.prototype.isHit = function (t, e) {\n        var n = [t, e, 1];\n\n        if (this.invert(n), this.isHitBox()) {\n          var r = this.getBBox();\n          if (r && !o.box(r.minX, r.maxX, r.minY, r.maxY, n[0], n[1])) return !1;\n        }\n\n        var i = this.attrs.clip;\n        return i ? (i.invert(n, this.get(\"canvas\")), !!i.isPointInPath(n[0], n[1]) && this.isPointInPath(n[0], n[1])) : this.isPointInPath(n[0], n[1]);\n      }, e.prototype.calculateBox = function () {\n        return null;\n      }, e.prototype.getHitLineWidth = function () {\n        var t = this.attrs,\n            e = t.lineAppendWidth || 0;\n        return (t.lineWidth || 0) + e;\n      }, e.prototype.clearTotalMatrix = function () {\n        this.cfg.totalMatrix = null, this.cfg.region = null;\n      }, e.prototype.clearBBox = function () {\n        this.cfg.box = null, this.cfg.region = null;\n      }, e.prototype.getBBox = function () {\n        var t = this.get(\"box\");\n        return t || (t = this.calculateBox()) && this.set(\"box\", t), t;\n      }, e.prototype.clone = function () {\n        var t = null,\n            n = this.attrs,\n            r = {};\n        return i.each(n, function (t, e) {\n          s[e] && i.isArray(n[e]) ? r[e] = function (t) {\n            for (var e = [], n = 0; n < t.length; n++) {\n              i.isArray(t[n]) ? e.push([].concat(t[n])) : e.push(t[n]);\n            }\n\n            return e;\n          }(n[e]) : r[e] = n[e];\n        }), (t = new e({\n          attrs: r\n        })).cfg.zIndex = this.cfg.zIndex, t;\n      }, e;\n    }(a.default);\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(12),\n        i = n(18),\n        a = n(13),\n        o = n(7);\n\n    function s(t, e, n, i, a, o, s) {\n      var c = r.box(t, e, n, i, a);\n      if (!u(c.minX, c.maxX, c.minY, c.maxY, o, s)) return !1;\n      var l = r.pointDistance(t, e, n, i, o, s);\n      return !isNaN(l) && l <= a / 2;\n    }\n\n    function u(t, e, n, r, i, a) {\n      return t <= i && i <= e && n <= a && a <= r;\n    }\n\n    e.line = s, e.polyline = function (t, e, n, r) {\n      var i = t.length - 1;\n      if (i < 1) return !1;\n\n      for (var a = 0; a < i; a++) {\n        if (s(t[a][0], t[a][1], t[a + 1][0], t[a + 1][1], e, n, r)) return !0;\n      }\n\n      return !1;\n    }, e.cubicline = function (t, e, n, r, i, o, s, u, c, l, h) {\n      return a.pointDistance(t, e, n, r, i, o, s, u, l, h) <= c / 2;\n    }, e.quadraticline = function (t, e, n, r, a, o, s, u, c) {\n      return i.pointDistance(t, e, n, r, a, o, u, c) <= s / 2;\n    }, e.arcline = function (t, e, n, r, i, a, s, u, c) {\n      return o.pointDistance(t, e, n, r, i, a, u, c) <= s / 2;\n    }, e.rect = function (t, e, n, r, i, a) {\n      return t <= i && i <= t + n && e <= a && a <= e + r;\n    }, e.circle = function (t, e, n, r, i) {\n      return Math.pow(r - t, 2) + Math.pow(i - e, 2) <= Math.pow(n, 2);\n    }, e.box = u;\n  },, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,\n        a = /[^\\s\\,]+/gi;\n    e.parseRadius = function (t) {\n      var e = 0,\n          n = 0,\n          i = 0,\n          a = 0;\n      return r.isArray(t) ? 1 === t.length ? e = n = i = a = t[0] : 2 === t.length ? (e = i = t[0], n = a = t[1]) : 3 === t.length ? (e = t[0], n = a = t[1], i = t[2]) : (e = t[0], n = t[1], i = t[2], a = t[3]) : e = n = i = a = t, {\n        r1: e,\n        r2: n,\n        r3: i,\n        r4: a\n      };\n    }, e.parsePath = function (t) {\n      return t = t || [], r.isArray(t) ? t : r.isString(t) ? (t = t.match(i), r.each(t, function (e, n) {\n        if ((e = e.match(a))[0].length > 1) {\n          var i = e[0].charAt(0);\n          e.splice(1, 0, e[0].substr(1)), e[0] = i;\n        }\n\n        r.each(e, function (t, n) {\n          isNaN(t) || (e[n] = +t);\n        }), t[n] = e;\n      }), t) : void 0;\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = n(2),\n        a = function a(t, e, n, r) {\n      return {\n        x: Math.cos(r) * n + t,\n        y: Math.sin(r) * n + e\n      };\n    },\n        o = function o(t, e, n, r) {\n      var i, a;\n      return r ? t < e ? (i = e - t, a = 2 * Math.PI - n + t) : t > n && (i = 2 * Math.PI - t + e, a = t - n) : (i = t - e, a = n - t), i > a ? n : e;\n    };\n\n    e.nearAngle = function (t, e, n, i) {\n      var a = 0;\n      return n - e >= 2 * Math.PI && (a = 2 * Math.PI), e = r.mod(e, 2 * Math.PI), n = r.mod(n, 2 * Math.PI) + a, t = r.mod(t, 2 * Math.PI), i ? e >= n ? t > n && t < e ? t : o(t, n, e, !0) : t < e || t > n ? t : o(t, e, n, !1) : e <= n ? e < t && t < n ? t : o(t, e, n, !0) : t > e || t < n ? t : o(t, n, e, !1);\n    }, e.pointDistance = function (t, n, i, a, o, s, u, c, l) {\n      var h = [u, c],\n          f = [t, n],\n          p = r.vec2.subtract([], h, f),\n          d = r.vec2.angleTo([1, 0], p);\n      d = e.nearAngle(d, a, o, s);\n      var v = [i * Math.cos(d) + t, i * Math.sin(d) + n];\n      return l ? {\n        x: v[0],\n        y: v[1]\n      } : r.vec2.distance(v, h);\n    }, e.box = function (t, n, r, o, s, u) {\n      var c = Math.PI / 2,\n          l = Math.PI,\n          h = 3 * Math.PI / 2,\n          f = [],\n          p = e.nearAngle(0, o, s, u);\n      0 === p && f.push(a(t, n, r, 0)), (p = e.nearAngle(c, o, s, u)) === c && f.push(a(t, n, r, c)), (p = e.nearAngle(l, o, s, u)) === l && f.push(a(t, n, r, l)), (p = e.nearAngle(h, o, s, u)) === h && f.push(a(t, n, r, h)), f.push(a(t, n, r, o)), f.push(a(t, n, r, s));\n      var d = f.map(function (t) {\n        return t.x;\n      }),\n          v = f.map(function (t) {\n        return t.y;\n      });\n      return i.default.fromRange(Math.min.apply(Math, d), Math.min.apply(Math, v), Math.max.apply(Math, d), Math.max.apply(Math, v));\n    }, e.projectPoint = function (t, n, r, i, a, o, s, u) {\n      return e.pointDistance(t, n, r, i, a, o, s, u, !0);\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = n(4),\n        a = n(13),\n        o = n(18),\n        s = n(39),\n        u = n(2),\n        c = r.vec3,\n        l = r.mat3,\n        h = [\"m\", \"l\", \"c\", \"a\", \"q\", \"h\", \"v\", \"t\", \"s\", \"z\"];\n\n    function f(t, e, n) {\n      return {\n        x: n.x + t,\n        y: n.y + e\n      };\n    }\n\n    function p(t, e) {\n      return {\n        x: e.x + (e.x - t.x),\n        y: e.y + (e.y - t.y)\n      };\n    }\n\n    function d(t) {\n      return Math.sqrt(t[0] * t[0] + t[1] * t[1]);\n    }\n\n    function v(t, e) {\n      return (t[0] * e[0] + t[1] * e[1]) / (d(t) * d(e));\n    }\n\n    function y(t, e) {\n      return (t[0] * e[1] < t[1] * e[0] ? -1 : 1) * Math.acos(v(t, e));\n    }\n\n    var g = function () {\n      function t(t, e, n) {\n        this.preSegment = e, this.isLast = n, this.init(t, e);\n      }\n\n      return t.prototype.init = function (t, e) {\n        var n = t[0];\n        e = e || {\n          endPoint: {\n            x: 0,\n            y: 0\n          }\n        };\n        var i,\n            a,\n            o,\n            s,\n            u = h.indexOf(n) >= 0,\n            c = u ? n.toUpperCase() : n,\n            l = t,\n            d = e.endPoint,\n            g = l[1],\n            x = l[2];\n\n        switch (c) {\n          default:\n            break;\n\n          case \"M\":\n            s = u ? f(g, x, d) : {\n              x: g,\n              y: x\n            }, this.command = \"M\", this.params = [d, s], this.subStart = s, this.endPoint = s;\n            break;\n\n          case \"L\":\n            s = u ? f(g, x, d) : {\n              x: g,\n              y: x\n            }, this.command = \"L\", this.params = [d, s], this.subStart = e.subStart, this.endPoint = s, this.endTangent = function () {\n              return [s.x - d.x, s.y - d.y];\n            }, this.startTangent = function () {\n              return [d.x - s.x, d.y - s.y];\n            };\n            break;\n\n          case \"H\":\n            s = u ? f(g, 0, d) : {\n              x: g,\n              y: d.y\n            }, this.command = \"L\", this.params = [d, s], this.subStart = e.subStart, this.endPoint = s, this.endTangent = function () {\n              return [s.x - d.x, s.y - d.y];\n            }, this.startTangent = function () {\n              return [d.x - s.x, d.y - s.y];\n            };\n            break;\n\n          case \"V\":\n            s = u ? f(0, g, d) : {\n              x: d.x,\n              y: g\n            }, this.command = \"L\", this.params = [d, s], this.subStart = e.subStart, this.endPoint = s, this.endTangent = function () {\n              return [s.x - d.x, s.y - d.y];\n            }, this.startTangent = function () {\n              return [d.x - s.x, d.y - s.y];\n            };\n            break;\n\n          case \"Q\":\n            u ? (i = f(g, x, d), a = f(l[3], l[4], d)) : (i = {\n              x: g,\n              y: x\n            }, a = {\n              x: l[3],\n              y: l[4]\n            }), this.command = \"Q\", this.params = [d, i, a], this.subStart = e.subStart, this.endPoint = a, this.endTangent = function () {\n              return [a.x - i.x, a.y - i.y];\n            }, this.startTangent = function () {\n              return [d.x - i.x, d.y - i.y];\n            };\n            break;\n\n          case \"T\":\n            a = u ? f(g, x, d) : {\n              x: g,\n              y: x\n            }, \"Q\" === e.command ? (i = p(e.params[1], d), this.command = \"Q\", this.params = [d, i, a], this.subStart = e.subStart, this.endPoint = a, this.endTangent = function () {\n              return [a.x - i.x, a.y - i.y];\n            }, this.startTangent = function () {\n              return [d.x - i.x, d.y - i.y];\n            }) : (this.command = \"TL\", this.params = [d, a], this.subStart = e.subStart, this.endPoint = a, this.endTangent = function () {\n              return [a.x - d.x, a.y - d.y];\n            }, this.startTangent = function () {\n              return [d.x - a.x, d.y - a.y];\n            });\n            break;\n\n          case \"C\":\n            u ? (i = f(g, x, d), a = f(l[3], l[4], d), o = f(l[5], l[6], d)) : (i = {\n              x: g,\n              y: x\n            }, a = {\n              x: l[3],\n              y: l[4]\n            }, o = {\n              x: l[5],\n              y: l[6]\n            }), this.command = \"C\", this.params = [d, i, a, o], this.subStart = e.subStart, this.endPoint = o, this.endTangent = function () {\n              return [o.x - a.x, o.y - a.y];\n            }, this.startTangent = function () {\n              return [d.x - i.x, d.y - i.y];\n            };\n            break;\n\n          case \"S\":\n            u ? (a = f(g, x, d), o = f(l[3], l[4], d)) : (a = {\n              x: g,\n              y: x\n            }, o = {\n              x: l[3],\n              y: l[4]\n            }), \"C\" === e.command ? (i = p(e.params[2], d), this.command = \"C\", this.params = [d, i, a, o], this.subStart = e.subStart, this.endPoint = o, this.endTangent = function () {\n              return [o.x - a.x, o.y - a.y];\n            }, this.startTangent = function () {\n              return [d.x - i.x, d.y - i.y];\n            }) : (this.command = \"SQ\", this.params = [d, a, o], this.subStart = e.subStart, this.endPoint = o, this.endTangent = function () {\n              return [o.x - a.x, o.y - a.y];\n            }, this.startTangent = function () {\n              return [d.x - a.x, d.y - a.y];\n            });\n            break;\n\n          case \"A\":\n            var m = g,\n                b = x,\n                M = l[3],\n                w = l[4],\n                _ = l[5];\n            s = u ? f(l[6], l[7], d) : {\n              x: l[6],\n              y: l[7]\n            }, this.command = \"A\";\n\n            var A = function (t, e, n, i, a, o, s) {\n              var u = r.mod(r.toRadian(s), 2 * Math.PI),\n                  c = t.x,\n                  l = t.y,\n                  h = e.x,\n                  f = e.y,\n                  p = Math.cos(u) * (c - h) / 2 + Math.sin(u) * (l - f) / 2,\n                  d = -1 * Math.sin(u) * (c - h) / 2 + Math.cos(u) * (l - f) / 2,\n                  g = p * p / (a * a) + d * d / (o * o);\n              g > 1 && (a *= Math.sqrt(g), o *= Math.sqrt(g));\n              var x = a * a * (d * d) + o * o * (p * p),\n                  m = Math.sqrt((a * a * (o * o) - x) / x);\n              n === i && (m *= -1), isNaN(m) && (m = 0);\n\n              var b = m * a * d / o,\n                  M = m * -o * p / a,\n                  w = (c + h) / 2 + Math.cos(u) * b - Math.sin(u) * M,\n                  _ = (l + f) / 2 + Math.sin(u) * b + Math.cos(u) * M,\n                  A = y([1, 0], [(p - b) / a, (d - M) / o]),\n                  P = [(p - b) / a, (d - M) / o],\n                  S = [(-1 * p - b) / a, (-1 * d - M) / o],\n                  k = y(P, S);\n\n              return v(P, S) <= -1 && (k = Math.PI), v(P, S) >= 1 && (k = 0), 0 === i && k > 0 && (k -= 2 * Math.PI), 1 === i && k < 0 && (k += 2 * Math.PI), [t, w, _, a, o, A, k, u, i];\n            }(d, s, w, _, m, b, M);\n\n            this.params = A;\n            var P = e.subStart;\n            this.subStart = P, this.endPoint = s;\n            var S = A[5] % (2 * Math.PI);\n            r.isNumberEqual(S, 2 * Math.PI) && (S = 0);\n            var k = A[6] % (2 * Math.PI);\n            r.isNumberEqual(k, 2 * Math.PI) && (k = 0);\n            var O = .001;\n            this.startTangent = function () {\n              0 === _ && (O *= -1);\n              var t = A[3] * Math.cos(S - O) + A[1],\n                  e = A[4] * Math.sin(S - O) + A[2];\n              return [t - P.x, e - P.y];\n            }, this.endTangent = function () {\n              var t = A[6];\n              t - 2 * Math.PI < 1e-4 && (t = 0);\n              var e = A[3] * Math.cos(S + t + O) + A[1],\n                  n = A[4] * Math.sin(S + t - O) + A[2];\n              return [d.x - e, d.y - n];\n            };\n            break;\n\n          case \"Z\":\n            this.command = \"Z\", this.params = [d, e.subStart], this.subStart = e.subStart, this.endPoint = e.subStart;\n        }\n      }, t.prototype.isInside = function (t, e, n) {\n        var r = this.command,\n            a = this.params,\n            o = this.box;\n        if (o && !i.box(o.minX, o.maxX, o.minY, o.maxY, t, e)) return !1;\n\n        switch (r) {\n          default:\n            break;\n\n          case \"M\":\n            return !1;\n\n          case \"TL\":\n          case \"L\":\n          case \"Z\":\n            return i.line(a[0].x, a[0].y, a[1].x, a[1].y, n, t, e);\n\n          case \"SQ\":\n          case \"Q\":\n            return i.quadraticline(a[0].x, a[0].y, a[1].x, a[1].y, a[2].x, a[2].y, n, t, e);\n\n          case \"C\":\n            return i.cubicline(a[0].x, a[0].y, a[1].x, a[1].y, a[2].x, a[2].y, a[3].x, a[3].y, n, t, e);\n\n          case \"A\":\n            var s = a,\n                u = s[1],\n                h = s[2],\n                f = s[3],\n                p = s[4],\n                d = s[5],\n                v = s[6],\n                y = s[7],\n                g = s[8],\n                x = f > p ? f : p,\n                m = f > p ? 1 : f / p,\n                b = f > p ? p / f : 1;\n            s = [t, e, 1];\n            var M = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n            return l.translate(M, M, [-u, -h]), l.rotate(M, M, -y), l.scale(M, M, [1 / m, 1 / b]), c.transformMat3(s, s, M), i.arcline(0, 0, x, d, d + v, 1 - g, n, s[0], s[1]);\n        }\n\n        return !1;\n      }, t.prototype.draw = function (t) {\n        var e,\n            n,\n            r,\n            i = this.command,\n            a = this.params;\n\n        switch (i) {\n          default:\n            break;\n\n          case \"M\":\n            t.moveTo(a[1].x, a[1].y);\n            break;\n\n          case \"TL\":\n          case \"L\":\n            t.lineTo(a[1].x, a[1].y);\n            break;\n\n          case \"SQ\":\n          case \"Q\":\n            e = a[1], n = a[2], t.quadraticCurveTo(e.x, e.y, n.x, n.y);\n            break;\n\n          case \"C\":\n            e = a[1], n = a[2], r = a[3], t.bezierCurveTo(e.x, e.y, n.x, n.y, r.x, r.y);\n            break;\n\n          case \"A\":\n            var o = a,\n                s = o[1],\n                u = o[2],\n                c = o[3],\n                l = o[4],\n                h = o[5],\n                f = o[6],\n                p = o[7],\n                d = o[8],\n                v = c > l ? c : l,\n                y = c > l ? 1 : c / l,\n                g = c > l ? l / c : 1;\n            t.translate(s, u), t.rotate(p), t.scale(y, g), t.arc(0, 0, v, h, h + f, 1 - d), t.scale(1 / y, 1 / g), t.rotate(-p), t.translate(-s, -u);\n            break;\n\n          case \"Z\":\n            t.closePath();\n        }\n      }, t.prototype.getBBox = function (t) {\n        var e,\n            n,\n            r,\n            i,\n            c = t / 2,\n            l = this.params;\n\n        switch (this.command) {\n          default:\n          case \"M\":\n          case \"Z\":\n            break;\n\n          case \"TL\":\n          case \"L\":\n            this.box = u.default.fromRange(Math.min(l[0].x, l[1].x) - c, Math.min(l[0].y, l[1].y) - c, Math.max(l[0].x, l[1].x) + c, Math.max(l[0].y, l[1].y) + c);\n            break;\n\n          case \"SQ\":\n          case \"Q\":\n            for (r = 0, i = (n = o.extrema(l[0].x, l[1].x, l[2].x)).length; r < i; r++) {\n              n[r] = o.at(l[0].x, l[1].x, l[2].x, n[r]);\n            }\n\n            for (n.push(l[0].x, l[2].x), r = 0, i = (e = o.extrema(l[0].y, l[1].y, l[2].y)).length; r < i; r++) {\n              e[r] = o.at(l[0].y, l[1].y, l[2].y, e);\n            }\n\n            e.push(l[0].y, l[2].y), this.box = u.default.fromRange(Math.min.apply(Math, n) - c, Math.min.apply(Math, e) - c, Math.max.apply(Math, n) + c, Math.max.apply(Math, e) + c);\n            break;\n\n          case \"C\":\n            for (r = 0, i = (n = a.extrema(l[0].x, l[1].x, l[2].x, l[3].x)).length; r < i; r++) {\n              n[r] = a.at(l[0].x, l[1].x, l[2].x, l[3].x, n[r]);\n            }\n\n            for (r = 0, i = (e = a.extrema(l[0].y, l[1].y, l[2].y, l[3].y)).length; r < i; r++) {\n              e[r] = a.at(l[0].y, l[1].y, l[2].y, l[3].y, e[r]);\n            }\n\n            n.push(l[0].x, l[3].x), e.push(l[0].y, l[3].y), this.box = u.default.fromRange(Math.min.apply(Math, n) - c, Math.min.apply(Math, e) - c, Math.max.apply(Math, n) + c, Math.max.apply(Math, e) + c);\n            break;\n\n          case \"A\":\n            var h = l,\n                f = h[1],\n                p = h[2],\n                d = h[3],\n                v = h[4],\n                y = h[5],\n                g = h[6],\n                x = h[7],\n                m = h[8],\n                b = y,\n                M = y + g,\n                w = s.xExtrema(x, d, v),\n                _ = 1 / 0,\n                A = -1 / 0,\n                P = [b, M];\n\n            for (r = 2 * -Math.PI; r <= 2 * Math.PI; r += Math.PI) {\n              var S = w + r;\n              1 === m ? b < S && S < M && P.push(S) : M < S && S < b && P.push(S);\n            }\n\n            for (r = 0, i = P.length; r < i; r++) {\n              var k = s.xAt(x, d, v, f, P[r]);\n              k < _ && (_ = k), k > A && (A = k);\n            }\n\n            var O = s.yExtrema(x, d, v),\n                I = 1 / 0,\n                T = -1 / 0,\n                C = [b, M];\n\n            for (r = 2 * -Math.PI; r <= 2 * Math.PI; r += Math.PI) {\n              var E = O + r;\n              1 === m ? b < E && E < M && C.push(E) : M < E && E < b && C.push(E);\n            }\n\n            for (r = 0, i = C.length; r < i; r++) {\n              var N = s.yAt(x, d, v, p, C[r]);\n              N < I && (I = N), N > T && (T = N);\n            }\n\n            this.box = u.default.fromRange(_ - c, I - c, A + c, T + c);\n        }\n      }, t;\n    }();\n\n    e.default = g;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(6),\n        i = n(8),\n        a = Math.PI,\n        o = Math.sin,\n        s = Math.cos,\n        u = Math.atan2,\n        c = a / 3;\n\n    function l(t, e, n, r, i, l, h) {\n      var f, p, d, v, y, g, x;\n\n      if (!e.fill) {\n        var m = e.arrowLength || 10,\n            b = e.arrowAngle ? e.arrowAngle * a / 180 : c;\n        x = u(r - l, n - i), y = Math.abs(e.lineWidth * s(x)) / 2, g = Math.abs(e.lineWidth * o(x)) / 2, h && (y = -y, g = -g), f = i + m * s(x + b / 2), p = l + m * o(x + b / 2), d = i + m * s(x - b / 2), v = l + m * o(x - b / 2), t.beginPath(), t.moveTo(f - y, p - g), t.lineTo(i - y, l - g), t.lineTo(d - y, v - g), t.moveTo(i - y, l - g), t.lineTo(i + y, l + g), t.moveTo(i, l), t.stroke();\n      }\n    }\n\n    function h(t, e, n, a, o, s, u) {\n      var c = u ? e.startArrow : e.endArrow,\n          l = c.d,\n          h = 0,\n          f = o - n,\n          p = s - a,\n          d = Math.atan(f / p);\n      0 === p && f < 0 ? h = Math.PI : f > 0 && p > 0 ? h = Math.PI / 2 - d : f < 0 && p < 0 ? h = -Math.PI / 2 - d : f >= 0 && p < 0 ? h = -d - Math.PI / 2 : f <= 0 && p > 0 && (h = Math.PI / 2 - d);\n\n      var v = function (t) {\n        var e,\n            n = [],\n            a = r.parsePath(t.path);\n\n        if (Array.isArray(a) && 0 !== a.length && (\"M\" === a[0][0] || \"m\" === a[0][0])) {\n          for (var o = a.length, s = 0; s < a.length; s++) {\n            var u = a[s];\n            e = new i.default(u, e, s === o - 1), n.push(e);\n          }\n\n          return n;\n        }\n      }(c);\n\n      if (v) {\n        l && (u ? (o += Math.sin(Math.abs(d)) * l, s = s + Math.cos(Math.abs(d)) * l - .5 * t.lineWidth) : (o -= Math.sin(Math.abs(d)) * l, s = s - Math.cos(Math.abs(d)) * l + .5 * t.lineWidth)), t.save(), t.beginPath(), t.translate(o, s), t.rotate(h);\n\n        for (var y = 0; y < v.length; y++) {\n          v[y].draw(t);\n        }\n\n        t.setTransform(1, 0, 0, 1, 0, 0), t.fillStyle = t.strokeStyle, t.fill(), t.restore();\n      }\n    }\n\n    e.addStartArrow = function (t, e, n, r, i, a) {\n      \"object\" == typeof e.startArrow ? h(t, e, n, r, i, a, !0) : e.startArrow && l(t, e, n, r, i, a, !0);\n    }, e.addEndArrow = function (t, e, n, r, i, a) {\n      \"object\" == typeof e.endArrow ? h(t, e, n, r, i, a, !1) : e.endArrow && l(t, e, n, r, i, a, !1);\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n        i = n(0),\n        a = n(36),\n        o = {\n      delay: \"delay\",\n      rotate: \"rotate\"\n    },\n        s = {\n      fill: \"fill\",\n      stroke: \"stroke\",\n      fillStyle: \"fillStyle\",\n      strokeStyle: \"strokeStyle\"\n    };\n\n    function u(t, e) {\n      var n = {},\n          r = e.attrs;\n\n      for (var i in t.attrs) {\n        n[i] = r[i];\n      }\n\n      return n;\n    }\n\n    var c = function (t) {\n      function e(e) {\n        void 0 === e && (e = {});\n        var n = t.call(this, e) || this;\n        return n.initTransform(), n.initAnimate(), n;\n      }\n\n      return r.__extends(e, t), e.prototype.initAnimate = function () {\n        this.setSilent(\"animable\", !0), this.setSilent(\"animating\", !1);\n      }, e.prototype.animate = function (t, e, n, r, a) {\n        void 0 === r && (r = i.noop), void 0 === a && (a = 0);\n        this.set(\"animating\", !0);\n        var c = this.get(\"timeline\");\n        c || (c = this.get(\"canvas\").get(\"timeline\"), this.setSilent(\"timeline\", c));\n        var l = this.get(\"animators\") || [];\n        c.timer || c.initTimer(), i.isNumber(r) && (a = r, r = null), i.isFunction(n) ? (r = n, n = \"easeLinear\") : n = n || \"easeLinear\";\n\n        var h = function (t, e) {\n          var n = {\n            matrix: null,\n            attrs: {}\n          },\n              r = e.attrs;\n\n          for (var a in t) {\n            if (\"transform\" === a) n.matrix = i.transform(e.getMatrix(), t[a]);else if (\"rotate\" === a) n.matrix = i.transform(e.getMatrix(), [[\"r\", t[a]]]);else if (\"matrix\" === a) n.matrix = t[a];else {\n              if (s[a] && /^[r,R,L,l]{1}[\\s]*\\(/.test(t[a])) continue;\n              o[a] || r[a] === t[a] || (n.attrs[a] = t[a]);\n            }\n          }\n\n          return n;\n        }(t, this),\n            f = {\n          fromAttrs: u(h, this),\n          toAttrs: h.attrs,\n          fromMatrix: i.clone(this.getMatrix()),\n          toMatrix: h.matrix,\n          duration: e,\n          easing: n,\n          callback: r,\n          delay: a,\n          startTime: c.getTime(),\n          id: i.uniqueId(),\n          onFrame: null\n        };\n\n        t.onFrame && (f.onFrame = t.onFrame), l.length > 0 ? l = function (t, e) {\n          if (e.onFrame) return t;\n          var n = e.delay,\n              r = Object.prototype.hasOwnProperty;\n          return i.each(e.toAttrs, function (e, a) {\n            i.each(t, function (t) {\n              n < t.startTime + t.duration && r.call(t.toAttrs, a) && (delete t.toAttrs[a], delete t.fromAttrs[a]);\n            });\n          }), e.toMatrix && i.each(t, function (t) {\n            n < t.startTime + t.duration && t.toMatrix && delete t.toMatrix;\n          }), t;\n        }(l, f) : c.addAnimator(this), l.push(f), this.setSilent(\"animators\", l), this.setSilent(\"pause\", {\n          isPaused: !1\n        });\n      }, e.prototype.stopAnimate = function () {\n        var t = this,\n            e = this.get(\"animators\");\n        i.each(e, function (e) {\n          e.onFrame ? t.attr(e.onFrame(1)) : t.attr(e.toAttrs), e.toMatrix && t.attr(\"matrix\", e.toMatrix), e.callback && e.callback();\n        }), this.setSilent(\"animating\", !1), this.setSilent(\"animators\", []);\n      }, e.prototype.pauseAnimate = function () {\n        var t = this.get(\"timeline\");\n        return this.setSilent(\"pause\", {\n          isPaused: !0,\n          pauseTime: t.getTime()\n        }), this;\n      }, e.prototype.resumeAnimate = function () {\n        var t = this.get(\"timeline\").getTime(),\n            e = this.get(\"animators\"),\n            n = this.get(\"pause\").pauseTime;\n        return i.each(e, function (e) {\n          e.startTime = e.startTime + (t - n), e._paused = !1, e._pauseTime = null;\n        }), this.setSilent(\"pause\", {\n          isPaused: !1\n        }), this.setSilent(\"animators\", e), this;\n      }, e;\n    }(a.default);\n\n    e.default = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = function () {\n      function t(t, e, n, r) {\n        this.x = 0, this.y = 0, this.clientX = 0, this.clientY = 0, this.cfg = {}, this.bubbles = !1, this.cancelable = !1, this.timeStamp = new Date().getTime(), this.defaultPrevented = !1, this.propagationStopped = !1, this.type = t, this.event = e, this.bubbles = !!n, this.cancelable = !!r;\n      }\n\n      return t.prototype.preventDefault = function () {\n        this.defaultPrevented = this.cancelable && !0;\n      }, t.prototype.stopPropagation = function () {\n        this.propagationStopped = !0;\n      }, t.prototype.remove = function () {\n        this.cfg.removed = !0;\n      }, t.prototype.clone = function () {\n        return r.clone(this);\n      }, t.prototype.toString = function () {\n        return \"[Event (type=\" + this.type + \")]\";\n      }, t;\n    }();\n\n    e.default = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = n(2);\n    e.at = function (t, e, n) {\n      return (e - t) * n + t;\n    }, e.pointDistance = function (t, e, n, i, a, o) {\n      var s = [n - t, i - e];\n      if (r.vec2.exactEquals(s, [0, 0])) return NaN;\n      var u = [-s[1], s[0]];\n      r.vec2.normalize(u, u);\n      var c = [a - t, o - e];\n      return Math.abs(r.vec2.dot(c, u));\n    }, e.box = function (t, e, n, r, a) {\n      var o = a / 2;\n      return i.default.fromRange(Math.min(t, n) - o, Math.min(e, r) - o, Math.max(t, n) + o, Math.max(e, r) + o);\n    }, e.len = function (t, e, n, r) {\n      return Math.sqrt((n - t) * (n - t) + (r - e) * (r - e));\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = r.vec2;\n\n    function a(t, e, n, r, i) {\n      var a = 1 - i;\n      return a * a * (a * r + 3 * i * n) + i * i * (i * t + 3 * a * e);\n    }\n\n    function o(t, e, n, r, o, s, u, c, l, h, f) {\n      var p,\n          d,\n          v,\n          y,\n          g,\n          x,\n          m,\n          b,\n          M = .005,\n          w = 1 / 0,\n          _ = [l, h];\n\n      for (d = 0; d < 1; d += .05) {\n        v = [a(t, n, o, u, d), a(e, r, s, c, d)], (y = i.squaredDistance(_, v)) < w && (p = d, w = y);\n      }\n\n      w = 1 / 0;\n\n      for (var A = 0; A < 32 && !(M < 1e-4); A++) {\n        b = p + M, v = [a(t, n, o, u, m = p - M), a(e, r, s, c, m)], y = i.squaredDistance(_, v), m >= 0 && y < w ? (p = m, w = y) : (x = [a(t, n, o, u, b), a(e, r, s, c, b)], g = i.squaredDistance(_, x), b <= 1 && g < w ? (p = b, w = g) : M *= .5);\n      }\n\n      return f ? {\n        x: a(t, n, o, u, p),\n        y: a(e, r, s, c, p)\n      } : Math.sqrt(w);\n    }\n\n    function s(t, e, n, r, i) {\n      return t * (t * (-3 * e + 9 * n - 9 * r + 3 * i) + 6 * e - 12 * n + 6 * r) - 3 * e + 3 * n;\n    }\n\n    e.at = a, e.derivativeAt = function (t, e, n, r, i) {\n      var a = 1 - i;\n      return 3 * (((e - t) * a + 2 * (n - e) * i) * a + (r - n) * i * i);\n    }, e.pointDistance = o, e.extrema = function (t, e, n, i) {\n      var a,\n          o,\n          s,\n          u = 3 * t - 9 * e + 9 * n - 3 * i,\n          c = 6 * e - 12 * n + 6 * i,\n          l = 3 * n - 3 * i,\n          h = [];\n      if (r.isNumberEqual(u, 0)) r.isNumberEqual(c, 0) || (a = -l / c) >= 0 && a <= 1 && h.push(a);else {\n        var f = c * c - 4 * u * l;\n        r.isNumberEqual(f, 0) ? h.push(-c / (2 * u)) : f > 0 && (o = (-c - (s = Math.sqrt(f))) / (2 * u), (a = (-c + s) / (2 * u)) >= 0 && a <= 1 && h.push(a), o >= 0 && o <= 1 && h.push(o));\n      }\n      return h;\n    }, e.len = function (t, e, n, i, a, o, u, c, l) {\n      r.isNil(l) && (l = 1);\n\n      for (var h = (l = l > 1 ? 1 : l < 0 ? 0 : l) / 2, f = [-.1252, .1252, -.3678, .3678, -.5873, .5873, -.7699, .7699, -.9041, .9041, -.9816, .9816], p = [.2491, .2491, .2335, .2335, .2032, .2032, .1601, .1601, .1069, .1069, .0472, .0472], d = 0, v = 0; v < 12; v++) {\n        var y = h * f[v] + h,\n            g = s(y, t, n, a, u),\n            x = s(y, e, i, o, c),\n            m = g * g + x * x;\n        d += p[v] * Math.sqrt(m);\n      }\n\n      return h * d;\n    }, e.projectPoint = function (t, e, n, r, i, a, s, u, c, l) {\n      return o(t, e, n, r, i, a, s, u, c, l, !0);\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = \"\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\",\n        a = new RegExp(\"([a-z])[\" + i + \",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\" + i + \"]*,?[\" + i + \"]*)+)\", \"ig\"),\n        o = new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\" + i + \"]*,?[\" + i + \"]*\", \"ig\"),\n        s = function s(t) {\n      if (!t) return null;\n      if (typeof t == typeof []) return t;\n      var e = {\n        a: 7,\n        c: 6,\n        o: 2,\n        h: 1,\n        l: 2,\n        m: 2,\n        r: 4,\n        q: 4,\n        s: 4,\n        t: 2,\n        v: 1,\n        u: 3,\n        z: 0\n      },\n          n = [];\n      return String(t).replace(a, function (r, i, a) {\n        var s = [],\n            u = i.toLowerCase();\n        if (a.replace(o, function (t, e) {\n          e && s.push(+e);\n        }), \"m\" === u && s.length > 2 && (n.push([i].concat(s.splice(0, 2))), u = \"l\", i = \"m\" === i ? \"l\" : \"L\"), \"o\" === u && 1 === s.length && n.push([i, s[0]]), \"r\" === u) n.push([i].concat(s));else for (; s.length >= e[u] && (n.push([i].concat(s.splice(0, e[u]))), e[u]);) {\n          ;\n        }\n        return t;\n      }), n;\n    };\n\n    e.parsePathString = s;\n\n    var u = function u(t, e) {\n      for (var n = [], r = 0, i = t.length; i - 2 * !e > r; r += 2) {\n        var a = [{\n          x: +t[r - 2],\n          y: +t[r - 1]\n        }, {\n          x: +t[r],\n          y: +t[r + 1]\n        }, {\n          x: +t[r + 2],\n          y: +t[r + 3]\n        }, {\n          x: +t[r + 4],\n          y: +t[r + 5]\n        }];\n        e ? r ? i - 4 === r ? a[3] = {\n          x: +t[0],\n          y: +t[1]\n        } : i - 2 === r && (a[2] = {\n          x: +t[0],\n          y: +t[1]\n        }, a[3] = {\n          x: +t[2],\n          y: +t[3]\n        }) : a[0] = {\n          x: +t[i - 2],\n          y: +t[i - 1]\n        } : i - 4 === r ? a[3] = a[2] : r || (a[0] = {\n          x: +t[r],\n          y: +t[r + 1]\n        }), n.push([\"C\", (-a[0].x + 6 * a[1].x + a[2].x) / 6, (-a[0].y + 6 * a[1].y + a[2].y) / 6, (a[1].x + 6 * a[2].x - a[3].x) / 6, (a[1].y + 6 * a[2].y - a[3].y) / 6, a[2].x, a[2].y]);\n      }\n\n      return n;\n    };\n\n    e.catmullRomToBezier = u;\n\n    var c = function c(t, e, n, r, i) {\n      var a = [];\n\n      if (null === i && null === r && (r = n), t = +t, e = +e, n = +n, r = +r, null !== i) {\n        var o = Math.PI / 180,\n            s = t + n * Math.cos(-r * o),\n            u = t + n * Math.cos(-i * o);\n        a = [[\"M\", s, e + n * Math.sin(-r * o)], [\"A\", n, n, 0, +(i - r > 180), 0, u, e + n * Math.sin(-i * o)]];\n      } else a = [[\"M\", t, e], [\"m\", 0, -r], [\"a\", n, r, 0, 1, 1, 0, 2 * r], [\"a\", n, r, 0, 1, 1, 0, -2 * r], [\"z\"]];\n\n      return a;\n    },\n        l = function l(t) {\n      if (!(t = s(t)) || !t.length) return [[\"M\", 0, 0]];\n      var e,\n          n,\n          r = [],\n          i = 0,\n          a = 0,\n          o = 0,\n          l = 0,\n          h = 0;\n      \"M\" === t[0][0] && (o = i = +t[0][1], l = a = +t[0][2], h++, r[0] = [\"M\", i, a]);\n\n      for (var f = 3 === t.length && \"M\" === t[0][0] && \"R\" === t[1][0].toUpperCase() && \"Z\" === t[2][0].toUpperCase(), p = void 0, d = void 0, v = h, y = t.length; v < y; v++) {\n        if (r.push(p = []), (e = (d = t[v])[0]) !== e.toUpperCase()) switch (p[0] = e.toUpperCase(), p[0]) {\n          case \"A\":\n            p[1] = d[1], p[2] = d[2], p[3] = d[3], p[4] = d[4], p[5] = d[5], p[6] = +d[6] + i, p[7] = +d[7] + a;\n            break;\n\n          case \"V\":\n            p[1] = +d[1] + a;\n            break;\n\n          case \"H\":\n            p[1] = +d[1] + i;\n            break;\n\n          case \"R\":\n            for (var g = 2, x = (n = [i, a].concat(d.slice(1))).length; g < x; g++) {\n              n[g] = +n[g] + i, n[++g] = +n[g] + a;\n            }\n\n            r.pop(), r = r.concat(u(n, f));\n            break;\n\n          case \"O\":\n            r.pop(), (n = c(i, a, d[1], d[2])).push(n[0]), r = r.concat(n);\n            break;\n\n          case \"U\":\n            r.pop(), r = r.concat(c(i, a, d[1], d[2], d[3])), p = [\"U\"].concat(r[r.length - 1].slice(-2));\n            break;\n\n          case \"M\":\n            o = +d[1] + i, l = +d[2] + a;\n            break;\n\n          default:\n            for (g = 1, x = d.length; g < x; g++) {\n              p[g] = +d[g] + (g % 2 ? i : a);\n            }\n\n        } else if (\"R\" === e) n = [i, a].concat(d.slice(1)), r.pop(), r = r.concat(u(n, f)), p = [\"R\"].concat(d.slice(-2));else if (\"O\" === e) r.pop(), (n = c(i, a, d[1], d[2])).push(n[0]), r = r.concat(n);else if (\"U\" === e) r.pop(), r = r.concat(c(i, a, d[1], d[2], d[3])), p = [\"U\"].concat(r[r.length - 1].slice(-2));else for (var m = 0, b = d.length; m < b; m++) {\n          p[m] = d[m];\n        }\n        if (\"O\" !== (e = e.toUpperCase())) switch (p[0]) {\n          case \"Z\":\n            i = +o, a = +l;\n            break;\n\n          case \"H\":\n            i = p[1];\n            break;\n\n          case \"V\":\n            a = p[1];\n            break;\n\n          case \"M\":\n            o = p[p.length - 2], l = p[p.length - 1];\n            break;\n\n          default:\n            i = p[p.length - 2], a = p[p.length - 1];\n        }\n      }\n\n      return r;\n    };\n\n    e.pathToAbsolute = l;\n\n    var h = function h(t, e, n, r) {\n      return [t, e, n, r, n, r];\n    },\n        f = function f(t, e, n, r, i, a) {\n      return [1 / 3 * t + 2 / 3 * n, 1 / 3 * e + 2 / 3 * r, 1 / 3 * i + 2 / 3 * n, 1 / 3 * a + 2 / 3 * r, i, a];\n    },\n        p = function p(t, e, n, r, i, a, o, s, u, c) {\n      n === r && (n += 1);\n\n      var l,\n          h,\n          f,\n          d,\n          v,\n          y = 120 * Math.PI / 180,\n          g = Math.PI / 180 * (+i || 0),\n          x = [],\n          m = function m(t, e, n) {\n        return {\n          x: t * Math.cos(n) - e * Math.sin(n),\n          y: t * Math.sin(n) + e * Math.cos(n)\n        };\n      };\n\n      if (c) h = c[0], f = c[1], d = c[2], v = c[3];else {\n        t = (l = m(t, e, -g)).x, e = l.y, s = (l = m(s, u, -g)).x, u = l.y, t === s && e === u && (s += 1, u += 1);\n        var b = (t - s) / 2,\n            M = (e - u) / 2,\n            w = b * b / (n * n) + M * M / (r * r);\n        w > 1 && (n *= w = Math.sqrt(w), r *= w);\n\n        var _ = n * n,\n            A = r * r,\n            P = (a === o ? -1 : 1) * Math.sqrt(Math.abs((_ * A - _ * M * M - A * b * b) / (_ * M * M + A * b * b)));\n\n        d = P * n * M / r + (t + s) / 2, v = P * -r * b / n + (e + u) / 2, h = Math.asin(((e - v) / r).toFixed(9)), f = Math.asin(((u - v) / r).toFixed(9)), h = t < d ? Math.PI - h : h, f = s < d ? Math.PI - f : f, h < 0 && (h = 2 * Math.PI + h), f < 0 && (f = 2 * Math.PI + f), o && h > f && (h -= 2 * Math.PI), !o && f > h && (f -= 2 * Math.PI);\n      }\n      var S = f - h;\n\n      if (Math.abs(S) > y) {\n        var k = f,\n            O = s,\n            I = u;\n        f = h + y * (o && f > h ? 1 : -1), s = d + n * Math.cos(f), u = v + r * Math.sin(f), x = p(s, u, n, r, i, 0, o, O, I, [f, k, d, v]);\n      }\n\n      S = f - h;\n      var T = Math.cos(h),\n          C = Math.sin(h),\n          E = Math.cos(f),\n          N = Math.sin(f),\n          j = Math.tan(S / 4),\n          L = 4 / 3 * n * j,\n          q = 4 / 3 * r * j,\n          B = [t, e],\n          R = [t + L * C, e - q * T],\n          F = [s + L * N, u - q * E],\n          D = [s, u];\n      if (R[0] = 2 * B[0] - R[0], R[1] = 2 * B[1] - R[1], c) return [R, F, D].concat(x);\n\n      for (var W = [], Y = 0, H = (x = [R, F, D].concat(x).join().split(\",\")).length; Y < H; Y++) {\n        W[Y] = Y % 2 ? m(x[Y - 1], x[Y], g).y : m(x[Y], x[Y + 1], g).x;\n      }\n\n      return W;\n    },\n        d = function d(t, e) {\n      var n,\n          r = l(t),\n          i = e && l(e),\n          a = {\n        x: 0,\n        y: 0,\n        bx: 0,\n        by: 0,\n        X: 0,\n        Y: 0,\n        qx: null,\n        qy: null\n      },\n          o = {\n        x: 0,\n        y: 0,\n        bx: 0,\n        by: 0,\n        X: 0,\n        Y: 0,\n        qx: null,\n        qy: null\n      },\n          s = [],\n          u = [],\n          c = \"\",\n          d = \"\",\n          v = function v(t, e, n) {\n        var r, i;\n        if (!t) return [\"C\", e.x, e.y, e.x, e.y, e.x, e.y];\n\n        switch (!(t[0] in {\n          T: 1,\n          Q: 1\n        }) && (e.qx = e.qy = null), t[0]) {\n          case \"M\":\n            e.X = t[1], e.Y = t[2];\n            break;\n\n          case \"A\":\n            t = [\"C\"].concat(p.apply(0, [e.x, e.y].concat(t.slice(1))));\n            break;\n\n          case \"S\":\n            \"C\" === n || \"S\" === n ? (r = 2 * e.x - e.bx, i = 2 * e.y - e.by) : (r = e.x, i = e.y), t = [\"C\", r, i].concat(t.slice(1));\n            break;\n\n          case \"T\":\n            \"Q\" === n || \"T\" === n ? (e.qx = 2 * e.x - e.qx, e.qy = 2 * e.y - e.qy) : (e.qx = e.x, e.qy = e.y), t = [\"C\"].concat(f(e.x, e.y, e.qx, e.qy, t[1], t[2]));\n            break;\n\n          case \"Q\":\n            e.qx = t[1], e.qy = t[2], t = [\"C\"].concat(f(e.x, e.y, t[1], t[2], t[3], t[4]));\n            break;\n\n          case \"L\":\n            t = [\"C\"].concat(h(e.x, e.y, t[1], t[2]));\n            break;\n\n          case \"H\":\n            t = [\"C\"].concat(h(e.x, e.y, t[1], e.y));\n            break;\n\n          case \"V\":\n            t = [\"C\"].concat(h(e.x, e.y, e.x, t[1]));\n            break;\n\n          case \"Z\":\n            t = [\"C\"].concat(h(e.x, e.y, e.X, e.Y));\n        }\n\n        return t;\n      },\n          y = function y(t, e) {\n        if (t[e].length > 7) {\n          t[e].shift();\n\n          for (var a = t[e]; a.length;) {\n            s[e] = \"A\", i && (u[e] = \"A\"), t.splice(e++, 0, [\"C\"].concat(a.splice(0, 6)));\n          }\n\n          t.splice(e, 1), n = Math.max(r.length, i && i.length || 0);\n        }\n      },\n          g = function g(t, e, a, o, s) {\n        t && e && \"M\" === t[s][0] && \"M\" !== e[s][0] && (e.splice(s, 0, [\"M\", o.x, o.y]), a.bx = 0, a.by = 0, a.x = t[s][1], a.y = t[s][2], n = Math.max(r.length, i && i.length || 0));\n      };\n\n      n = Math.max(r.length, i && i.length || 0);\n\n      for (var x = 0; x < n; x++) {\n        r[x] && (c = r[x][0]), \"C\" !== c && (s[x] = c, x && (d = s[x - 1])), r[x] = v(r[x], a, d), \"A\" !== s[x] && \"C\" === c && (s[x] = \"C\"), y(r, x), i && (i[x] && (c = i[x][0]), \"C\" !== c && (u[x] = c, x && (d = u[x - 1])), i[x] = v(i[x], o, d), \"A\" !== u[x] && \"C\" === c && (u[x] = \"C\"), y(i, x)), g(r, i, a, o, x), g(i, r, o, a, x);\n        var m = r[x],\n            b = i && i[x],\n            M = m.length,\n            w = i && b.length;\n        a.x = m[M - 2], a.y = m[M - 1], a.bx = parseFloat(m[M - 4]) || a.x, a.by = parseFloat(m[M - 3]) || a.y, o.bx = i && (parseFloat(b[w - 4]) || o.x), o.by = i && (parseFloat(b[w - 3]) || o.y), o.x = i && b[w - 2], o.y = i && b[w - 1];\n      }\n\n      return i ? [r, i] : r;\n    };\n\n    e.pathTocurve = d;\n\n    var v = /,?([a-z]),?/gi,\n        y = function y(t) {\n      return t.join(\",\").replace(v, \"$1\");\n    };\n\n    e.parsePathArray = y;\n\n    var g = function g(t, e, n, r, i) {\n      return t * (t * (-3 * e + 9 * n - 9 * r + 3 * i) + 6 * e - 12 * n + 6 * r) - 3 * e + 3 * n;\n    },\n        x = function x(t, e, n, r, i, a, o, s, u) {\n      null === u && (u = 1);\n\n      for (var c = (u = u > 1 ? 1 : u < 0 ? 0 : u) / 2, l = [-.1252, .1252, -.3678, .3678, -.5873, .5873, -.7699, .7699, -.9041, .9041, -.9816, .9816], h = [.2491, .2491, .2335, .2335, .2032, .2032, .1601, .1601, .1069, .1069, .0472, .0472], f = 0, p = 0; p < 12; p++) {\n        var d = c * l[p] + c,\n            v = g(d, t, n, i, o),\n            y = g(d, e, r, a, s),\n            x = v * v + y * y;\n        f += h[p] * Math.sqrt(x);\n      }\n\n      return c * f;\n    },\n        m = function m(t, e, n, r, i, a, o, s) {\n      for (var u, c, l, h, f = [], p = [[], []], d = 0; d < 2; ++d) {\n        if (0 === d ? (c = 6 * t - 12 * n + 6 * i, u = -3 * t + 9 * n - 9 * i + 3 * o, l = 3 * n - 3 * t) : (c = 6 * e - 12 * r + 6 * a, u = -3 * e + 9 * r - 9 * a + 3 * s, l = 3 * r - 3 * e), Math.abs(u) < 1e-12) {\n          if (Math.abs(c) < 1e-12) continue;\n          (h = -l / c) > 0 && h < 1 && f.push(h);\n        } else {\n          var v = c * c - 4 * l * u,\n              y = Math.sqrt(v);\n\n          if (!(v < 0)) {\n            var g = (-c + y) / (2 * u);\n            g > 0 && g < 1 && f.push(g);\n            var x = (-c - y) / (2 * u);\n            x > 0 && x < 1 && f.push(x);\n          }\n        }\n      }\n\n      for (var m, b = f.length, M = b; b--;) {\n        m = 1 - (h = f[b]), p[0][b] = m * m * m * t + 3 * m * m * h * n + 3 * m * h * h * i + h * h * h * o, p[1][b] = m * m * m * e + 3 * m * m * h * r + 3 * m * h * h * a + h * h * h * s;\n      }\n\n      return p[0][M] = t, p[1][M] = e, p[0][M + 1] = o, p[1][M + 1] = s, p[0].length = p[1].length = M + 2, {\n        min: {\n          x: Math.min.apply(0, p[0]),\n          y: Math.min.apply(0, p[1])\n        },\n        max: {\n          x: Math.max.apply(0, p[0]),\n          y: Math.max.apply(0, p[1])\n        }\n      };\n    },\n        b = function b(t, e, n, r, i, a, o, s) {\n      if (!(Math.max(t, n) < Math.min(i, o) || Math.min(t, n) > Math.max(i, o) || Math.max(e, r) < Math.min(a, s) || Math.min(e, r) > Math.max(a, s))) {\n        var u = (t - n) * (a - s) - (e - r) * (i - o);\n\n        if (u) {\n          var c = ((t * r - e * n) * (i - o) - (t - n) * (i * s - a * o)) / u,\n              l = ((t * r - e * n) * (a - s) - (e - r) * (i * s - a * o)) / u,\n              h = +c.toFixed(2),\n              f = +l.toFixed(2);\n          if (!(h < +Math.min(t, n).toFixed(2) || h > +Math.max(t, n).toFixed(2) || h < +Math.min(i, o).toFixed(2) || h > +Math.max(i, o).toFixed(2) || f < +Math.min(e, r).toFixed(2) || f > +Math.max(e, r).toFixed(2) || f < +Math.min(a, s).toFixed(2) || f > +Math.max(a, s).toFixed(2))) return {\n            x: c,\n            y: l\n          };\n        }\n      }\n    },\n        M = function M(t, e, n) {\n      return e >= t.x && e <= t.x + t.width && n >= t.y && n <= t.y + t.height;\n    },\n        w = function w(t, e, n, r, i) {\n      if (i) return [[\"M\", +t + +i, e], [\"l\", n - 2 * i, 0], [\"a\", i, i, 0, 0, 1, i, i], [\"l\", 0, r - 2 * i], [\"a\", i, i, 0, 0, 1, -i, i], [\"l\", 2 * i - n, 0], [\"a\", i, i, 0, 0, 1, -i, -i], [\"l\", 0, 2 * i - r], [\"a\", i, i, 0, 0, 1, i, -i], [\"z\"]];\n      var a = [[\"M\", t, e], [\"l\", n, 0], [\"l\", 0, r], [\"l\", -n, 0], [\"z\"]];\n      return a.parsePathArray = y, a;\n    };\n\n    e.rectPath = w;\n\n    var _ = function _(t, e, n, r) {\n      return null === t && (t = e = n = r = 0), null === e && (e = t.y, n = t.width, r = t.height, t = t.x), {\n        x: t,\n        y: e,\n        width: n,\n        w: n,\n        height: r,\n        h: r,\n        x2: t + n,\n        y2: e + r,\n        cx: t + n / 2,\n        cy: e + r / 2,\n        r1: Math.min(n, r) / 2,\n        r2: Math.max(n, r) / 2,\n        r0: Math.sqrt(n * n + r * r) / 2,\n        path: w(t, e, n, r),\n        vb: [t, e, n, r].join(\" \")\n      };\n    },\n        A = function A(t, e, n, i, a, o, s, u) {\n      r.isArray(t) || (t = [t, e, n, i, a, o, s, u]);\n      var c = m.apply(null, t);\n      return _(c.min.x, c.min.y, c.max.x - c.min.x, c.max.y - c.min.y);\n    },\n        P = function P(t, e, n, r, i, a, o, s, u) {\n      var c = 1 - u,\n          l = Math.pow(c, 3),\n          h = Math.pow(c, 2),\n          f = u * u,\n          p = f * u,\n          d = t + 2 * u * (n - t) + f * (i - 2 * n + t),\n          v = e + 2 * u * (r - e) + f * (a - 2 * r + e),\n          y = n + 2 * u * (i - n) + f * (o - 2 * i + n),\n          g = r + 2 * u * (a - r) + f * (s - 2 * a + r);\n      return {\n        x: l * t + 3 * h * u * n + 3 * c * u * u * i + p * o,\n        y: l * e + 3 * h * u * r + 3 * c * u * u * a + p * s,\n        m: {\n          x: d,\n          y: v\n        },\n        n: {\n          x: y,\n          y: g\n        },\n        start: {\n          x: c * t + u * n,\n          y: c * e + u * r\n        },\n        end: {\n          x: c * i + u * o,\n          y: c * a + u * s\n        },\n        alpha: 90 - 180 * Math.atan2(d - y, v - g) / Math.PI\n      };\n    },\n        S = function S(t, e, n) {\n      if (!function (t, e) {\n        return t = _(t), e = _(e), M(e, t.x, t.y) || M(e, t.x2, t.y) || M(e, t.x, t.y2) || M(e, t.x2, t.y2) || M(t, e.x, e.y) || M(t, e.x2, e.y) || M(t, e.x, e.y2) || M(t, e.x2, e.y2) || (t.x < e.x2 && t.x > e.x || e.x < t.x2 && e.x > t.x) && (t.y < e.y2 && t.y > e.y || e.y < t.y2 && e.y > t.y);\n      }(A(t), A(e))) return n ? 0 : [];\n\n      for (var r = ~~(x.apply(0, t) / 8), i = ~~(x.apply(0, e) / 8), a = [], o = [], s = {}, u = n ? 0 : [], c = 0; c < r + 1; c++) {\n        var l = P.apply(0, t.concat(c / r));\n        a.push({\n          x: l.x,\n          y: l.y,\n          t: c / r\n        });\n      }\n\n      for (c = 0; c < i + 1; c++) {\n        l = P.apply(0, e.concat(c / i));\n        o.push({\n          x: l.x,\n          y: l.y,\n          t: c / i\n        });\n      }\n\n      for (c = 0; c < r; c++) {\n        for (var h = 0; h < i; h++) {\n          var f = a[c],\n              p = a[c + 1],\n              d = o[h],\n              v = o[h + 1],\n              y = Math.abs(p.x - f.x) < .001 ? \"y\" : \"x\",\n              g = Math.abs(v.x - d.x) < .001 ? \"y\" : \"x\",\n              m = b(f.x, f.y, p.x, p.y, d.x, d.y, v.x, v.y);\n\n          if (m) {\n            if (s[m.x.toFixed(4)] === m.y.toFixed(4)) continue;\n            s[m.x.toFixed(4)] = m.y.toFixed(4);\n            var w = f.t + Math.abs((m[y] - f[y]) / (p[y] - f[y])) * (p.t - f.t),\n                S = d.t + Math.abs((m[g] - d[g]) / (v[g] - d[g])) * (v.t - d.t);\n            w >= 0 && w <= 1 && S >= 0 && S <= 1 && (n ? u += 1 : u.push({\n              x: m.x,\n              y: m.y,\n              t1: w,\n              t2: S\n            }));\n          }\n        }\n      }\n\n      return u;\n    };\n\n    function k(t, e) {\n      var n = [],\n          r = [];\n      return t.length && function t(e, i) {\n        if (1 === e.length) n.push(e[0]), r.push(e[0]);else {\n          for (var a = [], o = 0; o < e.length - 1; o++) {\n            0 === o && n.push(e[0]), o === e.length - 2 && r.push(e[o + 1]), a[o] = [(1 - i) * e[o][0] + i * e[o + 1][0], (1 - i) * e[o][1] + i * e[o + 1][1]];\n          }\n\n          t(a, i);\n        }\n      }(t, e), {\n        left: n,\n        right: r.reverse()\n      };\n    }\n\n    e.intersection = function (t, e) {\n      return function (t, e, n) {\n        var r, i, a, o, s, u, c, l, h, f;\n        t = d(t), e = d(e);\n\n        for (var p = n ? 0 : [], v = 0, y = t.length; v < y; v++) {\n          var g = t[v];\n          if (\"M\" === g[0]) r = s = g[1], i = u = g[2];else {\n            \"C\" === g[0] ? (h = [r, i].concat(g.slice(1)), r = h[6], i = h[7]) : (h = [r, i, r, i, s, u, s, u], r = s, i = u);\n\n            for (var x = 0, m = e.length; x < m; x++) {\n              var b = e[x];\n              if (\"M\" === b[0]) a = c = b[1], o = l = b[2];else {\n                \"C\" === b[0] ? (f = [a, o].concat(b.slice(1)), a = f[6], o = f[7]) : (f = [a, o, a, o, c, l, c, l], a = c, o = l);\n                var M = S(h, f, n);\n                if (n) p += M;else {\n                  for (var w = 0, _ = M.length; w < _; w++) {\n                    M[w].segment1 = v, M[w].segment2 = x, M[w].bez1 = h, M[w].bez2 = f;\n                  }\n\n                  p = p.concat(M);\n                }\n              }\n            }\n          }\n        }\n\n        return p;\n      }(t, e);\n    };\n\n    var O = function O(t, e, n) {\n      if (1 === n) return [[].concat(t)];\n      var r = [];\n      if (\"L\" === e[0] || \"C\" === e[0] || \"Q\" === e[0]) r = r.concat(function (t, e, n) {\n        var r = [[t[1], t[2]]];\n        n = n || 2;\n        var i = [];\n        \"A\" === e[0] ? (r.push(e[6]), r.push(e[7])) : \"C\" === e[0] ? (r.push([e[1], e[2]]), r.push([e[3], e[4]]), r.push([e[5], e[6]])) : \"S\" === e[0] || \"Q\" === e[0] ? (r.push([e[1], e[2]]), r.push([e[3], e[4]])) : r.push([e[1], e[2]]);\n\n        for (var a = r, o = 1 / n, s = 0; s < n - 1; s++) {\n          var u = k(a, o / (1 - o * s));\n          i.push(u.left), a = u.right;\n        }\n\n        return i.push(a), i.map(function (t) {\n          var e = [];\n          return 4 === t.length && (e.push(\"C\"), e = e.concat(t[2])), t.length >= 3 && (3 === t.length && e.push(\"Q\"), e = e.concat(t[1])), 2 === t.length && e.push(\"L\"), e = e.concat(t[t.length - 1]);\n        });\n      }(t, e, n));else {\n        var i = [].concat(t);\n        \"M\" === i[0] && (i[0] = \"L\");\n\n        for (var a = 0; a <= n - 1; a++) {\n          r.push(i);\n        }\n      }\n      return r;\n    };\n\n    e.fillPath = function (t, e) {\n      if (1 === t.length) return t;\n      var n = t.length - 1,\n          r = e.length - 1,\n          i = n / r,\n          a = [];\n\n      if (1 === t.length && \"M\" === t[0][0]) {\n        for (var o = 0; o < r - n; o++) {\n          t.push(t[0]);\n        }\n\n        return t;\n      }\n\n      for (o = 0; o < r; o++) {\n        var s = Math.floor(i * o);\n        a[s] = (a[s] || 0) + 1;\n      }\n\n      var u = a.reduce(function (e, r, i) {\n        return i === n ? e.concat(t[n]) : e.concat(O(t[i], t[i + 1], r));\n      }, []);\n      return u.unshift(t[0]), \"Z\" !== e[r] && \"z\" !== e[r] || u.push(\"Z\"), u;\n    };\n\n    var I = function I(t, e) {\n      if (t.length !== e.length) return !1;\n      var n = !0;\n      return r.each(t, function (t, r) {\n        if (t !== e[r]) return n = !1, !1;\n      }), n;\n    };\n\n    function T(t, e, n) {\n      var r = null,\n          i = n;\n      return e < i && (i = e, r = \"add\"), t < i && (i = t, r = \"del\"), {\n        type: r,\n        min: i\n      };\n    }\n\n    function C(t, e, n) {\n      for (var r, i = [].concat(t), a = 1 / (n + 1), o = E(e)[0], s = 1; s <= n; s++) {\n        a *= s, 0 === (r = Math.floor(t.length * a)) ? i.unshift([o[0] * a + t[r][0] * (1 - a), o[1] * a + t[r][1] * (1 - a)]) : i.splice(r, 0, [o[0] * a + t[r][0] * (1 - a), o[1] * a + t[r][1] * (1 - a)]);\n      }\n\n      return i;\n    }\n\n    function E(t) {\n      var e = [];\n\n      switch (t[0]) {\n        case \"M\":\n        case \"L\":\n          e.push([t[1], t[2]]);\n          break;\n\n        case \"A\":\n          e.push([t[6], t[7]]);\n          break;\n\n        case \"Q\":\n          e.push([t[3], t[4]]), e.push([t[1], t[2]]);\n          break;\n\n        case \"T\":\n          e.push([t[1], t[2]]);\n          break;\n\n        case \"C\":\n          e.push([t[5], t[6]]), e.push([t[1], t[2]]), e.push([t[3], t[4]]);\n          break;\n\n        case \"S\":\n          e.push([t[3], t[4]]), e.push([t[1], t[2]]);\n          break;\n\n        case \"H\":\n        case \"V\":\n          e.push([t[1], t[1]]);\n      }\n\n      return e;\n    }\n\n    e.fillPathByDiff = function (t, e) {\n      var n = function (t, e) {\n        var n,\n            r,\n            i = t.length,\n            a = e.length,\n            o = 0;\n        if (0 === i || 0 === a) return null;\n\n        for (var s = [], u = 0; u <= i; u++) {\n          s[u] = [], s[u][0] = {\n            min: u\n          };\n        }\n\n        for (var c = 0; c <= a; c++) {\n          s[0][c] = {\n            min: c\n          };\n        }\n\n        for (u = 1; u <= i; u++) {\n          n = t[u - 1];\n\n          for (c = 1; c <= a; c++) {\n            r = e[c - 1], o = I(n, r) ? 0 : 1;\n            var l = s[u - 1][c].min + 1,\n                h = s[u][c - 1].min + 1,\n                f = s[u - 1][c - 1].min + o;\n            s[u][c] = T(l, h, f);\n          }\n        }\n\n        return s;\n      }(t, e),\n          r = t.length,\n          i = e.length,\n          a = [],\n          o = 1,\n          s = 1;\n\n      if (n[r][i] !== r) {\n        for (var u = 1; u <= r; u++) {\n          var c = n[u][u].min;\n          s = u;\n\n          for (var l = o; l <= i; l++) {\n            n[u][l].min < c && (c = n[u][l].min, s = l);\n          }\n\n          o = s, n[u][o].type && a.push({\n            index: u - 1,\n            type: n[u][o].type\n          });\n        }\n\n        for (u = a.length - 1; u >= 0; u--) {\n          o = a[u].index, \"add\" === a[u].type ? t.splice(o, 0, [].concat(t[o])) : t.splice(o, 1);\n        }\n      }\n\n      var h = i - (r = t.length);\n      if (r < i) for (u = 0; u < h; u++) {\n        \"z\" === t[r - 1][0] || \"Z\" === t[r - 1][0] ? t.splice(r - 2, 0, t[r - 2]) : t.push(t[r - 1]), r += 1;\n      }\n      return t;\n    };\n\n    e.formatPath = function (t, e) {\n      if (t.length <= 1) return t;\n\n      for (var n, r = 0; r < e.length; r++) {\n        if (t[r][0] !== e[r][0]) switch (n = E(t[r]), e[r][0]) {\n          case \"M\":\n            t[r] = [\"M\"].concat(n[0]);\n            break;\n\n          case \"L\":\n            t[r] = [\"L\"].concat(n[0]);\n            break;\n\n          case \"A\":\n            t[r] = [].concat(e[r]), t[r][6] = n[0][0], t[r][7] = n[0][1];\n            break;\n\n          case \"Q\":\n            if (n.length < 2) {\n              if (!(r > 0)) {\n                t[r] = e[r];\n                break;\n              }\n\n              n = C(n, t[r - 1], 1);\n            }\n\n            t[r] = [\"Q\"].concat(n.reduce(function (t, e) {\n              return t.concat(e);\n            }, []));\n            break;\n\n          case \"T\":\n            t[r] = [\"T\"].concat(n[0]);\n            break;\n\n          case \"C\":\n            if (n.length < 3) {\n              if (!(r > 0)) {\n                t[r] = e[r];\n                break;\n              }\n\n              n = C(n, t[r - 1], 2);\n            }\n\n            t[r] = [\"C\"].concat(n.reduce(function (t, e) {\n              return t.concat(e);\n            }, []));\n            break;\n\n          case \"S\":\n            if (n.length < 2) {\n              if (!(r > 0)) {\n                t[r] = e[r];\n                break;\n              }\n\n              n = C(n, t[r - 1], 1);\n            }\n\n            t[r] = [\"S\"].concat(n.reduce(function (t, e) {\n              return t.concat(e);\n            }, []));\n            break;\n\n          default:\n            t[r] = e[r];\n        }\n      }\n\n      return t;\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(43);\n    e.Arc = r.default;\n    var i = n(44);\n    e.Circle = i.default;\n    var a = n(45);\n    e.Dom = a.default;\n    var o = n(46);\n    e.Ellipse = o.default;\n    var s = n(47);\n    e.Fan = s.default;\n    var u = n(48);\n    e.Image = u.default;\n    var c = n(49);\n    e.Line = c.default;\n    var l = n(17);\n    e.Marker = l.default;\n    var h = n(50);\n    e.Path = h.default;\n    var f = n(51);\n    e.Polygon = f.default;\n    var p = n(52);\n    e.Polyline = p.default;\n    var d = n(53);\n    e.Rect = d.default;\n    var v = n(54);\n    e.Text = v.default;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0).createDom('<canvas width=\"500\" height=\"500\"></canvas>').getContext(\"2d\");\n\n    e.default = function (t, e, n) {\n      return n.createPath(r), r.isPointInPath(t, e);\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(6),\n        o = n(3),\n        s = n(8),\n        u = n(4),\n        c = n(2),\n        l = n(40),\n        h = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.type = \"marker\", e.canFill = !0, e.canStroke = !0, e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          path: null,\n          x: 0,\n          y: 0,\n          lineWidth: 1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs,\n            r = n.x,\n            i = n.y,\n            a = n.radius,\n            o = this.getHitLineWidth();\n        return u.circle(r, i, a + o / 2, t, e);\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.radius,\n            i = this.getHitLineWidth() / 2 + r;\n        return c.default.fromRange(e - i, n - i, e + i, n + i);\n      }, e.prototype._getPath = function () {\n        var t,\n            e = this.attrs,\n            n = e.x,\n            r = e.y,\n            a = e.radius,\n            o = e.symbol || \"circle\";\n        return (t = i.isFunction(o) ? o : l.default.get(o)) ? t(n, r, a) : (console.warn(t + \" symbol is not exist.\"), null);\n      }, e.prototype.createPath = function (t) {\n        var e = this.cfg.segments;\n\n        if (!e || this.cfg.hasUpdate) {\n          var n,\n              r = a.parsePath(this._getPath());\n          t.beginPath(), e = [];\n\n          for (o = 0; o < r.length; o++) {\n            var i = r[o];\n            n = new s.default(i, n, o === r.length - 1), e.push(n), n.draw(t);\n          }\n\n          this.cfg.segments = e, this.cfg.hasUpdate = !1;\n        } else {\n          t.beginPath();\n\n          for (var o = 0; o < e.length; o++) {\n            e[o].draw(t);\n          }\n        }\n      }, e.symbolsFactory = l.default, e;\n    }(o.default);\n\n    e.default = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = r.vec2;\n\n    function a(t, e, n, r) {\n      var i = 1 - r;\n      return i * (i * t + 2 * r * e) + r * r * n;\n    }\n\n    function o(t, e, n, r, o, s, u, c, l) {\n      var h,\n          f,\n          p,\n          d,\n          v,\n          y,\n          g,\n          x = .005,\n          m = 1 / 0,\n          b = [u, c];\n\n      for (v = 0; v < 1; v += .05) {\n        p = [a(t, n, o, v), a(e, r, s, v)], (f = i.squaredDistance(b, p)) < m && (h = v, m = f);\n      }\n\n      for (m = 1 / 0, g = 0; g < 32 && !(x < 1e-4); g++) {\n        var M = h - x,\n            w = h + x;\n        p = [a(t, n, o, M), a(e, r, s, M)], f = i.squaredDistance(b, p), M >= 0 && f < m ? (h = M, m = f) : (d = [a(t, n, o, w), a(e, r, s, w)], y = i.squaredDistance(b, d), w <= 1 && y < m ? (h = w, m = y) : x *= .5);\n      }\n\n      return l ? {\n        x: a(t, n, o, h),\n        y: a(e, r, s, h)\n      } : Math.sqrt(m);\n    }\n\n    e.at = a, e.pointDistance = o, e.extrema = function (t, e, n) {\n      var i = t + n - 2 * e;\n      if (r.isNumberEqual(i, 0)) return [.5];\n      var a = (t - e) / i;\n      return a <= 1 && a >= 0 ? [a] : [];\n    }, e.projectPoint = function (t, e, n, r, i, a, s, u) {\n      return o(t, e, n, r, i, a, s, u, !0);\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n        i = n(0),\n        a = n(10),\n        o = n(2),\n        s = n(15),\n        u = {};\n\n    function c(t, e, n) {\n      for (var r, i = t.length - 1; i >= 0; i--) {\n        var a = t[i];\n        if (a.cfg.visible && a.cfg.capture && !a.destroyed && !a.removed && (a.isGroup ? r = a.getShape(e, n) : a.isHit(e, n) && (r = a)), r) break;\n      }\n\n      return r;\n    }\n\n    var l = function (t) {\n      function e(e) {\n        void 0 === e && (e = {});\n        var n = t.call(this, e) || this;\n        return n.isGroup = !0, n.type = \"group\", n.canFill = !0, n.canStroke = !0, n.set(\"children\", []), n.set(\"tobeRemoved\", []), n._beforeRenderUI(), n._renderUI(), n._bindUI(), n;\n      }\n\n      return r.__extends(e, t), e.prototype._beforeRenderUI = function () {}, e.prototype._renderUI = function () {}, e.prototype._bindUI = function () {}, e.prototype.addShape = function (t, e) {\n        var n = this.get(\"canvas\");\n        e = e || {};\n        var r = u[t];\n\n        if (r || (r = i.upperFirst(t), u[t] = r), e.attrs && n) {\n          var a = e.attrs;\n\n          if (\"text\" === t) {\n            var o = n.get(\"fontFamily\");\n            o && (a.fontFamily = a.fontFamily ? a.fontFamily : o);\n          }\n        }\n\n        e.canvas = n, e.type = t;\n        var c = new s[r](e);\n        return this.add(c), c;\n      }, e.prototype.addGroup = function (t, n) {\n        var r,\n            a = this.get(\"canvas\");\n        if (n = i.mix({}, n), i.isFunction(t)) n ? (n.canvas = a, n.parent = this, r = new t(n)) : r = new t({\n          canvas: a,\n          parent: this\n        }), this.add(r);else if (i.isObject(t)) t.canvas = a, r = new e(t), this.add(r);else {\n          if (void 0 !== t) return !1;\n          r = new e(), this.add(r);\n        }\n        return r;\n      }, e.prototype.renderBack = function (t, e) {\n        var n = this.get(\"backShape\"),\n            r = this.getBBox();\n        return i.mix(e, {\n          x: r.x - t[3],\n          y: r.y - t[0],\n          width: r.width + t[1] + t[3],\n          height: r.height + t[0] + t[2]\n        }), n ? n.attr(e) : n = this.addShape(\"rect\", {\n          zIndex: -1,\n          attrs: e\n        }), this.set(\"backShape\", n), this.sort(), n;\n      }, e.prototype.removeChild = function (e, n) {\n        if (arguments.length >= 2) this.contain(e) && e.remove(n);else {\n          if (1 === arguments.length) {\n            if (!i.isBoolean(e)) return this.contain(e) && e.remove(!0), this;\n            n = e;\n          }\n\n          0 === arguments.length && (n = !0), t.prototype.remove.call(this, n);\n        }\n        return this;\n      }, e.prototype.add = function (t) {\n        var e = this,\n            n = e.get(\"children\");\n        if (i.isArray(t)) i.each(t, function (t) {\n          var n = t.get(\"parent\");\n          n && n.removeChild(t, !1), e._setCfgProperty(t);\n        }), e.cfg.children = n.concat(t);else {\n          var r = t,\n              a = r.get(\"parent\");\n          a && a.removeChild(r, !1), e._setCfgProperty(r), n.push(r);\n        }\n        return e;\n      }, e.prototype._setCfgProperty = function (t) {\n        var e = this.cfg;\n        t.set(\"parent\", this), t.set(\"canvas\", e.canvas), e.timeline && t.set(\"timeline\", e.timeline);\n      }, e.prototype.contain = function (t) {\n        return this.get(\"children\").indexOf(t) > -1;\n      }, e.prototype.getChildByIndex = function (t) {\n        return this.get(\"children\")[t];\n      }, e.prototype.getFirst = function () {\n        return this.getChildByIndex(0);\n      }, e.prototype.getLast = function () {\n        var t = this.get(\"children\").length - 1;\n        return this.getChildByIndex(t);\n      }, e.prototype.getBBox = function () {\n        var t = 1 / 0,\n            e = -1 / 0,\n            n = 1 / 0,\n            r = -1 / 0,\n            a = this.get(\"children\");\n        return a.length > 0 ? i.each(a, function (i) {\n          if (i.get(\"visible\")) {\n            var a = i.getBBox();\n            if (!a) return !0;\n            var o = a.tl,\n                s = a.tr,\n                u = a.bl,\n                c = a.br,\n                l = [o.x, o.y, 1],\n                h = [u.x, u.y, 1],\n                f = [s.x, s.y, 1],\n                p = [c.x, c.y, 1];\n            i.apply(l), i.apply(h), i.apply(f), i.apply(p);\n            var d = Math.min(l[0], h[0], f[0], p[0]),\n                v = Math.max(l[0], h[0], f[0], p[0]),\n                y = Math.min(l[1], h[1], f[1], p[1]),\n                g = Math.max(l[1], h[1], f[1], p[1]);\n            d < t && (t = d), v > e && (e = v), y < n && (n = y), g > r && (r = g);\n          }\n        }) : (t = 0, e = 0, n = 0, r = 0), new o.default(t, n, e - t, r - n);\n      }, e.prototype.getCount = function () {\n        return this.get(\"children\").length;\n      }, e.prototype.sort = function () {\n        var t,\n            e = this.get(\"children\");\n        return i.each(e, function (t, e) {\n          return t._INDEX = e, t;\n        }), e.sort((t = function t(_t2, e) {\n          return _t2.get(\"zIndex\") - e.get(\"zIndex\");\n        }, function (e, n) {\n          var r = t(e, n);\n          return 0 === r ? e._INDEX - n._INDEX : r;\n        })), this;\n      }, e.prototype.findById = function (t) {\n        return this.find(function (e) {\n          return e.get(\"id\") === t;\n        });\n      }, e.prototype.find = function (t) {\n        if (i.isString(t)) return this.findById(t);\n        var e = this.get(\"children\"),\n            n = null;\n        return i.each(e, function (e) {\n          if (t(e) ? n = e : e.find && (n = e.find(t)), n) return !1;\n        }), n;\n      }, e.prototype.findAll = function (t) {\n        var e = this.get(\"children\"),\n            n = [],\n            r = [];\n        return i.each(e, function (e) {\n          t(e) && n.push(e), e.findAllBy && (r = e.findAllBy(t), n = n.concat(r));\n        }), n;\n      }, e.prototype.findBy = function (t) {\n        var e = this.get(\"children\"),\n            n = null;\n        return i.each(e, function (e) {\n          if (t(e) ? n = e : e.findBy && (n = e.findBy(t)), n) return !1;\n        }), n;\n      }, e.prototype.findAllBy = function (t) {\n        var e = this.get(\"children\"),\n            n = [],\n            r = [];\n        return i.each(e, function (e) {\n          t(e) && n.push(e), e.findAllBy && (r = e.findAllBy(t), n = n.concat(r));\n        }), n;\n      }, e.prototype.getShape = function (t, e, n) {\n        var r,\n            i = this.attrs.clip,\n            a = this.cfg.children;\n\n        if (i) {\n          var o = [t, e, 1];\n          i.invert(o, this.get(\"canvas\")), i.isPointInPath(o[0], o[1]) && (r = c(a, t, e));\n        } else r = c(a, t, e);\n\n        return r;\n      }, e.prototype.clearTotalMatrix = function () {\n        if (this.get(\"totalMatrix\")) {\n          this.setSilent(\"totalMatrix\", null);\n\n          for (var t = this.cfg.children, e = 0; e < t.length; e++) {\n            t[e].clearTotalMatrix();\n          }\n        }\n      }, e.prototype.clear = function (t) {\n        if (!this.destroyed) {\n          for (var e = this.cfg.children, n = e.length - 1; n >= 0; n--) {\n            e[n].remove(!0, t);\n          }\n\n          return this.cfg.children = [], this;\n        }\n      }, e.prototype.destroy = function () {\n        this.destroyed || (this.clear(), t.prototype.destroy.call(this));\n      }, e.prototype.clone = function () {\n        var t = this.cfg.children,\n            n = new e();\n        return i.each(t, function (t) {\n          n.add(t.clone());\n        }), n;\n      }, e;\n    }(a.default);\n\n    e.default = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n        i = n(2);\n    e.BBox = i.default;\n    var a = n(21);\n    e.Canvas = a.default;\n    var o = n(10);\n    e.Element = o.default;\n    var s = n(11);\n    e.Event = s.default;\n    var u = n(19);\n    e.Group = u.default;\n    var c = n(8);\n    e.PathSegment = c.default;\n    var l = n(3);\n    e.Shape = l.default;\n    var h = n(14);\n    e.PathUtil = h;\n    var f = n(15);\n    e.Shapes = f;\n    var p = n(55);\n    e.version = p.version, r.__exportStar(n(15), e), r.__exportStar(n(56), e);\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n        i = n(0),\n        a = n(22),\n        o = n(11),\n        s = n(42),\n        u = n(19),\n        c = [\"click\", \"mousedown\", \"mouseup\", \"dblclick\", \"contextmenu\", \"mouseenter\", \"mouseleave\", \"mouseover\", \"mouseout\", \"mousemove\", \"wheel\"],\n        l = null,\n        h = null,\n        f = null;\n\n    function p(t) {\n      return +t;\n    }\n\n    var d = function (t) {\n      function e(e) {\n        var n = t.call(this, r.__assign({\n          eventEnable: !0,\n          width: null,\n          height: null,\n          widthCanvas: null,\n          heightCanvas: null,\n          widthStyle: null,\n          heightStyle: null,\n          containerDOM: null,\n          canvasDOM: null,\n          pixelRatio: null,\n          renderer: \"canvas\"\n        }, e)) || this;\n        return n._setGlobalParam(), n._setContainer(), n._initPainter(), n._scale(), n.get(\"eventEnable\") && n.registerEvent(), n;\n      }\n\n      return r.__extends(e, t), e.prototype._scale = function () {\n        if (\"svg\" !== this.cfg.renderType) {\n          var t = this.get(\"pixelRatio\");\n          this.scale(t, t);\n        }\n      }, e.prototype._setGlobalParam = function () {\n        var t = this.get(\"renderer\") || \"canvas\";\n        \"svg\" === t ? this.set(\"pixelRatio\", 1) : this.get(\"pixelRatio\") || this.set(\"pixelRatio\", i.getRatio()), this.cfg.renderType = t;\n        var e = a[t];\n        this.cfg.renderer = e, this.cfg.canvas = this;\n        var n = new s.default(this);\n        this.cfg.timeline = n;\n      }, e.prototype._setContainer = function () {\n        var t = this.get(\"containerId\"),\n            e = this.get(\"containerDOM\");\n        e || (e = document.getElementById(t), this.set(\"containerDOM\", e)), i.modifyCSS(e, {\n          position: \"relative\"\n        });\n\n        for (var n = e.style.transform, r = [], a = /(\\w+)\\((.+?)\\)/g, o = a.exec(n); o;) {\n          r.push([o[1], o[2].split(\", \")]), o = a.exec(n);\n        }\n\n        var s = {\n          scaleX: 1,\n          scaleY: 1\n        };\n        i.each(r, function (t, e) {\n          var n = t[0],\n              r = t[1] && t[1][0],\n              a = t[1] && t[1][1];\n          \"scale\" === n ? (s.scaleX = i.isNil(r) ? 1 : p(r), s.scaleY = i.isNil(a) ? s.scaleX : p(a)) : n === e && (s[e] = r);\n        }), this.set(\"containerTransform\", s);\n      }, e.prototype._initPainter = function () {\n        var t = this.get(\"containerDOM\"),\n            e = new this.cfg.renderer.painter(t);\n        this.cfg.painter = e, this.cfg.canvasDOM = this.cfg.el = e.canvas, this.changeSize(this.get(\"width\"), this.get(\"height\"));\n      }, e.prototype._resize = function () {\n        var t = this.get(\"canvasDOM\"),\n            e = this.get(\"widthCanvas\"),\n            n = this.get(\"heightCanvas\"),\n            r = this.get(\"widthStyle\"),\n            i = this.get(\"heightStyle\");\n        t.style.width = r, t.style.height = i, t.setAttribute(\"width\", e), t.setAttribute(\"height\", n);\n      }, e.prototype.getWidth = function () {\n        var t = this.get(\"pixelRatio\");\n        return this.get(\"width\") * t;\n      }, e.prototype.getHeight = function () {\n        var t = this.get(\"pixelRatio\");\n        return this.get(\"height\") * t;\n      }, e.prototype.changeSize = function (t, e) {\n        var n = this.get(\"pixelRatio\"),\n            r = t * n,\n            i = e * n;\n        this.set(\"widthCanvas\", r), this.set(\"heightCanvas\", i), this.set(\"widthStyle\", t + \"px\"), this.set(\"heightStyle\", e + \"px\"), this.set(\"width\", t), this.set(\"height\", e), this._resize();\n      }, e.prototype.getPointByClient = function (t, e) {\n        var n = this.get(\"containerTransform\"),\n            r = n.scaleX,\n            i = n.scaleY,\n            a = this.get(\"el\"),\n            o = this.get(\"pixelRatio\") || 1,\n            s = a.getBoundingClientRect();\n        return {\n          x: (t - s.left) * o / r,\n          y: (e - s.top) * o / i\n        };\n      }, e.prototype.getClientByPoint = function (t, e) {\n        var n = this.get(\"containerTransform\"),\n            r = n.scaleX,\n            i = n.scaleY,\n            a = this.get(\"el\").getBoundingClientRect(),\n            o = this.get(\"pixelRatio\") || 1;\n        return {\n          clientX: t / o * r + a.left,\n          clientY: e / o * i + a.top\n        };\n      }, e.prototype.draw = function () {\n        this.cfg.painter.draw(this);\n      }, e.prototype.getShape = function (e, n, r) {\n        return 3 === arguments.length && this.cfg.renderer.getShape ? this.cfg.renderer.getShape.call(this, e, n, r) : t.prototype.getShape.call(this, e, n);\n      }, e.prototype.getRenderer = function () {\n        return this.cfg.renderType;\n      }, e.prototype._drawSync = function () {\n        this.cfg.painter.drawSync(this);\n      }, e.prototype.destroy = function () {\n        var e = this.cfg,\n            n = e.containerDOM,\n            r = e.canvasDOM;\n        r && n && n.removeChild(r), e.timeline.stop(), t.prototype.destroy.call(this);\n      }, e.prototype.registerEvent = function () {\n        var t = this,\n            e = this.get(\"el\");\n        i.each(c, function (n) {\n          e.addEventListener(n, function (e) {\n            t._triggerEvent(n, e);\n          }, !1);\n        }), e.addEventListener(\"touchstart\", function (e) {\n          i.isEmpty(e.targetTouches) || t._triggerEvent(\"touchstart\", e);\n        }, !1), e.addEventListener(\"touchmove\", function (e) {\n          i.isEmpty(e.targetTouches) || t._triggerEvent(\"touchmove\", e);\n        }, !1), e.addEventListener(\"touchend\", function (e) {\n          i.isEmpty(e.changedTouches) || t._triggerEvent(\"touchend\", e);\n        }, !1);\n      }, e.prototype._getEmitter = function (t, e) {\n        if (t) {\n          if (!i.isEmpty(t.getEvents())) return t;\n          var n = t.get(\"parent\");\n          if (n && !e.propagationStopped) return this._getEmitter(n, e);\n        }\n      }, e.prototype._getEventObj = function (t, e, n, r) {\n        var i = new o.default(t, e, !0, !0);\n        return i.x = n.x, i.y = n.y, i.clientX = e.clientX, i.clientY = e.clientY, i.target = r, i.currentTarget = this._getEmitter(r, i), i;\n      }, e.prototype._getClientXY = function (t, e) {\n        return \"touchstart\" === t || \"touchmove\" === t ? [e.targetTouches[0].clientX, e.targetTouches[0].clientY] : \"touchend\" === t ? [e.changedTouches[0].clientX, e.changedTouches[0].clientY] : [e.clientX, e.clientY];\n      }, e.prototype._triggerEvent = function (t, e) {\n        var n = this._getClientXY(t, e),\n            r = n[0],\n            i = n[1],\n            a = this.getPointByClient(r, i),\n            o = this.getShape(a.x, a.y, e),\n            s = this.get(\"el\");\n\n        if (f && \"svg\" === this.getRenderer() && (o = this.getShape(a.x, a.y)), \"mousemove\" === t) {\n          if (l && l !== o && (this._emitEvent(\"mouseout\", e, a, l), this._emitEvent(\"mouseleave\", e, a, l), f && this._emitEvent(\"dragleave\", e, a, l), l.destroyed || l.removed || (s.style.cursor = l.attr(\"cursor\") || \"default\")), f && (this._emitEvent(\"drag\", e, a, f), this._emitEvent(\"mousemove\", e, a, o || this)), o) f || (h === o ? (f = o, h = null, this._emitEvent(\"dragstart\", e, a, o)) : this._emitEvent(\"mousemove\", e, a, o)), l !== o && (this._emitEvent(\"mouseenter\", e, a, o), this._emitEvent(\"mouseover\", e, a, o), f && this._emitEvent(\"dragenter\", e, a, o));else {\n            var u = this._getEventObj(\"mousemove\", e, a, this);\n\n            this.emit(\"mousemove\", u);\n          }\n          l = o;\n        } else this._emitEvent(t, e, a, o || this), f || \"mousedown\" !== t || (h = o), \"mouseup\" === t && (h = null, f && (f.cfg.capture = !0, this._emitEvent(\"dragend\", e, a, f), f = null, this._emitEvent(\"drop\", e, a, o || this)));\n\n        o && !o.destroyed && (s.style.cursor = o.attr(\"cursor\") || \"default\");\n      }, e.prototype._emitEvent = function (t, e, n, r) {\n        var i = this._getEventObj(t, e, n, r),\n            a = this._getEmitter(r, e);\n\n        return a && a.emit(t, i), a;\n      }, e;\n    }(u.default);\n\n    e.default = d;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(23);\n    e.canvas = r;\n    var i = n(26);\n    e.svg = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(24);\n    e.painter = r.default;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = n(25),\n        a = [\"fillStyle\", \"font\", \"globalAlpha\", \"lineCap\", \"lineWidth\", \"lineJoin\", \"miterLimit\", \"shadowBlur\", \"shadowColor\", \"shadowOffsetX\", \"shadowOffsetY\", \"strokeStyle\", \"textAlign\", \"textBaseline\", \"lineDash\", \"lineDashOffset\"],\n        o = function () {\n      function t(t) {\n        if (!t) return null;\n        var e = r.uniqueId(\"canvas_\"),\n            n = r.createDom('<canvas id=\"' + e + '\"></canvas>');\n        return t.appendChild(n), this.type = \"canvas\", this.canvas = n, this.context = n.getContext(\"2d\"), this;\n      }\n\n      return t.prototype.beforeDraw = function () {\n        var t = this.canvas;\n        this.context && this.context.clearRect(0, 0, t.width, t.height);\n      }, t.prototype.draw = function (t) {\n        var e = this;\n        e.animateHandler ? e.toDraw = !0 : function n() {\n          e.animateHandler = r.requestAnimationFrame(function () {\n            e.animateHandler = void 0, e.toDraw && n();\n          }), e.beforeDraw();\n\n          try {\n            e._drawGroup(t);\n          } catch (t) {\n            console.warn(\"error in draw canvas, detail as:\"), console.warn(t);\n          } finally {\n            e.toDraw = !1;\n          }\n        }();\n      }, t.prototype.drawSync = function (t) {\n        this.beforeDraw(), this._drawGroup(t);\n      }, t.prototype._drawGroup = function (t) {\n        if (!t.removed && !t.destroyed && t.cfg.visible) {\n          var e = t.cfg.children,\n              n = null;\n          this.setContext(t);\n\n          for (var r = 0; r < e.length; r++) {\n            n = e[r], e[r].isGroup ? this._drawGroup(n) : this._drawShape(n);\n          }\n\n          this.restoreContext(t);\n        }\n      }, t.prototype._drawShape = function (t) {\n        t.removed || t.destroyed || !t.cfg.visible || (this.setContext(t), t.drawInner(this.context), this.restoreContext(t), t.cfg.attrs = t.attrs, t.cfg.hasUpdate = !1);\n      }, t.prototype.setContext = function (t) {\n        var e = this.context,\n            n = t.attrs.clip;\n        e.save(), n && (n.resetTransform(e), n.createPath(e), e.clip()), this.resetContext(t), t.resetTransform(e);\n      }, t.prototype.restoreContext = function (t) {\n        this.context.restore();\n      }, t.prototype.resetContext = function (t) {\n        var e = this.context,\n            n = t.attrs;\n        if (!t.isGroup) for (var o in n) {\n          if (a.indexOf(o) > -1) {\n            var s = n[o];\n            \"fillStyle\" === o && (s = i.parseStyle(s, t, e)), \"strokeStyle\" === o && (s = i.parseStyle(s, t, e)), \"lineDash\" === o && e.setLineDash ? r.isArray(s) ? e.setLineDash(s) : r.isString(s) && e.setLineDash(s.split(\" \")) : e[o] = s;\n          }\n        }\n      }, t;\n    }();\n\n    e.default = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,\n        a = /[^\\s\\,]+/gi,\n        o = /^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,\n        s = /^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,\n        u = /^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i,\n        c = /[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;\n\n    function l(t, e) {\n      var n = t.match(c);\n      r.each(n, function (t) {\n        t = t.split(\":\"), e.addColorStop(t[0], t[1]);\n      });\n    }\n\n    e.parsePath = function (t) {\n      return t = t || [], r.isArray(t) ? t : r.isString(t) ? (t = t.match(i), r.each(t, function (e, n) {\n        if ((e = e.match(a))[0].length > 1) {\n          var i = e[0].charAt(0);\n          e.splice(1, 0, e[0].substr(1)), e[0] = i;\n        }\n\n        r.each(e, function (t, n) {\n          isNaN(t) || (e[n] = +t);\n        }), t[n] = e;\n      }), t) : void 0;\n    }, e.parseStyle = function (t, e, n) {\n      if (r.isString(t)) {\n        if (\"(\" === t[1] || \"(\" === t[2]) {\n          if (\"l\" === t[0]) return function (t, e, n) {\n            var i,\n                a,\n                s = o.exec(t),\n                u = r.mod(r.toRadian(parseFloat(s[1])), 2 * Math.PI),\n                c = s[2],\n                h = e.getBBox(),\n                f = h.maxX,\n                p = h.maxY;\n            u >= 0 && u < .5 * Math.PI ? (i = {\n              x: h.x,\n              y: h.y\n            }, a = {\n              x: f,\n              y: p\n            }) : .5 * Math.PI <= u && u < Math.PI ? (i = {\n              x: f,\n              y: h.y\n            }, a = {\n              x: h.x,\n              y: p\n            }) : Math.PI <= u && u < 1.5 * Math.PI ? (i = {\n              x: f,\n              y: p\n            }, a = {\n              x: h.x,\n              y: h.y\n            }) : (i = {\n              x: h.x,\n              y: p\n            }, a = {\n              x: f,\n              y: h.y\n            });\n            var d = Math.tan(u),\n                v = d * d,\n                y = (a.x - i.x + d * (a.y - i.y)) / (v + 1) + i.x,\n                g = d * (a.x - i.x + d * (a.y - i.y)) / (v + 1) + i.y,\n                x = n.createLinearGradient(i.x, i.y, y, g);\n            return l(c, x), x;\n          }(t, e, n);\n          if (\"r\" === t[0]) return function (t, e, n) {\n            var r = s.exec(t),\n                i = parseFloat(r[1]),\n                a = parseFloat(r[2]),\n                o = parseFloat(r[3]),\n                u = r[4];\n\n            if (0 === o) {\n              var h = u.match(c);\n              return h[h.length - 1].split(\":\")[1];\n            }\n\n            var f = e.getBBox(),\n                p = f.maxX,\n                d = f.maxY,\n                v = p - f.x,\n                y = d - f.y,\n                g = Math.sqrt(v * v + y * y) / 2,\n                x = n.createRadialGradient(f.x + v * i, f.y + y * a, o * g, f.x + v / 2, f.y + y / 2, g);\n            return l(u, x), x;\n          }(t, e, n);\n          if (\"p\" === t[0]) return function (t, e, n) {\n            if (e.get(\"patternSource\") && e.get(\"patternSource\") === t) return e.get(\"pattern\");\n            var r,\n                i,\n                a = u.exec(t),\n                o = a[1],\n                s = a[2];\n\n            function c() {\n              r = n.createPattern(i, o), e.setSilent(\"pattern\", r), e.setSilent(\"patternSource\", t);\n            }\n\n            switch (o) {\n              case \"a\":\n                o = \"repeat\";\n                break;\n\n              case \"x\":\n                o = \"repeat-x\";\n                break;\n\n              case \"y\":\n                o = \"repeat-y\";\n                break;\n\n              case \"n\":\n                o = \"no-repeat\";\n                break;\n\n              default:\n                o = \"no-repeat\";\n            }\n\n            return i = new Image(), s.match(/^data:/i) || (i.crossOrigin = \"Anonymous\"), i.src = s, i.complete ? c() : (i.onload = c, i.src = i.src), r;\n          }(t, e, n);\n        }\n\n        return t;\n      }\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(27);\n    e.painter = r.default;\n    var i = n(41);\n    e.getShape = i.default;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = n(28),\n        a = n(30),\n        o = n(6),\n        s = (n(17).default.symbolsFactory, {\n      rect: \"path\",\n      circle: \"circle\",\n      line: \"line\",\n      path: \"path\",\n      marker: \"path\",\n      text: \"text\",\n      polygon: \"polygon\",\n      image: \"image\",\n      ellipse: \"ellipse\",\n      dom: \"foreignObject\",\n      fan: \"path\",\n      group: \"g\"\n    }),\n        u = {\n      opacity: \"opacity\",\n      fillStyle: \"fill\",\n      strokeOpacity: \"stroke-opacity\",\n      fillOpacity: \"fill-opacity\",\n      strokeStyle: \"stroke\",\n      x: \"x\",\n      y: \"y\",\n      r: \"r\",\n      width: \"width\",\n      height: \"height\",\n      x1: \"x1\",\n      x2: \"x2\",\n      y1: \"y1\",\n      y2: \"y2\",\n      lineCap: \"stroke-linecap\",\n      lineJoin: \"stroke-linejoin\",\n      lineWidth: \"stroke-width\",\n      lineDash: \"stroke-dasharray\",\n      lineDashOffset: \"stroke-dashoffset\",\n      miterLimit: \"stroke-miterlimit\",\n      font: \"font\",\n      fontSize: \"font-size\",\n      fontStyle: \"font-style\",\n      fontVariant: \"font-variant\",\n      fontWeight: \"font-weight\",\n      fontFamily: \"font-family\",\n      startArrow: \"marker-start\",\n      endArrow: \"marker-end\",\n      path: \"d\",\n      class: \"class\",\n      id: \"id\",\n      style: \"style\",\n      preserveAspectRatio: \"preserveAspectRatio\"\n    },\n        c = {\n      top: \"before-edge\",\n      middle: \"central\",\n      bottom: \"after-edge\",\n      alphabetic: \"baseline\",\n      hanging: \"hanging\"\n    },\n        l = {\n      top: \"text-before-edge\",\n      middle: \"central\",\n      bottom: \"text-after-edge\",\n      alphabetic: \"alphabetic\",\n      hanging: \"hanging\"\n    },\n        h = {\n      left: \"left\",\n      start: \"left\",\n      center: \"middle\",\n      right: \"end\",\n      end: \"end\"\n    },\n        f = function () {\n      function t(t) {\n        if (this.toDraw = !1, this.type = \"svg\", this.removed = !1, this.destroyed = !1, !t) return null;\n        var e = r.uniqueId(\"canvas_\"),\n            n = r.createDom('<svg id=\"' + e + '\"></svg>');\n        return t.appendChild(n), this.type = \"svg\", this.canvas = n, this.context = new a.default(n), this.toDraw = !1, this;\n      }\n\n      return t.prototype.draw = function (t) {\n        var e = this;\n        e.animateHandler ? e.toDraw = !0 : function n() {\n          e.animateHandler = r.requestAnimationFrame(function () {\n            e.animateHandler = void 0, e.toDraw && n();\n          });\n\n          try {\n            e._drawChildren(t);\n          } catch (t) {\n            console.warn(\"error in draw canvas, detail as:\"), console.warn(t);\n          } finally {\n            e.toDraw = !1;\n          }\n        }();\n      }, t.prototype.drawSync = function (t) {\n        this._drawChildren(t);\n      }, t.prototype._drawGroup = function (t, e) {\n        var n = t.cfg;\n        t.removed || t.destroyed || (n.tobeRemoved && (r.each(n.tobeRemoved, function (t) {\n          t.parentNode && t.parentNode.removeChild(t);\n        }), n.tobeRemoved = []), this._drawShape(t, e), n.children && n.children.length > 0 && this._drawChildren(t));\n      }, t.prototype._drawChildren = function (t) {\n        var e,\n            n = t.cfg.children;\n        if (n) for (var r = 0; r < n.length; r++) {\n          (e = n[r]).isGroup ? this._drawGroup(e, r) : this._drawShape(e, r);\n        }\n      }, t.prototype._drawShape = function (t, e) {\n        var n = t.attrs,\n            r = t.cfg,\n            i = r.el;\n        t.removed || t.destroyed ? i && i.parentNode.removeChild(r.el) : (!i && r.parent && (this._createDom(t, e), this._updateShape(t)), i = r.el, !1 !== r.visible ? (r.visible && i.hasAttribute(\"visibility\") && i.removeAttribute(\"visibility\"), r.hasUpdate && this._updateShape(t), n.clip && n.clip.cfg.hasUpdate && this._updateShape(n.clip)) : i.setAttribute(\"visibility\", \"hidden\"));\n      }, t.prototype._updateShape = function (t) {\n        var e = t.attrs,\n            n = t.cfg.attrs;\n        if (n) if (t.cfg.el || this._createDom(t), \"clip\" in e && this._setClip(t, e.clip), (\"shadowOffsetX\" in e || \"shadowOffsetY\" in e || \"shadowBlur\" in e || \"shadowColor\" in e) && this._setShadow(t), \"text\" !== t.type) {\n          for (var i in \"fan\" === t.type && this._updateFan(t), \"marker\" === t.type && t.cfg.el.setAttribute(\"d\", this._assembleMarker(t, e)), \"rect\" === t.type && t.cfg.el.setAttribute(\"d\", this._assembleRect(e)), e) {\n            e[i] !== n[i] && this._setAttribute(t, i, e[i]);\n          }\n\n          t.cfg.attrs = r.deepMix({}, t.attrs), t.cfg.hasUpdate = !1;\n        } else this._updateText(t);\n      }, t.prototype._setAttribute = function (t, e, n) {\n        var i = t.type,\n            a = t.attrs,\n            o = t.cfg.el,\n            s = this.context;\n        if (\"marker\" !== i && \"rect\" !== i || !~[\"x\", \"y\", \"radius\", \"r\"].indexOf(e)) if (~[\"circle\", \"ellipse\"].indexOf(i) && ~[\"x\", \"y\"].indexOf(e)) o.setAttribute(\"c\" + e, parseInt(n, 10));else {\n          if (\"polygon\" === i && \"points\" === e) return n && 0 !== n.length || (n = \"\"), r.isArray(n) && (n = (n = n.map(function (t) {\n            return t[0] + \",\" + t[1];\n          })).join(\" \")), void o.setAttribute(\"points\", n);\n          if (\"path\" !== e) {\n            if (\"img\" !== e) {\n              if (\"transform\" === e) return n ? void this._setTransform(t) : void o.removeAttribute(\"transform\");\n              if (\"rotate\" === e) return n ? void this._setTransform(t) : void o.removeAttribute(\"transform\");\n              if (\"matrix\" !== e) {\n                if (\"fillStyle\" !== e && \"strokeStyle\" !== e) {\n                  if (\"clip\" !== e) if (~e.indexOf(\"Arrow\")) {\n                    if (e = u[e], n) {\n                      var c = null;\n                      c = \"boolean\" == typeof n ? s.getDefaultArrow(a, e) : s.addArrow(a, e), o.setAttribute(e, \"url(#\" + c + \")\"), t.cfg[e] = c;\n                    } else t.cfg[e] = null, o.removeAttribute(e);\n                  } else \"html\" === e && (\"string\" == typeof n ? o.innerHTML = n : (o.innerHTML = \"\", o.appendChild(n))), u[e] && o.setAttribute(u[e], n);\n                } else this._setColor(t, e, n);\n              } else this._setTransform(t);\n            } else this._setImage(t, n);\n          } else r.isArray(n) && o.setAttribute(\"d\", this._formatPath(n));\n        }\n      }, t.prototype._createDom = function (t, e) {\n        var n = s[t.type],\n            r = t.attrs,\n            i = t.cfg.parent;\n        if (!n) throw new Error(\"the type\" + t.type + \"is not supported by svg\");\n        var a = document.createElementNS(\"http://www.w3.org/2000/svg\", n);\n\n        if (t.cfg.id && (a.id = t.cfg.id), t.cfg.el = a, i) {\n          var o = i.cfg.el;\n          if (void 0 === e) o.appendChild(a);else {\n            var u = i.cfg.el.childNodes;\n            \"svg\" === o.tagName && (e += 1), u.length <= e ? o.appendChild(a) : o.insertBefore(a, u[e]);\n          }\n        }\n\n        return t.cfg.attrs = {}, \"text\" === t.type ? (a.setAttribute(\"paint-order\", \"stroke\"), a.setAttribute(\"style\", \"stroke-linecap:butt; stroke-linejoin:miter;\")) : (r.stroke || r.strokeStyle || a.setAttribute(\"stroke\", \"none\"), r.fill || r.fillStyle || a.setAttribute(\"fill\", \"none\")), a;\n      }, t.prototype._assembleMarker = function (t, e) {\n        var n = t._getPath();\n\n        return r.isArray(n) ? n.map(function (t) {\n          return t.join(\" \");\n        }).join(\"\") : n;\n      }, t.prototype._assembleRect = function (t) {\n        var e = t.x,\n            n = t.y,\n            i = t.width,\n            a = t.height,\n            s = t.radius;\n        if (!s) return \"M \" + e + \",\" + n + \" l \" + i + \",0 l 0,\" + a + \" l\" + -i + \" 0 z\";\n        var u = o.parseRadius(s);\n        return r.isArray(s) ? 1 === s.length ? u.r1 = u.r2 = u.r3 = u.r4 = s[0] : 2 === s.length ? (u.r1 = u.r3 = s[0], u.r2 = u.r4 = s[1]) : 3 === s.length ? (u.r1 = s[0], u.r2 = u.r4 = s[1], u.r3 = s[2]) : (u.r1 = s[0], u.r2 = s[1], u.r3 = s[2], u.r4 = s[3]) : u.r1 = u.r2 = u.r3 = u.r4 = s, [[\"M \" + (e + u.r1) + \",\" + n], [\"l \" + (i - u.r1 - u.r2) + \",0\"], [\"a \" + u.r2 + \",\" + u.r2 + \",0,0,1,\" + u.r2 + \",\" + u.r2], [\"l 0,\" + (a - u.r2 - u.r3)], [\"a \" + u.r3 + \",\" + u.r3 + \",0,0,1,\" + -u.r3 + \",\" + u.r3], [\"l \" + (u.r3 + u.r4 - i) + \",0\"], [\"a \" + u.r4 + \",\" + u.r4 + \",0,0,1,\" + -u.r4 + \",\" + -u.r4], [\"l 0,\" + (u.r4 + u.r1 - a)], [\"a \" + u.r1 + \",\" + u.r1 + \",0,0,1,\" + u.r1 + \",\" + -u.r1], [\"z\"]].join(\" \");\n      }, t.prototype._formatPath = function (t) {\n        return ~(t = t.map(function (t) {\n          return t.join(\" \");\n        }).join(\"\")).indexOf(\"NaN\") ? \"\" : t;\n      }, t.prototype._setTransform = function (t) {\n        for (var e = t.attrs.matrix, n = t.cfg.el, r = [], i = 0; i < 9; i += 3) {\n          r.push(e[i] + \",\" + e[i + 1]);\n        }\n\n        -1 === (r = r.join(\",\")).indexOf(\"NaN\") ? n.setAttribute(\"transform\", \"matrix(\" + r + \")\") : console.warn(\"invalid matrix:\", e);\n      }, t.prototype._setImage = function (t, e) {\n        var n = t.attrs,\n            i = t.cfg.el;\n        if (r.isString(e)) i.setAttribute(\"href\", e);else if (e instanceof Image) n.width || (i.setAttribute(\"width\", e.width), t.attrs.width = e.width), n.height || (i.setAttribute(\"height\", e.height), t.attrs.height = e.height), i.setAttribute(\"href\", e.src);else if (e instanceof HTMLElement && r.isString(e.nodeName) && \"CANVAS\" === e.nodeName.toUpperCase()) i.setAttribute(\"href\", e.toDataURL());else if (e instanceof ImageData) {\n          var a = document.createElement(\"canvas\");\n          a.setAttribute(\"width\", \"\" + e.width), a.setAttribute(\"height\", \"\" + e.height), a.getContext(\"2d\").putImageData(e, 0, 0), n.width || (i.setAttribute(\"width\", e.width), t.attrs.width = e.width), n.height || (i.setAttribute(\"height\", e.height), t.attrs.height = e.height), i.setAttribute(\"href\", a.toDataURL());\n        }\n      }, t.prototype._updateFan = function (t) {\n        function e(t, e, n) {\n          return {\n            x: e * Math.cos(t) + n.x,\n            y: e * Math.sin(t) + n.y\n          };\n        }\n\n        var n = t.attrs,\n            i = t.cfg,\n            a = {\n          x: n.x,\n          y: n.y\n        },\n            o = [],\n            s = n.startAngle,\n            u = n.endAngle;\n        r.isNumberEqual(u - s, 2 * Math.PI) && (u -= 1e-5);\n        var c = e(s, n.re, a),\n            l = e(u, n.re, a),\n            h = u > s ? 1 : 0,\n            f = Math.abs(u - s) > Math.PI ? 1 : 0,\n            p = n.rs,\n            d = n.re,\n            v = e(s, n.rs, a),\n            y = e(u, n.rs, a);\n        n.rs > 0 ? (o.push(\"M \" + l.x + \",\" + l.y), o.push(\"L \" + y.x + \",\" + y.y), o.push(\"A \" + p + \",\" + p + \",0,\" + f + \",\" + (1 === h ? 0 : 1) + \",\" + v.x + \",\" + v.y), o.push(\"L \" + c.x + \" \" + c.y)) : (o.push(\"M \" + a.x + \",\" + a.y), o.push(\"L \" + c.x + \",\" + c.y)), o.push(\"A \" + d + \",\" + d + \",0,\" + f + \",\" + h + \",\" + l.x + \",\" + l.y), n.rs > 0 ? o.push(\"L \" + y.x + \",\" + y.y) : o.push(\"Z\"), i.el.setAttribute(\"d\", o.join(\" \"));\n      }, t.prototype._updateText = function (t) {\n        var e = t.attrs,\n            n = t.cfg.attrs,\n            r = t.cfg.el;\n\n        for (var i in this._setFont(t), e) {\n          if (e[i] !== n[i]) {\n            if (\"text\" === i) {\n              this._setText(t, \"\" + e[i]);\n\n              continue;\n            }\n\n            if (\"fillStyle\" === i || \"strokeStyle\" === i) {\n              this._setColor(t, i, e[i]);\n\n              continue;\n            }\n\n            if (\"matrix\" === i) {\n              this._setTransform(t);\n\n              continue;\n            }\n\n            u[i] && r.setAttribute(u[i], e[i]);\n          }\n        }\n\n        t.cfg.attrs = Object.assign({}, t.attrs), t.cfg.hasUpdate = !1;\n      }, t.prototype._setFont = function (t) {\n        var e = t.get(\"el\"),\n            n = t.attrs,\n            r = n.fontSize,\n            a = i.detect();\n        a && \"firefox\" === a.name ? e.setAttribute(\"dominant-baseline\", l[n.textBaseline] || \"alphabetic\") : e.setAttribute(\"alignment-baseline\", c[n.textBaseline] || \"baseline\"), e.setAttribute(\"text-anchor\", h[n.textAlign] || \"left\"), r && +r < 12 && (n.matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1], t.transform([[\"t\", -n.x, -n.y], [\"s\", +r / 12, +r / 12], [\"t\", n.x, n.y]]));\n      }, t.prototype._setText = function (t, e) {\n        var n = t.cfg.el,\n            i = t.attrs.textBaseline || \"bottom\";\n        if (e) {\n          if (~e.indexOf(\"\\n\")) {\n            var a = t.attrs.x,\n                o = e.split(\"\\n\"),\n                s = o.length - 1,\n                u = \"\";\n            r.each(o, function (t, e) {\n              0 === e ? \"alphabetic\" === i ? u += '<tspan x=\"' + a + '\" dy=\"' + -s + 'em\">' + t + \"</tspan>\" : \"top\" === i ? u += '<tspan x=\"' + a + '\" dy=\"0.9em\">' + t + \"</tspan>\" : \"middle\" === i ? u += '<tspan x=\"' + a + '\" dy=\"' + -(s - 1) / 2 + 'em\">' + t + \"</tspan>\" : \"bottom\" === i ? u += '<tspan x=\"' + a + '\" dy=\"-' + (s + .3) + 'em\">' + t + \"</tspan>\" : \"hanging\" === i && (u += '<tspan x=\"' + a + '\" dy=\"' + (-(s - 1) - .3) + 'em\">' + t + \"</tspan>\") : u += '<tspan x=\"' + a + '\" dy=\"1em\">' + t + \"</tspan>\";\n            }), n.innerHTML = u;\n          } else n.innerHTML = e;\n        } else n.innerHTML = \"\";\n      }, t.prototype._setClip = function (t, e) {\n        var n = t.cfg.el;\n        if (e) {\n          if (n.hasAttribute(\"clip-path\")) e.cfg.hasUpdate && this._updateShape(e);else {\n            this._createDom(e), this._updateShape(e);\n            var r = this.context.addClip(e);\n            n.setAttribute(\"clip-path\", \"url(#\" + r + \")\");\n          }\n        } else n.removeAttribute(\"clip-path\");\n      }, t.prototype._setColor = function (t, e, n) {\n        var r = t.cfg.el,\n            i = this.context;\n        if (n) {\n          if (n = n.trim(), /^[r,R,L,l]{1}[\\s]*\\(/.test(n)) (a = i.find(\"gradient\", n)) || (a = i.addGradient(n)), r.setAttribute(u[e], \"url(#\" + a + \")\");else if (/^[p,P]{1}[\\s]*\\(/.test(n)) {\n            var a;\n            (a = i.find(\"pattern\", n)) || (a = i.addPattern(n)), r.setAttribute(u[e], \"url(#\" + a + \")\");\n          } else r.setAttribute(u[e], n);\n        } else r.setAttribute(u[e], \"none\");\n      }, t.prototype._setShadow = function (t) {\n        var e = t.cfg.el,\n            n = t.attrs,\n            r = {\n          dx: n.shadowOffsetX,\n          dy: n.shadowOffsetY,\n          blur: n.shadowBlur,\n          color: n.shadowColor\n        };\n\n        if (r.dx || r.dy || r.blur || r.color) {\n          var i = this.context.find(\"filter\", r);\n          i || (i = this.context.addShadow(r)), e.setAttribute(\"filter\", \"url(#\" + i + \")\");\n        } else e.removeAttribute(\"filter\");\n      }, t;\n    }();\n\n    e.default = f;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    (function (t) {\n      var n = this && this.__spreadArrays || function () {\n        for (var t = 0, e = 0, n = arguments.length; e < n; e++) {\n          t += arguments[e].length;\n        }\n\n        var r = Array(t),\n            i = 0;\n\n        for (e = 0; e < n; e++) {\n          for (var a = arguments[e], o = 0, s = a.length; o < s; o++, i++) {\n            r[i] = a[o];\n          }\n        }\n\n        return r;\n      };\n\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n\n      var r = function r(t, e, n) {\n        this.name = t, this.version = e, this.os = n;\n      };\n\n      e.BrowserInfo = r;\n\n      var i = function i(e) {\n        this.version = e, this.name = \"node\", this.os = t.platform;\n      };\n\n      e.NodeInfo = i;\n\n      var a = function a() {\n        this.bot = !0, this.name = \"bot\", this.version = null, this.os = null;\n      };\n\n      e.BotInfo = a;\n      var o = [[\"aol\", /AOLShield\\/([0-9\\._]+)/], [\"edge\", /Edge\\/([0-9\\._]+)/], [\"edge-ios\", /EdgiOS\\/([0-9\\._]+)/], [\"yandexbrowser\", /YaBrowser\\/([0-9\\._]+)/], [\"vivaldi\", /Vivaldi\\/([0-9\\.]+)/], [\"kakaotalk\", /KAKAOTALK\\s([0-9\\.]+)/], [\"samsung\", /SamsungBrowser\\/([0-9\\.]+)/], [\"silk\", /\\bSilk\\/([0-9._-]+)\\b/], [\"miui\", /MiuiBrowser\\/([0-9\\.]+)$/], [\"beaker\", /BeakerBrowser\\/([0-9\\.]+)/], [\"edge-chromium\", /Edg\\/([0-9\\.]+)/], [\"chromium-webview\", /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/], [\"chrome\", /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/], [\"phantomjs\", /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/], [\"crios\", /CriOS\\/([0-9\\.]+)(:?\\s|$)/], [\"firefox\", /Firefox\\/([0-9\\.]+)(?:\\s|$)/], [\"fxios\", /FxiOS\\/([0-9\\.]+)/], [\"opera-mini\", /Opera Mini.*Version\\/([0-9\\.]+)/], [\"opera\", /Opera\\/([0-9\\.]+)(?:\\s|$)/], [\"opera\", /OPR\\/([0-9\\.]+)(:?\\s|$)/], [\"ie\", /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/], [\"ie\", /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/], [\"ie\", /MSIE\\s(7\\.0)/], [\"bb10\", /BB10;\\sTouch.*Version\\/([0-9\\.]+)/], [\"android\", /Android\\s([0-9\\.]+)/], [\"ios\", /Version\\/([0-9\\._]+).*Mobile.*Safari.*/], [\"safari\", /Version\\/([0-9\\._]+).*Safari/], [\"facebook\", /FBAV\\/([0-9\\.]+)/], [\"instagram\", /Instagram\\s([0-9\\.]+)/], [\"ios-webview\", /AppleWebKit\\/([0-9\\.]+).*Mobile/], [\"ios-webview\", /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/], [\"searchbot\", /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],\n          s = [[\"iOS\", /iP(hone|od|ad)/], [\"Android OS\", /Android/], [\"BlackBerry OS\", /BlackBerry|BB10/], [\"Windows Mobile\", /IEMobile/], [\"Amazon OS\", /Kindle/], [\"Windows 3.11\", /Win16/], [\"Windows 95\", /(Windows 95)|(Win95)|(Windows_95)/], [\"Windows 98\", /(Windows 98)|(Win98)/], [\"Windows 2000\", /(Windows NT 5.0)|(Windows 2000)/], [\"Windows XP\", /(Windows NT 5.1)|(Windows XP)/], [\"Windows Server 2003\", /(Windows NT 5.2)/], [\"Windows Vista\", /(Windows NT 6.0)/], [\"Windows 7\", /(Windows NT 6.1)/], [\"Windows 8\", /(Windows NT 6.2)/], [\"Windows 8.1\", /(Windows NT 6.3)/], [\"Windows 10\", /(Windows NT 10.0)/], [\"Windows ME\", /Windows ME/], [\"Open BSD\", /OpenBSD/], [\"Sun OS\", /SunOS/], [\"Chrome OS\", /CrOS/], [\"Linux\", /(Linux)|(X11)/], [\"Mac OS\", /(Mac_PowerPC)|(Macintosh)/], [\"QNX\", /QNX/], [\"BeOS\", /BeOS/], [\"OS/2\", /OS\\/2/], [\"Search Bot\", /(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/]];\n\n      function u(t) {\n        var e = \"\" !== t && o.reduce(function (e, n) {\n          var r = n[0],\n              i = n[1];\n          if (e) return e;\n          var a = i.exec(t);\n          return !!a && [r, a];\n        }, !1);\n        if (!e) return null;\n        var i = e[0],\n            s = e[1];\n        if (\"searchbot\" === i) return new a();\n        var u = s[1] && s[1].split(/[._]/).slice(0, 3);\n        return u ? u.length < 3 && (u = n(u, function (t) {\n          for (var e = [], n = 0; n < t; n++) {\n            e.push(\"0\");\n          }\n\n          return e;\n        }(3 - u.length))) : u = [], new r(i, u.join(\".\"), c(t));\n      }\n\n      function c(t) {\n        for (var e = 0, n = s.length; e < n; e++) {\n          var r = s[e],\n              i = r[0];\n          if (r[1].test(t)) return i;\n        }\n\n        return null;\n      }\n\n      function l() {\n        return void 0 !== t && t.version ? new i(t.version.slice(1)) : null;\n      }\n\n      e.detect = function (t) {\n        return t ? u(t) : \"undefined\" != typeof navigator ? u(navigator.userAgent) : l();\n      }, e.parseUserAgent = u, e.detectOS = c, e.getNodeVersion = l;\n    }).call(this, n(29));\n  }, function (t, e) {\n    var n,\n        r,\n        i = t.exports = {};\n\n    function a() {\n      throw new Error(\"setTimeout has not been defined\");\n    }\n\n    function o() {\n      throw new Error(\"clearTimeout has not been defined\");\n    }\n\n    function s(t) {\n      if (n === setTimeout) return setTimeout(t, 0);\n      if ((n === a || !n) && setTimeout) return n = setTimeout, setTimeout(t, 0);\n\n      try {\n        return n(t, 0);\n      } catch (e) {\n        try {\n          return n.call(null, t, 0);\n        } catch (e) {\n          return n.call(this, t, 0);\n        }\n      }\n    }\n\n    !function () {\n      try {\n        n = \"function\" == typeof setTimeout ? setTimeout : a;\n      } catch (t) {\n        n = a;\n      }\n\n      try {\n        r = \"function\" == typeof clearTimeout ? clearTimeout : o;\n      } catch (t) {\n        r = o;\n      }\n    }();\n    var u,\n        c = [],\n        l = !1,\n        h = -1;\n\n    function f() {\n      l && u && (l = !1, u.length ? c = u.concat(c) : h = -1, c.length && p());\n    }\n\n    function p() {\n      if (!l) {\n        var t = s(f);\n        l = !0;\n\n        for (var e = c.length; e;) {\n          for (u = c, c = []; ++h < e;) {\n            u && u[h].run();\n          }\n\n          h = -1, e = c.length;\n        }\n\n        u = null, l = !1, function (t) {\n          if (r === clearTimeout) return clearTimeout(t);\n          if ((r === o || !r) && clearTimeout) return r = clearTimeout, clearTimeout(t);\n\n          try {\n            r(t);\n          } catch (e) {\n            try {\n              return r.call(null, t);\n            } catch (e) {\n              return r.call(this, t);\n            }\n          }\n        }(t);\n      }\n    }\n\n    function d(t, e) {\n      this.fun = t, this.array = e;\n    }\n\n    function v() {}\n\n    i.nextTick = function (t) {\n      var e = new Array(arguments.length - 1);\n      if (arguments.length > 1) for (var n = 1; n < arguments.length; n++) {\n        e[n - 1] = arguments[n];\n      }\n      c.push(new d(t, e)), 1 !== c.length || l || s(p);\n    }, d.prototype.run = function () {\n      this.fun.apply(null, this.array);\n    }, i.title = \"browser\", i.browser = !0, i.env = {}, i.argv = [], i.version = \"\", i.versions = {}, i.on = v, i.addListener = v, i.once = v, i.off = v, i.removeListener = v, i.removeAllListeners = v, i.emit = v, i.prependListener = v, i.prependOnceListener = v, i.listeners = function (t) {\n      return [];\n    }, i.binding = function (t) {\n      throw new Error(\"process.binding is not supported\");\n    }, i.cwd = function () {\n      return \"/\";\n    }, i.chdir = function (t) {\n      throw new Error(\"process.chdir is not supported\");\n    }, i.umask = function () {\n      return 0;\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = n(31),\n        a = n(32),\n        o = n(33),\n        s = n(34),\n        u = n(35),\n        c = function () {\n      function t(t) {\n        var e = document.createElementNS(\"http://www.w3.org/2000/svg\", \"defs\"),\n            n = r.uniqueId(\"defs_\");\n        e.id = n, t.appendChild(e), this.children = [], this.defaultArrow = {}, this.el = e, this.canvas = t;\n      }\n\n      return t.prototype.find = function (t, e) {\n        for (var n = this.children, r = null, i = 0; i < n.length; i++) {\n          if (n[i].match(t, e)) {\n            r = n[i].id;\n            break;\n          }\n        }\n\n        return r;\n      }, t.prototype.findById = function (t) {\n        for (var e = this.children, n = null, r = 0; r < e.length; r++) {\n          if (e[r].id === t) {\n            n = e[r];\n            break;\n          }\n        }\n\n        return n;\n      }, t.prototype.add = function (t) {\n        this.children.push(t), t.canvas = this.canvas, t.parent = this;\n      }, t.prototype.getDefaultArrow = function (t, e) {\n        var n = t.stroke || t.strokeStyle;\n        if (this.defaultArrow[n]) return this.defaultArrow[n].id;\n        var r = new o.default(t, e);\n        return this.defaultArrow[n] = r, this.el.appendChild(r.el), r.id;\n      }, t.prototype.addGradient = function (t) {\n        var e = new i.default(t);\n        return this.el.appendChild(e.el), this.add(e), e.id;\n      }, t.prototype.addArrow = function (t, e) {\n        var n = new o.default(t, e);\n        return this.el.appendChild(n.el), n.id;\n      }, t.prototype.addShadow = function (t) {\n        var e = new a.default(t);\n        return this.el.appendChild(e.el), this.add(e), e.id;\n      }, t.prototype.addPattern = function (t) {\n        var e = new u.default(t);\n        return this.el.appendChild(e.el), this.add(e), e.id;\n      }, t.prototype.addClip = function (t) {\n        var e = new s.default(t);\n        return this.el.appendChild(e.el), this.add(e), e.id;\n      }, t;\n    }();\n\n    e.default = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = /^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,\n        a = /^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,\n        o = /[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;\n\n    function s(t) {\n      var e = t.match(o);\n      if (!e) return \"\";\n      var n = \"\";\n      return e.sort(function (t, e) {\n        return t = t.split(\":\"), e = e.split(\":\"), Number(t[0]) - Number(e[0]);\n      }), r.each(e, function (t) {\n        t = t.split(\":\"), n += '<stop offset=\"' + t[0] + '\" stop-color=\"' + t[1] + '\"></stop>';\n      }), n;\n    }\n\n    var u = function () {\n      function t(t) {\n        this.cfg = {};\n        var e,\n            n,\n            o,\n            u,\n            c,\n            l,\n            h,\n            f = null,\n            p = r.uniqueId(\"gradient_\");\n        return \"l\" === t.toLowerCase()[0] ? function (t, e) {\n          var n,\n              a,\n              o = i.exec(t),\n              u = r.mod(r.toRadian(parseFloat(o[1])), 2 * Math.PI),\n              c = o[2];\n          u >= 0 && u < .5 * Math.PI ? (n = {\n            x: 0,\n            y: 0\n          }, a = {\n            x: 1,\n            y: 1\n          }) : .5 * Math.PI <= u && u < Math.PI ? (n = {\n            x: 1,\n            y: 0\n          }, a = {\n            x: 0,\n            y: 1\n          }) : Math.PI <= u && u < 1.5 * Math.PI ? (n = {\n            x: 1,\n            y: 1\n          }, a = {\n            x: 0,\n            y: 0\n          }) : (n = {\n            x: 0,\n            y: 1\n          }, a = {\n            x: 1,\n            y: 0\n          });\n          var l = Math.tan(u),\n              h = l * l,\n              f = (a.x - n.x + l * (a.y - n.y)) / (h + 1) + n.x,\n              p = l * (a.x - n.x + l * (a.y - n.y)) / (h + 1) + n.y;\n          e.setAttribute(\"x1\", n.x), e.setAttribute(\"y1\", n.y), e.setAttribute(\"x2\", f), e.setAttribute(\"y2\", p), e.innerHTML = s(c);\n        }(t, f = document.createElementNS(\"http://www.w3.org/2000/svg\", \"linearGradient\")) : (f = document.createElementNS(\"http://www.w3.org/2000/svg\", \"radialGradient\"), e = t, n = f, o = a.exec(e), u = parseFloat(o[1]), c = parseFloat(o[2]), l = parseFloat(o[3]), h = o[4], n.setAttribute(\"cx\", u), n.setAttribute(\"cy\", c), n.setAttribute(\"r\", l), n.innerHTML = s(h)), f.setAttribute(\"id\", p), this.el = f, this.id = p, this.cfg = t, this;\n      }\n\n      return t.prototype.match = function (t, e) {\n        return this.cfg === e;\n      }, t;\n    }();\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = {\n      shadowColor: \"color\",\n      shadowOpacity: \"opacity\",\n      shadowBlur: \"blur\",\n      shadowOffsetX: \"dx\",\n      shadowOffsetY: \"dy\"\n    },\n        a = {\n      x: \"-40%\",\n      y: \"-40%\",\n      width: \"200%\",\n      height: \"200%\"\n    },\n        o = function () {\n      function t(t) {\n        this.type = \"filter\", this.cfg = {}, this.type = \"filter\";\n        var e = document.createElementNS(\"http://www.w3.org/2000/svg\", \"filter\");\n        return r.each(a, function (t, n) {\n          e.setAttribute(n, t);\n        }), this.el = e, this.id = r.uniqueId(\"filter_\"), this.el.id = this.id, this.cfg = t, this._parseShadow(t, e), this;\n      }\n\n      return t.prototype.match = function (t, e) {\n        if (this.type !== t) return !1;\n        var n = !0,\n            i = this.cfg;\n        return r.each(Object.keys(i), function (t) {\n          if (i[t] !== e[t]) return n = !1, !1;\n        }), n;\n      }, t.prototype.update = function (t, e) {\n        var n = this.cfg;\n        return n[i[t]] = e, this._parseShadow(n, this.el), this;\n      }, t.prototype._parseShadow = function (t, e) {\n        var n = '<feDropShadow\\n      dx=\"' + (t.dx || 0) + '\"\\n      dy=\"' + (t.dy || 0) + '\"\\n      stdDeviation=\"' + (t.blur ? t.blur / 10 : 0) + '\"\\n      flood-color=\"' + (t.color ? t.color : \"#000\") + '\"\\n      flood-opacity=\"' + (t.opacity ? t.opacity : 1) + '\"\\n      />';\n        e.innerHTML = n;\n      }, t;\n    }();\n\n    e.default = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = function () {\n      function t(t, e) {\n        this.cfg = {};\n        var n = document.createElementNS(\"http://www.w3.org/2000/svg\", \"marker\"),\n            i = r.uniqueId(\"marker_\");\n        n.setAttribute(\"id\", i);\n        var a = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        a.setAttribute(\"stroke\", \"none\"), a.setAttribute(\"fill\", t.stroke || \"#000\"), n.appendChild(a), n.setAttribute(\"overflow\", \"visible\"), n.setAttribute(\"orient\", \"auto-start-reverse\"), this.el = n, this.child = a, this.id = i;\n        var o = t[\"marker-start\" === e ? \"startArrow\" : \"endArrow\"];\n        return this.stroke = t.stroke || \"#000\", !0 === o ? this._setDefaultPath(e, a) : this._setMarker(t.lineWidth, a), this;\n      }\n\n      return t.prototype.match = function () {\n        return !1;\n      }, t.prototype._setDefaultPath = function (t, e) {\n        var n = this.el;\n        e.setAttribute(\"d\", \"M0,0 L6,3 L0,6 L3,3Z\"), n.setAttribute(\"refX\", \"3\"), n.setAttribute(\"refY\", \"3\");\n      }, t.prototype._setMarker = function (t, e) {\n        var n = this.el,\n            i = this.cfg.path,\n            a = this.cfg.d;\n        r.isArray(i) && (i = i.map(function (t) {\n          return t.join(\" \");\n        }).join(\"\")), e.setAttribute(\"d\", i), n.appendChild(e), a && n.setAttribute(\"refX\", \"\" + a / t);\n      }, t.prototype.update = function (t) {\n        var e = this.child;\n        e.attr ? e.attr(\"fill\", t) : e.setAttribute(\"fill\", t);\n      }, t;\n    }();\n\n    e.default = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = function () {\n      function t(t) {\n        this.type = \"clip\", this.cfg = {};\n        var e = document.createElementNS(\"http://www.w3.org/2000/svg\", \"clipPath\");\n        this.el = e, this.id = r.uniqueId(\"clip_\"), e.id = this.id;\n        var n = t.cfg.el;\n        return e.appendChild(n.cloneNode(!0)), this.cfg = t, this;\n      }\n\n      return t.prototype.match = function () {\n        return !1;\n      }, t.prototype.remove = function () {\n        var t = this.el;\n        t.parentNode.removeChild(t);\n      }, t;\n    }();\n\n    e.default = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = /^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i,\n        a = function () {\n      function t(t) {\n        this.cfg = {};\n        var e = document.createElementNS(\"http://www.w3.org/2000/svg\", \"pattern\");\n        e.setAttribute(\"patternUnits\", \"userSpaceOnUse\");\n        var n = document.createElementNS(\"http://www.w3.org/2000/svg\", \"image\");\n        e.appendChild(n);\n        var a = r.uniqueId(\"pattern_\");\n        e.id = a, this.el = e, this.id = a, this.cfg = t;\n        var o = i.exec(t)[2];\n        n.setAttribute(\"href\", o);\n        var s = new Image();\n\n        function u() {\n          e.setAttribute(\"width\", \"\" + s.width), e.setAttribute(\"height\", \"\" + s.height);\n        }\n\n        return o.match(/^data:/i) || (s.crossOrigin = \"Anonymous\"), s.src = o, s.complete ? u() : (s.onload = u, s.src = s.src), this;\n      }\n\n      return t.prototype.match = function (t, e) {\n        return this.cfg === e;\n      }, t;\n    }();\n\n    e.default = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n        i = n(0);\n\n    function a(t) {\n      return 1 === t[0] && 0 === t[1] && 0 === t[3] && 1 === t[4] && 0 === t[6] && 0 === t[7];\n    }\n\n    function o(t) {\n      return 0 === t[1] && 0 === t[3] && 0 === t[6] && 0 === t[7];\n    }\n\n    function s(t, e) {\n      a(e) || (o(e) ? (t[0] *= e[0], t[4] *= e[4]) : i.mat3.multiply(t, t, e));\n    }\n\n    var u = function (t) {\n      function e(e) {\n        void 0 === e && (e = {});\n        var n = t.call(this, e) || this;\n        return n.canFill = !1, n.canStroke = !1, n.attrs = {}, n.attrs = {\n          opacity: 1,\n          fillOpacity: 1,\n          strokeOpacity: 1,\n          matrix: [1, 0, 0, 0, 1, 0, 0, 0, 1]\n        }, n.attr(r.__assign(r.__assign({}, n.getDefaultAttrs()), n.cfg.attrs)), n.cfg.attrs = {}, n;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {};\n      }, e.prototype.attr = function () {\n        for (var t = [], e = 0; e < arguments.length; e++) {\n          t[e] = arguments[e];\n        }\n\n        var n = t[0],\n            r = t[1];\n        if (!n) return this.attrs;\n\n        if (i.isObject(n)) {\n          for (var a in n) {\n            this._setAttr(a, n[a]);\n          }\n\n          return this.clearBBox(), this.cfg.hasUpdate = !0, this;\n        }\n\n        return 2 === t.length ? (this._setAttr(n, r), this.clearBBox(), this.cfg.hasUpdate = !0, this) : this.attrs[n];\n      }, e.prototype._afterSetAttrPath = function (t) {}, e.prototype._setAttr = function (t, e) {\n        var n = this.attrs;\n        n[t] = e, \"fill\" !== t && \"stroke\" !== t ? \"opacity\" !== t ? \"clip\" === t && e ? this._setClip(e) : \"path\" !== t ? \"transform\" !== t ? \"rotate\" === t && this.rotateAtStart(e) : this.transform(e) : this._afterSetAttrPath(e) : n.globalAlpha = e : n[t + \"Style\"] = e;\n      }, e.prototype.clearBBox = function () {\n        this.setSilent(\"box\", null);\n      }, e.prototype.hasFill = function () {\n        return this.canFill && this.attrs.fillStyle;\n      }, e.prototype.hasStroke = function () {\n        return this.canStroke && this.attrs.strokeStyle;\n      }, e.prototype._setClip = function (t) {\n        t.cfg.renderer = this.cfg.renderer, t.cfg.canvas = this.cfg.canvas, t.cfg.parent = this.cfg.parent, t.hasFill = function () {\n          return !0;\n        };\n      }, e.prototype.initTransform = function () {}, e.prototype.resetMatrix = function () {\n        this.attr(\"matrix\", [1, 0, 0, 0, 1, 0, 0, 0, 1]);\n      }, e.prototype.translate = function (t, e) {\n        var n = this.attrs.matrix;\n        return i.mat3.translate(n, n, [t, e]), this.clearTotalMatrix(), this.attr(\"matrix\", n), this;\n      }, e.prototype.rotate = function (t) {\n        var e = this.attrs.matrix;\n        return i.mat3.rotate(e, e, t), this.clearTotalMatrix(), this.attr(\"matrix\", e), this;\n      }, e.prototype.scale = function (t, e) {\n        var n = this.attrs.matrix;\n        return i.mat3.scale(n, n, [t, e]), this.clearTotalMatrix(), this.attr(\"matrix\", n), this;\n      }, e.prototype.rotateAtStart = function (t) {\n        var e = this.attrs.x || 0,\n            n = this.attrs.y || 0;\n        return Math.abs(t) > 2 * Math.PI && (t = t / 180 * Math.PI), this.transform([[\"t\", -e, -n], [\"r\", t], [\"t\", e, n]]);\n      }, e.prototype.move = function (t, e) {\n        var n = this.get(\"x\") || 0,\n            r = this.get(\"y\") || 0;\n        return this.translate(t - n, e - r), this.set(\"x\", t), this.set(\"y\", e), this;\n      }, e.prototype.transform = function (t) {\n        var e = this,\n            n = this.attrs.matrix;\n        return i.each(t, function (t) {\n          switch (t[0]) {\n            case \"t\":\n              e.translate(t[1], t[2]);\n              break;\n\n            case \"s\":\n              e.scale(t[1], t[2]);\n              break;\n\n            case \"r\":\n              e.rotate(t[1]);\n              break;\n\n            case \"m\":\n              e.attr(\"matrix\", i.mat3.multiply([], n, t[1])), e.clearTotalMatrix();\n          }\n        }), this;\n      }, e.prototype.setTransform = function (t) {\n        return this.attr(\"matrix\", [1, 0, 0, 0, 1, 0, 0, 0, 1]), this.transform(t);\n      }, e.prototype.getMatrix = function () {\n        return this.attr(\"matrix\");\n      }, e.prototype.setMatrix = function (t) {\n        return this.attr(\"matrix\", t), this.clearTotalMatrix(), this;\n      }, e.prototype.apply = function (t, e) {\n        var n;\n        return n = e ? this._getMatrixByRoot(e) : this.attr(\"matrix\"), i.vec3.transformMat3(t, t, n), this;\n      }, e.prototype._getMatrixByRoot = function (t) {\n        t = t || this;\n\n        for (var e = this, n = []; e !== t;) {\n          n.unshift(e), e = e.get(\"parent\");\n        }\n\n        n.unshift(e);\n        var r = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        return i.each(n, function (t) {\n          i.mat3.multiply(r, t.attr(\"matrix\"), r);\n        }), r;\n      }, e.prototype.getTotalMatrix = function () {\n        var t = this.cfg.totalMatrix;\n\n        if (!t) {\n          t = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n          var e = this.cfg.parent;\n          if (e) s(t, e.getTotalMatrix());\n          s(t, this.attr(\"matrix\")), this.cfg.totalMatrix = t;\n        }\n\n        return t;\n      }, e.prototype.clearTotalMatrix = function () {}, e.prototype.invert = function (t) {\n        var e = this.getTotalMatrix();\n        if (o(e)) t[0] /= e[0], t[1] /= e[4];else {\n          var n = i.mat3.invert([], e);\n          n && i.vec3.transformMat3(t, t, n);\n        }\n        return this;\n      }, e.prototype.resetTransform = function (t) {\n        var e = this.attr(\"matrix\");\n        a(e) || t.transform(e[0], e[1], e[3], e[4], e[6], e[7]);\n      }, e;\n    }(n(37).default);\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(38),\n        a = n(0),\n        o = n(11),\n        s = [\"click\", \"mousedown\", \"mouseup\", \"dblclick\", \"contextmenu\", \"mouseover\", \"mouseout\", \"mousemove\", \"wheel\", \"touchstart\", \"touchend\", \"touchmove\", \"dragstart\", \"drag\", \"dragend\", \"dragenter\", \"dragleave\", \"drop\"],\n        u = function (t) {\n      function e(e) {\n        void 0 === e && (e = {});\n        var n = t.call(this) || this;\n        return n.destroyed = !1, n.removed = !1, n.cfg = r.__assign(r.__assign({\n          canvas: null,\n          capture: !0,\n          context: null,\n          parent: null,\n          visible: !0,\n          zIndex: 0\n        }, e), n.getDefaultCfg()), n;\n      }\n\n      return r.__extends(e, t), e.prototype.emit = function (e, n) {\n        for (var i = [], a = 2; a < arguments.length; a++) {\n          i[a - 2] = arguments[a];\n        }\n\n        if (t.prototype.emit.apply(this, r.__spreadArrays([e, n], i)), !(n instanceof o.default && n.propagationStopped) && s.indexOf(e) >= 0) {\n          var u = this.cfg.parent;\n          !u || u.removed || u.destroyed || u.emit.apply(u, r.__spreadArrays([e, n], i));\n        }\n      }, e.prototype.set = function (t, e) {\n        return \"zIndex\" === t && this._beforeSetZIndex && this._beforeSetZIndex(e), \"loading\" === t && this._beforeSetLoading && this._beforeSetLoading(e), this.cfg[t] = e, this;\n      }, e.prototype.setSilent = function (t, e) {\n        this.cfg[t] = e;\n      }, e.prototype.get = function (t) {\n        return this.cfg[t];\n      }, e.prototype.show = function () {\n        return this.cfg.visible = !0, this;\n      }, e.prototype.hide = function () {\n        return this.cfg.visible = !1, this;\n      }, e.prototype.remove = function (t, e) {\n        var n = this.cfg,\n            r = n.parent,\n            i = n.el;\n        return r && !r.destroyed && a.pull(r.get(\"children\"), this), i && (e ? r && r.cfg.tobeRemoved.push(i) : i.parentNode.removeChild(i)), (t || void 0 === t) && this.destroy(), this;\n      }, e.prototype.destroy = function () {\n        this.destroyed || (this.off(), this.cfg = {}, this.destroyed = !0);\n      }, e.prototype.getParent = function () {\n        return this.cfg.parent;\n      }, e.prototype.getDefaultCfg = function () {\n        return {};\n      }, e.prototype.toFront = function () {\n        var t = this.cfg,\n            e = t.parent;\n\n        if (e) {\n          var n = e.cfg.children,\n              r = t.el,\n              i = n.indexOf(this);\n          n.splice(i, 1), n.push(this), r && (r.parentNode.removeChild(r), t.el = null);\n        }\n      }, e.prototype.toBack = function () {\n        var t = this.cfg,\n            e = t.parent;\n\n        if (e) {\n          var n = e.cfg.children,\n              r = t.el,\n              i = n.indexOf(this);\n\n          if (n.splice(i, 1), n.unshift(this), r) {\n            var a = r.parentNode;\n            a.removeChild(r), a.insertBefore(r, a.firstChild);\n          }\n        }\n      }, e.prototype._beforeSetZIndex = function (t) {\n        var e = this.cfg.parent;\n        this.cfg.zIndex = t, a.isNil(e) || e.sort();\n        var n = this.cfg.el;\n\n        if (n) {\n          var r = e.cfg.children,\n              i = r.indexOf(this),\n              o = n.parentNode;\n          o.removeChild(n), i === r.length - 1 ? o.appendChild(n) : o.insertBefore(n, o.childNodes[i]);\n        }\n\n        return t;\n      }, e.prototype._beforeSetLoading = function (t) {}, e.prototype.setZIndex = function (t) {\n        return this.cfg.zIndex = t, this._beforeSetZIndex(t);\n      }, e.prototype.clone = function () {\n        return a.clone(this);\n      }, e.prototype.getBBox = function () {}, e;\n    }(i.default);\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = function () {\n      function t() {\n        this._events = {};\n      }\n\n      return t.prototype.on = function (t, e, n) {\n        return this._events[t] || (this._events[t] = []), this._events[t].push({\n          callback: e,\n          once: !!n\n        }), this;\n      }, t.prototype.once = function (t, e) {\n        return this.on(t, e, !0), this;\n      }, t.prototype.emit = function (t) {\n        for (var e = this, n = [], r = 1; r < arguments.length; r++) {\n          n[r - 1] = arguments[r];\n        }\n\n        var i = this._events[t] || [],\n            a = this._events[\"*\"] || [],\n            o = function o(r) {\n          for (var i = r.length, a = 0; a < i; a++) {\n            var o = r[a],\n                s = o.callback;\n            o.once && (r.splice(a, 1), 0 === r.length && delete e._events[t], i--, a--), s.apply(e, n);\n          }\n        };\n\n        o(i), o(a);\n      }, t.prototype.off = function (t, e) {\n        if (t) {\n          if (e) {\n            for (var n = this._events[t] || [], r = n.length, i = 0; i < r; i++) {\n              n[i].callback === e && (n.splice(i, 1), r--, i--);\n            }\n\n            0 === n.length && delete this._events[t];\n          } else delete this._events[t];\n        } else this._events = {};\n        return this;\n      }, t.prototype.getEvents = function () {\n        return this._events;\n      }, t;\n    }();\n\n    e.default = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.xAt = function (t, e, n, r, i) {\n      return e * Math.cos(t) * Math.cos(i) - n * Math.sin(t) * Math.sin(i) + r;\n    }, e.yAt = function (t, e, n, r, i) {\n      return e * Math.sin(t) * Math.cos(i) + n * Math.cos(t) * Math.sin(i) + r;\n    }, e.xExtrema = function (t, e, n) {\n      return Math.atan(-n / e * Math.tan(t));\n    }, e.yExtrema = function (t, e, n) {\n      return Math.atan(n / (e * Math.tan(t)));\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = {\n      circle: function circle(t, e, n) {\n        return [[\"M\", t, e], [\"m\", -n, 0], [\"a\", n, n, 0, 1, 0, 2 * n, 0], [\"a\", n, n, 0, 1, 0, 2 * -n, 0]];\n      },\n      square: function square(t, e, n) {\n        return [[\"M\", t - n, e - n], [\"L\", t + n, e - n], [\"L\", t + n, e + n], [\"L\", t - n, e + n], [\"Z\"]];\n      },\n      diamond: function diamond(t, e, n) {\n        return [[\"M\", t - n, e], [\"L\", t, e - n], [\"L\", t + n, e], [\"L\", t, e + n], [\"Z\"]];\n      },\n      triangle: function triangle(t, e, n) {\n        var r = n * Math.sin(1 / 3 * Math.PI);\n        return [[\"M\", t - n, e + r], [\"L\", t, e - r], [\"L\", t + n, e + r], [\"z\"]];\n      },\n      triangleDown: function triangleDown(t, e, n) {\n        var r = n * Math.sin(1 / 3 * Math.PI);\n        return [[\"M\", t - n, e - r], [\"L\", t + n, e - r], [\"L\", t, e + r], [\"Z\"]];\n      }\n    };\n    e.default = {\n      get: function get(t) {\n        return r[t];\n      },\n      register: function register(t, e) {\n        r[t] = e;\n      },\n      remove: function remove(t) {\n        delete r[t];\n      },\n      getAll: function getAll() {\n        return r;\n      }\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = {\n      svg: \"svg\",\n      circle: \"circle\",\n      rect: \"rect\",\n      text: \"text\",\n      path: \"path\",\n      foreignObject: \"foreignObject\",\n      polygon: \"polygon\",\n      ellipse: \"ellipse\",\n      image: \"image\"\n    };\n\n    e.default = function (t, e, n) {\n      var i = n.target || n.srcElement;\n\n      if (!r[i.tagName]) {\n        for (var a = i.parentNode; a && !r[a.tagName];) {\n          a = a.parentNode;\n        }\n\n        i = a;\n      }\n\n      return this.cfg.el === i ? this : this.find(function (t) {\n        return t.cfg && t.cfg.el === i;\n      });\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = n(59),\n        a = n(58),\n        o = n(57),\n        s = n(14);\n\n    function u(t, e, n) {\n      var i,\n          u = e.startTime;\n      if (n < u + e.delay || e.isPaused) return !1;\n      var c = e.duration,\n          l = e.easing;\n      if (n = n - u - e.delay, e.toAttrs.repeat) i = n % c / c, i = a[l](i);else {\n        if (!((i = n / c) < 1)) return e.onFrame ? t.attr(e.onFrame(1)) : t.attr(e.toAttrs), e.toMatrix && t.setMatrix(e.toMatrix), !0;\n        i = a[l](i);\n      }\n\n      if (e.onFrame) {\n        var h = e.onFrame(i);\n        t.attr(h);\n      } else !function (t, e, n) {\n        var i = {},\n            a = e.toAttrs,\n            u = e.fromAttrs,\n            c = e.toMatrix;\n\n        if (!t.destroyed) {\n          var l;\n\n          for (var h in a) {\n            if (!r.isEqual(u[h], a[h])) if (\"path\" === h) {\n              var f = a[h],\n                  p = u[h];\n              f.length > p.length ? (f = s.parsePathString(a[h]), p = s.parsePathString(u[h]), p = s.fillPathByDiff(p, f), p = s.formatPath(p, f), e.fromAttrs.path = p, e.toAttrs.path = f) : e.pathFormatted || (f = s.parsePathString(a[h]), p = s.parsePathString(u[h]), p = s.formatPath(p, f), e.fromAttrs.path = p, e.toAttrs.path = f, e.pathFormatted = !0), i[h] = [];\n\n              for (var d = 0; d < f.length; d++) {\n                for (var v = f[d], y = p[d], g = [], x = 0; x < v.length; x++) {\n                  r.isNumber(v[x]) && y && r.isNumber(y[x]) ? (l = o.interpolate(y[x], v[x]), g.push(l(n))) : g.push(v[x]);\n                }\n\n                i[h].push(g);\n              }\n            } else l = o.interpolate(u[h], a[h]), i[h] = l(n);\n          }\n\n          if (c) {\n            var m = o.interpolateArray(e.fromMatrix, c)(n);\n            t.setMatrix(m);\n          }\n\n          t.attr(i);\n        }\n      }(t, e, i);\n\n      return !1;\n    }\n\n    var c = function () {\n      function t(t) {\n        this.animators = [], this.current = 0, this.timer = null, this.canvas = t;\n      }\n\n      return t.prototype.initTimer = function () {\n        var t,\n            e,\n            n,\n            r = this,\n            a = this;\n        a.timer = i.timer(function (i) {\n          if (a.current = i, r.animators.length > 0) {\n            for (var o = r.animators.length - 1; o >= 0; o--) {\n              if ((t = r.animators[o]).destroyed) a.removeAnimator(o);else {\n                if (!t.get(\"pause\").isPaused) for (var s = (e = t.get(\"animators\")).length - 1; s >= 0; s--) {\n                  n = e[s], u(t, n, i) && (e.splice(s, 1), !1, n.callback && n.callback());\n                }\n                0 === e.length && a.removeAnimator(o);\n              }\n            }\n\n            r.canvas.draw();\n          }\n        });\n      }, t.prototype.addAnimator = function (t) {\n        this.animators.push(t);\n      }, t.prototype.removeAnimator = function (t) {\n        this.animators.splice(t, 1);\n      }, t.prototype.isAnimating = function () {\n        return !!this.animators.length;\n      }, t.prototype.stop = function () {\n        this.timer && this.timer.stop();\n      }, t.prototype.stopAllAnimations = function () {\n        this.animators.forEach(function (t) {\n          t.stopAnimate();\n        }), this.animators = [], this.canvas.draw();\n      }, t.prototype.getTime = function () {\n        return this.current;\n      }, t;\n    }();\n\n    e.default = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n        i = n(3),\n        a = n(7),\n        o = n(9),\n        s = n(4),\n        u = n(2);\n\n    function c(t, e, n) {\n      return t + e * Math.cos(n);\n    }\n\n    function l(t, e, n) {\n      return t + e * Math.sin(n);\n    }\n\n    var h = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canStroke = !0, e.type = \"arc\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          r: 0,\n          startAngle: 0,\n          endAngle: 0,\n          clockwise: !1,\n          lineWidth: 1,\n          startArrow: !1,\n          endArrow: !1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs,\n            r = n.x,\n            i = n.y,\n            a = n.r,\n            o = n.startAngle,\n            u = n.endAngle,\n            c = n.clockwise,\n            l = this.getHitLineWidth();\n        return !!this.hasStroke() && s.arcline(r, i, a, o, u, c, l, t, e);\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.r,\n            i = t.startAngle,\n            o = t.endAngle,\n            s = t.clockwise,\n            c = this.getHitLineWidth(),\n            l = c / 2,\n            h = a.box(e, n, r, i, o, s);\n        return new u.default(h.x - l, h.y - l, h.width + c, h.height + c);\n      }, e.prototype.getStartTangent = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.startAngle,\n            i = t.r,\n            a = t.clockwise,\n            o = Math.PI / 180;\n        a && (o *= -1);\n        var s = [],\n            u = c(e, i, r + o),\n            h = l(n, i, r + o),\n            f = c(e, i, r),\n            p = l(n, i, r);\n        return s.push([u, h]), s.push([f, p]), s;\n      }, e.prototype.getEndTangent = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.endAngle,\n            i = t.r,\n            a = t.clockwise,\n            o = Math.PI / 180,\n            s = [];\n        a && (o *= -1);\n        var u = c(e, i, r + o),\n            h = l(n, i, r + o),\n            f = c(e, i, r),\n            p = l(n, i, r);\n        return s.push([f, p]), s.push([u, h]), s;\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs,\n            n = e.x,\n            r = e.y,\n            i = e.r,\n            a = e.startAngle,\n            o = e.endAngle,\n            s = e.clockwise;\n        (t = t || this.get(\"context\")).beginPath(), t.arc(n, r, i, a, o, s);\n      }, e.prototype.afterPath = function (t) {\n        var e = this.attrs;\n\n        if (t = t || this.get(\"context\"), e.startArrow) {\n          var n = this.getStartTangent();\n          o.addStartArrow(t, e, n[0][0], n[0][1], n[1][0], n[1][1]);\n        }\n\n        if (e.endArrow) {\n          var r = this.getEndTangent();\n          o.addEndArrow(t, e, r[0][0], r[0][1], r[1][0], r[1][1]);\n        }\n      }, e;\n    }(i.default);\n\n    e.default = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(3),\n        a = n(4),\n        o = n(2),\n        s = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"circle\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          r: 0,\n          lineWidth: 1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs,\n            r = n.x,\n            i = n.y,\n            o = n.r,\n            s = this.getHitLineWidth(),\n            u = this.hasFill(),\n            c = this.hasStroke();\n        return u && c ? a.circle(r, i, o, t, e) || a.arcline(r, i, o, 0, 2 * Math.PI, !1, s, t, e) : u ? a.circle(r, i, o, t, e) : !!c && a.arcline(r, i, o, 0, 2 * Math.PI, !1, s, t, e);\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.r,\n            i = this.getHitLineWidth() / 2 + r;\n        return o.default.fromRange(e - i, n - i, e + i, n + i);\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs,\n            n = e.x,\n            r = e.y,\n            i = e.r;\n        t.beginPath(), t.arc(n, r, i, 0, 2 * Math.PI, !1), t.closePath();\n      }, e;\n    }(i.default);\n\n    e.default = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(3),\n        a = n(4),\n        o = n(2),\n        s = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"dom\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.isPointInPath = function (t, e) {\n        if (!this.cfg.el) return !1;\n        var n = this.cfg.el.getBBox();\n        return a.box(n.x, n.x + n.width, n.y, n.y + n.height, t, e);\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.width,\n            i = t.height,\n            a = this.getHitLineWidth() / 2;\n        return new o.default(e - a, n - a, r, i);\n      }, e;\n    }(i.default);\n\n    e.default = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(3),\n        o = n(4),\n        s = n(2),\n        u = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"ellipse\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          rx: 1,\n          ry: 1,\n          lineWidth: 1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs,\n            r = this.hasFill(),\n            a = this.hasStroke(),\n            s = n.x,\n            u = n.y,\n            c = n.rx,\n            l = n.ry,\n            h = this.getHitLineWidth(),\n            f = c > l ? c : l,\n            p = c > l ? 1 : c / l,\n            d = c > l ? l / c : 1,\n            v = [t, e, 1],\n            y = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        i.mat3.scale(y, y, [p, d]), i.mat3.translate(y, y, [s, u]);\n        var g = i.mat3.invert([], y);\n        return i.vec3.transformMat3(v, v, g), r && a ? o.circle(0, 0, f, v[0], v[1]) || o.arcline(0, 0, f, 0, 2 * Math.PI, !1, h, v[0], v[1]) : r ? o.circle(0, 0, f, v[0], v[1]) : !!a && o.arcline(0, 0, f, 0, 2 * Math.PI, !1, h, v[0], v[1]);\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.rx,\n            i = t.ry,\n            a = this.getHitLineWidth(),\n            o = r + a / 2,\n            u = i + a / 2;\n        return s.default.fromRange(e - o, n - u, e + o, n + u);\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs,\n            n = e.x,\n            r = e.y,\n            a = e.rx,\n            o = e.ry;\n        t = t || this.get(\"context\");\n        var s = a > o ? a : o,\n            u = a > o ? 1 : a / o,\n            c = a > o ? o / a : 1,\n            l = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        i.mat3.scale(l, l, [u, c]), i.mat3.translate(l, l, [n, r]), t.beginPath(), t.save(), t.transform(l[0], l[1], l[3], l[4], l[6], l[7]), t.arc(0, 0, s, 0, 2 * Math.PI), t.restore(), t.closePath();\n      }, e;\n    }(a.default);\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(7),\n        o = n(3),\n        s = n(4),\n        u = n(2),\n        c = n(7),\n        l = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"fan\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          rs: 0,\n          re: 0,\n          startAngle: 0,\n          endAngle: 0,\n          clockwise: !1,\n          lineWidth: 1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this,\n            r = n.hasFill(),\n            o = n.hasStroke(),\n            u = n.attrs,\n            c = u.x,\n            l = u.y,\n            h = u.rs,\n            f = u.re,\n            p = u.startAngle,\n            d = u.endAngle,\n            v = u.clockwise,\n            y = [t - c, e - l],\n            g = i.vec2.angleTo([1, 0], y);\n\n        function x() {\n          var t = a.nearAngle(g, p, d, v);\n\n          if (i.isNumberEqual(g, t)) {\n            var e = i.vec2.squaredLength(y);\n            if (h * h <= e && e <= f * f) return !0;\n          }\n\n          return !1;\n        }\n\n        function m() {\n          var r = n.getHitLineWidth(),\n              i = {\n            x: Math.cos(p) * h + c,\n            y: Math.sin(p) * h + l\n          },\n              a = {\n            x: Math.cos(p) * f + c,\n            y: Math.sin(p) * f + l\n          },\n              o = {\n            x: Math.cos(d) * h + c,\n            y: Math.sin(d) * h + l\n          },\n              u = {\n            x: Math.cos(d) * f + c,\n            y: Math.sin(d) * f + l\n          };\n          return !!s.line(i.x, i.y, a.x, a.y, r, t, e) || !!s.line(o.x, o.y, u.x, u.y, r, t, e) || !!s.arcline(c, l, h, p, d, v, r, t, e) || !!s.arcline(c, l, f, p, d, v, r, t, e);\n        }\n\n        return r && o ? x() || m() : r ? x() : !!o && m();\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.rs,\n            i = t.re,\n            a = t.startAngle,\n            o = t.endAngle,\n            s = t.clockwise,\n            l = this.getHitLineWidth(),\n            h = c.box(e, n, r, a, o, s),\n            f = c.box(e, n, i, a, o, s),\n            p = Math.min(h.minX, f.minX),\n            d = Math.min(h.minY, f.minY),\n            v = Math.max(h.maxX, f.maxX),\n            y = Math.max(h.maxY, f.maxY),\n            g = l / 2;\n        return u.default.fromRange(p - g, d - g, v + g, y + g);\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs,\n            n = e.x,\n            r = e.y,\n            i = e.rs,\n            a = e.re,\n            o = e.startAngle,\n            s = e.endAngle,\n            u = e.clockwise,\n            c = {\n          x: Math.cos(o) * i + n,\n          y: Math.sin(o) * i + r\n        },\n            l = {\n          x: Math.cos(o) * a + n,\n          y: Math.sin(o) * a + r\n        },\n            h = {\n          x: Math.cos(s) * i + n,\n          y: Math.sin(s) * i + r\n        };\n        (t = t || this.get(\"context\")).beginPath(), t.moveTo(c.x, c.y), t.lineTo(l.x, l.y), t.arc(n, r, a, o, s, u), t.lineTo(h.x, h.y), t.arc(n, r, i, s, o, !u), t.closePath();\n      }, e;\n    }(o.default);\n\n    e.default = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(3),\n        o = n(4),\n        s = n(2),\n        u = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.type = \"image\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          img: null,\n          width: 0,\n          height: 0,\n          sx: null,\n          sy: null,\n          swidth: null,\n          sheight: null\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs;\n        if (this.get(\"toDraw\") || !n.img) return !1;\n        this.cfg.attrs && this.cfg.attrs.img === n.img || this._setAttrImg();\n        var r = n.x,\n            i = n.y,\n            a = n.width,\n            s = n.height;\n        return o.rect(r, i, a, s, t, e);\n      }, e.prototype.isHitBox = function () {\n        return !1;\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs;\n        return this.cfg.attrs && this.cfg.attrs.img === t.img || this._setAttrImg(), new s.default(t.x, t.y, t.width, t.height);\n      }, e.prototype._beforeSetLoading = function (t) {\n        var e = this.get(\"canvas\");\n        return !1 === t && !0 === this.get(\"toDraw\") && (this.cfg.loading = !1, e.draw()), t;\n      }, e.prototype._setAttrImg = function () {\n        var t = this,\n            e = t.attrs,\n            n = e.img;\n        if (!i.isString(n)) return n instanceof Image ? (e.width || t.attr(\"width\", n.width), e.height || t.attr(\"height\", n.height), n) : n instanceof HTMLElement && i.isString(n.nodeName) && \"CANVAS\" === n.nodeName.toUpperCase() ? (e.width || t.attr(\"width\", Number(n.getAttribute(\"width\"))), e.height || t.attr(\"height\", Number(n.getAttribute(\"height\"))), n) : n instanceof ImageData ? (e.width || t.attr(\"width\", n.width), e.height || t.attr(\"height\", n.height), n) : null;\n        var r = new Image();\n        r.onload = function () {\n          if (t.get(\"destroyed\")) return !1;\n          t.attr(\"imgSrc\", n), t.attr(\"img\", r);\n          var e = t.get(\"callback\");\n          e && e.call(t), t.set(\"loading\", !1);\n        }, r.src = n, r.crossOrigin = \"Anonymous\", t.set(\"loading\", !0);\n      }, e.prototype.drawInner = function (t) {\n        this.cfg.hasUpdate && this._setAttrImg(), this.get(\"loading\") ? this.set(\"toDraw\", !0) : (this._drawImage(t), this.cfg.hasUpdate = !1);\n      }, e.prototype._drawImage = function (t) {\n        var e = this.attrs,\n            n = e.x,\n            r = e.y,\n            a = e.img,\n            o = e.width,\n            s = e.height,\n            u = e.sx,\n            c = e.sy,\n            l = e.swidth,\n            h = e.sheight;\n        this.set(\"toDraw\", !1);\n        var f = a;\n\n        if (f instanceof ImageData && ((f = new Image()).src = a), f instanceof Image || f instanceof HTMLImageElement && i.isString(f.nodeName) && \"CANVAS\" === f.nodeName.toUpperCase()) {\n          if (i.isNil(u) || i.isNil(c) || i.isNil(l) || i.isNil(h)) return void t.drawImage(f, n, r, o, s);\n          if (!(i.isNil(u) || i.isNil(c) || i.isNil(l) || i.isNil(h))) return void t.drawImage(f, u, c, l, h, n, r, o, s);\n        }\n      }, e;\n    }(a.default);\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(3),\n        a = n(9),\n        o = n(12),\n        s = n(4),\n        u = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canStroke = !0, e.type = \"line\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x1: 0,\n          y1: 0,\n          x2: 0,\n          y2: 0,\n          lineWidth: 1,\n          startArrow: !1,\n          endArrow: !1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs,\n            r = n.x1,\n            i = n.y1,\n            a = n.x2,\n            o = n.y2,\n            u = this.getHitLineWidth();\n        return !!this.hasStroke() && s.line(r, i, a, o, u, t, e);\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x1,\n            n = t.y1,\n            r = t.x2,\n            i = t.y2,\n            a = this.getHitLineWidth();\n        return o.box(e, n, r, i, a);\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs,\n            n = e.x1,\n            r = e.y1,\n            i = e.x2,\n            a = e.y2;\n        (t = t || this.get(\"context\")).beginPath(), t.moveTo(n, r), t.lineTo(i, a);\n      }, e.prototype.afterPath = function (t) {\n        var e = this.attrs,\n            n = e.x1,\n            r = e.y1,\n            i = e.x2,\n            o = e.y2;\n        t = t || this.get(\"context\"), e.startArrow && a.addStartArrow(t, e, i, o, n, r), e.endArrow && a.addEndArrow(t, e, n, r, i, o);\n      }, e.prototype.getPoint = function (t) {\n        var e = this.attrs;\n        return {\n          x: o.at(e.x1, e.x2, t),\n          y: o.at(e.y1, e.y2, t)\n        };\n      }, e;\n    }(i.default);\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(3),\n        o = n(8),\n        s = n(6),\n        u = n(9),\n        c = n(14),\n        l = n(13),\n        h = n(16),\n        f = n(2),\n        p = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"path\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          path: null,\n          lineWidth: 1,\n          startArrow: !1,\n          endArrow: !1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this,\n            r = n.get(\"segments\"),\n            a = n.hasFill(),\n            o = n.hasStroke();\n\n        function s() {\n          if (!i.isEmpty(r)) {\n            for (var a = n.getHitLineWidth(), o = 0, s = r.length; o < s; o++) {\n              if (r[o].isInside(t, e, a)) return !0;\n            }\n\n            return !1;\n          }\n        }\n\n        return a && o ? h.default(t, e, n) || s() : a ? h.default(t, e, n) : !!o && s();\n      }, e.prototype._afterSetAttrPath = function (t) {\n        if (i.isNil(t)) return this.setSilent(\"segments\", null), void this.setSilent(\"box\", void 0);\n        var e,\n            n = s.parsePath(t),\n            r = [];\n\n        if (i.isArray(n) && 0 !== n.length && (\"M\" === n[0][0] || \"m\" === n[0][0])) {\n          for (var a = n.length, u = 0; u < n.length; u++) {\n            var c = n[u];\n            e = new o.default(c, e, u === a - 1), r.push(e);\n          }\n\n          this.setSilent(\"segments\", r), this.setSilent(\"tCache\", null), this.setSilent(\"box\", null);\n        }\n      }, e.prototype.calculateBox = function () {\n        var t = this.get(\"segments\");\n        if (!t) return null;\n        var e = this.getHitLineWidth(),\n            n = 1 / 0,\n            r = -1 / 0,\n            a = 1 / 0,\n            o = -1 / 0;\n        return i.each(t, function (t) {\n          t.getBBox(e);\n          var i = t.box;\n\n          if (i) {\n            i.x < n && (n = i.x);\n            var s = i.maxX;\n            s > r && (r = s), i.y < a && (a = i.y);\n            var u = i.maxY;\n            u > o && (o = u);\n          }\n        }), n === 1 / 0 || a === 1 / 0 ? new f.default(0, 0, 0, 0) : new f.default(n, a, r - n, o - a);\n      }, e.prototype._setTcache = function () {\n        var t,\n            e,\n            n,\n            r,\n            a = 0,\n            o = 0,\n            s = [],\n            u = this.cfg.curve;\n        u && (i.each(u, function (t, e) {\n          n = u[e + 1], r = t.length, n && (a += l.len(t[r - 2], t[r - 1], n[1], n[2], n[3], n[4], n[5], n[6]));\n        }), i.each(u, function (i, c) {\n          n = u[c + 1], r = i.length, n && ((t = [])[0] = o / a, e = l.len(i[r - 2], i[r - 1], n[1], n[2], n[3], n[4], n[5], n[6]), o += e, t[1] = o / a, s.push(t));\n        }), this.cfg.tCache = s);\n      }, e.prototype._calculateCurve = function () {\n        var t = this.attrs.path;\n        this.cfg.curve = c.pathTocurve(t);\n      }, e.prototype.getStartTangent = function () {\n        var t,\n            e,\n            n,\n            r,\n            a = this.get(\"segments\");\n        if (a.length > 1) if (t = a[0].endPoint, e = a[1].endPoint, n = a[1].startTangent, r = [], i.isFunction(n)) {\n          var o = n();\n          r.push([t.x - o[0], t.y - o[1]]), r.push([t.x, t.y]);\n        } else r.push([e.x, e.y]), r.push([t.x, t.y]);\n        return r;\n      }, e.prototype.getEndTangent = function () {\n        var t,\n            e,\n            n,\n            r,\n            a = this.get(\"segments\"),\n            o = a.length;\n        if (o > 1) if (t = a[o - 2].endPoint, e = a[o - 1].endPoint, n = a[o - 1].endTangent, r = [], i.isFunction(n)) {\n          var s = n();\n          r.push([e.x - s[0], e.y - s[1]]), r.push([e.x, e.y]);\n        } else r.push([t.x, t.y]), r.push([e.x, e.y]);\n        return r;\n      }, e.prototype.getPoint = function (t) {\n        var e,\n            n,\n            r = this.cfg.tCache;\n        r || (this._calculateCurve(), this._setTcache(), r = this.cfg.tCache);\n        var a = this.cfg.curve;\n        if (!r) return a ? {\n          x: a[0][1],\n          y: a[0][2]\n        } : null;\n        i.each(r, function (r, i) {\n          t >= r[0] && t <= r[1] && (e = (t - r[0]) / (r[1] - r[0]), n = i);\n        });\n        var o = a[n];\n        if (i.isNil(o) || i.isNil(n)) return null;\n        var s = o.length,\n            u = a[n + 1];\n        return {\n          x: l.at(o[s - 2], u[1], u[3], u[5], 1 - e),\n          y: l.at(o[s - 1], u[2], u[4], u[6], 1 - e)\n        };\n      }, e.prototype.createPath = function (t) {\n        var e = this.get(\"segments\");\n\n        if (i.isArray(e)) {\n          (t = t || this.get(\"context\")).beginPath();\n\n          for (var n = e.length, r = 0; r < n; r++) {\n            e[r].draw(t);\n          }\n        }\n      }, e.prototype.afterPath = function (t) {\n        var e = this.attrs,\n            n = this.get(\"segments\"),\n            r = e.path;\n\n        if (t = t || this.get(\"context\"), i.isArray(n) && 1 !== n.length && (e.startArrow || e.endArrow) && \"z\" !== r[r.length - 1] && \"Z\" !== r[r.length - 1] && !e.fill) {\n          var a = this.getStartTangent();\n          u.addStartArrow(t, e, a[0][0], a[0][1], a[1][0], a[1][1]);\n          var o = this.getEndTangent();\n          u.addEndArrow(t, e, o[0][0], o[0][1], o[1][0], o[1][1]);\n        }\n      }, e;\n    }(a.default);\n\n    e.default = p;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(3),\n        o = n(4),\n        s = n(16),\n        u = n(2),\n        c = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"polygon\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          points: null,\n          lineWidth: 1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this,\n            r = n.hasFill(),\n            i = n.hasStroke();\n\n        function a() {\n          var r = n.attrs.points;\n          if (r.length < 2) return !1;\n          var i = n.getHitLineWidth(),\n              a = r.slice(0);\n          return r.length >= 3 && a.push(r[0]), o.polyline(a, i, t, e);\n        }\n\n        return r && i ? s.default(t, e, n) || a() : r ? s.default(t, e, n) : !!i && a();\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs.points,\n            e = this.getHitLineWidth();\n        if (!t || 0 === t.length) return null;\n        var n = 1 / 0,\n            r = 1 / 0,\n            a = -1 / 0,\n            o = -1 / 0;\n        i.each(t, function (t) {\n          var e = t[0],\n              i = t[1];\n          e < n && (n = e), e > a && (a = e), i < r && (r = i), i > o && (o = i);\n        });\n        var s = e / 2;\n        return u.default.fromRange(n - s, r - s, a + s, o + s);\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs.points;\n        e.length < 2 || ((t = t || this.get(\"context\")).beginPath(), i.each(e, function (e, n) {\n          0 === n ? t.moveTo(e[0], e[1]) : t.lineTo(e[0], e[1]);\n        }), t.closePath());\n      }, e;\n    }(a.default);\n\n    e.default = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(3),\n        o = n(9),\n        s = n(12),\n        u = n(4),\n        c = n(2),\n        l = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canStroke = !0, e.type = \"polyline\", e.tCache = null, e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          points: null,\n          lineWidth: 1,\n          startArrow: !1,\n          endArrow: !1,\n          tCache: null\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs;\n\n        if (this.hasStroke()) {\n          var r = n.points;\n          if (r.length < 2) return !1;\n          var i = n.lineWidth;\n          return u.polyline(r, i, t, e);\n        }\n\n        return !1;\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = this.getHitLineWidth(),\n            n = t.points;\n        if (!n || 0 === n.length) return null;\n        var r = 1 / 0,\n            a = 1 / 0,\n            o = -1 / 0,\n            s = -1 / 0;\n        i.each(n, function (t) {\n          var e = t[0],\n              n = t[1];\n          e < r && (r = e), e > o && (o = e), n < a && (a = n), n > s && (s = n);\n        });\n        var u = e / 2;\n        return c.default.fromRange(r - u, a - u, o + u, s + u);\n      }, e.prototype._setTcache = function () {\n        var t,\n            e,\n            n = this.attrs.points,\n            r = 0,\n            a = 0,\n            o = [];\n        n && 0 !== n.length && (i.each(n, function (t, e) {\n          n[e + 1] && (r += s.len(t[0], t[1], n[e + 1][0], n[e + 1][1]));\n        }), r <= 0 || (i.each(n, function (i, u) {\n          n[u + 1] && ((t = [])[0] = a / r, e = s.len(i[0], i[1], n[u + 1][0], n[u + 1][1]), a += e, t[1] = a / r, o.push(t));\n        }), this.tCache = o));\n      }, e.prototype.createPath = function (t) {\n        var e,\n            n,\n            r = this.attrs.points;\n\n        if (!(r.length < 2)) {\n          for ((t = t || this.get(\"context\")).beginPath(), t.moveTo(r[0][0], r[0][1]), n = 1, e = r.length - 1; n < e; n++) {\n            t.lineTo(r[n][0], r[n][1]);\n          }\n\n          t.lineTo(r[e][0], r[e][1]);\n        }\n      }, e.prototype.getStartTangent = function () {\n        var t = this.attrs.points,\n            e = [];\n        return e.push([t[1][0], t[1][1]]), e.push([t[0][0], t[0][1]]), e;\n      }, e.prototype.getEndTangent = function () {\n        var t = this.attrs.points,\n            e = t.length - 1,\n            n = [];\n        return n.push([t[e - 1][0], t[e - 1][1]]), n.push([t[e][0], t[e][1]]), n;\n      }, e.prototype.afterPath = function (t) {\n        var e = this.attrs,\n            n = e.points,\n            r = n.length - 1;\n        t = t || this.get(\"context\"), e.startArrow && o.addStartArrow(t, e, n[1][0], n[1][1], n[0][0], n[0][1]), e.endArrow && o.addEndArrow(t, e, n[r - 1][0], n[r - 1][1], n[r][0], n[r][1]);\n      }, e.prototype.getPoint = function (t) {\n        var e,\n            n,\n            r = this.attrs.points,\n            a = this.tCache;\n        return a || (this._setTcache(), a = this.tCache), i.each(a, function (r, i) {\n          t >= r[0] && t <= r[1] && (e = (t - r[0]) / (r[1] - r[0]), n = i);\n        }), {\n          x: s.at(r[n][0], r[n + 1][0], e),\n          y: s.at(r[n][1], r[n + 1][1], e)\n        };\n      }, e;\n    }(a.default);\n\n    e.default = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(3),\n        a = n(6),\n        o = n(4),\n        s = n(16),\n        u = n(2),\n        c = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"rect\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0,\n          radius: 0,\n          lineWidth: 1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this,\n            r = n.hasFill(),\n            i = n.hasStroke();\n\n        function a() {\n          var r = n.attrs,\n              i = r.x,\n              a = r.y,\n              s = r.width,\n              u = r.height,\n              c = r.radius,\n              l = n.getHitLineWidth();\n\n          if (0 === c) {\n            var h = l / 2;\n            return o.line(i - h, a, i + s + h, a, l, t, e) || o.line(i + s, a - h, i + s, a + u + h, l, t, e) || o.line(i + s + h, a + u, i - h, a + u, l, t, e) || o.line(i, a + u + h, i, a - h, l, t, e);\n          }\n\n          return o.line(i + c, a, i + s - c, a, l, t, e) || o.line(i + s, a + c, i + s, a + u - c, l, t, e) || o.line(i + s - c, a + u, i + c, a + u, l, t, e) || o.line(i, a + u - c, i, a + c, l, t, e) || o.arcline(i + s - c, a + c, c, 1.5 * Math.PI, 2 * Math.PI, !1, l, t, e) || o.arcline(i + s - c, a + u - c, c, 0, .5 * Math.PI, !1, l, t, e) || o.arcline(i + c, a + u - c, c, .5 * Math.PI, Math.PI, !1, l, t, e) || o.arcline(i + c, a + c, c, Math.PI, 1.5 * Math.PI, !1, l, t, e);\n        }\n\n        return r && i ? s.default(t, e, n) || a() : r ? s.default(t, e, n) : !!i && a();\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.width,\n            i = t.height,\n            a = this.getHitLineWidth() / 2;\n        return u.default.fromRange(e - a, n - a, e + r + a, n + i + a);\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs,\n            n = e.x,\n            r = e.y,\n            i = e.width,\n            o = e.height,\n            s = e.radius;\n        if ((t = t || this.get(\"context\")).beginPath(), 0 === s) t.rect(n, r, i, o);else {\n          var u = a.parseRadius(s);\n          t.moveTo(n + u.r1, r), t.lineTo(n + i - u.r2, r), 0 !== u.r2 && t.arc(n + i - u.r2, r + u.r2, u.r2, -Math.PI / 2, 0), t.lineTo(n + i, r + o - u.r3), 0 !== u.r3 && t.arc(n + i - u.r3, r + o - u.r3, u.r3, 0, Math.PI / 2), t.lineTo(n + u.r4, r + o), 0 !== u.r4 && t.arc(n + u.r4, r + o - u.r4, u.r4, Math.PI / 2, Math.PI), t.lineTo(n, r + u.r1), 0 !== u.r1 && t.arc(n + u.r1, r + u.r1, u.r1, Math.PI, 1.5 * Math.PI), t.closePath();\n        }\n      }, e;\n    }(i.default);\n\n    e.default = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(3),\n        o = n(4),\n        s = n(2),\n        u = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"text\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          text: null,\n          lineHeight: 1,\n          lineWidth: 1,\n          lineCount: 1,\n          fontSize: 12,\n          fontFamily: \"sans-serif\",\n          fontStyle: \"normal\",\n          fontWeight: \"normal\",\n          fontVariant: \"normal\",\n          textAlign: \"start\",\n          textBaseline: \"bottom\",\n          textArr: null\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.getBBox();\n        if (this.hasFill() || this.hasStroke()) return o.box(n.x, n.maxX, n.minY, n.maxY, t, e);\n      }, e.prototype.initTransform = function () {\n        var t = this.attrs.fontSize;\n        t && +t < 12 && this.transform([[\"t\", -1 * this.attrs.x, -1 * this.attrs.y], [\"s\", +t / 12, +t / 12], [\"t\", this.attrs.x, this.attrs.y]]);\n      }, e.prototype._assembleFont = function () {\n        var t = this.attrs,\n            e = t.fontSize,\n            n = t.fontFamily,\n            r = t.fontWeight,\n            i = t.fontStyle,\n            a = t.fontVariant;\n        t.font = [i, a, r, e + \"px\", n].join(\" \");\n      }, e.prototype._setAttrText = function () {\n        var t = this.attrs,\n            e = t.text,\n            n = null;\n\n        if (i.isString(e) && -1 !== e.indexOf(\"\\n\")) {\n          var r = (n = e.split(\"\\n\")).length;\n          t.lineCount = r;\n        }\n\n        t.textArr = n;\n      }, e.prototype._getTextHeight = function () {\n        var t = this.attrs,\n            e = t.lineCount,\n            n = 1 * t.fontSize;\n        return e > 1 ? n * e + this._getSpaceingY() * (e - 1) : n;\n      }, e.prototype.isHitBox = function () {\n        return !1;\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = this.cfg;\n        e.attrs && !e.hasUpdate || (this._assembleFont(), this._setAttrText()), t.textArr || this._setAttrText();\n        var n = t.x,\n            r = t.y,\n            i = this.measureText();\n        if (!i) return new s.default(n, r, 0, 0);\n\n        var a = this._getTextHeight(),\n            o = t.textAlign,\n            u = t.textBaseline,\n            c = this.getHitLineWidth(),\n            l = {\n          x: n,\n          y: r - a\n        };\n\n        o && (\"end\" === o || \"right\" === o ? l.x -= i : \"center\" === o && (l.x -= i / 2)), u && (\"top\" === u ? l.y += a : \"middle\" === u && (l.y += a / 2)), this.set(\"startPoint\", l);\n        var h = c / 2;\n        return s.default.fromRange(l.x - h, l.y - h, l.x + i + h, l.y + a + h);\n      }, e.prototype._getSpaceingY = function () {\n        var t = this.attrs,\n            e = t.lineHeight,\n            n = 1 * t.fontSize;\n        return e ? e - n : .14 * n;\n      }, e.prototype.drawInner = function (t) {\n        var e = this.attrs,\n            n = this.cfg;\n        n.attrs && !n.hasUpdate || (this._assembleFont(), this._setAttrText()), t.font = e.font;\n        var r = e.text;\n\n        if (!i.isNil(r)) {\n          var a = e.textArr,\n              o = e.x,\n              s = e.y,\n              u = e.maxWidth;\n\n          if (t.beginPath(), this.hasStroke()) {\n            var c = e.strokeOpacity;\n            i.isNil(c) || 1 === c || (t.globalAlpha = c), a ? this._drawTextArr(t, !1) : t.strokeText(r, o, s, u), t.globalAlpha = 1;\n          }\n\n          if (this.hasFill()) {\n            var l = e.fillOpacity;\n            i.isNil(l) || 1 === l || (t.globalAlpha = l), a ? this._drawTextArr(t, !0) : t.fillText(r, o, s, u);\n          }\n\n          n.hasUpdate = !1;\n        }\n      }, e.prototype._drawTextArr = function (t, e) {\n        var n,\n            r = this.attrs.textArr,\n            a = this.attrs.textBaseline,\n            o = 1 * this.attrs.fontSize,\n            s = this._getSpaceingY(),\n            u = this.attrs.x,\n            c = this.attrs.y,\n            l = this.attrs.maxWidth,\n            h = this.getBBox(),\n            f = h.maxY - h.minY;\n\n        i.each(r, function (r, i) {\n          n = c + i * (s + o) - f + o, \"middle\" === a && (n += f - o - (f - o) / 2), \"top\" === a && (n += f - o), e ? t.fillText(r, u, n, l) : t.strokeText(r, u, n, l);\n        });\n      }, e.prototype.measureText = function () {\n        var t,\n            e = this.attrs,\n            n = e.text,\n            r = e.font,\n            a = e.textArr,\n            o = 0;\n\n        if (!i.isNil(n)) {\n          var s = document.createElement(\"canvas\").getContext(\"2d\");\n          return s.save(), s.font = r, a ? i.each(a, function (e) {\n            t = s.measureText(e).width, o < t && (o = t), s.restore();\n          }) : (o = s.measureText(n).width, s.restore()), void 0 !== e.maxWidth && (o = Math.min(e.maxWidth, o)), o;\n        }\n      }, e;\n    }(a.default);\n\n    e.default = u;\n  }, function (t) {\n    t.exports = JSON.parse('{\"name\":\"@antv/g\",\"version\":\"3.5.0-beta.3\",\"description\":\"A canvas library which providing 2d draw for G2.\",\"keywords\":[\"canvas\",\"svg\",\"G\",\"G2\",\"G6\",\"2d draw\"],\"main\":\"lib/index.js\",\"module\":\"esm/index.js\",\"browser\":\"dist/g.min.js\",\"types\":\"lib/index.d.ts\",\"files\":[\"package.json\",\"lib\",\"esm\",\"dist\",\"LICENSE\",\"README.md\"],\"homepage\":\"https://github.com/antvis/g\",\"author\":\"https://github.com/orgs/antvis/people\",\"repository\":{\"type\":\"git\",\"url\":\"git@github.com:antvis/g.git\"},\"bugs\":{\"url\":\"https://github.com/antvis/g/issues\"},\"scripts\":{\"test\":\"torch --compile --renderer --opts __tests__/mocha.opts\",\"test-live\":\"torch --compile --renderer --interactive --opts __tests__/mocha.opts\",\"build\":\"run-s clean lib\",\"clean\":\"rimraf lib esm\",\"lib\":\"run-p lib:*\",\"lib:cjs\":\"loose-tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib\",\"lib:esm\":\"loose-tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm\",\"lib:umd\":\"webpack --config webpack.config.js --mode production\",\"lint\":\"exit 0\",\"coverage\":\"exit 0\",\"tsc\":\"loose-tsc --noEmit\",\"prettier\":\"prettier --write \\'*.{js,ts,json,md}\\'\"},\"husky\":{\"hooks\":{\"pre-commit\":\"run-s lint\"}},\"lint-staged\":{\"*.{js,json,md}\":[\"prettier --write\",\"git add\"],\"*.{ts}\":[\"tslint -c tslint.json --fix\",\"prettier --write\",\"git add\"]},\"dependencies\":{\"@antv/event-emitter\":\"^0.1.0\",\"@antv/gl-matrix\":\"~2.7.1\",\"@antv/util\":\"~1.3.1\",\"d3-ease\":\"~1.0.3\",\"d3-interpolate\":\"~1.1.5\",\"d3-timer\":\"~1.0.6\",\"detect-browser\":\"^4.6.0\"},\"devDependencies\":{\"@antv/torch\":\"^1.0.3\",\"@babel/cli\":\"^7.1.5\",\"@babel/core\":\"^7.1.6\",\"@babel/plugin-proposal-class-properties\":\"^7.1.0\",\"@babel/plugin-proposal-object-rest-spread\":\"^7.0.0\",\"@babel/preset-env\":\"^7.2.0\",\"@babel/preset-typescript\":\"^7.1.0\",\"@commitlint/cli\":\"^7.2.1\",\"@commitlint/config-angular\":\"^7.1.2\",\"@types/lodash\":\"^4.14.119\",\"@types/node\":\"^10.12.18\",\"babel-eslint\":\"^10.0.1\",\"babel-loader\":\"^8.0.0\",\"babel-plugin-transform-remove-strict-mode\":\"~0.0.2\",\"benchmark\":\"^2.1.4\",\"chai\":\"~4.0.1\",\"eslint\":\"^5.10.0\",\"eslint-config-egg\":\"^7.1.0\",\"eslint-config-prettier\":\"^6.1.0\",\"event-simulate\":\"~1.0.0\",\"git-contributor\":\"~1.0.8\",\"husky\":\"^1.3.1\",\"lint-staged\":\"^9.2.3\",\"loose-tsc\":\"^0.0.1\",\"npm-run-all\":\"^4.1.5\",\"prettier\":\"^1.18.2\",\"rimraf\":\"^3.0.0\",\"source-map-support\":\"^0.5.9\",\"ts-loader\":\"^5.3.1\",\"ts-node\":\"^7.0.1\",\"tslint\":\"^5.12.0\",\"tslint-config-airbnb\":\"^5.11.1\",\"tslint-config-prettier\":\"^1.18.0\",\"typescript\":\"^3.2.2\",\"webpack\":\"^4.26.1\",\"webpack-cli\":\"^3.1.2\"}}');\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n  }, function (t, e, n) {\n    \"use strict\";\n\n    n.r(e);\n\n    var r = function r(t, e, n) {\n      t.prototype = e.prototype = n, n.constructor = t;\n    };\n\n    function i(t, e) {\n      var n = Object.create(t.prototype);\n\n      for (var r in e) {\n        n[r] = e[r];\n      }\n\n      return n;\n    }\n\n    function a() {}\n\n    var o = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n        s = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n        u = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n        c = /^#([0-9a-f]{3,8})$/,\n        l = new RegExp(\"^rgb\\\\(\" + [o, o, o] + \"\\\\)$\"),\n        h = new RegExp(\"^rgb\\\\(\" + [u, u, u] + \"\\\\)$\"),\n        f = new RegExp(\"^rgba\\\\(\" + [o, o, o, s] + \"\\\\)$\"),\n        p = new RegExp(\"^rgba\\\\(\" + [u, u, u, s] + \"\\\\)$\"),\n        d = new RegExp(\"^hsl\\\\(\" + [s, u, u] + \"\\\\)$\"),\n        v = new RegExp(\"^hsla\\\\(\" + [s, u, u, s] + \"\\\\)$\"),\n        y = {\n      aliceblue: 15792383,\n      antiquewhite: 16444375,\n      aqua: 65535,\n      aquamarine: 8388564,\n      azure: 15794175,\n      beige: 16119260,\n      bisque: 16770244,\n      black: 0,\n      blanchedalmond: 16772045,\n      blue: 255,\n      blueviolet: 9055202,\n      brown: 10824234,\n      burlywood: 14596231,\n      cadetblue: 6266528,\n      chartreuse: 8388352,\n      chocolate: 13789470,\n      coral: 16744272,\n      cornflowerblue: 6591981,\n      cornsilk: 16775388,\n      crimson: 14423100,\n      cyan: 65535,\n      darkblue: 139,\n      darkcyan: 35723,\n      darkgoldenrod: 12092939,\n      darkgray: 11119017,\n      darkgreen: 25600,\n      darkgrey: 11119017,\n      darkkhaki: 12433259,\n      darkmagenta: 9109643,\n      darkolivegreen: 5597999,\n      darkorange: 16747520,\n      darkorchid: 10040012,\n      darkred: 9109504,\n      darksalmon: 15308410,\n      darkseagreen: 9419919,\n      darkslateblue: 4734347,\n      darkslategray: 3100495,\n      darkslategrey: 3100495,\n      darkturquoise: 52945,\n      darkviolet: 9699539,\n      deeppink: 16716947,\n      deepskyblue: 49151,\n      dimgray: 6908265,\n      dimgrey: 6908265,\n      dodgerblue: 2003199,\n      firebrick: 11674146,\n      floralwhite: 16775920,\n      forestgreen: 2263842,\n      fuchsia: 16711935,\n      gainsboro: 14474460,\n      ghostwhite: 16316671,\n      gold: 16766720,\n      goldenrod: 14329120,\n      gray: 8421504,\n      green: 32768,\n      greenyellow: 11403055,\n      grey: 8421504,\n      honeydew: 15794160,\n      hotpink: 16738740,\n      indianred: 13458524,\n      indigo: 4915330,\n      ivory: 16777200,\n      khaki: 15787660,\n      lavender: 15132410,\n      lavenderblush: 16773365,\n      lawngreen: 8190976,\n      lemonchiffon: 16775885,\n      lightblue: 11393254,\n      lightcoral: 15761536,\n      lightcyan: 14745599,\n      lightgoldenrodyellow: 16448210,\n      lightgray: 13882323,\n      lightgreen: 9498256,\n      lightgrey: 13882323,\n      lightpink: 16758465,\n      lightsalmon: 16752762,\n      lightseagreen: 2142890,\n      lightskyblue: 8900346,\n      lightslategray: 7833753,\n      lightslategrey: 7833753,\n      lightsteelblue: 11584734,\n      lightyellow: 16777184,\n      lime: 65280,\n      limegreen: 3329330,\n      linen: 16445670,\n      magenta: 16711935,\n      maroon: 8388608,\n      mediumaquamarine: 6737322,\n      mediumblue: 205,\n      mediumorchid: 12211667,\n      mediumpurple: 9662683,\n      mediumseagreen: 3978097,\n      mediumslateblue: 8087790,\n      mediumspringgreen: 64154,\n      mediumturquoise: 4772300,\n      mediumvioletred: 13047173,\n      midnightblue: 1644912,\n      mintcream: 16121850,\n      mistyrose: 16770273,\n      moccasin: 16770229,\n      navajowhite: 16768685,\n      navy: 128,\n      oldlace: 16643558,\n      olive: 8421376,\n      olivedrab: 7048739,\n      orange: 16753920,\n      orangered: 16729344,\n      orchid: 14315734,\n      palegoldenrod: 15657130,\n      palegreen: 10025880,\n      paleturquoise: 11529966,\n      palevioletred: 14381203,\n      papayawhip: 16773077,\n      peachpuff: 16767673,\n      peru: 13468991,\n      pink: 16761035,\n      plum: 14524637,\n      powderblue: 11591910,\n      purple: 8388736,\n      rebeccapurple: 6697881,\n      red: 16711680,\n      rosybrown: 12357519,\n      royalblue: 4286945,\n      saddlebrown: 9127187,\n      salmon: 16416882,\n      sandybrown: 16032864,\n      seagreen: 3050327,\n      seashell: 16774638,\n      sienna: 10506797,\n      silver: 12632256,\n      skyblue: 8900331,\n      slateblue: 6970061,\n      slategray: 7372944,\n      slategrey: 7372944,\n      snow: 16775930,\n      springgreen: 65407,\n      steelblue: 4620980,\n      tan: 13808780,\n      teal: 32896,\n      thistle: 14204888,\n      tomato: 16737095,\n      turquoise: 4251856,\n      violet: 15631086,\n      wheat: 16113331,\n      white: 16777215,\n      whitesmoke: 16119285,\n      yellow: 16776960,\n      yellowgreen: 10145074\n    };\n\n    function g() {\n      return this.rgb().formatHex();\n    }\n\n    function x() {\n      return this.rgb().formatRgb();\n    }\n\n    function m(t) {\n      var e, n;\n      return t = (t + \"\").trim().toLowerCase(), (e = c.exec(t)) ? (n = e[1].length, e = parseInt(e[1], 16), 6 === n ? b(e) : 3 === n ? new A(e >> 8 & 15 | e >> 4 & 240, e >> 4 & 15 | 240 & e, (15 & e) << 4 | 15 & e, 1) : 8 === n ? new A(e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, (255 & e) / 255) : 4 === n ? new A(e >> 12 & 15 | e >> 8 & 240, e >> 8 & 15 | e >> 4 & 240, e >> 4 & 15 | 240 & e, ((15 & e) << 4 | 15 & e) / 255) : null) : (e = l.exec(t)) ? new A(e[1], e[2], e[3], 1) : (e = h.exec(t)) ? new A(255 * e[1] / 100, 255 * e[2] / 100, 255 * e[3] / 100, 1) : (e = f.exec(t)) ? M(e[1], e[2], e[3], e[4]) : (e = p.exec(t)) ? M(255 * e[1] / 100, 255 * e[2] / 100, 255 * e[3] / 100, e[4]) : (e = d.exec(t)) ? O(e[1], e[2] / 100, e[3] / 100, 1) : (e = v.exec(t)) ? O(e[1], e[2] / 100, e[3] / 100, e[4]) : y.hasOwnProperty(t) ? b(y[t]) : \"transparent\" === t ? new A(NaN, NaN, NaN, 0) : null;\n    }\n\n    function b(t) {\n      return new A(t >> 16 & 255, t >> 8 & 255, 255 & t, 1);\n    }\n\n    function M(t, e, n, r) {\n      return r <= 0 && (t = e = n = NaN), new A(t, e, n, r);\n    }\n\n    function w(t) {\n      return t instanceof a || (t = m(t)), t ? new A((t = t.rgb()).r, t.g, t.b, t.opacity) : new A();\n    }\n\n    function _(t, e, n, r) {\n      return 1 === arguments.length ? w(t) : new A(t, e, n, null == r ? 1 : r);\n    }\n\n    function A(t, e, n, r) {\n      this.r = +t, this.g = +e, this.b = +n, this.opacity = +r;\n    }\n\n    function P() {\n      return \"#\" + k(this.r) + k(this.g) + k(this.b);\n    }\n\n    function S() {\n      var t = this.opacity;\n      return (1 === (t = isNaN(t) ? 1 : Math.max(0, Math.min(1, t))) ? \"rgb(\" : \"rgba(\") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (1 === t ? \")\" : \", \" + t + \")\");\n    }\n\n    function k(t) {\n      return ((t = Math.max(0, Math.min(255, Math.round(t) || 0))) < 16 ? \"0\" : \"\") + t.toString(16);\n    }\n\n    function O(t, e, n, r) {\n      return r <= 0 ? t = e = n = NaN : n <= 0 || n >= 1 ? t = e = NaN : e <= 0 && (t = NaN), new C(t, e, n, r);\n    }\n\n    function I(t) {\n      if (t instanceof C) return new C(t.h, t.s, t.l, t.opacity);\n      if (t instanceof a || (t = m(t)), !t) return new C();\n      if (t instanceof C) return t;\n      var e = (t = t.rgb()).r / 255,\n          n = t.g / 255,\n          r = t.b / 255,\n          i = Math.min(e, n, r),\n          o = Math.max(e, n, r),\n          s = NaN,\n          u = o - i,\n          c = (o + i) / 2;\n      return u ? (s = e === o ? (n - r) / u + 6 * (n < r) : n === o ? (r - e) / u + 2 : (e - n) / u + 4, u /= c < .5 ? o + i : 2 - o - i, s *= 60) : u = c > 0 && c < 1 ? 0 : s, new C(s, u, c, t.opacity);\n    }\n\n    function T(t, e, n, r) {\n      return 1 === arguments.length ? I(t) : new C(t, e, n, null == r ? 1 : r);\n    }\n\n    function C(t, e, n, r) {\n      this.h = +t, this.s = +e, this.l = +n, this.opacity = +r;\n    }\n\n    function E(t, e, n) {\n      return 255 * (t < 60 ? e + (n - e) * t / 60 : t < 180 ? n : t < 240 ? e + (n - e) * (240 - t) / 60 : e);\n    }\n\n    function N(t, e, n, r, i) {\n      var a = t * t,\n          o = a * t;\n      return ((1 - 3 * t + 3 * a - o) * e + (4 - 6 * a + 3 * o) * n + (1 + 3 * t + 3 * a - 3 * o) * r + o * i) / 6;\n    }\n\n    r(a, m, {\n      copy: function copy(t) {\n        return Object.assign(new this.constructor(), this, t);\n      },\n      displayable: function displayable() {\n        return this.rgb().displayable();\n      },\n      hex: g,\n      formatHex: g,\n      formatHsl: function formatHsl() {\n        return I(this).formatHsl();\n      },\n      formatRgb: x,\n      toString: x\n    }), r(A, _, i(a, {\n      brighter: function brighter(t) {\n        return t = null == t ? 1 / .7 : Math.pow(1 / .7, t), new A(this.r * t, this.g * t, this.b * t, this.opacity);\n      },\n      darker: function darker(t) {\n        return t = null == t ? .7 : Math.pow(.7, t), new A(this.r * t, this.g * t, this.b * t, this.opacity);\n      },\n      rgb: function rgb() {\n        return this;\n      },\n      displayable: function displayable() {\n        return -.5 <= this.r && this.r < 255.5 && -.5 <= this.g && this.g < 255.5 && -.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1;\n      },\n      hex: P,\n      formatHex: P,\n      formatRgb: S,\n      toString: S\n    })), r(C, T, i(a, {\n      brighter: function brighter(t) {\n        return t = null == t ? 1 / .7 : Math.pow(1 / .7, t), new C(this.h, this.s, this.l * t, this.opacity);\n      },\n      darker: function darker(t) {\n        return t = null == t ? .7 : Math.pow(.7, t), new C(this.h, this.s, this.l * t, this.opacity);\n      },\n      rgb: function rgb() {\n        var t = this.h % 360 + 360 * (this.h < 0),\n            e = isNaN(t) || isNaN(this.s) ? 0 : this.s,\n            n = this.l,\n            r = n + (n < .5 ? n : 1 - n) * e,\n            i = 2 * n - r;\n        return new A(E(t >= 240 ? t - 240 : t + 120, i, r), E(t, i, r), E(t < 120 ? t + 240 : t - 120, i, r), this.opacity);\n      },\n      displayable: function displayable() {\n        return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;\n      },\n      formatHsl: function formatHsl() {\n        var t = this.opacity;\n        return (1 === (t = isNaN(t) ? 1 : Math.max(0, Math.min(1, t))) ? \"hsl(\" : \"hsla(\") + (this.h || 0) + \", \" + 100 * (this.s || 0) + \"%, \" + 100 * (this.l || 0) + \"%\" + (1 === t ? \")\" : \", \" + t + \")\");\n      }\n    }));\n\n    var j = function j(t) {\n      var e = t.length - 1;\n      return function (n) {\n        var r = n <= 0 ? n = 0 : n >= 1 ? (n = 1, e - 1) : Math.floor(n * e),\n            i = t[r],\n            a = t[r + 1],\n            o = r > 0 ? t[r - 1] : 2 * i - a,\n            s = r < e - 1 ? t[r + 2] : 2 * a - i;\n        return N((n - r / e) * e, o, i, a, s);\n      };\n    },\n        L = function L(t) {\n      var e = t.length;\n      return function (n) {\n        var r = Math.floor(((n %= 1) < 0 ? ++n : n) * e),\n            i = t[(r + e - 1) % e],\n            a = t[r % e],\n            o = t[(r + 1) % e],\n            s = t[(r + 2) % e];\n        return N((n - r / e) * e, i, a, o, s);\n      };\n    },\n        q = function q(t) {\n      return function () {\n        return t;\n      };\n    };\n\n    function B(t, e) {\n      return function (n) {\n        return t + n * e;\n      };\n    }\n\n    function R(t, e) {\n      var n = e - t;\n      return n ? B(t, n > 180 || n < -180 ? n - 360 * Math.round(n / 360) : n) : q(isNaN(t) ? e : t);\n    }\n\n    function F(t) {\n      return 1 == (t = +t) ? D : function (e, n) {\n        return n - e ? function (t, e, n) {\n          return t = Math.pow(t, n), e = Math.pow(e, n) - t, n = 1 / n, function (r) {\n            return Math.pow(t + r * e, n);\n          };\n        }(e, n, t) : q(isNaN(e) ? n : e);\n      };\n    }\n\n    function D(t, e) {\n      var n = e - t;\n      return n ? B(t, n) : q(isNaN(t) ? e : t);\n    }\n\n    var W = function t(e) {\n      var n = F(e);\n\n      function r(t, e) {\n        var r = n((t = _(t)).r, (e = _(e)).r),\n            i = n(t.g, e.g),\n            a = n(t.b, e.b),\n            o = D(t.opacity, e.opacity);\n        return function (e) {\n          return t.r = r(e), t.g = i(e), t.b = a(e), t.opacity = o(e), t + \"\";\n        };\n      }\n\n      return r.gamma = t, r;\n    }(1);\n\n    function Y(t) {\n      return function (e) {\n        var n,\n            r,\n            i = e.length,\n            a = new Array(i),\n            o = new Array(i),\n            s = new Array(i);\n\n        for (n = 0; n < i; ++n) {\n          r = _(e[n]), a[n] = r.r || 0, o[n] = r.g || 0, s[n] = r.b || 0;\n        }\n\n        return a = t(a), o = t(o), s = t(s), r.opacity = 1, function (t) {\n          return r.r = a(t), r.g = o(t), r.b = s(t), r + \"\";\n        };\n      };\n    }\n\n    var H = Y(j),\n        X = Y(L),\n        U = function U(t, e) {\n      var n,\n          r = e ? e.length : 0,\n          i = t ? Math.min(r, t.length) : 0,\n          a = new Array(i),\n          o = new Array(r);\n\n      for (n = 0; n < i; ++n) {\n        a[n] = nt(t[n], e[n]);\n      }\n\n      for (; n < r; ++n) {\n        o[n] = e[n];\n      }\n\n      return function (t) {\n        for (n = 0; n < i; ++n) {\n          o[n] = a[n](t);\n        }\n\n        return o;\n      };\n    },\n        z = function z(t, e) {\n      var n = new Date();\n      return e -= t = +t, function (r) {\n        return n.setTime(t + e * r), n;\n      };\n    },\n        Q = function Q(t, e) {\n      return e -= t = +t, function (n) {\n        return t + e * n;\n      };\n    },\n        V = function V(t, e) {\n      var n,\n          r = {},\n          i = {};\n\n      for (n in null !== t && \"object\" == typeof t || (t = {}), null !== e && \"object\" == typeof e || (e = {}), e) {\n        n in t ? r[n] = nt(t[n], e[n]) : i[n] = e[n];\n      }\n\n      return function (t) {\n        for (n in r) {\n          i[n] = r[n](t);\n        }\n\n        return i;\n      };\n    },\n        Z = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n        G = new RegExp(Z.source, \"g\");\n\n    var $,\n        K,\n        J,\n        tt,\n        et = function et(t, e) {\n      var n,\n          r,\n          i,\n          a = Z.lastIndex = G.lastIndex = 0,\n          o = -1,\n          s = [],\n          u = [];\n\n      for (t += \"\", e += \"\"; (n = Z.exec(t)) && (r = G.exec(e));) {\n        (i = r.index) > a && (i = e.slice(a, i), s[o] ? s[o] += i : s[++o] = i), (n = n[0]) === (r = r[0]) ? s[o] ? s[o] += r : s[++o] = r : (s[++o] = null, u.push({\n          i: o,\n          x: Q(n, r)\n        })), a = G.lastIndex;\n      }\n\n      return a < e.length && (i = e.slice(a), s[o] ? s[o] += i : s[++o] = i), s.length < 2 ? u[0] ? function (t) {\n        return function (e) {\n          return t(e) + \"\";\n        };\n      }(u[0].x) : function (t) {\n        return function () {\n          return t;\n        };\n      }(e) : (e = u.length, function (t) {\n        for (var n, r = 0; r < e; ++r) {\n          s[(n = u[r]).i] = n.x(t);\n        }\n\n        return s.join(\"\");\n      });\n    },\n        nt = function nt(t, e) {\n      var n,\n          r = typeof e;\n      return null == e || \"boolean\" === r ? q(e) : (\"number\" === r ? Q : \"string\" === r ? (n = m(e)) ? (e = n, W) : et : e instanceof m ? W : e instanceof Date ? z : Array.isArray(e) ? U : \"function\" != typeof e.valueOf && \"function\" != typeof e.toString || isNaN(e) ? V : Q)(t, e);\n    },\n        rt = function rt(t, e) {\n      return e -= t = +t, function (n) {\n        return Math.round(t + e * n);\n      };\n    },\n        it = 180 / Math.PI,\n        at = {\n      translateX: 0,\n      translateY: 0,\n      rotate: 0,\n      skewX: 0,\n      scaleX: 1,\n      scaleY: 1\n    },\n        ot = function ot(t, e, n, r, i, a) {\n      var o, s, u;\n      return (o = Math.sqrt(t * t + e * e)) && (t /= o, e /= o), (u = t * n + e * r) && (n -= t * u, r -= e * u), (s = Math.sqrt(n * n + r * r)) && (n /= s, r /= s, u /= s), t * r < e * n && (t = -t, e = -e, u = -u, o = -o), {\n        translateX: i,\n        translateY: a,\n        rotate: Math.atan2(e, t) * it,\n        skewX: Math.atan(u) * it,\n        scaleX: o,\n        scaleY: s\n      };\n    };\n\n    function st(t, e, n, r) {\n      function i(t) {\n        return t.length ? t.pop() + \" \" : \"\";\n      }\n\n      return function (a, o) {\n        var s = [],\n            u = [];\n        return a = t(a), o = t(o), function (t, r, i, a, o, s) {\n          if (t !== i || r !== a) {\n            var u = o.push(\"translate(\", null, e, null, n);\n            s.push({\n              i: u - 4,\n              x: Q(t, i)\n            }, {\n              i: u - 2,\n              x: Q(r, a)\n            });\n          } else (i || a) && o.push(\"translate(\" + i + e + a + n);\n        }(a.translateX, a.translateY, o.translateX, o.translateY, s, u), function (t, e, n, a) {\n          t !== e ? (t - e > 180 ? e += 360 : e - t > 180 && (t += 360), a.push({\n            i: n.push(i(n) + \"rotate(\", null, r) - 2,\n            x: Q(t, e)\n          })) : e && n.push(i(n) + \"rotate(\" + e + r);\n        }(a.rotate, o.rotate, s, u), function (t, e, n, a) {\n          t !== e ? a.push({\n            i: n.push(i(n) + \"skewX(\", null, r) - 2,\n            x: Q(t, e)\n          }) : e && n.push(i(n) + \"skewX(\" + e + r);\n        }(a.skewX, o.skewX, s, u), function (t, e, n, r, a, o) {\n          if (t !== n || e !== r) {\n            var s = a.push(i(a) + \"scale(\", null, \",\", null, \")\");\n            o.push({\n              i: s - 4,\n              x: Q(t, n)\n            }, {\n              i: s - 2,\n              x: Q(e, r)\n            });\n          } else 1 === n && 1 === r || a.push(i(a) + \"scale(\" + n + \",\" + r + \")\");\n        }(a.scaleX, a.scaleY, o.scaleX, o.scaleY, s, u), a = o = null, function (t) {\n          for (var e, n = -1, r = u.length; ++n < r;) {\n            s[(e = u[n]).i] = e.x(t);\n          }\n\n          return s.join(\"\");\n        };\n      };\n    }\n\n    var ut = st(function (t) {\n      return \"none\" === t ? at : ($ || ($ = document.createElement(\"DIV\"), K = document.documentElement, J = document.defaultView), $.style.transform = t, t = J.getComputedStyle(K.appendChild($), null).getPropertyValue(\"transform\"), K.removeChild($), t = t.slice(7, -1).split(\",\"), ot(+t[0], +t[1], +t[2], +t[3], +t[4], +t[5]));\n    }, \"px, \", \"px)\", \"deg)\"),\n        ct = st(function (t) {\n      return null == t ? at : (tt || (tt = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\")), tt.setAttribute(\"transform\", t), (t = tt.transform.baseVal.consolidate()) ? (t = t.matrix, ot(t.a, t.b, t.c, t.d, t.e, t.f)) : at);\n    }, \", \", \")\", \")\"),\n        lt = Math.SQRT2;\n\n    function ht(t) {\n      return ((t = Math.exp(t)) + 1 / t) / 2;\n    }\n\n    var ft = function ft(t, e) {\n      var n,\n          r,\n          i = t[0],\n          a = t[1],\n          o = t[2],\n          s = e[0],\n          u = e[1],\n          c = e[2],\n          l = s - i,\n          h = u - a,\n          f = l * l + h * h;\n      if (f < 1e-12) r = Math.log(c / o) / lt, n = function n(t) {\n        return [i + t * l, a + t * h, o * Math.exp(lt * t * r)];\n      };else {\n        var p = Math.sqrt(f),\n            d = (c * c - o * o + 4 * f) / (2 * o * 2 * p),\n            v = (c * c - o * o - 4 * f) / (2 * c * 2 * p),\n            y = Math.log(Math.sqrt(d * d + 1) - d),\n            g = Math.log(Math.sqrt(v * v + 1) - v);\n        r = (g - y) / lt, n = function n(t) {\n          var e,\n              n = t * r,\n              s = ht(y),\n              u = o / (2 * p) * (s * (e = lt * n + y, ((e = Math.exp(2 * e)) - 1) / (e + 1)) - function (t) {\n            return ((t = Math.exp(t)) - 1 / t) / 2;\n          }(y));\n\n          return [i + u * l, a + u * h, o * s / ht(lt * n + y)];\n        };\n      }\n      return n.duration = 1e3 * r, n;\n    };\n\n    function pt(t) {\n      return function (e, n) {\n        var r = t((e = T(e)).h, (n = T(n)).h),\n            i = D(e.s, n.s),\n            a = D(e.l, n.l),\n            o = D(e.opacity, n.opacity);\n        return function (t) {\n          return e.h = r(t), e.s = i(t), e.l = a(t), e.opacity = o(t), e + \"\";\n        };\n      };\n    }\n\n    var dt = pt(R),\n        vt = pt(D),\n        yt = Math.PI / 180,\n        gt = 180 / Math.PI,\n        xt = 6 / 29,\n        mt = 3 * xt * xt;\n\n    function bt(t) {\n      if (t instanceof wt) return new wt(t.l, t.a, t.b, t.opacity);\n      if (t instanceof It) return Tt(t);\n      t instanceof A || (t = w(t));\n\n      var e,\n          n,\n          r = St(t.r),\n          i = St(t.g),\n          a = St(t.b),\n          o = _t((.2225045 * r + .7168786 * i + .0606169 * a) / 1);\n\n      return r === i && i === a ? e = n = o : (e = _t((.4360747 * r + .3850649 * i + .1430804 * a) / .96422), n = _t((.0139322 * r + .0971045 * i + .7141733 * a) / .82521)), new wt(116 * o - 16, 500 * (e - o), 200 * (o - n), t.opacity);\n    }\n\n    function Mt(t, e, n, r) {\n      return 1 === arguments.length ? bt(t) : new wt(t, e, n, null == r ? 1 : r);\n    }\n\n    function wt(t, e, n, r) {\n      this.l = +t, this.a = +e, this.b = +n, this.opacity = +r;\n    }\n\n    function _t(t) {\n      return t > .008856451679035631 ? Math.pow(t, 1 / 3) : t / mt + 4 / 29;\n    }\n\n    function At(t) {\n      return t > xt ? t * t * t : mt * (t - 4 / 29);\n    }\n\n    function Pt(t) {\n      return 255 * (t <= .0031308 ? 12.92 * t : 1.055 * Math.pow(t, 1 / 2.4) - .055);\n    }\n\n    function St(t) {\n      return (t /= 255) <= .04045 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4);\n    }\n\n    function kt(t) {\n      if (t instanceof It) return new It(t.h, t.c, t.l, t.opacity);\n      if (t instanceof wt || (t = bt(t)), 0 === t.a && 0 === t.b) return new It(NaN, 0 < t.l && t.l < 100 ? 0 : NaN, t.l, t.opacity);\n      var e = Math.atan2(t.b, t.a) * gt;\n      return new It(e < 0 ? e + 360 : e, Math.sqrt(t.a * t.a + t.b * t.b), t.l, t.opacity);\n    }\n\n    function Ot(t, e, n, r) {\n      return 1 === arguments.length ? kt(t) : new It(t, e, n, null == r ? 1 : r);\n    }\n\n    function It(t, e, n, r) {\n      this.h = +t, this.c = +e, this.l = +n, this.opacity = +r;\n    }\n\n    function Tt(t) {\n      if (isNaN(t.h)) return new wt(t.l, 0, 0, t.opacity);\n      var e = t.h * yt;\n      return new wt(t.l, Math.cos(e) * t.c, Math.sin(e) * t.c, t.opacity);\n    }\n\n    function Ct(t, e) {\n      var n = D((t = Mt(t)).l, (e = Mt(e)).l),\n          r = D(t.a, e.a),\n          i = D(t.b, e.b),\n          a = D(t.opacity, e.opacity);\n      return function (e) {\n        return t.l = n(e), t.a = r(e), t.b = i(e), t.opacity = a(e), t + \"\";\n      };\n    }\n\n    function Et(t) {\n      return function (e, n) {\n        var r = t((e = Ot(e)).h, (n = Ot(n)).h),\n            i = D(e.c, n.c),\n            a = D(e.l, n.l),\n            o = D(e.opacity, n.opacity);\n        return function (t) {\n          return e.h = r(t), e.c = i(t), e.l = a(t), e.opacity = o(t), e + \"\";\n        };\n      };\n    }\n\n    r(wt, Mt, i(a, {\n      brighter: function brighter(t) {\n        return new wt(this.l + 18 * (null == t ? 1 : t), this.a, this.b, this.opacity);\n      },\n      darker: function darker(t) {\n        return new wt(this.l - 18 * (null == t ? 1 : t), this.a, this.b, this.opacity);\n      },\n      rgb: function rgb() {\n        var t = (this.l + 16) / 116,\n            e = isNaN(this.a) ? t : t + this.a / 500,\n            n = isNaN(this.b) ? t : t - this.b / 200;\n        return new A(Pt(3.1338561 * (e = .96422 * At(e)) - 1.6168667 * (t = 1 * At(t)) - .4906146 * (n = .82521 * At(n))), Pt(-.9787684 * e + 1.9161415 * t + .033454 * n), Pt(.0719453 * e - .2289914 * t + 1.4052427 * n), this.opacity);\n      }\n    })), r(It, Ot, i(a, {\n      brighter: function brighter(t) {\n        return new It(this.h, this.c, this.l + 18 * (null == t ? 1 : t), this.opacity);\n      },\n      darker: function darker(t) {\n        return new It(this.h, this.c, this.l - 18 * (null == t ? 1 : t), this.opacity);\n      },\n      rgb: function rgb() {\n        return Tt(this).rgb();\n      }\n    }));\n    var Nt = Et(R),\n        jt = Et(D),\n        Lt = -.14861,\n        qt = 1.78277,\n        Bt = -.29227,\n        Rt = -.90649,\n        Ft = 1.97294,\n        Dt = Ft * Rt,\n        Wt = Ft * qt,\n        Yt = qt * Bt - Rt * Lt;\n\n    function Ht(t) {\n      if (t instanceof Ut) return new Ut(t.h, t.s, t.l, t.opacity);\n      t instanceof A || (t = w(t));\n      var e = t.r / 255,\n          n = t.g / 255,\n          r = t.b / 255,\n          i = (Yt * r + Dt * e - Wt * n) / (Yt + Dt - Wt),\n          a = r - i,\n          o = (Ft * (n - i) - Bt * a) / Rt,\n          s = Math.sqrt(o * o + a * a) / (Ft * i * (1 - i)),\n          u = s ? Math.atan2(o, a) * gt - 120 : NaN;\n      return new Ut(u < 0 ? u + 360 : u, s, i, t.opacity);\n    }\n\n    function Xt(t, e, n, r) {\n      return 1 === arguments.length ? Ht(t) : new Ut(t, e, n, null == r ? 1 : r);\n    }\n\n    function Ut(t, e, n, r) {\n      this.h = +t, this.s = +e, this.l = +n, this.opacity = +r;\n    }\n\n    function zt(t) {\n      return function e(n) {\n        function r(e, r) {\n          var i = t((e = Xt(e)).h, (r = Xt(r)).h),\n              a = D(e.s, r.s),\n              o = D(e.l, r.l),\n              s = D(e.opacity, r.opacity);\n          return function (t) {\n            return e.h = i(t), e.s = a(t), e.l = o(Math.pow(t, n)), e.opacity = s(t), e + \"\";\n          };\n        }\n\n        return n = +n, r.gamma = e, r;\n      }(1);\n    }\n\n    r(Ut, Xt, i(a, {\n      brighter: function brighter(t) {\n        return t = null == t ? 1 / .7 : Math.pow(1 / .7, t), new Ut(this.h, this.s, this.l * t, this.opacity);\n      },\n      darker: function darker(t) {\n        return t = null == t ? .7 : Math.pow(.7, t), new Ut(this.h, this.s, this.l * t, this.opacity);\n      },\n      rgb: function rgb() {\n        var t = isNaN(this.h) ? 0 : (this.h + 120) * yt,\n            e = +this.l,\n            n = isNaN(this.s) ? 0 : this.s * e * (1 - e),\n            r = Math.cos(t),\n            i = Math.sin(t);\n        return new A(255 * (e + n * (Lt * r + qt * i)), 255 * (e + n * (Bt * r + Rt * i)), 255 * (e + n * (Ft * r)), this.opacity);\n      }\n    }));\n\n    var Qt = zt(R),\n        Vt = zt(D),\n        Zt = function Zt(t, e) {\n      for (var n = new Array(e), r = 0; r < e; ++r) {\n        n[r] = t(r / (e - 1));\n      }\n\n      return n;\n    };\n\n    n.d(e, \"interpolate\", function () {\n      return nt;\n    }), n.d(e, \"interpolateArray\", function () {\n      return U;\n    }), n.d(e, \"interpolateBasis\", function () {\n      return j;\n    }), n.d(e, \"interpolateBasisClosed\", function () {\n      return L;\n    }), n.d(e, \"interpolateDate\", function () {\n      return z;\n    }), n.d(e, \"interpolateNumber\", function () {\n      return Q;\n    }), n.d(e, \"interpolateObject\", function () {\n      return V;\n    }), n.d(e, \"interpolateRound\", function () {\n      return rt;\n    }), n.d(e, \"interpolateString\", function () {\n      return et;\n    }), n.d(e, \"interpolateTransformCss\", function () {\n      return ut;\n    }), n.d(e, \"interpolateTransformSvg\", function () {\n      return ct;\n    }), n.d(e, \"interpolateZoom\", function () {\n      return ft;\n    }), n.d(e, \"interpolateRgb\", function () {\n      return W;\n    }), n.d(e, \"interpolateRgbBasis\", function () {\n      return H;\n    }), n.d(e, \"interpolateRgbBasisClosed\", function () {\n      return X;\n    }), n.d(e, \"interpolateHsl\", function () {\n      return dt;\n    }), n.d(e, \"interpolateHslLong\", function () {\n      return vt;\n    }), n.d(e, \"interpolateLab\", function () {\n      return Ct;\n    }), n.d(e, \"interpolateHcl\", function () {\n      return Nt;\n    }), n.d(e, \"interpolateHclLong\", function () {\n      return jt;\n    }), n.d(e, \"interpolateCubehelix\", function () {\n      return Qt;\n    }), n.d(e, \"interpolateCubehelixLong\", function () {\n      return Vt;\n    }), n.d(e, \"quantize\", function () {\n      return Zt;\n    });\n  }, function (t, e, n) {\n    \"use strict\";\n\n    function r(t) {\n      return +t;\n    }\n\n    function i(t) {\n      return t * t;\n    }\n\n    function a(t) {\n      return t * (2 - t);\n    }\n\n    function o(t) {\n      return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n    }\n\n    function s(t) {\n      return t * t * t;\n    }\n\n    function u(t) {\n      return --t * t * t + 1;\n    }\n\n    function c(t) {\n      return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n    }\n\n    n.r(e);\n\n    var l = function t(e) {\n      function n(t) {\n        return Math.pow(t, e);\n      }\n\n      return e = +e, n.exponent = t, n;\n    }(3),\n        h = function t(e) {\n      function n(t) {\n        return 1 - Math.pow(1 - t, e);\n      }\n\n      return e = +e, n.exponent = t, n;\n    }(3),\n        f = function t(e) {\n      function n(t) {\n        return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n      }\n\n      return e = +e, n.exponent = t, n;\n    }(3),\n        p = Math.PI,\n        d = p / 2;\n\n    function v(t) {\n      return 1 - Math.cos(t * d);\n    }\n\n    function y(t) {\n      return Math.sin(t * d);\n    }\n\n    function g(t) {\n      return (1 - Math.cos(p * t)) / 2;\n    }\n\n    function x(t) {\n      return Math.pow(2, 10 * t - 10);\n    }\n\n    function m(t) {\n      return 1 - Math.pow(2, -10 * t);\n    }\n\n    function b(t) {\n      return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;\n    }\n\n    function M(t) {\n      return 1 - Math.sqrt(1 - t * t);\n    }\n\n    function w(t) {\n      return Math.sqrt(1 - --t * t);\n    }\n\n    function _(t) {\n      return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n    }\n\n    var A = 7.5625;\n\n    function P(t) {\n      return 1 - S(1 - t);\n    }\n\n    function S(t) {\n      return (t = +t) < 4 / 11 ? A * t * t : t < 8 / 11 ? A * (t -= 6 / 11) * t + .75 : t < 10 / 11 ? A * (t -= 9 / 11) * t + .9375 : A * (t -= 21 / 22) * t + 63 / 64;\n    }\n\n    function k(t) {\n      return ((t *= 2) <= 1 ? 1 - S(1 - t) : S(t - 1) + 1) / 2;\n    }\n\n    var O = function t(e) {\n      function n(t) {\n        return t * t * ((e + 1) * t - e);\n      }\n\n      return e = +e, n.overshoot = t, n;\n    }(1.70158),\n        I = function t(e) {\n      function n(t) {\n        return --t * t * ((e + 1) * t + e) + 1;\n      }\n\n      return e = +e, n.overshoot = t, n;\n    }(1.70158),\n        T = function t(e) {\n      function n(t) {\n        return ((t *= 2) < 1 ? t * t * ((e + 1) * t - e) : (t -= 2) * t * ((e + 1) * t + e) + 2) / 2;\n      }\n\n      return e = +e, n.overshoot = t, n;\n    }(1.70158),\n        C = 2 * Math.PI,\n        E = function t(e, n) {\n      var r = Math.asin(1 / (e = Math.max(1, e))) * (n /= C);\n\n      function i(t) {\n        return e * Math.pow(2, 10 * --t) * Math.sin((r - t) / n);\n      }\n\n      return i.amplitude = function (e) {\n        return t(e, n * C);\n      }, i.period = function (n) {\n        return t(e, n);\n      }, i;\n    }(1, .3),\n        N = function t(e, n) {\n      var r = Math.asin(1 / (e = Math.max(1, e))) * (n /= C);\n\n      function i(t) {\n        return 1 - e * Math.pow(2, -10 * (t = +t)) * Math.sin((t + r) / n);\n      }\n\n      return i.amplitude = function (e) {\n        return t(e, n * C);\n      }, i.period = function (n) {\n        return t(e, n);\n      }, i;\n    }(1, .3),\n        j = function t(e, n) {\n      var r = Math.asin(1 / (e = Math.max(1, e))) * (n /= C);\n\n      function i(t) {\n        return ((t = 2 * t - 1) < 0 ? e * Math.pow(2, 10 * t) * Math.sin((r - t) / n) : 2 - e * Math.pow(2, -10 * t) * Math.sin((r + t) / n)) / 2;\n      }\n\n      return i.amplitude = function (e) {\n        return t(e, n * C);\n      }, i.period = function (n) {\n        return t(e, n);\n      }, i;\n    }(1, .3);\n\n    n.d(e, \"easeLinear\", function () {\n      return r;\n    }), n.d(e, \"easeQuad\", function () {\n      return o;\n    }), n.d(e, \"easeQuadIn\", function () {\n      return i;\n    }), n.d(e, \"easeQuadOut\", function () {\n      return a;\n    }), n.d(e, \"easeQuadInOut\", function () {\n      return o;\n    }), n.d(e, \"easeCubic\", function () {\n      return c;\n    }), n.d(e, \"easeCubicIn\", function () {\n      return s;\n    }), n.d(e, \"easeCubicOut\", function () {\n      return u;\n    }), n.d(e, \"easeCubicInOut\", function () {\n      return c;\n    }), n.d(e, \"easePoly\", function () {\n      return f;\n    }), n.d(e, \"easePolyIn\", function () {\n      return l;\n    }), n.d(e, \"easePolyOut\", function () {\n      return h;\n    }), n.d(e, \"easePolyInOut\", function () {\n      return f;\n    }), n.d(e, \"easeSin\", function () {\n      return g;\n    }), n.d(e, \"easeSinIn\", function () {\n      return v;\n    }), n.d(e, \"easeSinOut\", function () {\n      return y;\n    }), n.d(e, \"easeSinInOut\", function () {\n      return g;\n    }), n.d(e, \"easeExp\", function () {\n      return b;\n    }), n.d(e, \"easeExpIn\", function () {\n      return x;\n    }), n.d(e, \"easeExpOut\", function () {\n      return m;\n    }), n.d(e, \"easeExpInOut\", function () {\n      return b;\n    }), n.d(e, \"easeCircle\", function () {\n      return _;\n    }), n.d(e, \"easeCircleIn\", function () {\n      return M;\n    }), n.d(e, \"easeCircleOut\", function () {\n      return w;\n    }), n.d(e, \"easeCircleInOut\", function () {\n      return _;\n    }), n.d(e, \"easeBounce\", function () {\n      return S;\n    }), n.d(e, \"easeBounceIn\", function () {\n      return P;\n    }), n.d(e, \"easeBounceOut\", function () {\n      return S;\n    }), n.d(e, \"easeBounceInOut\", function () {\n      return k;\n    }), n.d(e, \"easeBack\", function () {\n      return T;\n    }), n.d(e, \"easeBackIn\", function () {\n      return O;\n    }), n.d(e, \"easeBackOut\", function () {\n      return I;\n    }), n.d(e, \"easeBackInOut\", function () {\n      return T;\n    }), n.d(e, \"easeElastic\", function () {\n      return N;\n    }), n.d(e, \"easeElasticIn\", function () {\n      return E;\n    }), n.d(e, \"easeElasticOut\", function () {\n      return N;\n    }), n.d(e, \"easeElasticInOut\", function () {\n      return j;\n    });\n  }, function (t, e, n) {\n    \"use strict\";\n\n    n.r(e);\n    var r,\n        i,\n        a = 0,\n        o = 0,\n        s = 0,\n        u = 0,\n        c = 0,\n        l = 0,\n        h = \"object\" == typeof performance && performance.now ? performance : Date,\n        f = \"object\" == typeof window && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function (t) {\n      setTimeout(t, 17);\n    };\n\n    function p() {\n      return c || (f(d), c = h.now() + l);\n    }\n\n    function d() {\n      c = 0;\n    }\n\n    function v() {\n      this._call = this._time = this._next = null;\n    }\n\n    function y(t, e, n) {\n      var r = new v();\n      return r.restart(t, e, n), r;\n    }\n\n    function g() {\n      p(), ++a;\n\n      for (var t, e = r; e;) {\n        (t = c - e._time) >= 0 && e._call.call(null, t), e = e._next;\n      }\n\n      --a;\n    }\n\n    function x() {\n      c = (u = h.now()) + l, a = o = 0;\n\n      try {\n        g();\n      } finally {\n        a = 0, function () {\n          var t,\n              e,\n              n = r,\n              a = 1 / 0;\n\n          for (; n;) {\n            n._call ? (a > n._time && (a = n._time), t = n, n = n._next) : (e = n._next, n._next = null, n = t ? t._next = e : r = e);\n          }\n\n          i = t, b(a);\n        }(), c = 0;\n      }\n    }\n\n    function m() {\n      var t = h.now(),\n          e = t - u;\n      e > 1e3 && (l -= e, u = t);\n    }\n\n    function b(t) {\n      a || (o && (o = clearTimeout(o)), t - c > 24 ? (t < 1 / 0 && (o = setTimeout(x, t - h.now() - l)), s && (s = clearInterval(s))) : (s || (u = h.now(), s = setInterval(m, 1e3)), a = 1, f(x)));\n    }\n\n    v.prototype = y.prototype = {\n      constructor: v,\n      restart: function restart(t, e, n) {\n        if (\"function\" != typeof t) throw new TypeError(\"callback is not a function\");\n        n = (null == n ? p() : +n) + (null == e ? 0 : +e), this._next || i === this || (i ? i._next = this : r = this, i = this), this._call = t, this._time = n, b();\n      },\n      stop: function stop() {\n        this._call && (this._call = null, this._time = 1 / 0, b());\n      }\n    };\n\n    var M = function M(t, e, n) {\n      var r = new v();\n      return e = null == e ? 0 : +e, r.restart(function (n) {\n        r.stop(), t(n + e);\n      }, e, n), r;\n    },\n        w = function w(t, e, n) {\n      var r = new v(),\n          i = e;\n      return null == e ? (r.restart(t, e, n), r) : (e = +e, n = null == n ? p() : +n, r.restart(function a(o) {\n        o += i, r.restart(a, i += e, n), t(o);\n      }, e, n), r);\n    };\n\n    n.d(e, \"now\", function () {\n      return p;\n    }), n.d(e, \"timer\", function () {\n      return y;\n    }), n.d(e, \"timerFlush\", function () {\n      return g;\n    }), n.d(e, \"timeout\", function () {\n      return M;\n    }), n.d(e, \"interval\", function () {\n      return w;\n    });\n  }]);\n});","\"use strict\";\n\nexports.__esModule = true; // dom\n\nvar add_event_listener_1 = require(\"./add-event-listener\");\n\nexports.addEventListener = add_event_listener_1[\"default\"];\n\nvar create_dom_1 = require(\"./create-dom\");\n\nexports.createDom = create_dom_1[\"default\"];\n\nvar get_height_1 = require(\"./get-height\");\n\nexports.getHeight = get_height_1[\"default\"];\n\nvar get_outer_height_1 = require(\"./get-outer-height\");\n\nexports.getOuterHeight = get_outer_height_1[\"default\"];\n\nvar get_outer_width_1 = require(\"./get-outer-width\");\n\nexports.getOuterWidth = get_outer_width_1[\"default\"];\n\nvar get_ratio_1 = require(\"./get-ratio\");\n\nexports.getRatio = get_ratio_1[\"default\"];\n\nvar get_style_1 = require(\"./get-style\");\n\nexports.getStyle = get_style_1[\"default\"];\n\nvar get_width_1 = require(\"./get-width\");\n\nexports.getWidth = get_width_1[\"default\"];\n\nvar modify_css_1 = require(\"./modify-css\");\n\nexports.modifyCSS = modify_css_1[\"default\"];","const env = process.env.REACT_APP_ENV; // 环境变量 [ dev/test/prod ]\r\n\r\nconst apis = {\r\n  dev: {\r\n    cms: '//dev.cms.demo.com/api',\r\n    gms: '//dev.gms.demo.com/api'\r\n  },\r\n  test: {\r\n    cms: '//test.cms.demo.com/api',\r\n    gms: '//test.gms.demo.com/api'\r\n  },\r\n  prod: {\r\n    cms: '//cms.demo.com/api',\r\n    gms: '//gms.demo.com/api'\r\n  }\r\n};\r\n\r\nconst urls = {\r\n  dev: {\r\n    baidu: 'dev.baidu.com',\r\n    ali: 'dev.ali.com',\r\n    qq: 'dev.qq.com'\r\n  },\r\n  test: {\r\n    baidu: 'test.baidu.com',\r\n    ali: 'test.ali.com',\r\n    qq: 'test.qq.com'\r\n  },\r\n  prod: {\r\n    baidu: 'https://baidu.com',\r\n    ali: 'https://ali.com',\r\n    qq: 'https://qq.com'\r\n  }\r\n};\r\n\r\nexport const api =  apis[env];\r\nexport const url =  urls[env];\r\n","import axios from 'axios';\r\nimport { Modal, message } from 'antd';\r\nimport { api } from 'config/domain';\r\nimport handleObject from 'utils/handleObject';\r\n\r\naxios.defaults.baseURL = api.cms;\r\naxios.defaults.withCredentials = true;\r\naxios.defaults.timeout = 2000;\r\n\r\nconst CancelToken = axios.CancelToken;\r\n\r\n//处理请求失败\r\nconst onFetchFail = (err, reject) => {\r\n  message.error(err);\r\n  reject(err);\r\n}\r\n\r\n//处理请求成功\r\nconst onFetchSuccess = (res, resolve, reject) => {\r\n  //服务器端请求错误\r\n  if (res.status !== 200) {\r\n    return onFetchFail('服务器异常', reject);\r\n  }\r\n\r\n  //bug: 业务服务判断\r\n  const status = res.data.status;\r\n\r\n  //业务请求-正常\r\n  if (status === 200) {\r\n    return resolve(res.data.data);\r\n  }\r\n\r\n  //业务请求-未登录\r\n  if (status === 301) {\r\n    Modal.destroyAll();\r\n    Modal.confirm({\r\n      title: '提示',\r\n      content: res.data.message,\r\n      onOk: () => window.location.href = '/login'\r\n    });\r\n    return reject(res.data.message);\r\n  }\r\n\r\n  //业务请求-其他错误\r\n  return onFetchFail(res.data.message, reject);\r\n}\r\n\r\nexport default {\r\n  get: (url = '', data = {}, config = {}) => {\r\n    //设置取消请求钩子\r\n    if (config.cancelToken) {\r\n      config.cancelToken = new CancelToken(config.cancelToken);\r\n    }\r\n\r\n    const cleanData = handleObject.clean(data, true);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(url, { params: cleanData, ...config })\r\n      .then(res => onFetchSuccess(res, resolve, reject))\r\n      .catch(err => onFetchFail(err.message, reject));\r\n    });\r\n  },\r\n  post: (url = '', data = {}, config = {}) => {\r\n    //设置取消请求钩子\r\n    if (config.cancelToken) {\r\n      config.cancelToken = new CancelToken(config.cancelToken);\r\n    }\r\n\r\n    const cleanData = handleObject.clean(data, true);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      axios.post(url, { param: cleanData }, config)\r\n      .then(res => onFetchSuccess(res, resolve, reject))\r\n      .catch(err => onFetchFail(err.message, reject));\r\n    });\r\n  },\r\n  upload: (url = '', data = {}, config = {}) => {\r\n    //设置取消请求钩子\r\n    if (config.cancelToken) {\r\n      config.cancelToken = new CancelToken(config.cancelToken);\r\n    }\r\n    \r\n    return new Promise((resolve, reject) => {\r\n      axios.post(url, data, { headers:{'Content-Type':'multipart/form-data'}, ...config })\r\n      .then(res => onFetchSuccess(res, resolve, reject))\r\n      .catch(err => onFetchFail(err.message, reject));\r\n    });\r\n  },\r\n}\r\n","/**\r\n * 功能：去除对象值为空(null,undefined,NaN,'')的属性\r\n * @param {object} obj 处理对象\r\n * @param {boolean} includeEmptyString 是否保留空字符串，默认false\r\n */\r\nconst cleanObject = (obj, includeEmptyString) => {\r\n  if (!obj || typeof obj !== 'object' || (typeof obj === 'object' && Array.isArray(obj))) {\r\n    return obj;\r\n  };\r\n\r\n  const newObj = {};\r\n  for(let attr in obj) {\r\n    if (obj[attr] === '') {\r\n      if (includeEmptyString) newObj[attr] = '';\r\n    } else if (typeof obj[attr] === 'string') {\r\n      newObj[attr] = obj[attr].trim();\r\n    } else if (obj[attr] === 0 ) {\r\n      newObj[attr] = 0;\r\n    } else if (obj[attr]) {\r\n      newObj[attr] = obj[attr];\r\n    }\r\n  }\r\n  return newObj;\r\n}\r\n\r\nexport default {\r\n  clean: cleanObject\r\n};\r\n","/**\n * Safe chained function\n *\n * Will only create a new function if needed,\n * otherwise will pass back existing functions or null.\n *\n * @returns {function|null}\n */\nexport default function createChainedFunction() {\n  var args = [].slice.call(arguments, 0);\n\n  if (args.length === 1) {\n    return args[0];\n  }\n\n  return function chainedFunction() {\n    for (var i = 0; i < args.length; i++) {\n      if (args[i] && args[i].apply) {\n        args[i].apply(this, arguments);\n      }\n    }\n  };\n}","import addDOMEventListener from 'add-dom-event-listener';\nimport ReactDOM from 'react-dom';\nexport default function addEventListenerWrap(target, eventType, cb, option) {\n  /* eslint camelcase: 2 */\n  var callback = ReactDOM.unstable_batchedUpdates ? function run(e) {\n    ReactDOM.unstable_batchedUpdates(cb, e);\n  } : cb;\n  return addDOMEventListener(target, eventType, callback, option);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar WILDCARD = '*';\n/* event-emitter */\n\nvar EventEmitter =\n/** @class */\nfunction () {\n  function EventEmitter() {\n    this._events = {};\n  }\n  /**\n   * 监听一个事件\n   * @param evt\n   * @param callback\n   * @param once\n   */\n\n\n  EventEmitter.prototype.on = function (evt, callback, once) {\n    if (!this._events[evt]) {\n      this._events[evt] = [];\n    }\n\n    this._events[evt].push({\n      callback: callback,\n      once: !!once\n    });\n\n    return this;\n  };\n  /**\n   * 监听一个事件一次\n   * @param evt\n   * @param callback\n   */\n\n\n  EventEmitter.prototype.once = function (evt, callback) {\n    this.on(evt, callback, true);\n    return this;\n  };\n  /**\n   * 触发一个事件\n   * @param evt\n   * @param args\n   */\n\n\n  EventEmitter.prototype.emit = function (evt) {\n    var _this = this;\n\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    var events = this._events[evt] || [];\n    var wildcardEvents = this._events[WILDCARD] || []; // 实际的处理 emit 方法\n\n    var doEmit = function doEmit(es) {\n      var length = es.length;\n\n      for (var i = 0; i < length; i++) {\n        var _a = es[i],\n            callback = _a.callback,\n            once = _a.once;\n\n        if (once) {\n          es.splice(i, 1);\n\n          if (es.length === 0) {\n            delete _this._events[evt];\n          }\n\n          length--;\n          i--;\n        }\n\n        callback.apply(_this, args);\n      }\n    };\n\n    doEmit(events);\n    doEmit(wildcardEvents);\n  };\n  /**\n   * 取消监听一个事件，或者一个channel\n   * @param evt\n   * @param callback\n   */\n\n\n  EventEmitter.prototype.off = function (evt, callback) {\n    if (!evt) {\n      // evt 为空全部清除\n      this._events = {};\n    } else {\n      if (!callback) {\n        // evt 存在，callback 为空，清除事件所有方法\n        delete this._events[evt];\n      } else {\n        // evt 存在，callback 存在，清除匹配的\n        var events = this._events[evt] || [];\n        var length = events.length;\n\n        for (var i = 0; i < length; i++) {\n          if (events[i].callback === callback) {\n            events.splice(i, 1);\n            length--;\n            i--;\n          }\n        }\n\n        if (events.length === 0) {\n          delete this._events[evt];\n        }\n      }\n    }\n\n    return this;\n  };\n  /* 当前所有的事件 */\n\n\n  EventEmitter.prototype.getEvents = function () {\n    return this._events;\n  };\n\n  return EventEmitter;\n}();\n\nexports.default = EventEmitter;","export default function contains(root, n) {\n  var node = n;\n\n  while (node) {\n    if (node === root) {\n      return true;\n    }\n\n    node = node.parentNode;\n  }\n\n  return false;\n}","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nvar ContainerRender =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ContainerRender, _React$Component);\n\n  function ContainerRender() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ContainerRender);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ContainerRender)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.removeContainer = function () {\n      if (_this.container) {\n        ReactDOM.unmountComponentAtNode(_this.container);\n\n        _this.container.parentNode.removeChild(_this.container);\n\n        _this.container = null;\n      }\n    };\n\n    _this.renderComponent = function (props, ready) {\n      var _this$props = _this.props,\n          visible = _this$props.visible,\n          getComponent = _this$props.getComponent,\n          forceRender = _this$props.forceRender,\n          getContainer = _this$props.getContainer,\n          parent = _this$props.parent;\n\n      if (visible || parent._component || forceRender) {\n        if (!_this.container) {\n          _this.container = getContainer();\n        }\n\n        ReactDOM.unstable_renderSubtreeIntoContainer(parent, getComponent(props), _this.container, function callback() {\n          if (ready) {\n            ready.call(this);\n          }\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(ContainerRender, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.autoMount) {\n        this.renderComponent();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.autoMount) {\n        this.renderComponent();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.props.autoDestroy) {\n        this.removeContainer();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.props.children({\n        renderComponent: this.renderComponent,\n        removeContainer: this.removeContainer\n      });\n    }\n  }]);\n\n  return ContainerRender;\n}(React.Component);\n\nContainerRender.propTypes = {\n  autoMount: PropTypes.bool,\n  autoDestroy: PropTypes.bool,\n  visible: PropTypes.bool,\n  forceRender: PropTypes.bool,\n  parent: PropTypes.any,\n  getComponent: PropTypes.func.isRequired,\n  getContainer: PropTypes.func.isRequired,\n  children: PropTypes.func.isRequired\n};\nContainerRender.defaultProps = {\n  autoMount: true,\n  autoDestroy: true,\n  forceRender: false\n};\nexport { ContainerRender as default };","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nvar Portal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal() {\n    _classCallCheck(this, Portal);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Portal).apply(this, arguments));\n  }\n\n  _createClass(Portal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.createContainer();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var didUpdate = this.props.didUpdate;\n\n      if (didUpdate) {\n        didUpdate(prevProps);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeContainer();\n    }\n  }, {\n    key: \"createContainer\",\n    value: function createContainer() {\n      this._container = this.props.getContainer();\n      this.forceUpdate();\n    }\n  }, {\n    key: \"removeContainer\",\n    value: function removeContainer() {\n      if (this._container) {\n        this._container.parentNode.removeChild(this._container);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this._container) {\n        return ReactDOM.createPortal(this.props.children, this._container);\n      }\n\n      return null;\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nPortal.propTypes = {\n  getContainer: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n  didUpdate: PropTypes.func\n};\nexport { Portal as default };","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = addEventListener;\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _EventObject = require('./EventObject');\n\nvar _EventObject2 = _interopRequireDefault(_EventObject);\n\nfunction addEventListener(target, eventType, callback, option) {\n  function wrapCallback(e) {\n    var ne = new _EventObject2['default'](e);\n    callback.call(target, ne);\n  }\n\n  if (target.addEventListener) {\n    var _ret = function () {\n      var useCapture = false;\n\n      if (typeof option === 'object') {\n        useCapture = option.capture || false;\n      } else if (typeof option === 'boolean') {\n        useCapture = option;\n      }\n\n      target.addEventListener(eventType, wrapCallback, option || false);\n      return {\n        v: {\n          remove: function remove() {\n            target.removeEventListener(eventType, wrapCallback, useCapture);\n          }\n        }\n      };\n    }();\n\n    if (typeof _ret === 'object') return _ret.v;\n  } else if (target.attachEvent) {\n    target.attachEvent('on' + eventType, wrapCallback);\n    return {\n      remove: function remove() {\n        target.detachEvent('on' + eventType, wrapCallback);\n      }\n    };\n  }\n}\n\nmodule.exports = exports['default'];","\"use strict\";\n\nexports.__esModule = true;\n/**\n * 获取样式\n * @param  {Object} dom DOM节点\n * @param  {String} name 样式名\n * @param  {Any} defaultValue 默认值\n * @return {String} 属性值\n */\n\nfunction getStyle(dom, name, defaultValue) {\n  var v;\n\n  try {\n    v = window.getComputedStyle ? window.getComputedStyle(dom, null)[name] : dom.style[name]; // 一般不会走到这个逻辑，dom.style 获取的是标签 style 属性，也不准确\n  } catch (e) {// do nothing\n  } finally {\n    v = v === undefined ? defaultValue : v;\n  }\n\n  return v;\n}\n\nexports[\"default\"] = getStyle;","import { map, memoize, isString } from '@antv/util';\nvar RGB_REG = /rgba?\\(([\\s.,0-9]+)\\)/; // 创建辅助 tag 取颜色\n\nvar createTmp = function createTmp() {\n  var i = document.createElement('i');\n  i.title = 'Web Colour Picker';\n  i.style.display = 'none';\n  document.body.appendChild(i);\n  return i;\n}; // 获取颜色之间的插值\n\n\nvar getValue = function getValue(start, end, percent, index) {\n  return start[index] + (end[index] - start[index]) * percent;\n}; // 数组转换成颜色\n\n\nfunction arr2rgb(arr) {\n  return \"#\" + toHex(arr[0]) + toHex(arr[1]) + toHex(arr[2]);\n} // rgb 颜色转换成数组\n\n\nvar rgb2arr = function rgb2arr(str) {\n  return [parseInt(str.substr(1, 2), 16), parseInt(str.substr(3, 2), 16), parseInt(str.substr(5, 2), 16)];\n}; // 将数值从 0-255 转换成16进制字符串\n\n\nvar toHex = function toHex(value) {\n  var x16Value = Math.round(value).toString(16);\n  return x16Value.length === 1 ? \"0\" + x16Value : x16Value;\n}; // 计算颜色\n\n\nvar calColor = function calColor(points, percent) {\n  var fixedPercent = isNaN(Number(percent)) || percent < 0 ? 0 : percent > 1 ? 1 : Number(percent);\n  var steps = points.length - 1;\n  var step = Math.floor(steps * fixedPercent);\n  var left = steps * fixedPercent - step;\n  var start = points[step];\n  var end = step === steps ? start : points[step + 1];\n  return arr2rgb([getValue(start, end, left, 0), getValue(start, end, left, 1), getValue(start, end, left, 2)]);\n}; // 用于给 toRGB 的缓存（使用 memoize 方法替换）\n// const colorCache = {};\n\n\nvar iEl;\n/**\n * 将颜色转换到 rgb 的格式\n * @param {color} color 颜色\n * @return 将颜色转换到 '#ffffff' 的格式\n */\n\nvar toRGB = function toRGB(color) {\n  // 如果已经是 rgb的格式\n  if (color[0] === '#' && color.length === 7) {\n    return color;\n  }\n\n  if (!iEl) {\n    // 防止防止在页头报错\n    iEl = createTmp();\n  }\n\n  iEl.style.color = color;\n  var rst = document.defaultView.getComputedStyle(iEl, '').getPropertyValue('color');\n  var matches = RGB_REG.exec(rst);\n  var cArray = matches[1].split(/\\s*,\\s*/).map(function (s) {\n    return Number(s);\n  });\n  rst = arr2rgb(cArray);\n  return rst;\n};\n/**\n * 获取渐变函数\n * @param colors 多个颜色\n * @return 颜色值\n */\n\n\nvar gradient = function gradient(colors) {\n  var colorArray = isString(colors) ? colors.split('-') : colors;\n  var points = map(colorArray, function (color) {\n    return rgb2arr(color.indexOf('#') === -1 ? toRGB(color) : color);\n  }); // 返回一个函数\n\n  return function (percent) {\n    return calColor(points, percent);\n  };\n};\n\nexport default {\n  rgb2arr: rgb2arr,\n  gradient: gradient,\n  toRGB: memoize(toRGB)\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar is_type_1 = require(\"./is-type\");\n\nexports.default = function (value) {\n  return Array.isArray ? Array.isArray(value) : is_type_1.default(value, 'Array');\n};","/**\n * @ignore\n * event object for dom\n * @author yiminghe@gmail.com\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _EventBaseObject = require('./EventBaseObject');\n\nvar _EventBaseObject2 = _interopRequireDefault(_EventBaseObject);\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nvar TRUE = true;\nvar FALSE = false;\nvar commonProps = ['altKey', 'bubbles', 'cancelable', 'ctrlKey', 'currentTarget', 'eventPhase', 'metaKey', 'shiftKey', 'target', 'timeStamp', 'view', 'type'];\n\nfunction isNullOrUndefined(w) {\n  return w === null || w === undefined;\n}\n\nvar eventNormalizers = [{\n  reg: /^key/,\n  props: ['char', 'charCode', 'key', 'keyCode', 'which'],\n  fix: function fix(event, nativeEvent) {\n    if (isNullOrUndefined(event.which)) {\n      event.which = !isNullOrUndefined(nativeEvent.charCode) ? nativeEvent.charCode : nativeEvent.keyCode;\n    } // add metaKey to non-Mac browsers (use ctrl for PC 's and Meta for Macs)\n\n\n    if (event.metaKey === undefined) {\n      event.metaKey = event.ctrlKey;\n    }\n  }\n}, {\n  reg: /^touch/,\n  props: ['touches', 'changedTouches', 'targetTouches']\n}, {\n  reg: /^hashchange$/,\n  props: ['newURL', 'oldURL']\n}, {\n  reg: /^gesturechange$/i,\n  props: ['rotation', 'scale']\n}, {\n  reg: /^(mousewheel|DOMMouseScroll)$/,\n  props: [],\n  fix: function fix(event, nativeEvent) {\n    var deltaX = undefined;\n    var deltaY = undefined;\n    var delta = undefined;\n    var wheelDelta = nativeEvent.wheelDelta;\n    var axis = nativeEvent.axis;\n    var wheelDeltaY = nativeEvent.wheelDeltaY;\n    var wheelDeltaX = nativeEvent.wheelDeltaX;\n    var detail = nativeEvent.detail; // ie/webkit\n\n    if (wheelDelta) {\n      delta = wheelDelta / 120;\n    } // gecko\n\n\n    if (detail) {\n      // press control e.detail == 1 else e.detail == 3\n      delta = 0 - (detail % 3 === 0 ? detail / 3 : detail);\n    } // Gecko\n\n\n    if (axis !== undefined) {\n      if (axis === event.HORIZONTAL_AXIS) {\n        deltaY = 0;\n        deltaX = 0 - delta;\n      } else if (axis === event.VERTICAL_AXIS) {\n        deltaX = 0;\n        deltaY = delta;\n      }\n    } // Webkit\n\n\n    if (wheelDeltaY !== undefined) {\n      deltaY = wheelDeltaY / 120;\n    }\n\n    if (wheelDeltaX !== undefined) {\n      deltaX = -1 * wheelDeltaX / 120;\n    } // 默认 deltaY (ie)\n\n\n    if (!deltaX && !deltaY) {\n      deltaY = delta;\n    }\n\n    if (deltaX !== undefined) {\n      /**\n       * deltaX of mousewheel event\n       * @property deltaX\n       * @member Event.DomEvent.Object\n       */\n      event.deltaX = deltaX;\n    }\n\n    if (deltaY !== undefined) {\n      /**\n       * deltaY of mousewheel event\n       * @property deltaY\n       * @member Event.DomEvent.Object\n       */\n      event.deltaY = deltaY;\n    }\n\n    if (delta !== undefined) {\n      /**\n       * delta of mousewheel event\n       * @property delta\n       * @member Event.DomEvent.Object\n       */\n      event.delta = delta;\n    }\n  }\n}, {\n  reg: /^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,\n  props: ['buttons', 'clientX', 'clientY', 'button', 'offsetX', 'relatedTarget', 'which', 'fromElement', 'toElement', 'offsetY', 'pageX', 'pageY', 'screenX', 'screenY'],\n  fix: function fix(event, nativeEvent) {\n    var eventDoc = undefined;\n    var doc = undefined;\n    var body = undefined;\n    var target = event.target;\n    var button = nativeEvent.button; // Calculate pageX/Y if missing and clientX/Y available\n\n    if (target && isNullOrUndefined(event.pageX) && !isNullOrUndefined(nativeEvent.clientX)) {\n      eventDoc = target.ownerDocument || document;\n      doc = eventDoc.documentElement;\n      body = eventDoc.body;\n      event.pageX = nativeEvent.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n      event.pageY = nativeEvent.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n    } // which for click: 1 === left; 2 === middle; 3 === right\n    // do not use button\n\n\n    if (!event.which && button !== undefined) {\n      if (button & 1) {\n        event.which = 1;\n      } else if (button & 2) {\n        event.which = 3;\n      } else if (button & 4) {\n        event.which = 2;\n      } else {\n        event.which = 0;\n      }\n    } // add relatedTarget, if necessary\n\n\n    if (!event.relatedTarget && event.fromElement) {\n      event.relatedTarget = event.fromElement === target ? event.toElement : event.fromElement;\n    }\n\n    return event;\n  }\n}];\n\nfunction retTrue() {\n  return TRUE;\n}\n\nfunction retFalse() {\n  return FALSE;\n}\n\nfunction DomEventObject(nativeEvent) {\n  var type = nativeEvent.type;\n  var isNative = typeof nativeEvent.stopPropagation === 'function' || typeof nativeEvent.cancelBubble === 'boolean';\n\n  _EventBaseObject2['default'].call(this);\n\n  this.nativeEvent = nativeEvent; // in case dom event has been mark as default prevented by lower dom node\n\n  var isDefaultPrevented = retFalse;\n\n  if ('defaultPrevented' in nativeEvent) {\n    isDefaultPrevented = nativeEvent.defaultPrevented ? retTrue : retFalse;\n  } else if ('getPreventDefault' in nativeEvent) {\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=691151\n    isDefaultPrevented = nativeEvent.getPreventDefault() ? retTrue : retFalse;\n  } else if ('returnValue' in nativeEvent) {\n    isDefaultPrevented = nativeEvent.returnValue === FALSE ? retTrue : retFalse;\n  }\n\n  this.isDefaultPrevented = isDefaultPrevented;\n  var fixFns = [];\n  var fixFn = undefined;\n  var l = undefined;\n  var prop = undefined;\n  var props = commonProps.concat();\n  eventNormalizers.forEach(function (normalizer) {\n    if (type.match(normalizer.reg)) {\n      props = props.concat(normalizer.props);\n\n      if (normalizer.fix) {\n        fixFns.push(normalizer.fix);\n      }\n    }\n  });\n  l = props.length; // clone properties of the original event object\n\n  while (l) {\n    prop = props[--l];\n    this[prop] = nativeEvent[prop];\n  } // fix target property, if necessary\n\n\n  if (!this.target && isNative) {\n    this.target = nativeEvent.srcElement || document; // srcElement might not be defined either\n  } // check if target is a text node (safari)\n\n\n  if (this.target && this.target.nodeType === 3) {\n    this.target = this.target.parentNode;\n  }\n\n  l = fixFns.length;\n\n  while (l) {\n    fixFn = fixFns[--l];\n    fixFn(this, nativeEvent);\n  }\n\n  this.timeStamp = nativeEvent.timeStamp || Date.now();\n}\n\nvar EventBaseObjectProto = _EventBaseObject2['default'].prototype;\n(0, _objectAssign2['default'])(DomEventObject.prototype, EventBaseObjectProto, {\n  constructor: DomEventObject,\n  preventDefault: function preventDefault() {\n    var e = this.nativeEvent; // if preventDefault exists run it on the original event\n\n    if (e.preventDefault) {\n      e.preventDefault();\n    } else {\n      // otherwise set the returnValue property of the original event to FALSE (IE)\n      e.returnValue = FALSE;\n    }\n\n    EventBaseObjectProto.preventDefault.call(this);\n  },\n  stopPropagation: function stopPropagation() {\n    var e = this.nativeEvent; // if stopPropagation exists run it on the original event\n\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    } else {\n      // otherwise set the cancelBubble property of the original event to TRUE (IE)\n      e.cancelBubble = TRUE;\n    }\n\n    EventBaseObjectProto.stopPropagation.call(this);\n  }\n});\nexports['default'] = DomEventObject;\nmodule.exports = exports['default'];","/**\n * @ignore\n * base event object for custom and dom event.\n * @author yiminghe@gmail.com\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction returnFalse() {\n  return false;\n}\n\nfunction returnTrue() {\n  return true;\n}\n\nfunction EventBaseObject() {\n  this.timeStamp = Date.now();\n  this.target = undefined;\n  this.currentTarget = undefined;\n}\n\nEventBaseObject.prototype = {\n  isEventObject: 1,\n  constructor: EventBaseObject,\n  isDefaultPrevented: returnFalse,\n  isPropagationStopped: returnFalse,\n  isImmediatePropagationStopped: returnFalse,\n  preventDefault: function preventDefault() {\n    this.isDefaultPrevented = returnTrue;\n  },\n  stopPropagation: function stopPropagation() {\n    this.isPropagationStopped = returnTrue;\n  },\n  stopImmediatePropagation: function stopImmediatePropagation() {\n    this.isImmediatePropagationStopped = returnTrue; // fixed 1.2\n    // call stopPropagation implicitly\n\n    this.stopPropagation();\n  },\n  halt: function halt(immediate) {\n    if (immediate) {\n      this.stopImmediatePropagation();\n    } else {\n      this.stopPropagation();\n    }\n\n    this.preventDefault();\n  }\n};\nexports[\"default\"] = EventBaseObject;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setMatrixArrayType = setMatrixArrayType;\nexports.toRadian = toRadian;\nexports.equals = equals;\n/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\n\nvar EPSILON = exports.EPSILON = 0.000001;\nvar ARRAY_TYPE = exports.ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nvar RANDOM = exports.RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Type} type Array type, such as Float32Array or Array\n */\n\nfunction setMatrixArrayType(type) {\n  exports.ARRAY_TYPE = ARRAY_TYPE = type;\n}\n\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nfunction toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar _ = require(\"@antv/util\");\n\nvar base_1 = require(\"../base\");\n\nvar Legend =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Legend, _super);\n\n  function Legend(cfg) {\n    var _this = _super.call(this, tslib_1.__assign({\n      /**\n       * 图例类型\n       */\n      type: 'base',\n\n      /**\n       * 图例标题\n       */\n      title: null,\n\n      /**\n       * 图例项集合\n       */\n      items: null,\n\n      /**\n       * 图例文本显示格式化回调函数\n       */\n      formatter: null,\n\n      /**\n       * 图例整体在 X 轴方向的偏移量\n       */\n      offsetX: 0,\n\n      /**\n       * 图例整体在 Y 轴方向上的偏移量\n       */\n      offsetY: 0\n    }, cfg)) || this;\n\n    _this.init();\n\n    _this.render();\n\n    _this.bindEvents();\n\n    return _this;\n  }\n  /**\n   * 渲染图例内容\n   */\n\n\n  Legend.prototype.render = function () {\n    this.renderTitle(); // 渲染标题\n\n    this.renderItems(); // 渲染图例项\n  };\n  /**\n   * @override\n   * 获取图例的宽度\n   */\n\n\n  Legend.prototype.getWidth = function () {\n    var container = this.get('container');\n    var bbox = container.getBBox();\n    return bbox.width;\n  };\n  /**\n   * @override\n   * 获取图例的高度\n   */\n\n\n  Legend.prototype.getHeight = function () {\n    var container = this.get('container');\n    var bbox = container.getBBox();\n    return bbox.height;\n  };\n  /**\n   * @override\n   * 获取图例BBox\n   */\n\n\n  Legend.prototype.getBBox = function () {\n    return this.get('container').getBBox();\n  };\n  /**\n   * @override\n   * 将图例移动至 (x, y）坐标点位置\n   * @param x x 坐标\n   * @param y y 坐标\n   */\n\n\n  Legend.prototype.moveTo = function (x, y) {\n    var container = this.get('container');\n    container.move(x, y);\n    this.set('x', x);\n    this.set('y', y);\n  };\n  /**\n   * 绘制图例\n   */\n\n\n  Legend.prototype.draw = function () {\n    this.get('canvas').draw();\n  };\n  /* 格式化 legend 显示数据 */\n\n\n  Legend.prototype.formatterValue = function (v) {\n    var formatter = this.get('formatter') || _.identity;\n\n    return formatter.call(this, v);\n  };\n\n  return Legend;\n}(base_1.default);\n\nexports.default = Legend;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar event_emitter_1 = require(\"@antv/event-emitter\");\n\nvar Guide =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Guide, _super);\n\n  function Guide(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.cfg = tslib_1.__assign({\n      id: null,\n      // 容器\n      canvas: null,\n      container: null,\n      group: null,\n      // 交互属性\n      capture: true,\n      // props\n      // coord: null,\n      offsetX: 0,\n      offsetY: 0,\n      visible: true,\n      zIndex: 1\n    }, cfg);\n    _this.destroyed = false;\n    return _this;\n  } // 由于重构后影响太大了 所以使用any先\n\n\n  Guide.prototype.get = function (name) {\n    return this.cfg[name];\n  };\n\n  Guide.prototype.set = function (name, value) {\n    this.cfg[name] = value;\n    return this;\n  };\n\n  Guide.prototype.destroy = function () {\n    this.off();\n    this.destroyed = true;\n  };\n\n  return Guide;\n}(event_emitter_1.default);\n\nexports.Guide = Guide;\nexports.default = Guide;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n}); // 滑块的宽度，高度 = 宽度 * 2\n\nvar const_1 = require(\"../../../const\");\n\nexports.SLIDER_WIDTH = 8;\nexports.SLIDER_HEIGHT = exports.SLIDER_WIDTH * 2;\nexports.SLIDER_CIRCLE_MAX_SIZE = exports.SLIDER_HEIGHT * 2;\nexports.TEXT_OFFSET = 4;\nexports.SliderBtnStyle = {\n  fill: '#fff',\n  // shadowOffsetX: -2,\n  // shadowOffsetY: 2,\n  shadowBlur: 10,\n  shadowColor: 'rgba(0,0,0,0.65)',\n  radius: 2\n};\nexports.SliderTextStyle = {\n  fill: '#333',\n  textAlign: 'center',\n  textBaseline: 'middle',\n  stroke: '#fff',\n  lineWidth: 5,\n  fontFamily: const_1.FONT_FAMILY\n};\nexports.SliderMiddleBackgroundStyle = {\n  fill: '#D9D9D9'\n};\nexports.SliderMiddleFrontendStyle = {\n  fill: 'rgb(64, 141, 251)'\n};\nexports.DefaultTitleStyle = {\n  fill: '#333',\n  textBaseline: 'top',\n  textAlign: 'start',\n  fontFamily: const_1.FONT_FAMILY\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar get_style_1 = require(\"./get-style\");\n\nfunction getHeight(el, defaultValue) {\n  var height = get_style_1[\"default\"](el, 'height', defaultValue);\n\n  if (height === 'auto') {\n    height = el.offsetHeight;\n  }\n\n  return parseFloat(height);\n}\n\nexports[\"default\"] = getHeight;","\"use strict\";\n\nexports.__esModule = true;\n\nvar get_style_1 = require(\"./get-style\");\n\nfunction getHeight(el, defaultValue) {\n  var width = get_style_1[\"default\"](el, 'width', defaultValue);\n\n  if (width === 'auto') {\n    width = el.offsetWidth;\n  }\n\n  return parseFloat(width);\n}\n\nexports[\"default\"] = getHeight;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar is_array_1 = require(\"./is-array\");\n\nvar is_object_1 = require(\"./is-object\");\n\nfunction each(elements, func) {\n  if (!elements) {\n    return;\n  }\n\n  var rst;\n\n  if (is_array_1.default(elements)) {\n    for (var i = 0, len = elements.length; i < len; i++) {\n      rst = func(elements[i], i);\n\n      if (rst === false) {\n        break;\n      }\n    }\n  } else if (is_object_1.default(elements)) {\n    for (var k in elements) {\n      if (elements.hasOwnProperty(k)) {\n        rst = func(elements[k], k);\n\n        if (rst === false) {\n          break;\n        }\n      }\n    }\n  }\n}\n\nexports.default = each;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar toString = {}.toString;\n\nvar isType = function isType(value, type) {\n  return toString.call(value) === '[object ' + type + ']';\n};\n\nexports.default = isType;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar is_type_1 = require(\"./is-type\");\n\nexports.default = function (str) {\n  return is_type_1.default(str, 'String');\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar _ = require(\"@antv/util\");\n\nvar g_1 = require(\"@antv/g\");\n\nvar base_1 = require(\"../base\");\n\nvar slider_1 = require(\"./components/slider\");\n\nvar constant_1 = require(\"./constant\");\n\nvar Continuous =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Continuous, _super);\n\n  function Continuous(cfg) {\n    var _this = this;\n\n    var backgroundStyle = cfg.backgroundStyle,\n        fillStyle = cfg.fillStyle,\n        textStyle = cfg.textStyle,\n        titleStyle = cfg.titleStyle,\n        otherCfg = tslib_1.__rest(cfg, [\"backgroundStyle\", \"fillStyle\", \"textStyle\", \"titleStyle\"]);\n\n    var _a = cfg.layout,\n        layout = _a === void 0 ? 'horizontal' : _a; // 放入主题中\n\n    var defaultSize = {\n      width: layout === 'horizontal' ? 156 : 16,\n      height: layout === 'horizontal' ? 16 : 156\n    };\n    _this = _super.call(this, tslib_1.__assign(tslib_1.__assign({\n      /* title 间距 */\n      titleDistance: 16,\n\n      /* 布局默认水平 */\n      layout: 'horizontal',\n\n      /* 默认可交互 */\n      operational: true,\n\n      /* 滑块的样式： rect | circle */\n      handleIcon: 'rect',\n\n      /* 背景的样式 */\n      backgroundStyle: tslib_1.__assign(tslib_1.__assign({}, constant_1.SliderMiddleBackgroundStyle), backgroundStyle),\n\n      /* slider 滑块前景色 */\n      fillStyle: tslib_1.__assign(tslib_1.__assign({}, constant_1.SliderMiddleFrontendStyle), fillStyle),\n\n      /* 文本样式 */\n      textStyle: tslib_1.__assign(tslib_1.__assign({}, constant_1.SliderTextStyle), textStyle),\n\n      /* 标题样式 */\n      titleStyle: tslib_1.__assign(tslib_1.__assign({}, constant_1.DefaultTitleStyle), titleStyle),\n\n      /* 宽度 */\n      width: 156,\n\n      /* 高度 */\n      height: 16\n    }, defaultSize), otherCfg)) || this;\n    return _this;\n  }\n\n  Continuous.prototype.init = function () {\n    var container = this.get('container');\n    this.set('canvas', container.get('canvas'));\n    var legendGroup = container.addGroup();\n    this.set('legendGroup', legendGroup);\n    var itemsGroup = legendGroup.addGroup();\n    this.set('itemsGroup', itemsGroup); // 平移\n\n    legendGroup.translate(this.get('offsetX'), this.get('offsetY'));\n  };\n  /**\n   * 连续型 title，其实和分类的 canvas title 没有什么区别\n   */\n\n\n  Continuous.prototype.renderTitle = function () {\n    if (this.isShowTitle()) {\n      var title = this.get('title');\n      var container = this.get('legendGroup');\n      var titleStyle = this.get('titleStyle');\n      var titleShape = container.addShape('text', {\n        attrs: tslib_1.__assign({\n          x: 0,\n          y: 0,\n          text: title\n        }, titleStyle)\n      });\n      titleShape.name = 'legend-title';\n      this.set('titleShape', titleShape);\n    }\n  };\n  /**\n   * 连续性，直接 render 滑块即可\n   */\n\n\n  Continuous.prototype.renderItems = function () {\n    this.renderSlider();\n  }; // 绑定交互事件\n\n\n  Continuous.prototype.bindEvents = function () {\n    if (this.isOperational()) {// 滑块的鼠标拖拽事件\n      // 滑块更新数据之后的事件\n    }\n  };\n  /**\n  * 清空容器\n  */\n\n\n  Continuous.prototype.clear = function () {\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      container.clear();\n    }\n  };\n  /**\n   * 销毁\n   */\n\n\n  Continuous.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      // 将自己从父容器删除，并且销毁自己\n      if (container.get('parent')) {\n        container.remove(true);\n      }\n\n      container.destroy();\n    }\n  };\n  /**\n   * 滚动条布局，是否为横向\n   * true  横向\n   * false 纵向\n   */\n\n\n  Continuous.prototype.isHorizontal = function () {\n    return this.get('layout') === 'horizontal';\n  };\n  /* 是够可交互 */\n\n\n  Continuous.prototype.isOperational = function () {\n    return this.get('operational');\n  };\n  /* 是够显示标题 */\n\n\n  Continuous.prototype.isShowTitle = function () {\n    return !!this.get('title');\n  };\n  /* 滑块的配置 */\n\n\n  Continuous.prototype.getSliderConfig = function () {\n    return {\n      layout: this.get('layout'),\n      sliderType: this.get('handleIcon'),\n      sliderSize: this.get('handleSize'),\n      sliderStyle: this.get('handleStyle'),\n      operational: this.isOperational(),\n      // 宽高\n      width: this.get('width'),\n      height: this.get('height'),\n      min: _.head(this.get('items')).value,\n      max: _.last(this.get('items')).value,\n      // 初始的 range 范围，例如：[ 0, 0.9 ]\n      range: this.get('range') || [0, 1],\n      // 文本样式\n      textStyle: tslib_1.__assign({}, this.get('textStyle')),\n      // 格式化\n      formatter: this.formatterValue\n    };\n  }; // 渲染滑块（颜色和尺寸的效果是一致的）\n\n\n  Continuous.prototype.renderSlider = function () {\n    var _this = this;\n\n    var itemsGroup = this.get('itemsGroup'); // 创建 slider\n\n    var slider = new slider_1.default(this.getSliderConfig()); // 设置背景 group\n\n    slider.setBackground(this.createBackgroundGroup()); // 平移\n\n    if (this.isShowTitle()) {\n      var titleDistance = this.get('titleDistance');\n      var titleBbox = this.get('titleShape').getBBox();\n      var height = titleBbox.height; // 往下平移 title 间距\n\n      slider.translate(0, titleDistance + height);\n    } // 监听事件\n    // 值变更的时候，发送 itemfilter 事件。\n\n\n    slider.on('sliderchange', function (ev) {\n      var value = ev.value,\n          range = ev.range;\n      var itemFiltered = new g_1.Event('itemfilter', ev, true, true); // @ts-ignore todo 传值格式\n\n      itemFiltered.range = value;\n\n      _this.emit('itemfilter', itemFiltered);\n    });\n    itemsGroup.add(slider);\n    this.set('slider', slider);\n  };\n\n  return Continuous;\n}(base_1.default);\n\nexports.default = Continuous;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FONT_FAMILY = '\"-apple-system\", ' + '\"BlinkMacSystemFont\", ' + '\"Segoe UI\", ' + 'Roboto, ' + '\"Helvetica Neue\", ' + 'Helvetica, ' + '\"PingFang SC\", ' + '\"Hiragino Sans GB\", ' + '\"Microsoft YaHei\", ' + 'SimSun, ' + '\"sans-serif\"';","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar base_1 = require(\"../base\");\n\nvar DEFAULT_THEME = {\n  layout: 'horizontal',\n  titleDistance: 15,\n  itemDistance: 5,\n  itemMarginBottom: 8,\n  wordSpacing: 8,\n  backgroundPadding: 0,\n  unSelectedColor: '#ccc',\n  offsetX: 0,\n  offsetY: 0\n};\n\nvar CategoryBase =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(CategoryBase, _super);\n\n  function CategoryBase(cfg) {\n    return _super.call(this, tslib_1.__assign(tslib_1.__assign({\n      /**\n       * 鼠标 hover 到图例上的默认交互是否开启\n       */\n      hoverable: true,\n\n      /**\n       * 图例是否允许点击交互\n       */\n      clickable: true,\n\n      /**\n       * 图例项的选择模式，支持 'multiple'、'single'，默认 'multiple'\n       */\n      selectedMode: 'multiple',\n\n      /**\n       * 是否允许全部取消，默认 false，即必须保留一个被选中\n       */\n      allowAllCanceled: false,\n\n      /**\n       * 图例项的顺序是否要逆序，默认为 false\n       */\n      reversed: false,\n\n      /**\n       * 是否自动换行，默认自动换行\n       */\n      autoWrap: true\n    }, DEFAULT_THEME), cfg)) || this;\n  }\n\n  return CategoryBase;\n}(base_1.default);\n\nexports.default = CategoryBase;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ = require(\"@antv/util\");\n\nvar Scale =\n/** @class */\nfunction () {\n  function Scale(cfg) {\n    this.type = 'base';\n    this.range = [0, 1];\n    this.ticks = [];\n    this.__cfg__ = cfg;\n\n    this._initDefaultCfg();\n\n    _.assign(this, cfg);\n\n    this._init();\n  } // 对于原始值的必要转换，如分类、时间字段需转换成数值，用transform/map命名可能更好\n\n\n  Scale.prototype.translate = function (v) {\n    return v;\n  };\n  /** 重新初始化 */\n\n\n  Scale.prototype.change = function (cfg) {\n    this.constructor(_.assign(this.__cfg__, cfg));\n  };\n\n  Scale.prototype.clone = function () {\n    return this.constructor(this.__cfg__);\n  };\n  /** 获取坐标轴需要的ticks */\n\n\n  Scale.prototype.getTicks = function () {\n    var _this = this;\n\n    return _.map(this.ticks, function (tick, idx) {\n      if (_.isObject(tick)) {\n        // 仅当符合Tick类型时才有意义\n        // _.some(['text', 'value', 'tickValue'], key => {\n        //   if (_.has(tick, key)) {\n        //     return false;\n        //   }\n        //   console.warn(`A tick need ${key} property.`);\n        //   return true;\n        // });\n        return tick;\n      }\n\n      return {\n        text: _this.getText(tick, idx),\n        tickValue: tick,\n        value: _this.scale(tick)\n      };\n    });\n  };\n  /** 获取Tick的格式化结果 */\n\n\n  Scale.prototype.getText = function (value, key) {\n    var formatter = this.formatter;\n    var res = formatter ? formatter(value, key) : value;\n\n    if (_.isNil(res) || !_.isFunction(res.toString)) {\n      return '';\n    }\n\n    return res.toString();\n  };\n  /** 定义域转 0~1 */\n\n\n  Scale.prototype._calcPercent = function (value, min, max) {\n    if (_.isNumber(value)) {\n      return (value - min) / (max - min);\n    }\n\n    return NaN;\n  };\n  /** 0~1转定义域 */\n\n\n  Scale.prototype._calcValue = function (percent, min, max) {\n    return min + percent * (max - min);\n  };\n\n  return Scale;\n}();\n\nexports.default = Scale;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ = require(\"@antv/util\");\n\nexports.DEFAULT_Q = [1, 5, 2, 2.5, 4, 3];\nexports.ALL_Q = [1, 5, 2, 2.5, 4, 3, 1.5, 7, 6, 8, 9];\nvar eps = Number.EPSILON * 100; // https://stackoverflow.com/questions/4467539/javascript-modulo-gives-a-negative-result-for-negative-numbers\n\nfunction mod(n, m) {\n  return (n % m + m) % m;\n}\n\nfunction simplicity(q, Q, j, lmin, lmax, lstep) {\n  var n = _.size(Q);\n\n  var i = _.indexOf(Q, q);\n\n  var v = 0;\n  var m = mod(lmin, lstep);\n\n  if ((m < eps || lstep - m < eps) && lmin <= 0 && lmax >= 0) {\n    v = 1;\n  }\n\n  return 1 - i / (n - 1) - j + v;\n}\n\nfunction simplicityMax(q, Q, j) {\n  var n = _.size(Q);\n\n  var i = _.indexOf(Q, q);\n\n  var v = 1;\n  return 1 - i / (n - 1) - j + v;\n}\n\nfunction density(k, m, dmin, dmax, lmin, lmax) {\n  var r = (k - 1) / (lmax - lmin);\n  var rt = (m - 1) / (Math.max(lmax, dmax) - Math.min(dmin, lmin));\n  return 2 - Math.max(r / rt, rt / r);\n}\n\nfunction densityMax(k, m) {\n  if (k >= m) {\n    return 2 - (k - 1) / (m - 1);\n  }\n\n  return 1;\n}\n\nfunction coverage(dmin, dmax, lmin, lmax) {\n  var range = dmax - dmin;\n  return 1 - 0.5 * (Math.pow(dmax - lmax, 2) + Math.pow(dmin - lmin, 2)) / Math.pow(0.1 * range, 2);\n}\n\nfunction coverageMax(dmin, dmax, span) {\n  var range = dmax - dmin;\n\n  if (span > range) {\n    var half = (span - range) / 2;\n    return 1 - Math.pow(half, 2) / Math.pow(0.1 * range, 2);\n  }\n\n  return 1;\n}\n\nfunction legibility() {\n  return 1;\n}\n/**\n * An Extension of Wilkinson's Algorithm for Position Tick Labels on Axes\n * https://www.yuque.com/preview/yuque/0/2019/pdf/185317/1546999150858-45c3b9c2-4e86-4223-bf1a-8a732e8195ed.pdf\n * @param dmin 最小值\n * @param dmax 最大值\n * @param m tick个数\n * @param onlyLoose 是否允许扩展min、max，不绝对强制，例如[3, 97]\n * @param Q nice numbers集合\n * @param w 四个优化组件的权重\n */\n\n\nfunction extended(dmin, dmax, m, onlyLoose, Q, w) {\n  if (m === void 0) {\n    m = 5;\n  }\n\n  if (onlyLoose === void 0) {\n    onlyLoose = true;\n  }\n\n  if (Q === void 0) {\n    Q = exports.DEFAULT_Q;\n  }\n\n  if (w === void 0) {\n    w = [0.25, 0.2, 0.5, 0.05];\n  }\n\n  if (dmin === dmax || m === 1) {\n    return {\n      min: dmin,\n      max: dmax,\n      ticks: [dmin]\n    };\n  }\n\n  var best = {\n    score: -2,\n    lmin: 0,\n    lmax: 0,\n    lstep: 0\n  };\n  var j = 1;\n\n  while (j < Infinity) {\n    for (var _i = 0, Q_1 = Q; _i < Q_1.length; _i++) {\n      var q = Q_1[_i];\n      var sm = simplicityMax(q, Q, j);\n\n      if (Number.isNaN(sm)) {\n        throw new Error('NaN');\n      }\n\n      if (w[0] * sm + w[1] + w[2] + w[3] < best.score) {\n        j = Infinity;\n        break;\n      }\n\n      var k = 2;\n\n      while (k < Infinity) {\n        var dm = densityMax(k, m);\n\n        if (w[0] * sm + w[1] + w[2] * dm + w[3] < best.score) {\n          break;\n        }\n\n        var delta = (dmax - dmin) / (k + 1) / j / q;\n        var z = Math.ceil(Math.log10(delta));\n\n        while (z < Infinity) {\n          var step = j * q * Math.pow(10, z);\n          var cm = coverageMax(dmin, dmax, step * (k - 1));\n\n          if (w[0] * sm + w[1] * cm + w[2] * dm + w[3] < best.score) {\n            break;\n          }\n\n          var minStart = Math.floor(dmax / step) * j - (k - 1) * j;\n          var maxStart = Math.ceil(dmin / step) * j;\n\n          if (minStart > maxStart) {\n            z = z + 1;\n            continue;\n          }\n\n          for (var start = minStart; start <= maxStart; start = start + 1) {\n            var lmin = start * (step / j);\n            var lmax = lmin + step * (k - 1);\n            var lstep = step;\n            var s = simplicity(q, Q, j, lmin, lmax, lstep);\n            var c = coverage(dmin, dmax, lmin, lmax);\n            var g = density(k, m, dmin, dmax, lmin, lmax);\n            var l = legibility();\n            var score = w[0] * s + w[1] * c + w[2] * g + w[3] * l;\n\n            if (score > best.score && (!onlyLoose || lmin <= dmin && lmax >= dmax)) {\n              best.lmin = lmin;\n              best.lmax = lmax;\n              best.lstep = lstep;\n              best.score = score;\n            }\n          }\n\n          z = z + 1;\n        }\n\n        k = k + 1;\n      }\n    }\n\n    j = j + 1;\n  } // 步长为浮点数时处理精度\n\n\n  var toFixed = Number.isInteger(best.lstep) ? 0 : Math.ceil(Math.abs(Math.log10(best.lstep)));\n  var range = [];\n\n  for (var tick = best.lmin; tick <= best.lmax; tick += best.lstep) {\n    range.push(tick);\n  }\n\n  var ticks = toFixed ? _.map(range, function (x) {\n    return Number.parseFloat(x.toFixed(toFixed));\n  }) : range;\n  return {\n    min: Math.min(dmin, _.head(ticks)),\n    max: Math.max(dmax, _.last(ticks)),\n    ticks: ticks\n  };\n}\n\nexports.default = extended;","\"use strict\";\n\nvar _a;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar const_1 = require(\"../const\"); // tooltip 相关 dom 的 css 类名\n\n\nvar TOOLTIP_CONTAINER_CLASS = 'g2-tooltip';\nvar TOOLTIP_TITLE_CLASS = 'g2-tooltip-title';\nvar TOOLTIP_LIST_CLASS = 'g2-tooltip-list';\nvar TOOLTIP_LIST_ITEM_CLASS = 'g2-tooltip-list-item';\nvar TOOLTIP_MARKER_CLASS = 'g2-tooltip-marker';\nvar TOOLTIP_VALUE_CLASS = 'g2-tooltip-value';\nexports.default = (_a = {}, // css style for tooltip\n_a[\"\" + TOOLTIP_CONTAINER_CLASS] = {\n  position: 'absolute',\n  display: 'none',\n  // @2018-07-25 by blue.lb 这里去掉浮动，火狐上存在样式错位\n  // whiteSpace: 'nowrap',\n  zIndex: 8,\n  transition: 'visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), ' + 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1), ' + 'top 0.4s cubic-bezier(0.23, 1, 0.32, 1)',\n  backgroundColor: 'rgba(255, 255, 255, 0.9)',\n  boxShadow: '0px 0px 10px #aeaeae',\n  borderRadius: '3px',\n  color: 'rgb(87, 87, 87)',\n  fontSize: '12px',\n  fontFamily: const_1.FONT_FAMILY,\n  lineHeight: '20px',\n  padding: '10px 10px 6px 10px'\n}, _a[\"\" + TOOLTIP_TITLE_CLASS] = {\n  marginBottom: '4px'\n}, _a[\"\" + TOOLTIP_LIST_CLASS] = {\n  margin: 0,\n  listStyleType: 'none',\n  padding: 0\n}, _a[\"\" + TOOLTIP_LIST_ITEM_CLASS] = {\n  marginBottom: '4px'\n}, _a[\"\" + TOOLTIP_MARKER_CLASS] = {\n  width: '5px',\n  height: '5px',\n  borderRadius: '50%',\n  display: 'inline-block',\n  marginRight: '8px'\n}, _a[\"\" + TOOLTIP_VALUE_CLASS] = {\n  display: 'inline-block',\n  float: 'right',\n  marginLeft: '30px'\n}, _a);","\"use strict\";\n/**\n * 提供绘制 shape 时的一些通用方法\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ = require(\"@antv/util\");\n\nfunction splitPoints(obj) {\n  var points = [];\n  var x = obj.x;\n  var y = obj.y;\n  y = _.isArray(y) ? y : [y];\n\n  _.each(y, function (yItem, index) {\n    var point = {\n      x: _.isArray(x) ? x[index] : x,\n      y: yItem\n    };\n    points.push(point);\n  });\n\n  return points;\n}\n\nexports.splitPoints = splitPoints; // rename addFillAttrs\n\nfunction setFillStyle(attrs, cfg) {\n  var color = cfg.color,\n      opacity = cfg.opacity;\n\n  if (color) {\n    attrs.fill = color;\n  }\n\n  if (_.isNumber(opacity)) {\n    attrs.opacity = attrs.fillOpacity = opacity;\n  }\n}\n\nexports.setFillStyle = setFillStyle; // rename addStrokeAttrs\n\nfunction setStrokeStyle(attrs, cfg) {\n  var color = cfg.color,\n      opacity = cfg.opacity;\n\n  if (color) {\n    attrs.stroke = color;\n  }\n\n  if (_.isNumber(opacity)) {\n    attrs.opacity = attrs.strokeOpacity = opacity;\n  }\n}\n\nexports.setStrokeStyle = setStrokeStyle;","\"use strict\";\n\nexports.__esModule = true;\n\nfunction addEventListener(target, eventType, callback) {\n  if (target) {\n    if (typeof target.addEventListener === 'function') {\n      target.addEventListener(eventType, callback, false);\n      return {\n        remove: function remove() {\n          target.removeEventListener(eventType, callback, false);\n        }\n      }; // @ts-ignore\n    }\n\n    if (typeof target.attachEvent === 'function') {\n      // @ts-ignore\n      target.attachEvent('on' + eventType, callback);\n      return {\n        remove: function remove() {\n          // @ts-ignore\n          target.detachEvent('on' + eventType, callback);\n        }\n      };\n    }\n  }\n}\n\nexports[\"default\"] = addEventListener;","\"use strict\";\n/**\n * 创建DOM 节点\n * @param  {String} str Dom 字符串\n * @return {HTMLElement}  DOM 节点\n */\n\nexports.__esModule = true;\nvar TABLE;\nvar TABLE_TR;\nvar FRAGMENT_REG;\nvar CONTAINERS;\n\nfunction initConstants() {\n  TABLE = document.createElement('table');\n  TABLE_TR = document.createElement('tr');\n  FRAGMENT_REG = /^\\s*<(\\w+|!)[^>]*>/;\n  CONTAINERS = {\n    tr: document.createElement('tbody'),\n    tbody: TABLE,\n    thead: TABLE,\n    tfoot: TABLE,\n    td: TABLE_TR,\n    th: TABLE_TR,\n    '*': document.createElement('div')\n  };\n}\n\nfunction createDom(str) {\n  if (!TABLE) {\n    initConstants();\n  }\n\n  var name = FRAGMENT_REG.test(str) && RegExp.$1;\n\n  if (!name || !(name in CONTAINERS)) {\n    name = '*';\n  }\n\n  var container = CONTAINERS[name];\n  str = str.replace(/(^\\s*)|(\\s*$)/g, '');\n  container.innerHTML = '' + str;\n  var dom = container.childNodes[0];\n  container.removeChild(dom);\n  return dom;\n}\n\nexports[\"default\"] = createDom;","\"use strict\";\n\nexports.__esModule = true;\n\nvar get_style_1 = require(\"./get-style\");\n\nvar get_height_1 = require(\"./get-height\");\n\nfunction getOuterHeight(el, defaultValue) {\n  var height = get_height_1[\"default\"](el, defaultValue);\n  var bTop = parseFloat(get_style_1[\"default\"](el, 'borderTopWidth')) || 0;\n  var pTop = parseFloat(get_style_1[\"default\"](el, 'paddingTop')) || 0;\n  var pBottom = parseFloat(get_style_1[\"default\"](el, 'paddingBottom')) || 0;\n  var bBottom = parseFloat(get_style_1[\"default\"](el, 'borderBottomWidth')) || 0;\n  var mTop = parseFloat(get_style_1[\"default\"](el, 'marginTop')) || 0;\n  var mBottom = parseFloat(get_style_1[\"default\"](el, 'marginBottom')) || 0;\n  return height + bTop + bBottom + pTop + pBottom + mTop + mBottom;\n}\n\nexports[\"default\"] = getOuterHeight;","\"use strict\";\n\nexports.__esModule = true;\n\nvar get_style_1 = require(\"./get-style\");\n\nvar get_width_1 = require(\"./get-width\");\n\nfunction getOuterWidth(el, defaultValue) {\n  var width = get_width_1[\"default\"](el, defaultValue);\n  var bLeft = parseFloat(get_style_1[\"default\"](el, 'borderLeftWidth')) || 0;\n  var pLeft = parseFloat(get_style_1[\"default\"](el, 'paddingLeft')) || 0;\n  var pRight = parseFloat(get_style_1[\"default\"](el, 'paddingRight')) || 0;\n  var bRight = parseFloat(get_style_1[\"default\"](el, 'borderRightWidth')) || 0;\n  var mRight = parseFloat(get_style_1[\"default\"](el, 'marginRight')) || 0;\n  var mLeft = parseFloat(get_style_1[\"default\"](el, 'marginLeft')) || 0;\n  return width + bLeft + bRight + pLeft + pRight + mLeft + mRight;\n}\n\nexports[\"default\"] = getOuterWidth;","\"use strict\";\n\nexports.__esModule = true;\n\nfunction getRatio() {\n  return window.devicePixelRatio ? window.devicePixelRatio : 2;\n}\n\nexports[\"default\"] = getRatio;","\"use strict\";\n\nexports.__esModule = true;\n\nfunction modifyCSS(dom, css) {\n  if (dom) {\n    for (var key in css) {\n      if (css.hasOwnProperty(key)) {\n        dom.style[key] = css[key];\n      }\n    }\n  }\n\n  return dom;\n}\n\nexports[\"default\"] = modifyCSS;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sub = exports.mul = undefined;\nexports.create = create;\nexports.fromMat4 = fromMat4;\nexports.clone = clone;\nexports.copy = copy;\nexports.fromValues = fromValues;\nexports.set = set;\nexports.identity = identity;\nexports.transpose = transpose;\nexports.invert = invert;\nexports.adjoint = adjoint;\nexports.determinant = determinant;\nexports.multiply = multiply;\nexports.translate = translate;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.fromTranslation = fromTranslation;\nexports.fromRotation = fromRotation;\nexports.fromScaling = fromScaling;\nexports.fromMat2d = fromMat2d;\nexports.fromQuat = fromQuat;\nexports.normalFromMat4 = normalFromMat4;\nexports.projection = projection;\nexports.str = str;\nexports.frob = frob;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiplyScalar = multiplyScalar;\nexports.multiplyScalarAndAdd = multiplyScalarAndAdd;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = require('./common.js');\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\n\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {mat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\n\nfunction fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {mat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\n\nfunction fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\n\nfunction set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\n\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\n\n\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\n\n\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {mat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\n\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\n\n\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to translate\n * @param {vec2} v vector to translate by\n * @returns {mat3} out\n */\n\n\nfunction translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\n\nfunction rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n\n;\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Translation vector\n * @returns {mat3} out\n */\n\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\n\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Scaling vector\n * @returns {mat3} out\n */\n\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\n\nfunction fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n* Calculates a 3x3 matrix from the given quaternion\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {quat} q Quaternion to create matrix from\n*\n* @returns {mat3} out\n*/\n\n\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {mat4} a Mat4 to derive the normal matrix from\n*\n* @returns {mat3} out\n*/\n\n\nfunction normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\n\nfunction projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {mat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\n\nfunction str(a) {\n  return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {mat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\n\nfunction frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2));\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {mat3} a The first matrix.\n * @param {mat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {mat3} a The first matrix.\n * @param {mat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\n\nvar mul = exports.mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nvar sub = exports.sub = subtract;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.forEach = exports.sqrLen = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = exports.len = undefined;\nexports.create = create;\nexports.clone = clone;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.length = length;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.random = random;\nexports.transformMat2 = transformMat2;\nexports.transformMat2d = transformMat2d;\nexports.transformMat3 = transformMat3;\nexports.transformMat4 = transformMat4;\nexports.rotate = rotate;\nexports.angle = angle;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = require('./common.js');\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\n\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {vec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\n\nfunction fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the source vector\n * @returns {vec2} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\n\nfunction set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to ceil\n * @returns {vec2} out\n */\n\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to floor\n * @returns {vec2} out\n */\n\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to round\n * @returns {vec2} out\n */\n\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\n\nfunction distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.sqrt(x * x + y * y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {vec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\n\nfunction length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.sqrt(x * x + y * y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {vec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\n\nfunction squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to negate\n * @returns {vec2} out\n */\n\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to invert\n * @returns {vec2} out\n */\n\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to normalize\n * @returns {vec2} out\n */\n\n\nfunction normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n  }\n\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\n\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2} m matrix to transform with\n * @returns {vec2} out\n */\n\n\nfunction transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\n\nfunction transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat3} m matrix to transform with\n * @returns {vec2} out\n */\n\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec2} out\n */\n\n\nfunction transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {vec2} a The vec2 point to rotate\n * @param {vec2} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec2} out\n */\n\n\nfunction rotate(out, a, b, c) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(c),\n      cosC = Math.cos(c); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {vec2} a The first operand\n * @param {vec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\n\nfunction angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1];\n  var len1 = x1 * x1 + y1 * y1;\n\n  if (len1 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len1 = 1 / Math.sqrt(len1);\n  }\n\n  var len2 = x2 * x2 + y2 * y2;\n\n  if (len2 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len2 = 1 / Math.sqrt(len2);\n  }\n\n  var cosine = (x1 * x2 + y1 * y2) * len1 * len2;\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {vec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\n\nfunction str(a) {\n  return 'vec2(' + a[0] + ', ' + a[1] + ')';\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\n\nvar len = exports.len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nvar sub = exports.sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nvar mul = exports.mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nvar div = exports.div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nvar dist = exports.dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nvar sqrDist = exports.sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nvar sqrLen = exports.sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nvar forEach = exports.forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i = void 0,\n        l = void 0;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.forEach = exports.sqrLen = exports.len = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = undefined;\nexports.create = create;\nexports.clone = clone;\nexports.length = length;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.hermite = hermite;\nexports.bezier = bezier;\nexports.random = random;\nexports.transformMat4 = transformMat4;\nexports.transformMat3 = transformMat3;\nexports.transformQuat = transformQuat;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.angle = angle;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = require('./common.js');\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\n\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {vec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {vec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\n\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\n\nfunction fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the source vector\n * @returns {vec3} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\n\nfunction set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to ceil\n * @returns {vec3} out\n */\n\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to floor\n * @returns {vec3} out\n */\n\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to round\n * @returns {vec3} out\n */\n\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\n\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {vec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\n\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to negate\n * @returns {vec3} out\n */\n\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to invert\n * @returns {vec3} out\n */\n\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to normalize\n * @returns {vec3} out\n */\n\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    out[2] = a[2] * len;\n  }\n\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\n\nfunction hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\n\nfunction bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\n\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec3} out\n */\n\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec3} out\n */\n\n\nfunction transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\n\n\nfunction rotateX(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(c) - p[2] * Math.sin(c);\n  r[2] = p[1] * Math.sin(c) + p[2] * Math.cos(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\n\n\nfunction rotateY(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(c) + p[0] * Math.cos(c);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(c) - p[0] * Math.sin(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\n\n\nfunction rotateZ(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(c) - p[1] * Math.sin(c);\n  r[1] = p[0] * Math.sin(c) + p[1] * Math.cos(c);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {vec3} a The first operand\n * @param {vec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\n\nfunction angle(a, b) {\n  var tempA = fromValues(a[0], a[1], a[2]);\n  var tempB = fromValues(b[0], b[1], b[2]);\n  normalize(tempA, tempA);\n  normalize(tempB, tempB);\n  var cosine = dot(tempA, tempB);\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {vec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\n\nfunction str(a) {\n  return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\n\nvar sub = exports.sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nvar mul = exports.mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nvar div = exports.div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nvar dist = exports.dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nvar sqrDist = exports.sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nvar len = exports.len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nvar sqrLen = exports.sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nvar forEach = exports.forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i = void 0,\n        l = void 0;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (value) {\n  /**\n   * isObject({}) => true\n   * isObject([1, 2, 3]) => true\n   * isObject(Function) => true\n   * isObject(null) => false\n   */\n  var type = typeof value;\n  return value !== null && type === 'object' || type === 'function';\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar is_object_like_1 = require(\"./is-object-like\");\n\nvar is_array_like_1 = require(\"./is-array-like\");\n\nvar is_string_1 = require(\"./is-string\");\n\nvar isEqual = function isEqual(value, other) {\n  if (value === other) {\n    return true;\n  }\n\n  if (!value || !other) {\n    return false;\n  }\n\n  if (is_string_1.default(value) || is_string_1.default(other)) {\n    return false;\n  }\n\n  if (is_array_like_1.default(value) || is_array_like_1.default(other)) {\n    if (value.length !== other.length) {\n      return false;\n    }\n\n    var rst = true;\n\n    for (var i = 0; i < value.length; i++) {\n      rst = isEqual(value[i], other[i]);\n\n      if (!rst) {\n        break;\n      }\n    }\n\n    return rst;\n  }\n\n  if (is_object_like_1.default(value) || is_object_like_1.default(other)) {\n    var valueKeys = Object.keys(value);\n    var otherKeys = Object.keys(other);\n\n    if (valueKeys.length !== otherKeys.length) {\n      return false;\n    }\n\n    var rst = true;\n\n    for (var i = 0; i < valueKeys.length; i++) {\n      rst = isEqual(value[valueKeys[i]], other[valueKeys[i]]);\n\n      if (!rst) {\n        break;\n      }\n    }\n\n    return rst;\n  }\n\n  return false;\n};\n\nexports.default = isEqual;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar isObjectLike = function isObjectLike(value) {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   * isObjectLike(null) => false\n   */\n  return typeof value === 'object' && value !== null;\n};\n\nexports.default = isObjectLike;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar isArrayLike = function isArrayLike(value) {\n  /**\n   * isArrayLike([1, 2, 3]) => true\n   * isArrayLike(document.body.children) => true\n   * isArrayLike('abc') => true\n   * isArrayLike(Function) => false\n   */\n  return value !== null && typeof value !== 'function' && isFinite(value.length);\n};\n\nexports.default = isArrayLike;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar base_1 = require(\"./base\");\n\nexports.Legend = base_1.default;\n\nvar continuous_1 = require(\"./continuous\");\n\nexports.Size = continuous_1.Size;\nexports.Color = continuous_1.Color;\n\nvar category_1 = require(\"./category\");\n\nexports.CanvasCategory = category_1.CanvasCategory;\nexports.HtmlCategory = category_1.HtmlCategory;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar size_1 = require(\"./size\");\n\nexports.Size = size_1.default;\n\nvar color_1 = require(\"./color\");\n\nexports.Color = color_1.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar g_1 = require(\"@antv/g\");\n\nvar base_1 = require(\"./base\"); // circle 的时候，背景的高度\n\n\nvar CircleBackgroundHalfHeight = 2;\n\nvar Size =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Size, _super);\n\n  function Size(cfg) {\n    return _super.call(this, tslib_1.__assign({\n      type: 'size-legend'\n    }, cfg)) || this;\n  }\n\n  Size.prototype.getBackgroundShapeAttr = function () {\n    var width = this.get('width');\n    var height = this.get('height');\n    var halfWidth = width / 2;\n    var halfHeight = height / 2;\n    var points = [];\n\n    if (this.get('handleIcon') === 'rect') {\n      points = this.isHorizontal() ? [[0, height], [0, height - 4], [width, 0], [width, height]] : [[0, 0], [width, 0], [width, height], [width - 4, height]];\n    } else {\n      points = this.isHorizontal() ? [[0, halfHeight + CircleBackgroundHalfHeight], [0, halfHeight - CircleBackgroundHalfHeight], [width, halfHeight - CircleBackgroundHalfHeight], [width, halfHeight + CircleBackgroundHalfHeight]] : [[halfWidth + CircleBackgroundHalfHeight, 0], [halfWidth - CircleBackgroundHalfHeight, 0], [halfWidth - CircleBackgroundHalfHeight, height], [halfWidth + CircleBackgroundHalfHeight, height]];\n    }\n\n    return {\n      points: points\n    };\n  };\n  /* 背景的样式，size 和 color 的背景完全不一样 */\n\n\n  Size.prototype.createBackgroundGroup = function () {\n    var shapeAttribute = this.getBackgroundShapeAttr();\n    var backgroundStyle = this.get('backgroundStyle');\n    var fillStyle = this.get('fillStyle');\n    var background = new g_1.Polygon({\n      attrs: tslib_1.__assign(tslib_1.__assign({}, shapeAttribute), backgroundStyle)\n    });\n    var frontend = new g_1.Polygon({\n      attrs: tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, shapeAttribute), backgroundStyle), fillStyle)\n    });\n    var group = new g_1.Group();\n\n    if (this.isOperational()) {\n      group.add(background);\n      group.add(frontend);\n    } else {\n      // 不可交互的时候，不需要 frontend\n      group.add(frontend);\n    }\n\n    return {\n      group: group,\n      background: background,\n      frontend: frontend\n    };\n  };\n\n  return Size;\n}(base_1.default);\n\nexports.default = Size;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar g_1 = require(\"@antv/g\");\n\nvar domUtil = require(\"@antv/dom-util\");\n\nvar constant_1 = require(\"../constant\");\n/**\n * 滑动条的逻辑\n *\n * 滑动条包括几个部分：\n * - 滑动条背景\n * - 小滑块区域（滑块 + 文本）\n * - 大滑块区域（滑块 + 文本\n * - 中间滑动区域（左右滑块中间可以滑动选中的区域）\n * - 鼠标 hover 提示文本（暂时不处理）\n *\n * 其中 min，max，range 的创建内置掉，仅有外部的布局（v，h）、类型（rect、circle）影响\n */\n\n\nvar Slider =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Slider, _super);\n\n  function Slider(cfg) {\n    var _this = _super.call(this) || this; // 拖拽过程中，更新 slider 状态位置\n\n\n    _this.onMouseMove = function (e) {\n      var clientX = e.clientX,\n          clientY = e.clientY;\n\n      _this.updateSliderStatus(clientX, clientY);\n    }; // 拖拽结束，清除事件\n\n\n    _this.onMouseUp = function () {\n      // 走到这里，理论上一定会存在方法\n      if (_this.clearAllEvents) {\n        _this.clearAllEvents();\n      }\n\n      _this.currentTarget = undefined;\n    }; // cfg 属性全部存储到 this 上，而不是存储到 cfg 中！\n\n\n    var layout = cfg.layout,\n        sliderType = cfg.sliderType,\n        sliderSize = cfg.sliderSize,\n        operational = cfg.operational,\n        width = cfg.width,\n        height = cfg.height,\n        textStyle = cfg.textStyle,\n        min = cfg.min,\n        max = cfg.max,\n        range = cfg.range,\n        formatter = cfg.formatter;\n    _this.layout = layout;\n    _this.sliderType = sliderType;\n\n    var _a = sliderSize || [],\n        _b = _a[0],\n        w = _b === void 0 ? constant_1.SLIDER_WIDTH : _b,\n        _c = _a[1],\n        h = _c === void 0 ? constant_1.SLIDER_HEIGHT : _c;\n\n    _this.sliderSize = [w, h];\n    _this.operational = operational;\n    _this.width = width;\n    _this.height = height;\n    _this.min = min;\n    _this.max = max;\n    _this.range = range;\n    _this.textStyle = textStyle;\n    _this.formatter = formatter; // 创建初始的内容\n\n    _this.initialSlider();\n\n    return _this;\n  }\n  /**\n   * 外部设置 background\n   * @param bg\n   */\n\n\n  Slider.prototype.setBackground = function (bg) {\n    // 如果已经存在，那么先移除\n    if (this.backgroundGroup) {\n      // this.remove(true);\n      // this.backgroundGroup.remove(true);\n      // this.removeChild(this.backgroundGroup, true);\n      this.backgroundGroup.destroy();\n    }\n\n    var group = bg.group,\n        background = bg.background,\n        frontend = bg.frontend; // 然后添加\n\n    this.backgroundGroup = group;\n    this.backgroundGroup.set('zIndex', 0);\n\n    if (this.operational && this.rangeSliderShape && frontend) {\n      frontend.attr('clip', this.rangeSliderShape); // this.add(this.rangeSliderShape);\n    }\n\n    this.add(this.backgroundGroup);\n    this.sort();\n  };\n  /**\n   * 滚动条布局，是否为横向\n   * true  横向\n   * false 纵向\n   */\n\n\n  Slider.prototype.isHorizontal = function () {\n    return this.layout === 'horizontal';\n  };\n  /**\n   * 初始化滑块\n   * 在配置完滑块的背景之后，挑用初始化方法来初始化 slider\n   */\n\n\n  Slider.prototype.initialSlider = function () {\n    if (this.operational) {\n      this.rangeSliderShape = this.createRangeSliderShape();\n      this.rangeSliderShape.set('zIndex', 1);\n      this.minSliderGroup = this.createMinSliderGroup();\n      this.minSliderGroup.set('zIndex', 2);\n      this.maxSliderGroup = this.createMaxSliderGroup();\n      this.maxSliderGroup.set('zIndex', 2);\n      var _a = this.range,\n          min = _a[0],\n          max = _a[1]; // 使用默认的 range 范围渲染 UI\n\n      this.renderUIWithRange(min, max);\n    } // 绑定事件\n\n\n    this.bindEvent();\n  };\n  /* 滑块 hover 的鼠标样式 */\n\n\n  Slider.prototype.getSliderCursor = function () {\n    return this.isHorizontal() ? 'ew-resize' : 'ns-resize';\n  };\n  /* 小滑块的区域样式 */\n\n\n  Slider.prototype.createMinSliderGroup = function () {\n    var group = this.addGroup();\n    this.minSliderShape = this.createSliderButton(group, true);\n    this.minTextShape = this.createSliderText(group, true);\n    return group;\n  };\n  /* 大滑块的区域样式 */\n\n\n  Slider.prototype.createMaxSliderGroup = function () {\n    var group = this.addGroup();\n    this.maxSliderShape = this.createSliderButton(group, false);\n    this.maxTextShape = this.createSliderText(group, false);\n    return group;\n  };\n  /* 拖动两个滑块 button 中间，可以滑动整体 */\n\n\n  Slider.prototype.createRangeSliderShape = function () {\n    return this.addShape('rect', {\n      attrs: {\n        fill: '#fff',\n        fillOpacity: 0,\n        cursor: 'move'\n      }\n    });\n  };\n  /* rect 的属性信息 */\n\n\n  Slider.prototype.getRectButtonAttribute = function (isMin) {\n    var _a = this.sliderSize,\n        sliderWidth = _a[0],\n        sliderHeight = _a[1]; // 前提，滑块的高度是宽度的一半\n\n    if (this.isHorizontal()) {\n      return {\n        x: isMin ? -sliderWidth : 0,\n        y: this.height / 2 - sliderHeight / 2,\n        width: sliderWidth,\n        height: sliderHeight\n      };\n    }\n\n    return {\n      x: this.width / 2 - sliderHeight / 2,\n      y: isMin ? 0 : -sliderWidth,\n      width: sliderHeight,\n      height: sliderWidth\n    };\n  };\n\n  Slider.prototype.getCircleButtonAttribute = function (isMin) {\n    // circle 坐标系为圆心\n    if (this.isHorizontal()) {\n      return {\n        x: 0,\n        y: this.height / 2,\n        r: constant_1.SLIDER_CIRCLE_MAX_SIZE / 2\n      };\n    }\n\n    return {\n      x: this.width / 2,\n      y: 0,\n      r: constant_1.SLIDER_CIRCLE_MAX_SIZE / 2\n    };\n  };\n  /**\n   * 创建滑块\n   * @param group\n   * @param isMin 是小滑块还是大滑块\n   */\n\n\n  Slider.prototype.createSliderButton = function (group, isMin) {\n    var buttonAttr = this.sliderType === 'rect' ? this.getRectButtonAttribute(isMin) : this.sliderType === 'circle' ? this.getCircleButtonAttribute(isMin) : {}; // 不同的 slider 滑块\n\n    var buttonAttribute = tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, buttonAttr), constant_1.SliderBtnStyle), {\n      cursor: this.getSliderCursor()\n    });\n\n    return group.addShape(this.sliderType, {\n      attrs: buttonAttribute\n    });\n  };\n\n  Slider.prototype.getRectTextAttribute = function (isMin) {\n    var _a = this.sliderSize,\n        sliderWidth = _a[0],\n        sliderHeight = _a[1];\n    return this.isHorizontal() ? {\n      // text 文本值\n      x: isMin ? -sliderWidth / 2 : sliderWidth / 2,\n      y: this.height / 2 + sliderHeight / 2 + 4,\n      textAlign: 'center',\n      textBaseline: 'top'\n    } : {\n      x: this.width / 2 + sliderHeight / 2 + 4,\n      y: isMin ? sliderWidth / 2 : -sliderWidth / 2,\n      textAlign: 'left',\n      textBaseline: 'middle'\n    };\n  };\n\n  Slider.prototype.getCircleTextAttribute = function (isMin) {\n    return this.isHorizontal() ? {\n      // text 文本值\n      x: 0,\n      y: this.height / 2 + constant_1.SLIDER_CIRCLE_MAX_SIZE / 2 + 4,\n      textAlign: 'center',\n      textBaseline: 'top'\n    } : {\n      x: this.width / 2 + constant_1.SLIDER_CIRCLE_MAX_SIZE / 2 + 4,\n      y: 0,\n      textAlign: 'left',\n      textBaseline: 'middle'\n    };\n  };\n  /**\n   * 创建滑块文字\n   * @param group\n   * @param isMin\n   */\n\n\n  Slider.prototype.createSliderText = function (group, isMin) {\n    var textAttribute = this.sliderType === 'rect' ? this.getRectTextAttribute(isMin) : this.sliderType === 'circle' ? this.getCircleTextAttribute(isMin) : {};\n\n    var textAttr = tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, this.textStyle), textAttribute), {\n      text: ''\n    });\n\n    return group.addShape('text', {\n      attrs: textAttr\n    });\n  }; // 绑定事件：大小滑块鼠标事件，range 区域的鼠标事件\n\n\n  Slider.prototype.bindEvent = function () {\n    if (this.operational) {\n      // 鼠标点击的时候，开始滑动\n      this.on('mousedown', this.onMouseDown);\n    }\n  };\n\n  Slider.prototype.onMouseDown = function (ev) {\n    // 当前触发的 shape\n    this.currentTarget = ev.target;\n    var originEvent = ev.event; // 阻止冒泡\n\n    originEvent.stopPropagation();\n    originEvent.preventDefault();\n    var clientX = originEvent.clientX,\n        clientY = originEvent.clientY; // 鼠标坐标位置\n\n    this.pos = this.isHorizontal() ? clientX : clientY;\n    this.bindCanvasEvents();\n  };\n\n  Slider.prototype.bindCanvasEvents = function () {\n    var containerDOM = this.get('canvas').get('containerDOM');\n    var e1 = domUtil.addEventListener(containerDOM, 'mousemove', this.onMouseMove);\n    var e2 = domUtil.addEventListener(containerDOM, 'mouseup', this.onMouseUp);\n    var e3 = domUtil.addEventListener(containerDOM, 'mouseleave', this.onMouseUp); // 清除所有事件的方法，在交互结束的时候执行\n\n    this.clearAllEvents = function () {\n      e1.remove();\n      e2.remove();\n      e3.remove();\n    };\n  };\n\n  Slider.prototype.isDragMin = function () {\n    return this.currentTarget === this.minSliderShape;\n  };\n\n  Slider.prototype.isDragMax = function () {\n    return this.currentTarget === this.maxSliderShape;\n  };\n\n  Slider.prototype.isDragAll = function () {\n    return this.currentTarget === this.rangeSliderShape;\n  };\n  /**\n   * 根据鼠标位置 x,y，更新滑块位置状态\n   * @param x\n   * @param y\n   */\n\n\n  Slider.prototype.updateSliderStatus = function (x, y) {\n    var _this = this;\n\n    var totalLength = this.isHorizontal() ? this.width : this.height;\n    var sign = this.isHorizontal() ? 1 : -1; // canvas 坐标和事件坐标相反\n\n    var _a = this.range,\n        min = _a[0],\n        max = _a[1]; // 默认的 range\n\n    var prePosition = this.pos;\n    var currentPosition = this.isHorizontal() ? x : y; // 鼠标拖拽的长度\n\n    var diffLength = currentPosition - prePosition; // 鼠标拖拽的比例，用于做 range 计算\n\n    var diff = diffLength / totalLength * sign;\n    var newRange = [min, max]; // 左右两个一起拖拽（拖拽左右滑块中间区域，可以实现两个滑块一起拖拽）\n\n    if (this.isDragAll()) {\n      if (diff >= 0 && max + diff > 1) {\n        // max 超出\n        newRange = [min + (1 - max), 1];\n      } else if (diff < 0 && min + diff < 0) {\n        // min 超出\n        newRange = [0, max - min];\n      } else {\n        // 都没有超出\n        newRange = [min + diff, max + diff];\n      }\n    } else {\n      // 分别处理\n      if (this.isDragMin()) {\n        newRange[0] = this.getNewRange(min, diff);\n      }\n\n      if (this.isDragMax()) {\n        newRange[1] = this.getNewRange(max, diff);\n      } // 如果处理之后 max < min，则设置成一样的，拖那个用哪个\n\n\n      if (newRange[1] < newRange[0]) {\n        newRange = Array(2).fill(this.isDragMin() ? newRange[0] : newRange[1]);\n      }\n    } // 更新状态\n\n\n    this.pos = currentPosition;\n    this.range = newRange; // 发送事件\n\n    this.emit('sliderchange', {\n      range: newRange,\n      value: newRange.map(function (r) {\n        return _this.getValue(r);\n      })\n    });\n    this.renderUIWithRange(newRange[0], newRange[1]); // 渲染 redraw\n\n    this.get('canvas').draw();\n  };\n  /* 根据 range 变更 ui */\n\n\n  Slider.prototype.renderUIWithRange = function (minRatio, maxRatio) {\n    var width = this.width;\n    var height = this.height; // resetMatrix 是 reset 的创建的属性\n\n    this.minSliderGroup.resetMatrix();\n    this.maxSliderGroup.resetMatrix(); // 修改滑块位置\n    // 横向，纵向的变换逻辑不一样\n\n    if (this.isHorizontal()) {\n      this.rangeSliderShape.attr({\n        x: width * minRatio,\n        y: 0,\n        width: (maxRatio - minRatio) * width,\n        height: height\n      });\n      this.minSliderGroup.translate(minRatio * width, 0);\n      this.maxSliderGroup.translate(maxRatio * width, 0);\n    } else {\n      this.rangeSliderShape.attr({\n        x: 0,\n        y: height * (1 - maxRatio),\n        width: width,\n        height: (maxRatio - minRatio) * height\n      }); // 纵向图例，上大下小\n\n      this.minSliderGroup.translate(0, (1 - minRatio) * height);\n      this.maxSliderGroup.translate(0, (1 - maxRatio) * height);\n    } // 更新文本\n\n\n    this.minTextShape.attr('text', this.formatter(this.getValue(minRatio)));\n    this.maxTextShape.attr('text', this.formatter(this.getValue(maxRatio))); // 对于 circle 的情况下，滑块的大小需要随着变化而变化\n\n    if (this.sliderType === 'circle') {\n      this.minSliderShape.attr({\n        r: (constant_1.SLIDER_HEIGHT + minRatio * (constant_1.SLIDER_CIRCLE_MAX_SIZE - constant_1.SLIDER_HEIGHT)) / 2\n      });\n      this.maxSliderShape.attr({\n        r: (constant_1.SLIDER_HEIGHT + maxRatio * (constant_1.SLIDER_CIRCLE_MAX_SIZE - constant_1.SLIDER_HEIGHT)) / 2\n      });\n    }\n  };\n  /**\n   * 在原来 range 的基础上，增加一个 diff\n   * @param range\n   * @param diff\n   */\n\n\n  Slider.prototype.getNewRange = function (range, diff) {\n    var r = diff + range;\n    return r > 1 ? 1 : r < 0 ? 0 : r;\n  };\n\n  Slider.prototype.getValue = function (ratio) {\n    var v = this.min + (this.max - this.min) * ratio;\n    return Number(v.toFixed(v > 1 ? 0 : 2)); // todo 格式化规则\n  };\n\n  return Slider;\n}(g_1.Group);\n\nexports.default = Slider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar _ = require(\"@antv/util\");\n\nvar g_1 = require(\"@antv/g\");\n\nvar color_util_1 = require(\"@antv/color-util\");\n\nvar base_1 = require(\"./base\");\n\nvar constant_1 = require(\"./constant\");\n\nvar Color =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Color, _super);\n\n  function Color(cfg) {\n    return _super.call(this, tslib_1.__assign({\n      type: 'color-legend'\n    }, cfg)) || this;\n  }\n  /* 计算占比，是否需要缓存以提高重复渲染的性能；是否需要排序 */\n\n\n  Color.prototype.calculatePercent = function (items) {\n    var min = _.head(items).value;\n\n    var max = _.last(items).value;\n\n    var diff = max - min;\n    return _.map(items, function (item) {\n      return tslib_1.__assign(tslib_1.__assign({}, item), {\n        percentage: (Number(item.value) - min) / diff\n      });\n    });\n  };\n  /* 颜色是否分段 */\n\n\n  Color.prototype.isSegment = function () {\n    return !!this.get('isSegment');\n  };\n  /* 可交互的情况 */\n\n\n  Color.prototype.getOperationalGroup = function () {\n    var width = this.get('width');\n    var height = this.get('height');\n    var items = this.calculatePercent(this.get('items'));\n    var backgroundStyle = this.get('backgroundStyle');\n    var fill = '';\n    var rgbColor;\n\n    if (this.isHorizontal()) {\n      fill += 'l (0) ';\n\n      _.each(items, function (v) {\n        rgbColor = color_util_1.default.toRGB(v.color);\n        fill += v.percentage + \":\" + rgbColor + \" \";\n      });\n    } else {\n      fill += 'l (90) ';\n\n      _.each(items, function (v) {\n        rgbColor = color_util_1.default.toRGB(v.color);\n        fill += 1 - v.percentage + \":\" + rgbColor + \" \";\n      });\n    }\n\n    var background = new g_1.Rect({\n      attrs: tslib_1.__assign({\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        strokeOpacity: 0\n      }, backgroundStyle)\n    });\n    var frontend = new g_1.Rect({\n      attrs: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        fill: fill,\n        strokeOpacity: 0\n      }\n    });\n    var group = new g_1.Group();\n\n    if (this.isOperational()) {\n      group.add(background);\n      group.add(frontend);\n    } else {\n      // 不可交互的时候，不需要 frontend\n      group.add(frontend);\n    }\n\n    return {\n      group: group,\n      background: background,\n      frontend: frontend\n    };\n  };\n  /**\n   * 不可交互的情况：\n   * 1. 无滑块\n   * 2. 可以连续和分段\n   * 3. 分段的时候下面有文字\n   */\n\n\n  Color.prototype.getUnOperationalGroup = function () {\n    var _this = this;\n\n    var width = this.get('width');\n    var height = this.get('height');\n    var items = this.calculatePercent(this.get('items'));\n    var textStyle = this.get('textStyle');\n    var group = new g_1.Group();\n    var fill = '';\n    var rgbColor;\n    var path = [];\n    var isize = items.length; // gradient color distributed according to the percentage\n\n    if (this.isHorizontal()) {\n      fill += 'l (0) ';\n\n      _.each(items, function (item, i) {\n        if (i !== 0 && i !== isize - 1) {\n          path.push(['M', item.percentage * width, 0]);\n          path.push(['L', item.percentage * width, height]);\n        }\n\n        rgbColor = color_util_1.default.toRGB(items[i].color);\n\n        if (_this.isSegment() && i > 0) {\n          var preRgbColor = color_util_1.default.toRGB(items[i - 1].color);\n          fill += item.percentage + \":\" + preRgbColor + \" \";\n        }\n\n        fill += item.percentage + \":\" + rgbColor + \" \";\n        group.addShape('text', {\n          attrs: tslib_1.__assign(tslib_1.__assign({\n            x: item.percentage * width,\n            y: height + constant_1.TEXT_OFFSET,\n            text: \"\" + _this.formatterValue(item.value)\n          }, textStyle), {\n            textBaseline: 'top',\n            textAlign: 'center'\n          })\n        });\n      });\n    } else {\n      fill += 'l (90) ';\n\n      _.each(items, function (item, i) {\n        if (i !== 0 && i !== isize - 1) {\n          path.push(['M', 0, height - item.percentage * height]);\n          path.push(['L', width, height - item.percentage * height]);\n        }\n\n        rgbColor = color_util_1.default.toRGB(items[i].color);\n        fill += 1 - item.percentage + \":\" + rgbColor + \" \"; // one color instead of gradient color for a block while isSegment === true\n\n        if (_this.isSegment() && i > 0) {\n          var preRgbColor = color_util_1.default.toRGB(items[i - 1].color);\n          fill += 1 - item.percentage + \":\" + preRgbColor + \" \";\n        }\n\n        group.addShape('text', {\n          attrs: tslib_1.__assign(tslib_1.__assign({\n            x: width + constant_1.TEXT_OFFSET,\n            y: (1 - item.percentage) * height,\n            text: \"\" + _this.formatterValue(item.value)\n          }, textStyle), {\n            textAlign: 'start',\n            textBaseline: 'middle'\n          })\n        });\n      });\n    }\n\n    var background = group.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        fill: fill,\n        strokeOpacity: 0\n      }\n    }); // the white line segment to seperate color blocks\n\n    group.addShape('path', {\n      attrs: {\n        path: path,\n        lineWidth: 1,\n        stroke: '#fff'\n      }\n    });\n    return {\n      group: group,\n      background: background,\n      frontend: undefined\n    };\n  };\n  /* 背景的样式，size 和 color 的背景完全不一样 */\n\n\n  Color.prototype.createBackgroundGroup = function () {\n    return this.isOperational() ? this.getOperationalGroup() : this.getUnOperationalGroup();\n  };\n\n  return Color;\n}(base_1.default);\n\nexports.default = Color;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar canvas_1 = require(\"./canvas\");\n\nexports.CanvasCategory = canvas_1.default;\n\nvar html_1 = require(\"./html\");\n\nexports.HtmlCategory = html_1.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar g_1 = require(\"@antv/g\");\n\nvar util_1 = require(\"@antv/util\");\n\nvar arrow_1 = require(\"./arrow\");\n\nvar base_1 = require(\"./base\");\n\nvar CanvasLegend =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(CanvasLegend, _super);\n\n  function CanvasLegend(cfg) {\n    return _super.call(this, tslib_1.__assign({\n      type: 'category-legend'\n    }, cfg)) || this;\n  }\n\n  CanvasLegend.prototype.init = function () {\n    this.isFlipped = false;\n    var container = this.get('container');\n    this.set('canvas', container.get('canvas'));\n    var itemsGroup = container.addGroup();\n    this.set('itemsGroup', itemsGroup);\n\n    if (this.get('flipPage')) {\n      this.set('autoWrap', true);\n    }\n  };\n\n  CanvasLegend.prototype.renderTitle = function () {\n    var title = this.get('title');\n\n    if (title) {\n      var container = this.get('container');\n      var titleStyle = this.get('titleStyle');\n      var titleShape = container.addShape('text', {\n        attrs: tslib_1.__assign({\n          x: 0,\n          y: 0,\n          text: title\n        }, titleStyle)\n      });\n      titleShape.name = 'legend-title';\n      this.set('titleShape', titleShape);\n    }\n  };\n\n  CanvasLegend.prototype.renderItems = function () {\n    var _this = this;\n\n    var items = this.get('items');\n\n    if (this.get('reversed')) {\n      items.reverse();\n    }\n\n    util_1.each(items, function (item) {\n      _this._addItem(item);\n    });\n\n    if (this.get('autoWrap')) {\n      this._adjustItems();\n    } // 默认自动换行\n\n\n    var _a = this._getMaxItemSize(),\n        maxItemWidth = _a.maxItemWidth,\n        maxItemHeight = _a.maxItemHeight;\n\n    this.set('maxItemWidth', maxItemWidth);\n    this.set('maxItemHeight', maxItemHeight);\n    var needPageFlip = this.isNeedFlip();\n\n    if (needPageFlip) {\n      this.flipPage();\n    }\n\n    this._adjustPositionOffset();\n\n    this._renderBack();\n  };\n\n  CanvasLegend.prototype.isNeedFlip = function () {\n    var maxWidth = this.get('maxWidth');\n    var maxItemHeight = this.get('maxItemHeight');\n    var itemsBBox = this.get('itemsGroup').getBBox();\n    var layout = this.get('layout');\n\n    if (this.get('flipPage')) {\n      if (layout === 'vertical' && maxWidth < itemsBBox.width) {\n        return true;\n      }\n\n      if (layout === 'horizontal' && maxItemHeight < itemsBBox.height) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  CanvasLegend.prototype.flipPage = function () {\n    var _this = this;\n\n    this.isFlipped = true;\n    var maxItemWidth = this.get('maxItemWidth');\n    var maxItemHeight = this.get('maxItemHeight');\n    var maxWidth = this.get('maxWidth');\n    var maxHeight = this.get('maxHeight');\n    var itemsGroup = this.get('itemsGroup');\n    var itemsBBox = itemsGroup.getBBox();\n    var layout = this.get('layout');\n\n    var paginationCfg = this._getPaginationCfg(); // 根据layout创建clip\n\n\n    var pageNumber = 0;\n    var mode = 'up-down'; // 上下翻页\n\n    var x = itemsBBox.tl.x;\n    var y = itemsBBox.tl.y; // 翻页器位置\n\n    var size = 0; // 翻页器尺寸\n\n    var clip = new g_1.Rect({\n      attrs: {\n        x: x,\n        y: y,\n        width: maxWidth - paginationCfg.size,\n        height: maxHeight\n      }\n    });\n\n    if (layout === 'horizontal') {\n      var width = Math.max(maxWidth, itemsBBox.width);\n      clip.attr('width', width);\n      clip.attr('height', maxItemHeight);\n      this.set('maxWidth', width);\n      this.set('maxHeight', maxItemHeight);\n      pageNumber = Math.ceil(itemsBBox.height / (maxItemHeight + this.get('itemMarginBottom')));\n      x = x + width - paginationCfg.size; // temp:padding\n\n      y = Math.ceil(y + maxItemHeight / 2);\n      size = maxItemHeight;\n\n      if (y - this._getHorizontalPaginationHeight() / 2 < 0) {\n        var offsetY = (this.get('offsetY') || 0) + this._getHorizontalPaginationHeight() / 2 - y;\n        this.set('offsetY', offsetY);\n      }\n    }\n\n    if (layout === 'vertical') {\n      clip.attr('width', maxItemWidth);\n      var height = Math.max(maxHeight, itemsBBox.height);\n      clip.attr('height', height);\n      this.set('maxWidth', maxItemWidth);\n      this.set('maxHeight', height);\n      pageNumber = Math.ceil(itemsBBox.width / (maxItemWidth + this.get('itemDistance')));\n      y = y + height + 10; // temp: padding\n\n      mode = 'left-right';\n      size = maxItemWidth;\n    } // 应用clip\n\n\n    itemsGroup.attr('clip', clip);\n    this.set('clip', clip); // 绘制翻页器UI\n\n    var flipUI = this.flipPageUI(x, y, size, pageNumber, mode);\n    this.flipUI = flipUI; // 加入交互\n\n    var currentIndex = 1;\n    var arrow1 = flipUI.arrows[0];\n    var arrow2 = flipUI.arrows[1];\n    arrow1.on('click', function () {\n      if (currentIndex > 1) {\n        currentIndex -= 1;\n        flipUI.text.attr('text', currentIndex + \" / \" + pageNumber);\n        var matrix = util_1.clone(itemsGroup.attr('matrix'));\n\n        if (layout === 'vertical') {\n          var dist = _this.get('itemDistance') + maxItemWidth;\n          matrix[6] += dist;\n        } else {\n          var dist = maxItemHeight + _this.get('itemMarginBottom');\n\n          matrix[7] += dist;\n        }\n\n        itemsGroup.stopAnimate();\n        itemsGroup.animate({\n          matrix: matrix\n        }, 100);\n\n        _this.get('canvas').draw();\n      }\n    });\n    arrow2.on('click', function () {\n      if (currentIndex < pageNumber) {\n        currentIndex += 1;\n        flipUI.text.attr('text', currentIndex + \" / \" + pageNumber);\n        var matrix = util_1.clone(itemsGroup.attr('matrix'));\n\n        if (layout === 'vertical') {\n          var dist = _this.get('itemDistance') + maxItemWidth;\n          matrix[6] -= dist;\n        } else {\n          var dist = maxItemHeight + _this.get('itemMarginBottom');\n\n          matrix[7] -= dist;\n        }\n\n        itemsGroup.stopAnimate();\n        itemsGroup.animate({\n          matrix: matrix\n        }, 100);\n      }\n    });\n  };\n\n  CanvasLegend.prototype.flipPageUI = function (x, y, size, pageNumber, mode) {\n    var paginationCfg = this._getPaginationCfg();\n\n    var container = this.get('container');\n    var group = container.addGroup();\n    var arrows = [];\n    var text;\n\n    if (mode === 'left-right') {\n      // left arrow\n      var la = new arrow_1.default(util_1.mix({}, paginationCfg.arrow, {\n        x: x + paginationCfg.arrow.width / 2,\n        y: y,\n        direction: 'left'\n      }));\n      group.add(la.shape);\n      arrows.push(la.shape); // right arrow\n\n      var ra = new arrow_1.default(util_1.mix({}, paginationCfg.arrow, {\n        x: x + size - paginationCfg.arrow.width / 2,\n        y: y,\n        direction: 'right'\n      }));\n      group.add(ra.shape);\n      arrows.push(ra.shape); // text\n\n      text = group.addShape('text', {\n        attrs: util_1.mix({}, paginationCfg.text, {\n          x: x + size / 2,\n          y: y,\n          text: \"1 / \" + pageNumber\n        })\n      });\n    } else {\n      // upper arrow\n      var height = this._getHorizontalPaginationHeight();\n\n      var ua = new arrow_1.default(util_1.mix({}, paginationCfg.arrow, {\n        x: x,\n        y: y - height / 2 + paginationCfg.arrow.height / 2,\n        direction: 'up'\n      }));\n      group.add(ua.shape);\n      arrows.push(ua.shape); // lower arrow\n\n      var da = new arrow_1.default(util_1.mix({}, paginationCfg.arrow, {\n        x: x,\n        y: y + height / 2 - paginationCfg.arrow.height / 2,\n        direction: 'down'\n      }));\n      group.add(da.shape);\n      arrows.push(da.shape); // text\n\n      text = group.addShape('text', {\n        attrs: util_1.mix({}, paginationCfg.text, {\n          x: x,\n          y: y,\n          text: \"1 / \" + pageNumber\n        })\n      });\n    }\n\n    return {\n      arrows: arrows,\n      text: text,\n      container: group\n    };\n  };\n\n  CanvasLegend.prototype._getPaginationCfg = function () {\n    var defaultCfg = {\n      arrow: {\n        x: 0,\n        y: 0,\n        width: 10,\n        height: 8,\n        attrs: {\n          fill: '#ccc',\n          cursor: 'pointer'\n        },\n        direction: 'right'\n      },\n      text: {\n        fontSize: 12,\n        fill: '#ccc',\n        textAlign: 'center',\n        textBaseline: 'middle'\n      },\n      size: 40\n    }; // todo: 允许用户自行配置样式\n\n    return defaultCfg;\n  };\n\n  CanvasLegend.prototype._getHorizontalPaginationHeight = function () {\n    var GAP = 2;\n\n    var cfg = this._getPaginationCfg();\n\n    return cfg.text.fontSize + cfg.arrow.height * 2 + GAP * 2;\n  };\n\n  CanvasLegend.prototype.bindEvents = function () {\n    var itemsGroup = this.get('itemsGroup');\n\n    if (this.get('hoverable')) {\n      itemsGroup.on('mousemove', util_1.wrapBehavior(this, '_onMousemove'));\n      itemsGroup.on('mouseleave', util_1.wrapBehavior(this, '_onMouseleave'));\n    }\n\n    if (this.get('clickable')) {\n      itemsGroup.on('click', util_1.wrapBehavior(this, '_onClick'));\n    }\n  };\n  /**\n   * 清空容器\n   */\n\n\n  CanvasLegend.prototype.clear = function () {\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      container.clear();\n    }\n  };\n  /**\n   * 销毁\n   */\n\n\n  CanvasLegend.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      if (container.get('parent')) {\n        container.remove();\n      }\n\n      container.destroy();\n    }\n  };\n\n  CanvasLegend.prototype.getCheckedCount = function () {\n    var itemsGroup = this.get('itemsGroup');\n    var items = itemsGroup.get('children');\n    var checkedArr = util_1.filter(items, function (item) {\n      return item.get('checked');\n    });\n    return checkedArr.length;\n  };\n\n  CanvasLegend.prototype.getWidth = function () {\n    return this.getBBox().width;\n  };\n\n  CanvasLegend.prototype.getHeight = function () {\n    return this.getBBox().height;\n  };\n\n  CanvasLegend.prototype.getBBox = function () {\n    if (this.isFlipped) {\n      var clip = this.get('clip');\n      var fliperContainer = this.flipUI.container;\n      return this._mergeBBox([clip.getBBox(), fliperContainer.getBBox()]);\n    }\n\n    return this.get('container').getBBox();\n  };\n\n  CanvasLegend.prototype._adjustPositionOffset = function () {\n    var offsetX = this.get('offsetX');\n    var offsetY = this.get('offsetY');\n    var container = this.get('container');\n    container.move(offsetX, offsetY);\n  };\n\n  CanvasLegend.prototype._addItem = function (item) {\n    var itemsGroup = this.get('itemsGroup');\n\n    var x = this._getNextX();\n\n    var y = this._getNextY();\n\n    var unSelectedColor = this.get('unSelectedColor');\n    var itemGroup = itemsGroup.addGroup({\n      x: x,\n      y: y,\n      value: item.value,\n      checked: item.checked\n    });\n    var textStyle = this.get('textStyle');\n    var wordSpace = this.get('wordSpacing');\n    var startX = 0;\n\n    if (item.marker) {\n      // 如果有marker添加marker\n      var markerAttrs = Object.assign({}, item.marker, {\n        x: item.marker.radius + x,\n        y: y\n      });\n\n      if (!item.checked) {\n        if (markerAttrs.fill) {\n          markerAttrs.fill = unSelectedColor;\n        }\n\n        if (markerAttrs.stroke) {\n          markerAttrs.stroke = unSelectedColor;\n        }\n      }\n\n      var markerShape = itemGroup.addShape('marker', {\n        type: 'marker',\n        attrs: markerAttrs\n      });\n      markerShape.attr('cursor', 'pointer');\n      markerShape.name = 'legend-marker';\n      startX += markerShape.getBBox().width + wordSpace;\n    }\n\n    var textAttrs = Object.assign({}, textStyle, {\n      x: startX + x,\n      y: y - (item.marker ? item.marker.radius / 2 : 0) + textStyle.fontSize / 4,\n      text: this.formatterValue(item.value)\n    });\n\n    if (!item.checked) {\n      Object.assign(textAttrs, {\n        fill: unSelectedColor\n      });\n    }\n\n    var textShape = itemGroup.addShape('text', {\n      attrs: textAttrs\n    });\n    textShape.attr('cursor', 'pointer');\n    textShape.name = 'legend-text';\n    var bbox = itemGroup.getBBox();\n    var itemWidth = this.get('itemWidth');\n    var wrapperShape = itemGroup.addShape('rect', {\n      attrs: {\n        x: x,\n        y: y - bbox.height / 2,\n        fill: '#fff',\n        fillOpacity: 0,\n        width: itemWidth || bbox.width,\n        height: bbox.height\n      }\n    });\n    wrapperShape.attr('cursor', 'pointer');\n    wrapperShape.set('origin', item); // 保存图例项相关的数据，便于事件操作\n\n    wrapperShape.name = 'legend-item';\n    itemGroup.name = 'legendGroup';\n    return itemGroup;\n  }; // 获取的图例元素 X 位置\n\n\n  CanvasLegend.prototype._getNextX = function () {\n    var layout = this.get('layout');\n    var itemDistance = this.get('itemDistance');\n    var itemsGroup = this.get('itemsGroup');\n    var itemWidth = this.get('itemWidth');\n    var children = itemsGroup.get('children');\n    var nextX = 0;\n\n    if (layout === 'horizontal') {\n      // 水平布局\n      util_1.each(children, function (item) {\n        nextX += (itemWidth ? itemWidth : item.getBBox().width) + itemDistance;\n      });\n    }\n\n    return nextX;\n  };\n\n  CanvasLegend.prototype._getNextY = function () {\n    var itemMarginBottom = this.get('itemMarginBottom');\n    var titleDistance = this.get('titleDistance');\n    var layout = this.get('layout');\n    var itemsGroup = this.get('itemsGroup');\n    var titleShape = this.get('titleShape');\n    var children = itemsGroup.get('children');\n    var nextY = titleDistance;\n\n    if (titleShape) {\n      nextY += titleShape.getBBox().height;\n    }\n\n    if (layout === 'vertical') {\n      // 竖直布局\n      util_1.each(children, function (item) {\n        nextY += item.getBBox().height + itemMarginBottom;\n      });\n    }\n\n    return nextY;\n  };\n\n  CanvasLegend.prototype._adjustHorizontal = function () {\n    var margin = this.flipPage ? this._getPaginationCfg().size : 0;\n    var itemsGroup = this.get('itemsGroup');\n    var children = itemsGroup.get('children');\n    var maxLength = this.get('maxWidth') - margin;\n    var itemDistance = this.get('itemDistance');\n    var itemMarginBottom = this.get('itemMarginBottom');\n    var titleDistance = this.get('titleDistance');\n    var row = 0;\n    var rowLength = 0;\n    var width;\n    var height;\n    var box;\n    var itemWidth = this.get('itemWidth');\n\n    if (itemsGroup.getBBox().width > maxLength) {\n      util_1.each(children, function (child) {\n        box = child.getBBox();\n        width = itemWidth || box.width;\n        height = box.height + itemMarginBottom;\n\n        if (maxLength - rowLength < width) {\n          row++;\n          rowLength = 0;\n        }\n\n        child.move(rowLength, row * height + titleDistance);\n        rowLength += width + itemDistance;\n      });\n    }\n\n    return;\n  };\n\n  CanvasLegend.prototype._adjustVertical = function () {\n    var maxItemWidth = this._getMaxItemSize().maxItemWidth;\n\n    var itemsGroup = this.get('itemsGroup');\n    var titleShape = this.get('titleShape');\n    var children = itemsGroup.get('children');\n    var maxLength = this.get('maxLength'); // 垂直布局，则 maxLength 代表容器的高度\n\n    var itemDistance = this.get('itemDistance');\n    var itemMarginBottom = this.get('itemMarginBottom');\n    var titleDisatance = this.get('titleDistance');\n    var titleHeight = titleShape ? titleShape.getBBox().height + titleDisatance : 0;\n    var itemWidth = this.get('itemWidth') ? this.get('itemWidth') : 0;\n    var colLength = titleHeight + itemsGroup.getBBox().height;\n    var width;\n    var height;\n    var box;\n    maxItemWidth = Math.max(maxItemWidth, itemWidth) + itemDistance;\n    var totalLength = 0;\n\n    if (colLength > maxLength) {\n      util_1.each(children, function (child, index) {\n        box = child.getBBox();\n        width = box.width;\n        height = box.height;\n        /*if (index > 0) {\n          maxItemWidth = itemWidth + itemDistance;\n        }*/\n\n        if (maxLength - colLength < height) {\n          // 剩余高度不能满足一行，增加一列\n          colLength = titleHeight;\n\n          if (index > 0) {\n            totalLength += maxItemWidth;\n          }\n\n          child.move(totalLength, titleHeight);\n        } else {\n          child.move(totalLength, colLength);\n        }\n\n        colLength += height + itemMarginBottom;\n      });\n    }\n  };\n\n  CanvasLegend.prototype._adjustItems = function () {\n    var layout = this.get('layout');\n    layout === 'horizontal' ? this._adjustHorizontal() : this._adjustVertical();\n  };\n\n  CanvasLegend.prototype._renderBack = function () {\n    var container = this.get('container');\n    var padding = this.get('backgroundPadding');\n    var backAttrs = this.get('backgroundStyle');\n\n    if (util_1.isNumber(padding)) {\n      padding = [padding, padding, padding, padding];\n    }\n\n    if (!backAttrs) {\n      return;\n    }\n\n    container.renderBack(padding, backAttrs);\n  };\n\n  CanvasLegend.prototype._onMousemove = function (ev) {\n    var item = this._getLegendItem(ev.target);\n\n    if (item && item.get('checked')) {\n      var itemMouseover = new g_1.Event('itemmouseover', ev, true, true);\n      itemMouseover.item = this._findItem(item);\n      itemMouseover.checked = item.get('checked');\n      this.emit('itemmouseover', itemMouseover);\n      this.get('canvas').draw();\n    }\n  };\n\n  CanvasLegend.prototype._onMouseleave = function (ev) {\n    var item = this._getLegendItem(ev.target);\n\n    if (item && item.get('checked')) {\n      var itemMouseleave = new g_1.Event('itemmouseleave', ev, true, true);\n      itemMouseleave.item = this._findItem(item);\n      itemMouseleave.checked = item.get('checked');\n      this.emit('itemmouseleave', itemMouseleave);\n      this.get('canvas').draw();\n    }\n  };\n\n  CanvasLegend.prototype._onClick = function (ev) {\n    var _this = this;\n\n    var clickedItem = this._getLegendItem(ev.target);\n\n    if (clickedItem && !clickedItem.get('destroyed')) {\n      var checked = clickedItem.get('checked');\n\n      if (!this.get('allowAllCanceled') && checked && this.getCheckedCount() === 1) {\n        return;\n      }\n\n      var mode = this.get('selectedMode');\n\n      var item_1 = this._findItem(clickedItem);\n\n      var itemClick = new g_1.Event('itemclick', ev, true, true);\n      itemClick.item = item_1;\n      itemClick.currentTarget = clickedItem;\n      itemClick.checked = mode === 'single' ? true : !checked;\n      var unSelectedColor_1 = this.get('unSelectedColor');\n      var checkColor_1 = this.get('textStyle').fill;\n      var markerItem_1;\n      var textItem_1;\n      var legendItem_1;\n\n      if (mode === 'single') {\n        var itemsGroup = this.get('itemsGroup');\n        var children = itemsGroup.get('children');\n        util_1.each(children, function (child) {\n          markerItem_1 = _this._findShapeByName(child, 'legend-marker');\n          textItem_1 = _this._findShapeByName(child, 'legend-text');\n          legendItem_1 = _this._findShapeByName(child, 'legend-item');\n\n          if (child !== clickedItem) {\n            if (markerItem_1.attr('fill')) {\n              markerItem_1.attr('fill', unSelectedColor_1);\n            }\n\n            if (markerItem_1.attr('stroke')) {\n              markerItem_1.attr('stroke', unSelectedColor_1);\n            }\n\n            textItem_1.attr('fill', unSelectedColor_1);\n            markerItem_1.set('checked', false);\n            markerItem_1.set('rawAttrs', tslib_1.__assign({}, markerItem_1.get('attrs')));\n            textItem_1.set('checked', false);\n            legendItem_1.set('checked', false);\n            child.set('checked', false);\n          } else {\n            if (markerItem_1.attr('fill')) {\n              markerItem_1.attr('fill', item_1.marker.fill);\n            }\n\n            if (markerItem_1.attr('stroke')) {\n              markerItem_1.attr('stroke', item_1.marker.stroke);\n            }\n\n            textItem_1.attr('fill', checkColor_1);\n            markerItem_1.set('rawAttrs', tslib_1.__assign({}, markerItem_1.get('attrs')));\n            markerItem_1.set('checked', true);\n            textItem_1.set('checked', true);\n            legendItem_1.set('checked', true);\n            child.set('checked', true);\n          }\n        });\n      } else {\n        markerItem_1 = this._findShapeByName(clickedItem, 'legend-marker');\n        textItem_1 = this._findShapeByName(clickedItem, 'legend-text');\n        legendItem_1 = this._findShapeByName(clickedItem, 'legend-item');\n\n        if (markerItem_1.attr('fill')) {\n          markerItem_1.attr('fill', checked ? unSelectedColor_1 : item_1.marker.fill);\n        }\n\n        if (markerItem_1.attr('stroke')) {\n          markerItem_1.attr('stroke', checked ? unSelectedColor_1 : item_1.marker.stroke);\n        }\n\n        textItem_1.attr('fill', checked ? unSelectedColor_1 : checkColor_1);\n        clickedItem.set('checked', !checked);\n        markerItem_1.set('checked', !checked);\n        textItem_1.set('checked', !checked);\n        legendItem_1.set('checked', !checked);\n      }\n\n      this.emit('itemclick', itemClick);\n      this.get('canvas').draw();\n    }\n\n    return;\n  };\n\n  CanvasLegend.prototype._getLegendItem = function (target) {\n    var item = target.get('parent');\n\n    if (item && item.name === 'legendGroup') {\n      return item;\n    }\n\n    return null;\n  };\n\n  CanvasLegend.prototype._findItem = function (refer) {\n    var items = this.get('items');\n    var rst = null;\n    var value = refer instanceof g_1.Group ? refer.get('value') : refer;\n    util_1.each(items, function (item) {\n      if (item.value === value) {\n        rst = item;\n        return false;\n      }\n    });\n    return rst;\n  };\n\n  CanvasLegend.prototype._findShapeByName = function (group, name) {\n    return group.findBy(function (node) {\n      return node.name === name;\n    });\n  };\n\n  CanvasLegend.prototype._getMaxItemSize = function () {\n    var maxItemWidth = -Infinity;\n    var maxItemHeight = -Infinity;\n    var itemGroup = this.get('itemsGroup');\n    var items = itemGroup.get('children');\n    util_1.each(items, function (item) {\n      var i = item;\n      var bbox = i.getBBox();\n\n      if (maxItemWidth < bbox.width) {\n        maxItemWidth = bbox.width;\n      }\n\n      if (maxItemHeight < bbox.height) {\n        maxItemHeight = bbox.height;\n      }\n    });\n    return {\n      maxItemWidth: maxItemWidth,\n      maxItemHeight: maxItemHeight\n    };\n  };\n\n  CanvasLegend.prototype._mergeBBox = function (bboxes) {\n    var minX = Infinity;\n    var maxX = -Infinity;\n    var minY = Infinity;\n    var maxY = -Infinity;\n    util_1.each(bboxes, function (bbox) {\n      var box = bbox;\n      minX = Math.min(box.minX, minX);\n      maxX = Math.max(box.maxX, maxX);\n      minY = Math.min(box.minY, minY);\n      maxY = Math.max(box.maxY, maxY);\n    });\n    return new g_1.BBox(minX, minY, maxX - minX, maxY - minY);\n  };\n\n  return CanvasLegend;\n}(base_1.default);\n\nexports.default = CanvasLegend;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar G = require(\"@antv/g\");\n\nvar _ = require(\"@antv/util\");\n\nvar dir_mapper = {\n  right: 90 * Math.PI / 180,\n  left: (360 - 90) * Math.PI / 180,\n  up: 0,\n  down: 180 * Math.PI / 180\n};\n\nvar Arrow =\n/** @class */\nfunction () {\n  function Arrow(cfg) {\n    this.width = 10;\n    this.height = 10;\n    this.direction = 'right';\n\n    _.assign(this, cfg);\n\n    this._init();\n  }\n\n  Arrow.prototype._init = function () {\n    var centerX = this.width / 2;\n    var centerY = this.height / 2;\n    var points = [{\n      x: 0,\n      y: -centerY\n    }, {\n      x: -centerX,\n      y: centerY\n    }, {\n      x: centerX,\n      y: centerY\n    }];\n    this.shape = new G.Path({\n      attrs: _.deepMix({\n        path: [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['Z']]\n      }, this.attrs)\n    });\n    var transformMatrix = [];\n    /** rotate */\n\n    transformMatrix.push(['r', dir_mapper[this.direction]]);\n    /** transform */\n\n    transformMatrix.push(['t', this.x, this.y]);\n    this.shape.transform(transformMatrix);\n  };\n\n  return Arrow;\n}();\n\nexports.default = Arrow;","\"use strict\";\n/**\n * @description 使用 HTML 进行渲染的图例\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar domUtil = require(\"@antv/dom-util\");\n\nvar g_1 = require(\"@antv/g\");\n\nvar Util = require(\"@antv/util\");\n\nvar base_1 = require(\"./base\");\n\nvar DEFAULT_THEME = {\n  backgroundStyle: {\n    position: 'absolute',\n    overflow: 'auto',\n    top: 0,\n    left: 0\n  },\n  titleStyle: {\n    marginBottom: '4px'\n  },\n  listStyle: {\n    listStyleType: 'none',\n    margin: 0,\n    padding: 0\n  },\n  itemStyle: {\n    cursor: 'pointer',\n    marginBottom: '5px',\n    marginRight: '16px',\n    userSelect: 'none'\n  },\n  markerStyle: {\n    width: '9px',\n    height: '9px',\n    borderRadius: '50%',\n    display: 'inline-block',\n    marginRight: '8px',\n    verticalAlign: 'middle'\n  },\n  pagination: {\n    activeColor: '#000',\n    inactiveColor: '#ccc',\n    arrowSize: 8,\n    animation: true\n  }\n};\n\nfunction _findParentNode(node, className) {\n  var nodeClass = node.className;\n\n  if (Util.isNil(nodeClass)) {\n    return node;\n  }\n\n  nodeClass = nodeClass.split(' ');\n\n  if (nodeClass.indexOf(className) > -1) {\n    return node;\n  }\n\n  if (node.parentNode) {\n    if (node.parentNode.className === className) {\n      return node.parentNode;\n    }\n\n    return _findParentNode(node.parentNode, className);\n  }\n\n  return null;\n}\n\nfunction _findNodeByClass(node, className) {\n  return node.getElementsByClassName(className)[0];\n}\n\nvar HTMLLegend =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(HTMLLegend, _super);\n\n  function HTMLLegend(cfg) {\n    return _super.call(this, tslib_1.__assign({\n      type: 'html-legend',\n      prefixClassName: 'g2-legend',\n      pagination: true,\n      highlight: false\n    }, cfg)) || this;\n  }\n\n  HTMLLegend.prototype.init = function () {\n    // 初始化 HTML dom\n    var fontFamily = this.get('fontFamily'); // const width = this.get('width');\n    // const height = this.get('height');\n\n    var layout = this.get('layout');\n    var maxWidth = this.get('maxWidth');\n    var maxHeight = this.get('maxHeight');\n    var prefixClassName = this.get('prefixClassName');\n    var containerTpl = this.get('containerTpl');\n\n    if (!containerTpl) {\n      containerTpl = \"<div class=\\\"\" + prefixClassName + \"\\\">\\n        <div class=\\\"\" + prefixClassName + \"-title\\\"></div>\\n        <ul class=\\\"\" + prefixClassName + \"-list\\\"></ul>\\n      </div>\";\n    }\n\n    var legendContainer = domUtil.createDom(containerTpl);\n    var backgroundStyle = Util.deepMix({}, DEFAULT_THEME.backgroundStyle, this.get('backgroundStyle'));\n    domUtil.modifyCSS(legendContainer, tslib_1.__assign({\n      fontFamily: fontFamily,\n      maxHeight: maxHeight + \"px\",\n      // width: 'auto',\n      width: '100%',\n      height: 'auto'\n    }, backgroundStyle));\n\n    if (layout === 'horizontal') {\n      domUtil.modifyCSS(legendContainer, {\n        maxWidth: maxWidth + \"px\"\n      });\n    }\n\n    var container = this.get('container');\n\n    if (!container) {\n      // 没有传入挂载的 dom，则作为 canvas 的兄弟节点\n      var canvas = this.get('canvas');\n      var mountNode = canvas.get('el').parentNode;\n      mountNode.appendChild(legendContainer);\n    } else if (/^\\#/.test(container)) {\n      // 如果传入 dom 节点的 id\n      var id = container.replace('#', '');\n      container = document.getElementById(id);\n      container.appendChild(legendContainer);\n    } else {\n      // 传入 dom 节点\n      container.appendChild(legendContainer);\n    }\n\n    this.set('_legendContainer', legendContainer);\n  }; // 渲染标题\n\n\n  HTMLLegend.prototype.renderTitle = function () {\n    var title = this.get('title');\n\n    if (title) {\n      var prefixClassName = this.get('prefixClassName');\n      var legendContainer = this.get('_legendContainer');\n\n      var titleContainer = _findNodeByClass(legendContainer, prefixClassName + \"-title\");\n\n      if (!titleContainer) {\n        titleContainer = domUtil.createDom(\"<div class=\\\"\" + prefixClassName + \"-title\\\"></div>\");\n        legendContainer.appendChild(titleContainer);\n      }\n\n      titleContainer.innerHTML = title;\n      var titleStyle = Util.deepMix({}, DEFAULT_THEME.titleStyle, this.get('titleStyle'));\n      domUtil.modifyCSS(titleContainer, titleStyle);\n      this.set('_titleContainer', titleContainer);\n    }\n  }; // 渲染图例项\n\n\n  HTMLLegend.prototype.renderItems = function () {\n    var _this = this;\n\n    var items = this.get('items');\n\n    if (!items || !items.length) {\n      return;\n    }\n\n    var legendContainer = this.get('_legendContainer');\n    var layout = this.get('layout');\n    var prefixClassName = this.get('prefixClassName');\n    var reversed = this.get('reversed');\n\n    if (reversed) {\n      items.reverse();\n    }\n\n    var itemGroupContainer = _findNodeByClass(legendContainer, prefixClassName + \"-list\");\n\n    if (!itemGroupContainer) {\n      itemGroupContainer = domUtil.createDom(\"<ul class=\\\"\" + prefixClassName + \"-list\\\"></ul>\");\n    }\n\n    var listStyle = Util.deepMix({}, DEFAULT_THEME.listStyle, this.get('listStyle'));\n\n    if (layout === 'horizontal') {\n      // 使 itemGroupContainer 内容不换行，计算分页时才能比较 scrollWidth 和 offsetWidth 的大小。\n      // @todo ie是否会有兼容问题？\n      listStyle.width = 'max-content';\n    }\n\n    domUtil.modifyCSS(itemGroupContainer, listStyle); // 用于支持分页逻辑\n\n    var clipContainer = domUtil.createDom('<div></div>');\n    legendContainer.appendChild(clipContainer);\n    clipContainer.appendChild(itemGroupContainer);\n    this.set('_clipContainer', clipContainer);\n    this.set('_itemGroupContainer', itemGroupContainer);\n    var itemTpl = this.get('itemTpl');\n\n    if (!itemTpl) {\n      itemTpl = \"<li class=\\\"\" + prefixClassName + \"-item\\\">\\n      <span class=\\\"\" + prefixClassName + \"-item-marker\\\"></span>\\n      <span class=\\\"\" + prefixClassName + \"-item-text\\\"></span>\\n      </li>\";\n    }\n\n    var unSelectedColor = this.get('unSelectedColor');\n    var itemStyle = Util.deepMix({}, DEFAULT_THEME.itemStyle, this.get('itemStyle')); // TODO: 重命名\n\n    var markerStyle = Util.deepMix({}, DEFAULT_THEME.markerStyle, this.get('markerStyle'));\n\n    if (layout === 'horizontal') {\n      itemStyle.display = 'inline-block';\n    } else if (layout === 'vertical') {\n      itemStyle.display = 'block';\n    }\n\n    var itemMap = {};\n    Util.each(items, function (item, index) {\n      var checked = item.checked;\n\n      var value = _this.formatterValue(item.value); // 按照 formatter 配置格式化文本\n\n\n      var originColor = item.marker.fill || item.marker.stroke;\n      var color = checked ? originColor : unSelectedColor;\n      var itemDom;\n\n      if (Util.isFunction(itemTpl)) {\n        // 用户声明了回调\n        var domStr = itemTpl(value, color, checked, index);\n        itemDom = domUtil.createDom(domStr);\n      } else {\n        itemDom = domUtil.createDom(itemTpl);\n\n        var textDom = _findNodeByClass(itemDom, prefixClassName + \"-item-text\");\n\n        textDom.innerHTML = value;\n      }\n\n      itemStyle.color = color; // 设置为当前状态对应的文本颜色\n\n      markerStyle.backgroundColor = color; // 设置为当前状态 marker 的背景色\n\n      domUtil.modifyCSS(itemDom, itemStyle);\n      itemDom.setAttribute('data-checked', checked); // 存储当前的选中状态\n\n      itemDom.setAttribute('data-value', item.value); // 存储 item 的原始值\n\n      itemDom.setAttribute('data-color', originColor); // 存储 item 的原始颜色\n\n      var markerDom = _findNodeByClass(itemDom, prefixClassName + \"-item-marker\");\n\n      if (markerDom) {\n        domUtil.modifyCSS(markerDom, markerStyle);\n      }\n\n      itemGroupContainer.appendChild(itemDom);\n      itemMap[item.value] = item; // 用于快速查找 dom 对应的 item 数据\n    });\n    this.set('_itemMap', itemMap);\n\n    if (layout === 'horizontal') {\n      this._renderHorizontalPagination();\n    } else {\n      this._renderPagination();\n    }\n  };\n\n  HTMLLegend.prototype.bindEvents = function () {\n    var _this = this;\n\n    var itemGroupContainer = this.get('_itemGroupContainer');\n\n    if (!itemGroupContainer) {\n      return;\n    }\n\n    if (this.get('clickable')) {\n      itemGroupContainer.onclick = function (ev) {\n        return _this._onClick(ev);\n      };\n    }\n\n    if (this.get('hoverable')) {\n      itemGroupContainer.onmousemove = function (ev) {\n        return _this._onMousemove(ev);\n      };\n\n      itemGroupContainer.onmouseout = function (ev) {\n        return _this._onMouseout(ev);\n      };\n    }\n  };\n  /**\n   * 获取图例的宽度\n   */\n\n\n  HTMLLegend.prototype.getWidth = function () {\n    var container = this.get('_legendContainer');\n    return domUtil.getOuterWidth(container);\n  };\n  /**\n   * 获取图例的高度\n   */\n\n\n  HTMLLegend.prototype.getHeight = function () {\n    var container = this.get('_legendContainer');\n    return domUtil.getOuterHeight(container);\n  };\n  /**\n   * 获取图例的BBox\n   */\n\n\n  HTMLLegend.prototype.getBBox = function () {\n    return new g_1.BBox(this.get('x') || 0, this.get('y') || 0, this.getWidth(), this.getHeight());\n  };\n  /**\n   * 将图例移动至 (x, y）坐标点位置\n   * @param x x 坐标\n   * @param y y 坐标\n   */\n\n\n  HTMLLegend.prototype.moveTo = function (x, y) {\n    var container = this.get('_legendContainer');\n    domUtil.modifyCSS(container, {\n      left: x + \"px\",\n      top: y + \"px\"\n    });\n    this.set('x', x);\n    this.set('y', y);\n  };\n  /**\n   * 销毁\n   */\n\n\n  HTMLLegend.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var container = this.get('_legendContainer');\n\n    if (container && container.parentNode) {\n      container.parentNode.removeChild(container);\n    }\n  };\n\n  HTMLLegend.prototype.draw = function () {\n    // HTML Legend 不需要调用 canvas.draw();\n    return null;\n  };\n\n  HTMLLegend.prototype._updateStatus = function (itemDom, markerDom, color, checked) {\n    if (markerDom) {\n      markerDom.style.background = color;\n    }\n\n    itemDom.style.color = color;\n    itemDom.setAttribute('data-checked', checked);\n  };\n\n  HTMLLegend.prototype._onClick = function (ev) {\n    var _this = this;\n\n    var items = this.get('items');\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var prefixClassName = this.get('prefixClassName');\n    var LIST_ITEM_CLASS = prefixClassName + \"-item\";\n    var LIST_ITEM_MARKER_CLASS = prefixClassName + \"-item-marker\";\n    var target = ev.target;\n    var targetClassName = target.className.split(' ');\n\n    if (Util.indexOf(targetClassName, prefixClassName + \"-list\") > -1) {\n      // 用户点击到了 list 容器上\n      return;\n    }\n\n    var clickedItemDom = _findParentNode(target, LIST_ITEM_CLASS);\n\n    var markerDom = _findNodeByClass(clickedItemDom, LIST_ITEM_MARKER_CLASS);\n\n    var itemMap = this.get('_itemMap');\n    var clickedItem = itemMap[clickedItemDom.getAttribute('data-value')]; // if (!clickedItem) {\n    //   return;\n    // }\n\n    var originColor = clickedItemDom.getAttribute('data-color');\n    var selectedMode = this.get('selectedMode');\n    var unSelectedColor = this.get('unSelectedColor');\n    var itemNodes = itemGroupContainer.childNodes;\n\n    if (selectedMode === 'single') {\n      // 单选模式\n      clickedItem.checked = true; // 更新选中状态\n      // 其他图例项全部置灰\n\n      Util.each(itemNodes, function (child) {\n        if (child !== clickedItemDom) {\n          // tslint:disable-next-line: no-shadowed-variable\n          var markerDom_1 = _findNodeByClass(child, LIST_ITEM_MARKER_CLASS);\n\n          _this._updateStatus(child, markerDom_1, unSelectedColor, 'false');\n\n          var childItem = itemMap[child.getAttribute('data-value')];\n          childItem.checked = false;\n        } else {\n          _this._updateStatus(clickedItemDom, markerDom, originColor, 'true');\n        }\n      });\n    } else {\n      // 混合模式\n      var isCurrentChecked = clickedItemDom.getAttribute('data-checked') === 'true';\n      var count_1 = 0;\n      Util.each(itemNodes, function (child) {\n        if (child.getAttribute('data-checked') === 'true') {\n          count_1++;\n        }\n      });\n\n      if (!this.get('allowAllCanceled') && isCurrentChecked && count_1 === 1) {\n        return;\n      } // 在判断最后一个图例后再更新checked状态，防止点击最后一个图例item时图例样式没有变化但是checked状态改变了 fix #422\n\n\n      clickedItem.checked = !clickedItem.checked;\n\n      if (isCurrentChecked) {\n        this._updateStatus(clickedItemDom, markerDom, unSelectedColor, 'false');\n      } else {\n        this._updateStatus(clickedItemDom, markerDom, originColor, 'true');\n      }\n    }\n\n    this.emit('itemclick', {\n      item: clickedItem,\n      currentTarget: clickedItemDom,\n      checked: selectedMode === 'single' ? true : clickedItem.checked\n    });\n  };\n\n  HTMLLegend.prototype._onMousemove = function (ev) {\n    var lastActiveItem = this.get('_lastActiveItem');\n    var items = this.get('items');\n    var itemMap = this.get('_itemMap');\n    var prefixClassName = this.get('prefixClassName');\n    var LIST_CLASS = prefixClassName + \"-list\";\n    var LIST_ITEM_CLASS = prefixClassName + \"-item\";\n    var target = ev.target;\n    var targetClassName = target.className.split(' ');\n\n    if (Util.indexOf(targetClassName, LIST_CLASS) > -1) {\n      // 用户 move 到了 list 容器上\n      return;\n    }\n\n    var hoveredItemDom = _findParentNode(target, LIST_ITEM_CLASS);\n\n    var hoveredItem = itemMap[hoveredItemDom.getAttribute('data-value')];\n\n    if (hoveredItem) {\n      var highlight = this.get('highlight');\n\n      if (hoveredItem.checked && lastActiveItem !== hoveredItem) {\n        // 只有选中状态才应用样式\n        hoveredItemDom.className += ' active';\n\n        if (highlight) {\n          // 如果开启高亮效果\n          var itemGroupContainer = this.get('_itemGroupContainer');\n          var itemNodes = itemGroupContainer.childNodes;\n          itemNodes.forEach(function (itemNode) {\n            if (itemNode !== hoveredItemDom && itemNode.getAttribute('data-checked') === 'true') {\n              itemNode.className += ' inactive';\n            }\n          });\n        }\n\n        this.set('_lastActiveItem', hoveredItem);\n      }\n\n      this.emit('itemmouseover', {\n        item: hoveredItem,\n        currentTarget: hoveredItemDom,\n        checked: hoveredItem.checked\n      });\n    }\n  };\n\n  HTMLLegend.prototype._onMouseout = function (ev) {\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var itemNodes = itemGroupContainer.childNodes;\n    itemNodes.forEach(function (node) {\n      var className = node.className.split(' ');\n      Util.remove(className, function (a) {\n        return a === 'active' || a === 'inactive';\n      });\n      node.className = className.join(' ');\n    });\n    this.set('_lastActiveItem', null);\n    this.emit('itemmouseleave', ev);\n  };\n\n  HTMLLegend.prototype._renderPagination = function () {\n    var pagination = this.get('pagination');\n    var legendContainer = this.get('_legendContainer');\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var paginationDomStr = \"\\n      <div style=\\\"position: absolute;bottom: 0;left: 0;user-select: none;margin-top: 5px;\\\">\\n        <div class=\\\"pre-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(-135deg);transform: rotate(-135deg);margin-left: 2px;\\\">\\n        </div>\\n        <span class=\\\"current-page-number\\\">1</span> /  <span class=\\\"total-page-number\\\">0</span>\\n        <div class=\\\"next-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(45deg);transform: rotate(45deg);margin-right: 2px;\\\">\\n        </div>\\n      </div>\\n    \"; // 分页器结构模板，目前不允许自定义\n\n    if (pagination && legendContainer.scrollHeight > legendContainer.offsetHeight) {\n      // 满足分页条件\n      domUtil.modifyCSS(legendContainer, {\n        overflow: 'hidden',\n        height: this.get('maxHeight') + \"px\"\n      }); // 如果允许分页，则禁止滚动\n\n      var paginationDom = domUtil.createDom(paginationDomStr);\n      legendContainer.appendChild(paginationDom);\n      var legendContainerHeight = this.getHeight(); // legend 容器的高度\n\n      var titleHeight = this.get('_titleContainer') ? domUtil.getOuterHeight(this.get('_titleContainer')) : 0; // Legend 标题的高度\n\n      var paginationHeight = domUtil.getOuterHeight(paginationDom); // 分页器的高度\n\n      var itemGroupContainerHeight = legendContainerHeight - titleHeight - paginationHeight; // 获取图例项容器的可视高度\n\n      var itemGroupContainerOffsetHeight = itemGroupContainer.offsetHeight; // 获取图例项实际的高度\n      // 剪切区域的样式设置\n\n      var clipContainer = this.get('_clipContainer');\n      domUtil.modifyCSS(clipContainer, {\n        maxHeight: itemGroupContainerHeight + \"px\",\n        overflow: 'hidden'\n      });\n      var pageSize_1 = Math.ceil(itemGroupContainerOffsetHeight / itemGroupContainerHeight); // 计算页数\n\n      var itemHeight = domUtil.getOuterHeight(itemGroupContainer.childNodes[0]); // 获取每个图例项的高度\n\n      var onePageCount = Math.floor(itemGroupContainerHeight / itemHeight); // 计算一页可完整显示的图例项个数\n\n      var deltaHeight_1 = onePageCount * itemHeight; // 每页滚动的高度\n\n      var currentPageNum_1 = _findNodeByClass(paginationDom, 'current-page-number');\n\n      var totalPageNum = _findNodeByClass(paginationDom, 'total-page-number');\n\n      var prePageButton_1 = _findNodeByClass(paginationDom, 'pre-page');\n\n      var nextPageButton_1 = _findNodeByClass(paginationDom, 'next-page');\n\n      totalPageNum.innerHTML = pageSize_1;\n      var paginationCfg = Util.deepMix({}, DEFAULT_THEME.pagination, pagination);\n      var activeStyle_1 = {\n        cursor: 'pointer',\n        border: paginationCfg.activeColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      var inactiveStyle_1 = {\n        cursor: 'default',\n        border: paginationCfg.inactiveColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      domUtil.modifyCSS(prePageButton_1, inactiveStyle_1);\n      domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n\n      if (paginationCfg.animation) {\n        // 允许分页的滚动动画\n        domUtil.modifyCSS(itemGroupContainer, {\n          transition: 'transform .3s ease-in'\n        });\n      }\n\n      var currentPage_1 = 1;\n      var translateY_1 = 0;\n\n      prePageButton_1.onclick = function () {\n        if (currentPage_1 === 1) {\n          return;\n        }\n\n        currentPage_1 -= 1;\n        translateY_1 += deltaHeight_1;\n        currentPageNum_1.innerHTML = currentPage_1;\n        domUtil.modifyCSS(prePageButton_1, activeStyle_1);\n        domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateY(\" + translateY_1 + \"px)\"\n        });\n\n        if (currentPage_1 === 1) {\n          domUtil.modifyCSS(prePageButton_1, inactiveStyle_1);\n        }\n      };\n\n      nextPageButton_1.onclick = function () {\n        if (currentPage_1 === pageSize_1) {\n          return;\n        }\n\n        currentPage_1 += 1;\n        translateY_1 -= deltaHeight_1;\n        currentPageNum_1.innerHTML = currentPage_1;\n        domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n        domUtil.modifyCSS(prePageButton_1, activeStyle_1);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateY(\" + translateY_1 + \"px)\"\n        });\n\n        if (currentPage_1 === pageSize_1) {\n          domUtil.modifyCSS(nextPageButton_1, inactiveStyle_1);\n        }\n      };\n    }\n  };\n\n  HTMLLegend.prototype._renderHorizontalPagination = function () {\n    var pagination = this.get('pagination');\n    var legendContainer = this.get('_legendContainer');\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var paginationDomStr = \"\\n      <div style=\\\"position: absolute;bottom: 4px;right: 12px;user-select: none;margin-top: 5px;background: #fff;\\\">\\n        <div class=\\\"pre-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(-135deg);transform: rotate(-135deg);margin-left: 2px;\\\">\\n        </div>\\n        <span class=\\\"current-page-number\\\">1</span> /  <span class=\\\"total-page-number\\\">0</span>\\n        <div class=\\\"next-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(45deg);transform: rotate(45deg);margin-right: 2px;\\\">\\n        </div>\\n      </div>\\n    \"; // 分页器结构模板，目前不允许自定义\n\n    if (pagination && legendContainer.scrollWidth > legendContainer.offsetWidth) {\n      // 满足分页条件\n      domUtil.modifyCSS(legendContainer, {\n        overflow: 'hidden',\n        width: this.get('maxWidth') + \"px\"\n      }); // 如果允许分页，则禁止滚动\n\n      var paginationDom = domUtil.createDom(paginationDomStr);\n      legendContainer.appendChild(paginationDom);\n      var legendContainerWidth = this.getWidth(); // legend 容器的宽度\n      // const titleHeight = this.get('_titleContainer') ?\n      // Util.getOuterHeight(this.get('_titleContainer')) : 0;  // Legend 标题的高度\n\n      var paginationWidth = domUtil.getOuterWidth(paginationDom); // 分页器的宽度\n\n      var itemGroupContainerWidth = legendContainerWidth - paginationWidth - 40; // 获取图例项容器的可视宽度\n\n      var itemGroupContainerOffsetWidth = itemGroupContainer.offsetWidth; // 获取图例项实际的宽度\n      // 剪切区域的样式设置\n\n      var clipContainer = this.get('_clipContainer');\n      domUtil.modifyCSS(clipContainer, {\n        maxWidth: itemGroupContainerWidth + \"px\",\n        overflow: 'hidden'\n      });\n      var pageSize_2 = Math.ceil(itemGroupContainerOffsetWidth / itemGroupContainerWidth); // 计算页数\n\n      var itemWidth = domUtil.getOuterWidth(itemGroupContainer.childNodes[0]); // 获取每个图例项的宽度\n      // const onePageCount = Math.floor(itemGroupContainerWidth / itemWidth); // 计算一页可完整显示的图例项个数\n\n      var deltaWidth_1 = itemGroupContainerWidth; // 每页滚动的宽度\n\n      var currentPageNum_2 = _findNodeByClass(paginationDom, 'current-page-number');\n\n      var totalPageNum = _findNodeByClass(paginationDom, 'total-page-number');\n\n      var prePageButton_2 = _findNodeByClass(paginationDom, 'pre-page');\n\n      var nextPageButton_2 = _findNodeByClass(paginationDom, 'next-page');\n\n      totalPageNum.innerHTML = pageSize_2;\n      var paginationCfg = Util.deepMix({}, DEFAULT_THEME.pagination, pagination);\n      var activeStyle_2 = {\n        cursor: 'pointer',\n        border: paginationCfg.activeColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      var inactiveStyle_2 = {\n        cursor: 'default',\n        border: paginationCfg.inactiveColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      domUtil.modifyCSS(prePageButton_2, inactiveStyle_2);\n      domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n\n      if (paginationCfg.animation) {\n        // 允许分页的滚动动画\n        domUtil.modifyCSS(itemGroupContainer, {\n          transition: 'transform .3s ease-in'\n        });\n      }\n\n      var currentPage_2 = 1;\n      var translateX_1 = 0;\n\n      prePageButton_2.onclick = function () {\n        if (currentPage_2 === 1) {\n          return;\n        }\n\n        currentPage_2 -= 1;\n        translateX_1 += deltaWidth_1;\n        currentPageNum_2.innerHTML = currentPage_2;\n        domUtil.modifyCSS(prePageButton_2, activeStyle_2);\n        domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateX(\" + translateX_1 + \"px)\"\n        });\n\n        if (currentPage_2 === 1) {\n          domUtil.modifyCSS(prePageButton_2, inactiveStyle_2);\n        }\n      };\n\n      nextPageButton_2.onclick = function () {\n        if (currentPage_2 === pageSize_2) {\n          return;\n        }\n\n        currentPage_2 += 1;\n        translateX_1 -= deltaWidth_1;\n        currentPageNum_2.innerHTML = currentPage_2;\n        domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n        domUtil.modifyCSS(prePageButton_2, activeStyle_2);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateX(\" + translateX_1 + \"px)\"\n        });\n\n        if (currentPage_2 === pageSize_2) {\n          domUtil.modifyCSS(nextPageButton_2, inactiveStyle_2);\n        }\n      };\n    }\n  };\n\n  return HTMLLegend;\n}(base_1.default);\n\nexports.default = HTMLLegend;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar _ = require(\"@antv/util\");\n\nvar base_1 = require(\"./base\");\n\nvar extended_1 = require(\"./util/extended\");\n\nvar Category =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Category, _super);\n\n  function Category() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Category.prototype.translate = function (value) {\n    var index = _.indexOf(this.values, value);\n\n    if (index === -1) {\n      return _.isNumber(value) ? value : NaN;\n    }\n\n    return index;\n  };\n\n  Category.prototype.scale = function (value) {\n    var order = this.translate(value);\n\n    var percent = this._calcPercent(order, this.min, this.max);\n\n    return this._calcValue(percent, _.head(this.range), _.last(this.range));\n  };\n\n  Category.prototype.invert = function (scaledValue) {\n    if (!_.isNumber(scaledValue)) {\n      return scaledValue;\n    }\n\n    var size = _.size(this.values) - 1;\n\n    var percent = this._calcPercent(scaledValue, _.head(this.range), _.last(this.range));\n\n    var idx = Math.round(size * percent);\n    return this.values[idx];\n  };\n\n  Category.prototype.getText = function (value) {\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    var v = value; // value为index\n\n    if (_.isNumber(value) && !_.includes(this.values, value)) {\n      v = this.values[v];\n    }\n\n    return _super.prototype.getText.apply(this, tslib_1.__spreadArrays([v], args));\n  };\n  /**\n   * ggplot将全数值的定义域视作线性\n   * 再三考虑后，分类型scale还是不再支持这种兼容\n   */\n  // private isAllNumber: boolean;\n\n\n  Category.prototype._initDefaultCfg = function () {\n    this.type = 'cat';\n    this.values = [];\n    this.isCategory = true;\n  };\n\n  Category.prototype._init = function () {\n    var size = _.size(this.values);\n\n    this.min = 0;\n    this.max = size > 1 ? size - 1 : size;\n\n    if (_.isEmpty(this.ticks)) {\n      this.ticks = this._setTicks();\n    }\n  };\n\n  Category.prototype._setTicks = function () {\n    var _this = this;\n\n    var ticks = this.values;\n\n    if (_.isNumber(this.tickInterval)) {\n      return _.filter(ticks, function (__, i) {\n        return i % (_this.tickInterval + 1) === 0;\n      });\n    }\n\n    if (_.isNumber(this.tickCount)) {\n      // 简单过滤，部分情况下小数的倍数也可以是整数\n      var Q_1 = extended_1.ALL_Q.filter(function (n) {\n        return Number.isInteger(n);\n      }); // tslint:disable-next-line: no-shadowed-variable\n\n      var ticks_1 = extended_1.default(this.min, this.max, this.tickCount, false, Q_1).ticks;\n\n      var valid = _.filter(ticks_1, function (tick) {\n        return tick >= _this.min && tick <= _this.max;\n      });\n\n      return valid.map(function (index) {\n        return _this.values[index];\n      });\n    }\n\n    return this.values;\n  };\n\n  return Category;\n}(base_1.default);\n\nexports.default = Category;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar _ = require(\"@antv/util\");\n\nvar base_1 = require(\"./base\");\n\nvar extended_1 = require(\"./util/extended\");\n\nvar Linear =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Linear, _super);\n\n  function Linear() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Linear.prototype.scale = function (_value) {\n    if (_.isNil(_value)) {\n      return NaN;\n    }\n\n    var max = this._transform(this.max);\n\n    var min = this._transform(this.min);\n\n    if (min === max) {\n      // https://github.com/d3/d3-scale/blob/master/src/continuous.js normalize\n      return 0.5;\n    } // min <= value <= max\n\n\n    var value = Math.min(Math.max(this._transform(_value), min), max);\n\n    var percent = this._calcPercent(value, min, max);\n\n    var range0 = _.head(this.range);\n\n    var range1 = _.last(this.range);\n\n    return this._calcValue(percent, range0, range1);\n  };\n\n  Linear.prototype.invert = function (scaled) {\n    var range0 = _.head(this.range);\n\n    var range1 = _.last(this.range);\n\n    var max = this._transform(this.max);\n\n    var min = this._transform(this.min);\n\n    var percent = this._calcPercent(scaled, range0, range1);\n\n    return this._calcValue(percent, min, max);\n  };\n\n  Linear.prototype._initDefaultCfg = function () {\n    this.values = [];\n    this.type = 'linear';\n    this.isLinear = true;\n    this.nice = true;\n    this.tickCount = 5;\n    this.maxTickCount = 10;\n  };\n\n  Linear.prototype._init = function () {\n    this._setDomain();\n\n    if (_.isEmpty(this.ticks)) {\n      this.ticks = this._setTicks();\n    }\n  };\n\n  Linear.prototype._setDomain = function () {\n    var _a = _.getRange(this.values),\n        min = _a.min,\n        max = _a.max;\n\n    if (_.isNil(this.min)) {\n      this.min = min;\n    }\n\n    if (_.isNil(this.max)) {\n      this.max = max;\n    }\n\n    if (this.min > this.max) {\n      console.error('min should less than max');\n      this.min = min;\n      this.max = max;\n    }\n  };\n\n  Linear.prototype._transform = function (v) {\n    return v;\n  };\n\n  Linear.prototype._setTicks = function () {\n    var _a, _b;\n\n    var _this = this;\n\n    var _c = this._getAlgoParams(),\n        onlyLoose = _c.onlyLoose,\n        Q = _c.Q,\n        w = _c.w,\n        m = _c.m;\n\n    var adjustTicks = [];\n    var tickCnt = m;\n    var minLimit = this.minLimit;\n    var maxLimit = this.maxLimit;\n    var tickMin;\n    var tickMax; // minLimit/maxLimit相同情况处理\n\n    if (!_.isNil(minLimit) && !_.isNil(maxLimit) && minLimit === maxLimit) {\n      console.error('minLimit should less than maxLimit');\n      minLimit = minLimit / 2;\n\n      if (minLimit === 0) {\n        maxLimit = 1;\n      }\n    }\n\n    tickMin = _.isNil(minLimit) ? this.min : this.minLimit;\n    tickMax = _.isNil(maxLimit) ? this.max : this.maxLimit; // 最终的min/max校验和处理\n\n    if (tickMin > tickMax) {\n      console.error('minLimit should less than maxLimit');\n      _a = [tickMax, tickMin], tickMin = _a[0], tickMax = _a[1];\n      _b = [maxLimit, minLimit], minLimit = _b[0], maxLimit = _b[1];\n    }\n\n    do {\n      var _d = extended_1.default(tickMin, tickMax, tickCnt, onlyLoose, Q, w),\n          min = _d.min,\n          max = _d.max,\n          ticks = _d.ticks;\n\n      adjustTicks = [];\n\n      if (this.nice) {\n        this.min = min;\n        this.max = max;\n      } // 修正min/max\n\n\n      if (!_.isNil(minLimit)) {\n        this.min = minLimit;\n      }\n\n      if (!_.isNil(maxLimit)) {\n        this.max = maxLimit;\n      }\n\n      adjustTicks.push(this.min);\n\n      _.each(ticks, function (tick) {\n        if (tick > _this.min && tick < _this.max) {\n          adjustTicks.push(tick);\n        }\n      });\n\n      if (adjustTicks[adjustTicks.length - 1] < this.max) {\n        adjustTicks.push(this.max);\n      } // 如果没有设置 minLimit/maxLimit，就不循环\n\n\n      if (_.isNil(minLimit) && _.isNil(maxLimit)) {\n        break;\n      } // 效果是否已经很好了\n\n\n      if (ticks.indexOf(this.min) >= 0 && ticks.indexOf(this.max) >= 0) {\n        break;\n      }\n\n      tickCnt += 1;\n    } while (tickCnt < this.maxTickCount);\n\n    return adjustTicks;\n  };\n\n  Linear.prototype._getAlgoParams = function () {\n    var _a = this.algoParam || {},\n        onlyLoose = _a.onlyLoose,\n        _Q = _a.Q,\n        w = _a.w;\n\n    var Q = _Q;\n    var m = this.tickCount;\n\n    if (this.minTickInterval) {\n      var interval = Math.abs(this.minTickInterval);\n      var e = Math.floor(Math.log10(interval)); // interval转为 (0, 10) 之间的值\n\n      var i_1 = interval / Math.pow(10, e);\n      Q = extended_1.ALL_Q.filter(function (n) {\n        return n >= i_1;\n      });\n\n      if (!_.includes(Q, i_1)) {\n        Q.push(i_1);\n      } // tickCount也需要相应调整\n\n\n      m = Math.ceil((this.max - this.min) / this.minTickInterval) + 1; // nice numbers数组长度不能<2\n\n      if (Q.length === 1) {\n        Q.push(1);\n      }\n    }\n\n    return {\n      m: m,\n      w: w,\n      Q: Q,\n      onlyLoose: onlyLoose\n    };\n  };\n\n  return Linear;\n}(base_1.default);\n\nexports.default = Linear;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar is_array_1 = require(\"./is-array\");\n\nvar clone = function clone(obj) {\n  if (typeof obj !== 'object' || obj === null) {\n    return obj;\n  }\n\n  var rst;\n\n  if (is_array_1.default(obj)) {\n    rst = [];\n\n    for (var i = 0, l = obj.length; i < l; i++) {\n      if (typeof obj[i] === 'object' && obj[i] != null) {\n        rst[i] = clone(obj[i]);\n      } else {\n        rst[i] = obj[i];\n      }\n    }\n  } else {\n    rst = {};\n\n    for (var k in obj) {\n      if (typeof obj[k] === 'object' && obj[k] != null) {\n        rst[k] = clone(obj[k]);\n      } else {\n        rst[k] = obj[k];\n      }\n    }\n  }\n\n  return rst;\n};\n\nexports.default = clone;","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;\n(function () {\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n  /** Used as the semantic version number. */\n\n  var VERSION = '4.17.15';\n  /** Used as the size to enable large array optimizations. */\n\n  var LARGE_ARRAY_SIZE = 200;\n  /** Error message constants. */\n\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function';\n  /** Used to stand-in for `undefined` hash values. */\n\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n  /** Used as the maximum memoize cache size. */\n\n  var MAX_MEMOIZE_SIZE = 500;\n  /** Used as the internal argument placeholder. */\n\n  var PLACEHOLDER = '__lodash_placeholder__';\n  /** Used to compose bitmasks for cloning. */\n\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n  /** Used to compose bitmasks for value comparisons. */\n\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n  /** Used to compose bitmasks for function metadata. */\n\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n  /** Used as default options for `_.truncate`. */\n\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n  /** Used to indicate the type of lazy iteratees. */\n\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n  /** Used as references for various `Number` constants. */\n\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n  /** Used as references for the maximum length and index of an array. */\n\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n  /** Used to associate wrap methods with their bit flags. */\n\n  var wrapFlags = [['ary', WRAP_ARY_FLAG], ['bind', WRAP_BIND_FLAG], ['bindKey', WRAP_BIND_KEY_FLAG], ['curry', WRAP_CURRY_FLAG], ['curryRight', WRAP_CURRY_RIGHT_FLAG], ['flip', WRAP_FLIP_FLAG], ['partial', WRAP_PARTIAL_FLAG], ['partialRight', WRAP_PARTIAL_RIGHT_FLAG], ['rearg', WRAP_REARG_FLAG]];\n  /** `Object#toString` result references. */\n\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n  /** Used to match empty string literals in compiled template source. */\n\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n  /** Used to match HTML entities and HTML characters. */\n\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n  /** Used to match template delimiters. */\n\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n  /** Used to match property names within property paths. */\n\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n  /** Used to match leading and trailing whitespace. */\n\n  var reTrim = /^\\s+|\\s+$/g,\n      reTrimStart = /^\\s+/,\n      reTrimEnd = /\\s+$/;\n  /** Used to match wrap detail comments. */\n\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n  /** Used to match words composed of alphanumeric characters. */\n\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n  /** Used to match backslashes in property paths. */\n\n  var reEscapeChar = /\\\\(\\\\)?/g;\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n  /** Used to match `RegExp` flags from their coerced string values. */\n\n  var reFlags = /\\w*$/;\n  /** Used to detect bad signed hexadecimal string values. */\n\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n  /** Used to detect binary string values. */\n\n  var reIsBinary = /^0b[01]+$/i;\n  /** Used to detect host constructors (Safari). */\n\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n  /** Used to detect octal string values. */\n\n  var reIsOctal = /^0o[0-7]+$/i;\n  /** Used to detect unsigned integer values. */\n\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n  /** Used to ensure capturing order of template delimiters. */\n\n  var reNoMatch = /($^)/;\n  /** Used to match unescaped characters in compiled string literals. */\n\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n  /** Used to compose unicode character classes. */\n\n  var rsAstralRange = \"\\\\ud800-\\\\udfff\",\n      rsComboMarksRange = \"\\\\u0300-\\\\u036f\",\n      reComboHalfMarksRange = \"\\\\ufe20-\\\\ufe2f\",\n      rsComboSymbolsRange = \"\\\\u20d0-\\\\u20ff\",\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = \"\\\\u2700-\\\\u27bf\",\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = \"\\\\u2000-\\\\u206f\",\n      rsSpaceRange = \" \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\",\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = \"\\\\ufe0e\\\\ufe0f\",\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n  /** Used to compose unicode capture groups. */\n\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = \"\\\\ud83c[\\\\udffb-\\\\udfff]\",\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = \"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",\n      rsSurrPair = \"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = \"\\\\u200d\";\n  /** Used to compose unicode regexes. */\n\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n  /** Used to match apostrophes. */\n\n  var reApos = RegExp(rsApos, 'g');\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n\n  var reComboMark = RegExp(rsCombo, 'g');\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n  /** Used to match complex or compound words. */\n\n  var reUnicodeWord = RegExp([rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')', rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')', rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower, rsUpper + '+' + rsOptContrUpper, rsOrdUpper, rsOrdLower, rsDigits, rsEmoji].join('|'), 'g');\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange + rsComboRange + rsVarRange + ']');\n  /** Used to detect strings that need a more robust regexp to match words. */\n\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n  /** Used to assign default `context` object properties. */\n\n  var contextProps = ['Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array', 'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object', 'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array', 'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap', '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'];\n  /** Used to make template sourceURLs easier to identify. */\n\n  var templateCounter = -1;\n  /** Used to identify `toStringTag` values of typed arrays. */\n\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] = cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] = cloneableTags[boolTag] = cloneableTags[dateTag] = cloneableTags[float32Tag] = cloneableTags[float64Tag] = cloneableTags[int8Tag] = cloneableTags[int16Tag] = cloneableTags[int32Tag] = cloneableTags[mapTag] = cloneableTags[numberTag] = cloneableTags[objectTag] = cloneableTags[regexpTag] = cloneableTags[setTag] = cloneableTags[stringTag] = cloneableTags[symbolTag] = cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] = cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] = cloneableTags[weakMapTag] = false;\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',\n    '\\xc1': 'A',\n    '\\xc2': 'A',\n    '\\xc3': 'A',\n    '\\xc4': 'A',\n    '\\xc5': 'A',\n    '\\xe0': 'a',\n    '\\xe1': 'a',\n    '\\xe2': 'a',\n    '\\xe3': 'a',\n    '\\xe4': 'a',\n    '\\xe5': 'a',\n    '\\xc7': 'C',\n    '\\xe7': 'c',\n    '\\xd0': 'D',\n    '\\xf0': 'd',\n    '\\xc8': 'E',\n    '\\xc9': 'E',\n    '\\xca': 'E',\n    '\\xcb': 'E',\n    '\\xe8': 'e',\n    '\\xe9': 'e',\n    '\\xea': 'e',\n    '\\xeb': 'e',\n    '\\xcc': 'I',\n    '\\xcd': 'I',\n    '\\xce': 'I',\n    '\\xcf': 'I',\n    '\\xec': 'i',\n    '\\xed': 'i',\n    '\\xee': 'i',\n    '\\xef': 'i',\n    '\\xd1': 'N',\n    '\\xf1': 'n',\n    '\\xd2': 'O',\n    '\\xd3': 'O',\n    '\\xd4': 'O',\n    '\\xd5': 'O',\n    '\\xd6': 'O',\n    '\\xd8': 'O',\n    '\\xf2': 'o',\n    '\\xf3': 'o',\n    '\\xf4': 'o',\n    '\\xf5': 'o',\n    '\\xf6': 'o',\n    '\\xf8': 'o',\n    '\\xd9': 'U',\n    '\\xda': 'U',\n    '\\xdb': 'U',\n    '\\xdc': 'U',\n    '\\xf9': 'u',\n    '\\xfa': 'u',\n    '\\xfb': 'u',\n    '\\xfc': 'u',\n    '\\xdd': 'Y',\n    '\\xfd': 'y',\n    '\\xff': 'y',\n    '\\xc6': 'Ae',\n    '\\xe6': 'ae',\n    '\\xde': 'Th',\n    '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    \"\\u0100\": 'A',\n    \"\\u0102\": 'A',\n    \"\\u0104\": 'A',\n    \"\\u0101\": 'a',\n    \"\\u0103\": 'a',\n    \"\\u0105\": 'a',\n    \"\\u0106\": 'C',\n    \"\\u0108\": 'C',\n    \"\\u010A\": 'C',\n    \"\\u010C\": 'C',\n    \"\\u0107\": 'c',\n    \"\\u0109\": 'c',\n    \"\\u010B\": 'c',\n    \"\\u010D\": 'c',\n    \"\\u010E\": 'D',\n    \"\\u0110\": 'D',\n    \"\\u010F\": 'd',\n    \"\\u0111\": 'd',\n    \"\\u0112\": 'E',\n    \"\\u0114\": 'E',\n    \"\\u0116\": 'E',\n    \"\\u0118\": 'E',\n    \"\\u011A\": 'E',\n    \"\\u0113\": 'e',\n    \"\\u0115\": 'e',\n    \"\\u0117\": 'e',\n    \"\\u0119\": 'e',\n    \"\\u011B\": 'e',\n    \"\\u011C\": 'G',\n    \"\\u011E\": 'G',\n    \"\\u0120\": 'G',\n    \"\\u0122\": 'G',\n    \"\\u011D\": 'g',\n    \"\\u011F\": 'g',\n    \"\\u0121\": 'g',\n    \"\\u0123\": 'g',\n    \"\\u0124\": 'H',\n    \"\\u0126\": 'H',\n    \"\\u0125\": 'h',\n    \"\\u0127\": 'h',\n    \"\\u0128\": 'I',\n    \"\\u012A\": 'I',\n    \"\\u012C\": 'I',\n    \"\\u012E\": 'I',\n    \"\\u0130\": 'I',\n    \"\\u0129\": 'i',\n    \"\\u012B\": 'i',\n    \"\\u012D\": 'i',\n    \"\\u012F\": 'i',\n    \"\\u0131\": 'i',\n    \"\\u0134\": 'J',\n    \"\\u0135\": 'j',\n    \"\\u0136\": 'K',\n    \"\\u0137\": 'k',\n    \"\\u0138\": 'k',\n    \"\\u0139\": 'L',\n    \"\\u013B\": 'L',\n    \"\\u013D\": 'L',\n    \"\\u013F\": 'L',\n    \"\\u0141\": 'L',\n    \"\\u013A\": 'l',\n    \"\\u013C\": 'l',\n    \"\\u013E\": 'l',\n    \"\\u0140\": 'l',\n    \"\\u0142\": 'l',\n    \"\\u0143\": 'N',\n    \"\\u0145\": 'N',\n    \"\\u0147\": 'N',\n    \"\\u014A\": 'N',\n    \"\\u0144\": 'n',\n    \"\\u0146\": 'n',\n    \"\\u0148\": 'n',\n    \"\\u014B\": 'n',\n    \"\\u014C\": 'O',\n    \"\\u014E\": 'O',\n    \"\\u0150\": 'O',\n    \"\\u014D\": 'o',\n    \"\\u014F\": 'o',\n    \"\\u0151\": 'o',\n    \"\\u0154\": 'R',\n    \"\\u0156\": 'R',\n    \"\\u0158\": 'R',\n    \"\\u0155\": 'r',\n    \"\\u0157\": 'r',\n    \"\\u0159\": 'r',\n    \"\\u015A\": 'S',\n    \"\\u015C\": 'S',\n    \"\\u015E\": 'S',\n    \"\\u0160\": 'S',\n    \"\\u015B\": 's',\n    \"\\u015D\": 's',\n    \"\\u015F\": 's',\n    \"\\u0161\": 's',\n    \"\\u0162\": 'T',\n    \"\\u0164\": 'T',\n    \"\\u0166\": 'T',\n    \"\\u0163\": 't',\n    \"\\u0165\": 't',\n    \"\\u0167\": 't',\n    \"\\u0168\": 'U',\n    \"\\u016A\": 'U',\n    \"\\u016C\": 'U',\n    \"\\u016E\": 'U',\n    \"\\u0170\": 'U',\n    \"\\u0172\": 'U',\n    \"\\u0169\": 'u',\n    \"\\u016B\": 'u',\n    \"\\u016D\": 'u',\n    \"\\u016F\": 'u',\n    \"\\u0171\": 'u',\n    \"\\u0173\": 'u',\n    \"\\u0174\": 'W',\n    \"\\u0175\": 'w',\n    \"\\u0176\": 'Y',\n    \"\\u0177\": 'y',\n    \"\\u0178\": 'Y',\n    \"\\u0179\": 'Z',\n    \"\\u017B\": 'Z',\n    \"\\u017D\": 'Z',\n    \"\\u017A\": 'z',\n    \"\\u017C\": 'z',\n    \"\\u017E\": 'z',\n    \"\\u0132\": 'IJ',\n    \"\\u0133\": 'ij',\n    \"\\u0152\": 'Oe',\n    \"\\u0153\": 'oe',\n    \"\\u0149\": \"'n\",\n    \"\\u017F\": 's'\n  };\n  /** Used to map characters to HTML entities. */\n\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n  /** Used to map HTML entities to characters. */\n\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n  /** Used to escape characters for inclusion in compiled string literals. */\n\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    \"\\u2028\": 'u2028',\n    \"\\u2029\": 'u2029'\n  };\n  /** Built-in method references without a dependency on `root`. */\n\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n  /** Detect free variable `global` from Node.js. */\n\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n  /** Detect free variable `self`. */\n\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n  /** Used as a reference to the global object. */\n\n  var root = freeGlobal || freeSelf || Function('return this')();\n  /** Detect free variable `exports`. */\n\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n  /** Detect free variable `module`. */\n\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n  /** Detect the popular CommonJS extension `module.exports`. */\n\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n  /** Detect free variable `process` from Node.js. */\n\n  var freeProcess = moduleExports && freeGlobal.process;\n  /** Used to access faster Node.js helpers. */\n\n  var nodeUtil = function () {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      } // Legacy `process.binding('util')` for Node.js < 10.\n\n\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }();\n  /* Node.js helper references. */\n\n\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0:\n        return func.call(thisArg);\n\n      case 1:\n        return func.call(thisArg, args[0]);\n\n      case 2:\n        return func.call(thisArg, args[0], args[1]);\n\n      case 3:\n        return func.call(thisArg, args[0], args[1], args[2]);\n    }\n\n    return func.apply(thisArg, args);\n  }\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n\n\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n\n    return accumulator;\n  }\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n\n\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n\n    return array;\n  }\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n\n\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n\n    return array;\n  }\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n\n\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n\n\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n\n    return result;\n  }\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n\n\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n\n\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n\n\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n\n    return result;\n  }\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n\n\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n\n    return array;\n  }\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n\n\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n\n    return accumulator;\n  }\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n\n\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n\n    return accumulator;\n  }\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n\n\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n\n\n  var asciiSize = baseProperty('length');\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n\n  function asciiToArray(string) {\n    return string.split('');\n  }\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n\n\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n\n\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function (value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n\n\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while (fromRight ? index-- : ++index < length) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n\n    return -1;\n  }\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n\n\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value ? strictIndexOf(array, value, fromIndex) : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n\n\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n\n    return -1;\n  }\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n\n\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n\n\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? baseSum(array, iteratee) / length : NAN;\n  }\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n\n\n  function baseProperty(key) {\n    return function (object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n\n\n  function basePropertyOf(object) {\n    return function (key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n\n\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function (value, index, collection) {\n      accumulator = initAccum ? (initAccum = false, value) : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n\n\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n    array.sort(comparer);\n\n    while (length--) {\n      array[length] = array[length].value;\n    }\n\n    return array;\n  }\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n\n\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n\n      if (current !== undefined) {\n        result = result === undefined ? current : result + current;\n      }\n    }\n\n    return result;\n  }\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n\n\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n\n    return result;\n  }\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n\n\n  function baseToPairs(object, props) {\n    return arrayMap(props, function (key) {\n      return [key, object[key]];\n    });\n  }\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n\n\n  function baseUnary(func) {\n    return function (value) {\n      return func(value);\n    };\n  }\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n\n\n  function baseValues(object, props) {\n    return arrayMap(props, function (key) {\n      return object[key];\n    });\n  }\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n\n\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n\n\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n\n    return index;\n  }\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n\n\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n\n    return index;\n  }\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n\n\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n\n    return result;\n  }\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n\n\n  var deburrLetter = basePropertyOf(deburredLetters);\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n\n\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n\n\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n\n\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n\n\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n\n    return result;\n  }\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n\n\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n    map.forEach(function (value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n\n\n  function overArg(func, transform) {\n    return function (arg) {\n      return func(transform(arg));\n    };\n  }\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n\n\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n\n    return result;\n  }\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n\n\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n    set.forEach(function (value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n\n\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n    set.forEach(function (value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n\n\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n\n    return -1;\n  }\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n\n\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n\n    return index;\n  }\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n\n\n  function stringSize(string) {\n    return hasUnicode(string) ? unicodeSize(string) : asciiSize(string);\n  }\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n\n\n  function stringToArray(string) {\n    return hasUnicode(string) ? unicodeToArray(string) : asciiToArray(string);\n  }\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n\n\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n\n    return result;\n  }\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n\n\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n\n\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n\n\n  var runInContext = function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n    /** Built-in constructor references. */\n\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n    /** Used for built-in method references. */\n\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n    /** Used to detect overreaching core-js shims. */\n\n    var coreJsData = context['__core-js_shared__'];\n    /** Used to resolve the decompiled source of functions. */\n\n    var funcToString = funcProto.toString;\n    /** Used to check objects for own properties. */\n\n    var hasOwnProperty = objectProto.hasOwnProperty;\n    /** Used to generate unique IDs. */\n\n    var idCounter = 0;\n    /** Used to detect methods masquerading as native. */\n\n    var maskSrcKey = function () {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? 'Symbol(src)_1.' + uid : '';\n    }();\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n\n\n    var nativeObjectToString = objectProto.toString;\n    /** Used to infer the `Object` constructor. */\n\n    var objectCtorString = funcToString.call(Object);\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n\n    var oldDash = root._;\n    /** Used to detect if a method is native. */\n\n    var reIsNative = RegExp('^' + funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&').replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\n    /** Built-in value references. */\n\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = function () {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }();\n    /** Mocked built-ins. */\n\n\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n    /* Built-in method references that are verified to be native. */\n\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n    /** Used to store function metadata. */\n\n    var metaMap = WeakMap && new WeakMap();\n    /** Used to lookup unminified function names. */\n\n    var realNames = {};\n    /** Used to detect maps, sets, and weakmaps. */\n\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n    /** Used to convert symbols to primitives and strings. */\n\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n\n      return new LodashWrapper(value);\n    }\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n\n\n    var baseCreate = function () {\n      function object() {}\n\n      return function (proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n\n        object.prototype = proto;\n        var result = new object();\n        object.prototype = undefined;\n        return result;\n      };\n    }();\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n\n\n    function baseLodash() {} // No operation performed.\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n\n\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n\n\n    lodash.templateSettings = {\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    }; // Ensure wrappers are instances of `baseLodash`.\n\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n\n\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n\n\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n\n      return result;\n    }\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n\n\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : start - 1,\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || !isRight && arrLength == length && takeCount == length) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n\n      var result = [];\n\n      outer: while (length-- && resIndex < takeCount) {\n        index += dir;\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n\n        result[resIndex++] = value;\n      }\n\n      return result;\n    } // Ensure `LazyWrapper` is an instance of `baseLodash`.\n\n\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n      this.clear();\n\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n\n\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n\n\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n\n\n    function hashGet(key) {\n      var data = this.__data__;\n\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n\n\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n    }\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n\n\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED : value;\n      return this;\n    } // Add methods to `Hash`.\n\n\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n      this.clear();\n\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n\n\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n\n\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n\n      var lastIndex = data.length - 1;\n\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n\n      --this.size;\n      return true;\n    }\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n\n\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n      return index < 0 ? undefined : data[index][1];\n    }\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n\n\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n\n\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n\n      return this;\n    } // Add methods to `ListCache`.\n\n\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n      this.clear();\n\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n\n\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash(),\n        'map': new (Map || ListCache)(),\n        'string': new Hash()\n      };\n    }\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n\n\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n\n\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n\n\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n\n\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    } // Add methods to `MapCache`.\n\n\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n      this.__data__ = new MapCache();\n\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n\n\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n\n      return this;\n    }\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n\n\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    } // Add methods to `SetCache`.\n\n\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n\n\n    function stackClear() {\n      this.__data__ = new ListCache();\n      this.size = 0;\n    }\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n\n\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n      this.size = data.size;\n      return result;\n    }\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n\n\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n\n\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n\n\n    function stackSet(key, value) {\n      var data = this.__data__;\n\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n\n        if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n\n        data = this.__data__ = new MapCache(pairs);\n      }\n\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    } // Add methods to `Stack`.\n\n\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && ( // Safari 9 has enumerable `arguments.length` in strict mode.\n        key == 'length' || // Node.js 0.10 has enumerable non-index properties on buffers.\n        isBuff && (key == 'offset' || key == 'parent') || // PhantomJS 2 has enumerable non-index properties on typed arrays.\n        isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset') || // Skip index properties.\n        isIndex(key, length)))) {\n          result.push(key);\n        }\n      }\n\n      return result;\n    }\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n\n\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n\n\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n\n\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n\n\n    function assignMergeValue(object, key, value) {\n      if (value !== undefined && !eq(object[key], value) || value === undefined && !(key in object)) {\n        baseAssignValue(object, key, value);\n      }\n    }\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n\n\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) || value === undefined && !(key in object)) {\n        baseAssignValue(object, key, value);\n      }\n    }\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n\n\n    function assocIndexOf(array, key) {\n      var length = array.length;\n\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n\n      return -1;\n    }\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n\n\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function (value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n\n\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n\n\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n\n\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n\n\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n\n\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n\n      return number;\n    }\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n\n\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n\n      if (result !== undefined) {\n        return result;\n      }\n\n      if (!isObject(value)) {\n        return value;\n      }\n\n      var isArr = isArray(value);\n\n      if (isArr) {\n        result = initCloneArray(value);\n\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n\n        if (tag == objectTag || tag == argsTag || isFunc && !object) {\n          result = isFlat || isFunc ? {} : initCloneObject(value);\n\n          if (!isDeep) {\n            return isFlat ? copySymbolsIn(value, baseAssignIn(result, value)) : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      } // Check for circular references and return its corresponding clone.\n\n\n      stack || (stack = new Stack());\n      var stacked = stack.get(value);\n\n      if (stacked) {\n        return stacked;\n      }\n\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function (subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function (subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull ? isFlat ? getAllKeysIn : getAllKeys : isFlat ? keysIn : keys;\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function (subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        } // Recursively populate clone (susceptible to call stack limits).\n\n\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n\n\n    function baseConforms(source) {\n      var props = keys(source);\n      return function (object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n\n\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n\n      if (object == null) {\n        return !length;\n      }\n\n      object = Object(object);\n\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if (value === undefined && !(key in object) || !predicate(value)) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n\n\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n\n      return setTimeout(function () {\n        func.apply(undefined, args);\n      }, wait);\n    }\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n\n\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      } else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n\n      outer: while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n        value = comparator || value !== 0 ? value : 0;\n\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n\n          result.push(value);\n        } else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n\n\n    var baseEach = createBaseEach(baseForOwn);\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function (value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n\n\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined ? current === current && !isSymbol(current) : comparator(current, computed))) {\n          var computed = current,\n              result = value;\n        }\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n\n\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n      start = toInteger(start);\n\n      if (start < 0) {\n        start = -start > length ? 0 : length + start;\n      }\n\n      end = end === undefined || end > length ? length : toInteger(end);\n\n      if (end < 0) {\n        end += length;\n      }\n\n      end = start > end ? 0 : toLength(end);\n\n      while (start < end) {\n        array[start++] = value;\n      }\n\n      return array;\n    }\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n\n\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function (value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n\n\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n\n\n    var baseFor = createBaseFor();\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n\n    var baseForRight = createBaseFor(true);\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n\n\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n\n\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function (key) {\n        return isFunction(object[key]);\n      });\n    }\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n\n\n    function baseGet(object, path) {\n      path = castPath(path, object);\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n\n      return index && index == length ? object : undefined;\n    }\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n\n\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n\n\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n\n      return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\n    }\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n\n\n    function baseGt(value, other) {\n      return value > other;\n    }\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n\n\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n\n\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n\n\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n\n\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || length >= 120 && array.length >= 120) ? new SetCache(othIndex && array) : undefined;\n      }\n\n      array = arrays[0];\n      var index = -1,\n          seen = caches[0];\n\n      outer: while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n        value = comparator || value !== 0 ? value : 0;\n\n        if (!(seen ? cacheHas(seen, computed) : includes(result, computed, comparator))) {\n          othIndex = othLength;\n\n          while (--othIndex) {\n            var cache = caches[othIndex];\n\n            if (!(cache ? cacheHas(cache, computed) : includes(arrays[othIndex], computed, comparator))) {\n              continue outer;\n            }\n          }\n\n          if (seen) {\n            seen.push(computed);\n          }\n\n          result.push(value);\n        }\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n\n\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function (value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n\n\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n\n\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n\n\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n\n\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n\n\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n\n      if (value == null || other == null || !isObjectLike(value) && !isObjectLike(other)) {\n        return value !== value && other !== other;\n      }\n\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n\n\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n\n        objIsArr = true;\n        objIsObj = false;\n      }\n\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack());\n        return objIsArr || isTypedArray(object) ? equalArrays(object, other, bitmask, customizer, equalFunc, stack) : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n          stack || (stack = new Stack());\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n\n      if (!isSameTag) {\n        return false;\n      }\n\n      stack || (stack = new Stack());\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n\n\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n\n\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n\n      object = Object(object);\n\n      while (index--) {\n        var data = matchData[index];\n\n        if (noCustomizer && data[2] ? data[1] !== object[data[0]] : !(data[0] in object)) {\n          return false;\n        }\n      }\n\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack();\n\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n\n          if (!(result === undefined ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack) : result)) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    }\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n\n\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n\n\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n\n\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n\n\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n\n\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n\n      if (value == null) {\n        return identity;\n      }\n\n      if (typeof value == 'object') {\n        return isArray(value) ? baseMatchesProperty(value[0], value[1]) : baseMatches(value);\n      }\n\n      return property(value);\n    }\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n\n\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n\n      var result = [];\n\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n\n\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n\n\n    function baseLt(value, other) {\n      return value < other;\n    }\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n\n\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n      baseEach(collection, function (value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n\n\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n\n      return function (object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n\n\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n\n      return function (object) {\n        var objValue = get(object, path);\n        return objValue === undefined && objValue === srcValue ? hasIn(object, path) : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n\n\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n\n      baseFor(source, function (srcValue, key) {\n        stack || (stack = new Stack());\n\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        } else {\n          var newValue = customizer ? customizer(safeGet(object, key), srcValue, key + '', object, source, stack) : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n\n\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n\n      var newValue = customizer ? customizer(objValue, srcValue, key + '', object, source, stack) : undefined;\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n        newValue = srcValue;\n\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          } else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          } else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          } else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          } else {\n            newValue = [];\n          }\n        } else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          } else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        } else {\n          isCommon = false;\n        }\n      }\n\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n\n      assignMergeValue(object, key, newValue);\n    }\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n\n\n    function baseNth(array, n) {\n      var length = array.length;\n\n      if (!length) {\n        return;\n      }\n\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n\n\n    function baseOrderBy(collection, iteratees, orders) {\n      var index = -1;\n      iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(getIteratee()));\n      var result = baseMap(collection, function (value, key, collection) {\n        var criteria = arrayMap(iteratees, function (iteratee) {\n          return iteratee(value);\n        });\n        return {\n          'criteria': criteria,\n          'index': ++index,\n          'value': value\n        };\n      });\n      return baseSortBy(result, function (object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n\n\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function (value, path) {\n        return hasIn(object, path);\n      });\n    }\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n\n\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n\n      return result;\n    }\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n\n\n    function basePropertyDeep(path) {\n      return function (object) {\n        return baseGet(object, path);\n      };\n    }\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n\n\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n\n          splice.call(array, fromIndex, 1);\n        }\n      }\n\n      return array;\n    }\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n\n\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n\n      return array;\n    }\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n\n\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n\n\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n\n\n    function baseRepeat(string, n) {\n      var result = '';\n\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      } // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n\n\n      do {\n        if (n % 2) {\n          result += string;\n        }\n\n        n = nativeFloor(n / 2);\n\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n\n\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n\n\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n\n\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n\n\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n\n      path = castPath(path, object);\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n\n          if (newValue === undefined) {\n            newValue = isObject(objValue) ? objValue : isIndex(path[index + 1]) ? [] : {};\n          }\n        }\n\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n\n      return object;\n    }\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n\n\n    var baseSetData = !metaMap ? identity : function (func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n\n    var baseSetToString = !defineProperty ? identity : function (func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n\n\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : length + start;\n      }\n\n      end = end > length ? length : end;\n\n      if (end < 0) {\n        end += length;\n      }\n\n      length = start > end ? 0 : end - start >>> 0;\n      start >>>= 0;\n      var result = Array(length);\n\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n\n\n    function baseSome(collection, predicate) {\n      var result;\n      baseEach(collection, function (value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n\n\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = low + high >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) && (retHighest ? computed <= value : computed < value)) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n\n        return high;\n      }\n\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n\n\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n      var low = 0,\n          high = array == null ? 0 : array.length,\n          valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? computed <= value : computed < value;\n        }\n\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n\n\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n\n\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n\n      if (isSymbol(value)) {\n        return NAN;\n      }\n\n      return +value;\n    }\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n\n\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n\n      var result = value + '';\n      return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n    }\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n\n\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      } else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n\n        if (set) {\n          return setToArray(set);\n        }\n\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache();\n      } else {\n        seen = iteratee ? [] : result;\n      }\n\n      outer: while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n        value = comparator || value !== 0 ? value : 0;\n\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n\n          if (iteratee) {\n            seen.push(computed);\n          }\n\n          result.push(value);\n        } else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n\n          result.push(value);\n        }\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n\n\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n\n\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n\n\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) && predicate(array[index], index, array)) {}\n\n      return isDrop ? baseSlice(array, fromRight ? 0 : index, fromRight ? index + 1 : length) : baseSlice(array, fromRight ? index + 1 : 0, fromRight ? length : index);\n    }\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n\n\n    function baseWrapperValue(value, actions) {\n      var result = value;\n\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n\n      return arrayReduce(actions, function (result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n\n\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n\n\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n\n      return result;\n    }\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n\n\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n\n\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n\n\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n\n\n    var castRest = baseRest;\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return !start && end >= length ? array : baseSlice(array, start, end);\n    }\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n\n\n    var clearTimeout = ctxClearTimeout || function (id) {\n      return root.clearTimeout(id);\n    };\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n\n\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n      buffer.copy(result);\n      return result;\n    }\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n\n\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n\n\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n\n\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n\n\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n\n\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n\n\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if (!othIsNull && !othIsSymbol && !valIsSymbol && value > other || valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol || valIsNull && othIsDefined && othIsReflexive || !valIsDefined && othIsReflexive || !valIsReflexive) {\n          return 1;\n        }\n\n        if (!valIsNull && !valIsSymbol && !othIsSymbol && value < other || othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol || othIsNull && valIsDefined && valIsReflexive || !othIsDefined && valIsReflexive || !othIsReflexive) {\n          return -1;\n        }\n      }\n\n      return 0;\n    }\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n\n\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      } // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n\n\n      return object.index - other.index;\n    }\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n\n\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n\n      return result;\n    }\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n\n\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n\n      var offset = argsIndex;\n\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n\n      return result;\n    }\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n\n\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n      array || (array = Array(length));\n\n      while (++index < length) {\n        array[index] = source[index];\n      }\n\n      return array;\n    }\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n\n\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n        var newValue = customizer ? customizer(object[key], source[key], key, object, source) : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n\n      return object;\n    }\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n\n\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n\n\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n\n\n    function createAggregator(setter, initializer) {\n      return function (collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n\n\n    function createAssigner(assigner) {\n      return baseRest(function (object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n        customizer = assigner.length > 3 && typeof customizer == 'function' ? (length--, customizer) : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n\n        object = Object(object);\n\n        while (++index < length) {\n          var source = sources[index];\n\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n\n        return object;\n      });\n    }\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n\n\n    function createBaseEach(eachFunc, fromRight) {\n      return function (collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while (fromRight ? index-- : ++index < length) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n\n        return collection;\n      };\n    }\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n\n\n    function createBaseFor(fromRight) {\n      return function (object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n\n        return object;\n      };\n    }\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n\n\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = this && this !== root && this instanceof wrapper ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n\n      return wrapper;\n    }\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n\n\n    function createCaseFirst(methodName) {\n      return function (string) {\n        string = toString(string);\n        var strSymbols = hasUnicode(string) ? stringToArray(string) : undefined;\n        var chr = strSymbols ? strSymbols[0] : string.charAt(0);\n        var trailing = strSymbols ? castSlice(strSymbols, 1).join('') : string.slice(1);\n        return chr[methodName]() + trailing;\n      };\n    }\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n\n\n    function createCompounder(callback) {\n      return function (string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n\n\n    function createCtor(Ctor) {\n      return function () {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n\n        switch (args.length) {\n          case 0:\n            return new Ctor();\n\n          case 1:\n            return new Ctor(args[0]);\n\n          case 2:\n            return new Ctor(args[0], args[1]);\n\n          case 3:\n            return new Ctor(args[0], args[1], args[2]);\n\n          case 4:\n            return new Ctor(args[0], args[1], args[2], args[3]);\n\n          case 5:\n            return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n\n          case 6:\n            return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n\n          case 7:\n            return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args); // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n\n\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n\n        var holders = length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder ? [] : replaceHolders(args, placeholder);\n        length -= holders.length;\n\n        if (length < arity) {\n          return createRecurry(func, bitmask, createHybrid, wrapper.placeholder, undefined, args, holders, undefined, undefined, arity - length);\n        }\n\n        var fn = this && this !== root && this instanceof wrapper ? Ctor : func;\n        return apply(fn, this, args);\n      }\n\n      return wrapper;\n    }\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n\n\n    function createFind(findIndexFunc) {\n      return function (collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n\n          predicate = function predicate(key) {\n            return iteratee(iterable[key], key, iterable);\n          };\n        }\n\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n\n\n    function createFlow(fromRight) {\n      return flatRest(function (funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n\n        while (index--) {\n          var func = funcs[index];\n\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n\n        index = wrapper ? index : length;\n\n        while (++index < length) {\n          func = funcs[index];\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) && data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) && !data[4].length && data[9] == 1) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = func.length == 1 && isLaziable(func) ? wrapper[funcName]() : wrapper.thru(func);\n          }\n        }\n\n        return function () {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n\n          return result;\n        };\n      });\n    }\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n\n\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n\n        length -= holdersCount;\n\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(func, bitmask, createHybrid, wrapper.placeholder, thisArg, args, newHolders, argPos, ary, arity - length);\n        }\n\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n        length = args.length;\n\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n\n        return fn.apply(thisBinding, args);\n      }\n\n      return wrapper;\n    }\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n\n\n    function createInverter(setter, toIteratee) {\n      return function (object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n\n\n    function createMathOperation(operator, defaultValue) {\n      return function (value, other) {\n        var result;\n\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n\n        if (value !== undefined) {\n          result = value;\n        }\n\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n\n          result = operator(value, other);\n        }\n\n        return result;\n      };\n    }\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n\n\n    function createOver(arrayFunc) {\n      return flatRest(function (iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function (args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function (iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n\n\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n      var charsLength = chars.length;\n\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars) ? castSlice(stringToArray(result), 0, length).join('') : result.slice(0, length);\n    }\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n\n\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = this && this !== root && this instanceof wrapper ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n\n      return wrapper;\n    }\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n\n\n    function createRange(fromRight) {\n      return function (start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        } // Ensure the sign of `-0` is preserved.\n\n\n        start = toFinite(start);\n\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n\n        step = step === undefined ? start < end ? 1 : -1 : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n\n\n    function createRelationalOperation(operator) {\n      return function (value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n\n        return operator(value, other);\n      };\n    }\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n\n\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n      bitmask |= isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG;\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n\n      var newData = [func, bitmask, thisArg, newPartials, newHolders, newPartialsRight, newHoldersRight, argPos, ary, arity];\n      var result = wrapFunc.apply(undefined, newData);\n\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n\n\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function (number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n\n        return func(number);\n      };\n    }\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n\n\n    var createSet = !(Set && 1 / setToArray(new Set([, -0]))[1] == INFINITY) ? noop : function (values) {\n      return new Set(values);\n    };\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n\n    function createToPairs(keysFunc) {\n      return function (object) {\n        var tag = getTag(object);\n\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n\n\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n\n      var length = partials ? partials.length : 0;\n\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n        partials = holders = undefined;\n      }\n\n      var data = isBindKey ? undefined : getData(func);\n      var newData = [func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined ? isBindKey ? 0 : func.length : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n\n\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined || eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key)) {\n        return srcValue;\n      }\n\n      return objValue;\n    }\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n\n\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n\n      return objValue;\n    }\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n\n\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n\n\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      } // Assume cyclic values are equal.\n\n\n      var stacked = stack.get(array);\n\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n\n      var index = -1,\n          result = true,\n          seen = bitmask & COMPARE_UNORDERED_FLAG ? new SetCache() : undefined;\n      stack.set(array, other);\n      stack.set(other, array); // Ignore non-index properties.\n\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial ? customizer(othValue, arrValue, index, other, array, stack) : customizer(arrValue, othValue, index, array, other, stack);\n        }\n\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n\n          result = false;\n          break;\n        } // Recursively compare arrays (susceptible to call stack limits).\n\n\n        if (seen) {\n          if (!arraySome(other, function (othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) && (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n            result = false;\n            break;\n          }\n        } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n          result = false;\n          break;\n        }\n      }\n\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n\n\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {\n            return false;\n          }\n\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if (object.byteLength != other.byteLength || !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == other + '';\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          } // Assume cyclic values are equal.\n\n\n          var stacked = stack.get(object);\n\n          if (stacked) {\n            return stacked == other;\n          }\n\n          bitmask |= COMPARE_UNORDERED_FLAG; // Recursively compare objects (susceptible to call stack limits).\n\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n\n      }\n\n      return false;\n    }\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n\n\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n\n      var index = objLength;\n\n      while (index--) {\n        var key = objProps[index];\n\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      } // Assume cyclic values are equal.\n\n\n      var stacked = stack.get(object);\n\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n      var skipCtor = isPartial;\n\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);\n        } // Recursively compare objects (susceptible to call stack limits).\n\n\n        if (!(compared === undefined ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) : compared)) {\n          result = false;\n          break;\n        }\n\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor; // Non `Object` object instances with different constructors are not equal.\n\n        if (objCtor != othCtor && 'constructor' in object && 'constructor' in other && !(typeof objCtor == 'function' && objCtor instanceof objCtor && typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n\n\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n\n\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n\n\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n\n\n    var getData = !metaMap ? noop : function (func) {\n      return metaMap.get(func);\n    };\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n\n    function getFuncName(func) {\n      var result = func.name + '',\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n\n      return result;\n    }\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n\n\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n\n\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n\n\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key) ? data[typeof key == 'string' ? 'string' : 'hash'] : data.map;\n    }\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n\n\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n\n      return result;\n    }\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n\n\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n\n\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n\n      return result;\n    }\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n\n\n    var getSymbols = !nativeGetSymbols ? stubArray : function (object) {\n      if (object == null) {\n        return [];\n      }\n\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function (symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function (object) {\n      var result = [];\n\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n\n      return result;\n    };\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n\n    var getTag = baseGetTag; // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n\n    if (DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag || Map && getTag(new Map()) != mapTag || Promise && getTag(Promise.resolve()) != promiseTag || Set && getTag(new Set()) != setTag || WeakMap && getTag(new WeakMap()) != weakMapTag) {\n      getTag = function getTag(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString:\n              return dataViewTag;\n\n            case mapCtorString:\n              return mapTag;\n\n            case promiseCtorString:\n              return promiseTag;\n\n            case setCtorString:\n              return setTag;\n\n            case weakMapCtorString:\n              return weakMapTag;\n          }\n        }\n\n        return result;\n      };\n    }\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n\n\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':\n            start += size;\n            break;\n\n          case 'dropRight':\n            end -= size;\n            break;\n\n          case 'take':\n            end = nativeMin(end, start + size);\n            break;\n\n          case 'takeRight':\n            start = nativeMax(start, end - size);\n            break;\n        }\n      }\n\n      return {\n        'start': start,\n        'end': end\n      };\n    }\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n\n\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n\n\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n\n        object = object[key];\n      }\n\n      if (result || ++index != length) {\n        return result;\n      }\n\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) && (isArray(object) || isArguments(object));\n    }\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n\n\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length); // Add properties assigned by `RegExp#exec`.\n\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n\n      return result;\n    }\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n\n\n    function initCloneObject(object) {\n      return typeof object.constructor == 'function' && !isPrototype(object) ? baseCreate(getPrototype(object)) : {};\n    }\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n\n\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag:\n        case float64Tag:\n        case int8Tag:\n        case int16Tag:\n        case int32Tag:\n        case uint8Tag:\n        case uint8ClampedTag:\n        case uint16Tag:\n        case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor();\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor();\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n\n\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n\n      if (!length) {\n        return source;\n      }\n\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n\n\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n\n\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n      return !!length && (type == 'number' || type != 'symbol' && reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;\n    }\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n\n\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n\n      var type = typeof index;\n\n      if (type == 'number' ? isArrayLike(object) && isIndex(index, object.length) : type == 'string' && index in object) {\n        return eq(object[index], value);\n      }\n\n      return false;\n    }\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n\n\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n\n      var type = typeof value;\n\n      if (type == 'number' || type == 'symbol' || type == 'boolean' || value == null || isSymbol(value)) {\n        return true;\n      }\n\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object != null && value in Object(object);\n    }\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n\n\n    function isKeyable(value) {\n      var type = typeof value;\n      return type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean' ? value !== '__proto__' : value === null;\n    }\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n\n\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n\n      if (func === other) {\n        return true;\n      }\n\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n\n\n    function isMasked(func) {\n      return !!maskSrcKey && maskSrcKey in func;\n    }\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n\n\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = typeof Ctor == 'function' && Ctor.prototype || objectProto;\n      return value === proto;\n    }\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n\n\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n\n\n    function matchesStrictComparable(key, srcValue) {\n      return function (object) {\n        if (object == null) {\n          return false;\n        }\n\n        return object[key] === srcValue && (srcValue !== undefined || key in Object(object));\n      };\n    }\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n\n\n    function memoizeCapped(func) {\n      var result = memoize(func, function (key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n\n        return key;\n      });\n      var cache = result.cache;\n      return result;\n    }\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n\n\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n      var isCombo = srcBitmask == WRAP_ARY_FLAG && bitmask == WRAP_CURRY_FLAG || srcBitmask == WRAP_ARY_FLAG && bitmask == WRAP_REARG_FLAG && data[7].length <= source[8] || srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG) && source[7].length <= source[8] && bitmask == WRAP_CURRY_FLAG; // Exit early if metadata can't be merged.\n\n      if (!(isCommon || isCombo)) {\n        return data;\n      } // Use source `thisArg` if available.\n\n\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2]; // Set when currying a bound function.\n\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      } // Compose partial arguments.\n\n\n      var value = source[3];\n\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      } // Compose partial right arguments.\n\n\n      value = source[5];\n\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      } // Use source `argPos` if available.\n\n\n      value = source[7];\n\n      if (value) {\n        data[7] = value;\n      } // Use source `ary` if it's smaller.\n\n\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      } // Use source `arity` if one is not provided.\n\n\n      if (data[9] == null) {\n        data[9] = source[9];\n      } // Use source `func` and merge bitmasks.\n\n\n      data[0] = source[0];\n      data[1] = newBitmask;\n      return data;\n    }\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n\n\n    function nativeKeysIn(object) {\n      var result = [];\n\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n\n      return result;\n    }\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n\n\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n\n\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? func.length - 1 : start, 0);\n      return function () {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n\n        index = -1;\n        var otherArgs = Array(start + 1);\n\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n\n\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n\n\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n\n      return array;\n    }\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n\n\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n\n\n    var setData = shortOut(baseSetData);\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n\n    var setTimeout = ctxSetTimeout || function (func, wait) {\n      return root.setTimeout(func, wait);\n    };\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n\n\n    var setToString = shortOut(baseSetToString);\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = reference + '';\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n\n\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n      return function () {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n        lastCalled = stamp;\n\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n\n        return func.apply(undefined, arguments);\n      };\n    }\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n\n\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n      size = size === undefined ? length : size;\n\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n        array[rand] = array[index];\n        array[index] = value;\n      }\n\n      array.length = size;\n      return array;\n    }\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n\n\n    var stringToPath = memoizeCapped(function (string) {\n      var result = [];\n\n      if (string.charCodeAt(0) === 46\n      /* . */\n      ) {\n          result.push('');\n        }\n\n      string.replace(rePropName, function (match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : number || match);\n      });\n      return result;\n    });\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n\n      var result = value + '';\n      return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n    }\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n\n\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n\n        try {\n          return func + '';\n        } catch (e) {}\n      }\n\n      return '';\n    }\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n\n\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function (pair) {\n        var value = '_.' + pair[0];\n\n        if (bitmask & pair[1] && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n\n\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__ = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n\n\n    function chunk(array, size, guard) {\n      if (guard ? isIterateeCall(array, size, guard) : size === undefined) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n\n      var length = array == null ? 0 : array.length;\n\n      if (!length || size < 1) {\n        return [];\n      }\n\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, index += size);\n      }\n\n      return result;\n    }\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n\n\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n\n      return result;\n    }\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n\n\n    function concat() {\n      var length = arguments.length;\n\n      if (!length) {\n        return [];\n      }\n\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n\n\n    var difference = baseRest(function (array, values) {\n      return isArrayLikeObject(array) ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true)) : [];\n    });\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n\n    var differenceBy = baseRest(function (array, values) {\n      var iteratee = last(values);\n\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n\n      return isArrayLikeObject(array) ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2)) : [];\n    });\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n\n    var differenceWith = baseRest(function (array, values) {\n      var comparator = last(values);\n\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n\n      return isArrayLikeObject(array) ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator) : [];\n    });\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n\n      if (!length) {\n        return [];\n      }\n\n      n = guard || n === undefined ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n\n\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n\n      if (!length) {\n        return [];\n      }\n\n      n = guard || n === undefined ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n\n\n    function dropRightWhile(array, predicate) {\n      return array && array.length ? baseWhile(array, getIteratee(predicate, 3), true, true) : [];\n    }\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n\n\n    function dropWhile(array, predicate) {\n      return array && array.length ? baseWhile(array, getIteratee(predicate, 3), true) : [];\n    }\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n\n\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n\n      if (!length) {\n        return [];\n      }\n\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n\n      return baseFill(array, value, start, end);\n    }\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n\n\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n\n      if (!length) {\n        return -1;\n      }\n\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n\n\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n\n      if (!length) {\n        return -1;\n      }\n\n      var index = length - 1;\n\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n\n\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n\n\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n\n\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n\n      if (!length) {\n        return [];\n      }\n\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n\n\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n\n      return result;\n    }\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n\n\n    function head(array) {\n      return array && array.length ? array[0] : undefined;\n    }\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n\n\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n\n      if (!length) {\n        return -1;\n      }\n\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n\n      return baseIndexOf(array, value, index);\n    }\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n\n\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n\n\n    var intersection = baseRest(function (arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return mapped.length && mapped[0] === arrays[0] ? baseIntersection(mapped) : [];\n    });\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n\n    var intersectionBy = baseRest(function (arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n\n      return mapped.length && mapped[0] === arrays[0] ? baseIntersection(mapped, getIteratee(iteratee, 2)) : [];\n    });\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n\n    var intersectionWith = baseRest(function (arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n\n      if (comparator) {\n        mapped.pop();\n      }\n\n      return mapped.length && mapped[0] === arrays[0] ? baseIntersection(mapped, undefined, comparator) : [];\n    });\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n\n\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n\n\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n\n      if (!length) {\n        return -1;\n      }\n\n      var index = length;\n\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n\n      return value === value ? strictLastIndexOf(array, value, index) : baseFindIndex(array, baseIsNaN, index, true);\n    }\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n\n\n    function nth(array, n) {\n      return array && array.length ? baseNth(array, toInteger(n)) : undefined;\n    }\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n\n\n    var pull = baseRest(pullAll);\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n\n    function pullAll(array, values) {\n      return array && array.length && values && values.length ? basePullAll(array, values) : array;\n    }\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n\n\n    function pullAllBy(array, values, iteratee) {\n      return array && array.length && values && values.length ? basePullAll(array, values, getIteratee(iteratee, 2)) : array;\n    }\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n\n\n    function pullAllWith(array, values, comparator) {\n      return array && array.length && values && values.length ? basePullAll(array, values, undefined, comparator) : array;\n    }\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n\n\n    var pullAt = flatRest(function (array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n      basePullAt(array, arrayMap(indexes, function (index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n      return result;\n    });\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n\n    function remove(array, predicate) {\n      var result = [];\n\n      if (!(array && array.length)) {\n        return result;\n      }\n\n      var index = -1,\n          indexes = [],\n          length = array.length;\n      predicate = getIteratee(predicate, 3);\n\n      while (++index < length) {\n        var value = array[index];\n\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n\n      basePullAt(array, indexes);\n      return result;\n    }\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n\n\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n\n\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n\n      if (!length) {\n        return [];\n      }\n\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      } else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n\n      return baseSlice(array, start, end);\n    }\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n\n\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n\n\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n\n\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n\n      if (length) {\n        var index = baseSortedIndex(array, value);\n\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n\n      return -1;\n    }\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n\n\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n\n\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n\n\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n\n      return -1;\n    }\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n\n\n    function sortedUniq(array) {\n      return array && array.length ? baseSortedUniq(array) : [];\n    }\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n\n\n    function sortedUniqBy(array, iteratee) {\n      return array && array.length ? baseSortedUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n\n\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n\n\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n\n      n = guard || n === undefined ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n\n\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n\n      if (!length) {\n        return [];\n      }\n\n      n = guard || n === undefined ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n\n\n    function takeRightWhile(array, predicate) {\n      return array && array.length ? baseWhile(array, getIteratee(predicate, 3), false, true) : [];\n    }\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n\n\n    function takeWhile(array, predicate) {\n      return array && array.length ? baseWhile(array, getIteratee(predicate, 3)) : [];\n    }\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n\n\n    var union = baseRest(function (arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n\n    var unionBy = baseRest(function (arrays) {\n      var iteratee = last(arrays);\n\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n\n    var unionWith = baseRest(function (arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n\n    function uniq(array) {\n      return array && array.length ? baseUniq(array) : [];\n    }\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n\n\n    function uniqBy(array, iteratee) {\n      return array && array.length ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n\n\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return array && array.length ? baseUniq(array, undefined, comparator) : [];\n    }\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n\n\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n\n      var length = 0;\n      array = arrayFilter(array, function (group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function (index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n\n\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n\n      var result = unzip(array);\n\n      if (iteratee == null) {\n        return result;\n      }\n\n      return arrayMap(result, function (group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n\n\n    var without = baseRest(function (array, values) {\n      return isArrayLikeObject(array) ? baseDifference(array, values) : [];\n    });\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n\n    var xor = baseRest(function (arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n\n    var xorBy = baseRest(function (arrays) {\n      var iteratee = last(arrays);\n\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n\n    var xorWith = baseRest(function (arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n\n    var zip = baseRest(unzip);\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n\n\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n\n\n    var zipWith = baseRest(function (arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n\n\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n\n\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n\n\n    var wrapperAt = flatRest(function (paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function interceptor(object) {\n        return baseAt(object, paths);\n      };\n\n      if (length > 1 || this.__actions__.length || !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n\n      value = value.slice(start, +start + (length ? 1 : 0));\n\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n\n      return new LodashWrapper(value, this.__chain__).thru(function (array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n\n        return array;\n      });\n    });\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n\n    function wrapperChain() {\n      return chain(this);\n    }\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n\n\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n\n\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n      return {\n        'done': done,\n        'value': value\n      };\n    }\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n\n\n    function wrapperToIterator() {\n      return this;\n    }\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n\n\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n\n      previous.__wrapped__ = value;\n      return result;\n    }\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n\n\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n\n        wrapped = wrapped.reverse();\n\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n\n      return this.thru(reverse);\n    }\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n\n\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n\n\n    var countBy = createAggregator(function (result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n\n      return func(collection, getIteratee(predicate, 3));\n    }\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     */\n\n\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n\n\n    var find = createFind(findIndex);\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n\n    var findLast = createFind(findLastIndex);\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n\n\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n\n\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n\n\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n\n\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n\n\n    var groupBy = createAggregator(function (result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = fromIndex && !guard ? toInteger(fromIndex) : 0;\n      var length = collection.length;\n\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n\n      return isString(collection) ? fromIndex <= length && collection.indexOf(value, fromIndex) > -1 : !!length && baseIndexOf(collection, value, fromIndex) > -1;\n    }\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n\n\n    var invokeMap = baseRest(function (collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n      baseEach(collection, function (value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n\n    var keyBy = createAggregator(function (result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n\n\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n\n      orders = guard ? undefined : orders;\n\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n\n      return baseOrderBy(collection, iteratees, orders);\n    }\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n\n\n    var partition = createAggregator(function (result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function () {\n      return [[], []];\n    });\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n\n\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n\n\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n\n\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n\n\n    function sampleSize(collection, n, guard) {\n      if (guard ? isIterateeCall(collection, n, guard) : n === undefined) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n\n\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n\n\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n\n      var tag = getTag(collection);\n\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n\n      return baseKeys(collection).length;\n    }\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n\n\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n\n      return func(collection, getIteratee(predicate, 3));\n    }\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n     */\n\n\n    var sortBy = baseRest(function (collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n\n      var length = iteratees.length;\n\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n\n    var now = ctxNow || function () {\n      return root.Date.now();\n    };\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n\n\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n\n      n = toInteger(n);\n      return function () {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n\n\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = func && n == null ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n\n\n    function before(n, func) {\n      var result;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n\n      n = toInteger(n);\n      return function () {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n\n        if (n <= 1) {\n          func = undefined;\n        }\n\n        return result;\n      };\n    }\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n\n\n    var bind = baseRest(function (func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n\n    var bindKey = baseRest(function (object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n\n\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n\n\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n\n      wait = toNumber(wait) || 0;\n\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time; // Start the timer for the trailing edge.\n\n        timerId = setTimeout(timerExpired, wait); // Invoke the leading edge.\n\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n        return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n\n        return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n      }\n\n      function timerExpired() {\n        var time = now();\n\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        } // Restart the timer.\n\n\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined; // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n\n        return result;\n      }\n\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n\n\n    var defer = baseRest(function (func, args) {\n      return baseDelay(func, 1, args);\n    });\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n\n    var delay = baseRest(function (func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n\n\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || resolver != null && typeof resolver != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n\n      var memoized = function memoized() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n\n      memoized.cache = new (memoize.Cache || MapCache)();\n      return memoized;\n    } // Expose `MapCache`.\n\n\n    memoize.Cache = MapCache;\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n\n      return function () {\n        var args = arguments;\n\n        switch (args.length) {\n          case 0:\n            return !predicate.call(this);\n\n          case 1:\n            return !predicate.call(this, args[0]);\n\n          case 2:\n            return !predicate.call(this, args[0], args[1]);\n\n          case 3:\n            return !predicate.call(this, args[0], args[1], args[2]);\n        }\n\n        return !predicate.apply(this, args);\n      };\n    }\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n\n\n    function once(func) {\n      return before(2, func);\n    }\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n\n\n    var overArgs = castRest(function (func, transforms) {\n      transforms = transforms.length == 1 && isArray(transforms[0]) ? arrayMap(transforms[0], baseUnary(getIteratee())) : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n      var funcsLength = transforms.length;\n      return baseRest(function (args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n\n        return apply(func, this, args);\n      });\n    });\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n\n    var partial = baseRest(function (func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n\n    var partialRight = baseRest(function (func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n\n    var rearg = flatRest(function (func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n\n\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function (args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n\n        return apply(func, this, otherArgs);\n      });\n    }\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n\n\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n\n\n    function unary(func) {\n      return ary(func, 1);\n    }\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n\n\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n\n\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n\n\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n\n\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n\n\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n\n\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n\n\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n\n\n    function eq(value, other) {\n      return value === other || value !== value && other !== other;\n    }\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n\n\n    var gt = createRelationalOperation(baseGt);\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n\n    var gte = createRelationalOperation(function (value, other) {\n      return value >= other;\n    });\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n\n    var isArguments = baseIsArguments(function () {\n      return arguments;\n    }()) ? baseIsArguments : function (value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n    };\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n\n    var isArray = Array.isArray;\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n\n\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n\n\n    function isBoolean(value) {\n      return value === true || value === false || isObjectLike(value) && baseGetTag(value) == boolTag;\n    }\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n\n\n    var isBuffer = nativeIsBuffer || stubFalse;\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n\n\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n\n      if (isArrayLike(value) && (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' || isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n\n      var tag = getTag(value);\n\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n\n\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n\n\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n\n\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag || typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value);\n    }\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n\n\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n\n\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      } // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n\n\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n\n\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n\n\n    function isLength(value) {\n      return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n\n\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n\n\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n\n\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n\n\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n\n\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n\n\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n\n      return baseIsNative(value);\n    }\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n\n\n    function isNull(value) {\n      return value === null;\n    }\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n\n\n    function isNil(value) {\n      return value == null;\n    }\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n\n\n    function isNumber(value) {\n      return typeof value == 'number' || isObjectLike(value) && baseGetTag(value) == numberTag;\n    }\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n\n\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n\n      var proto = getPrototype(value);\n\n      if (proto === null) {\n        return true;\n      }\n\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString;\n    }\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n\n\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n\n\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n\n    function isString(value) {\n      return typeof value == 'string' || !isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag;\n    }\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n\n\n    function isSymbol(value) {\n      return typeof value == 'symbol' || isObjectLike(value) && baseGetTag(value) == symbolTag;\n    }\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n\n\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n\n    function isUndefined(value) {\n      return value === undefined;\n    }\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n\n\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n\n\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n\n\n    var lt = createRelationalOperation(baseLt);\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n\n    var lte = createRelationalOperation(function (value, other) {\n      return value <= other;\n    });\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : tag == setTag ? setToArray : values;\n      return func(value);\n    }\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n\n\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n\n      value = toNumber(value);\n\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = value < 0 ? -1 : 1;\n        return sign * MAX_INTEGER;\n      }\n\n      return value === value ? value : 0;\n    }\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n\n\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n      return result === result ? remainder ? result - remainder : result : 0;\n    }\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n\n\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n\n\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n\n      if (isSymbol(value)) {\n        return NAN;\n      }\n\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? other + '' : other;\n      }\n\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n\n      value = value.replace(reTrim, '');\n      var isBinary = reIsBinary.test(value);\n      return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n    }\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n\n\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n\n\n    function toSafeInteger(value) {\n      return value ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER) : value === 0 ? value : 0;\n    }\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n\n\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n\n\n    var assign = createAssigner(function (object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n\n    var assignIn = createAssigner(function (object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n\n    var assignInWith = createAssigner(function (object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n\n    var assignWith = createAssigner(function (object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n\n    var at = flatRest(baseAt);\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n\n\n    var defaults = baseRest(function (object, sources) {\n      object = Object(object);\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined || eq(value, objectProto[key]) && !hasOwnProperty.call(object, key)) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n\n    var defaultsDeep = baseRest(function (args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n\n\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n\n\n    function forIn(object, iteratee) {\n      return object == null ? object : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n\n\n    function forInRight(object, iteratee) {\n      return object == null ? object : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n\n\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n\n\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n\n\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n\n\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n\n\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n\n\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n\n\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n\n\n    var invert = createInverter(function (result, value, key) {\n      if (value != null && typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n\n    var invertBy = createInverter(function (result, value, key) {\n      if (value != null && typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n\n    var invoke = baseRest(baseInvoke);\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n\n\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n\n\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n      baseForOwn(object, function (value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n\n\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n      baseForOwn(object, function (value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n\n\n    var merge = createAssigner(function (object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n\n    var mergeWith = createAssigner(function (object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n\n    var omit = flatRest(function (object, paths) {\n      var result = {};\n\n      if (object == null) {\n        return result;\n      }\n\n      var isDeep = false;\n      paths = arrayMap(paths, function (path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n\n      var length = paths.length;\n\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n\n      return result;\n    });\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n\n\n    var pick = flatRest(function (object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n\n      var props = arrayMap(getAllKeysIn(object), function (prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function (value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n\n\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n      var index = -1,\n          length = path.length; // Ensure the loop is entered when path is empty.\n\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n\n        object = isFunction(value) ? value.call(object) : value;\n      }\n\n      return object;\n    }\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n\n\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n\n\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n\n\n    var toPairs = createToPairs(keys);\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n\n    var toPairsIn = createToPairs(keysIn);\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n      iteratee = getIteratee(iteratee, 4);\n\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor() : [];\n        } else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        } else {\n          accumulator = {};\n        }\n      }\n\n      (isArrLike ? arrayEach : baseForOwn)(object, function (value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n\n\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n\n\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n\n\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n\n\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n\n\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n\n\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n\n      return baseClamp(toNumber(number), lower, upper);\n    }\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n\n\n    function inRange(number, start, end) {\n      start = toFinite(start);\n\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n\n\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        } else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      } else {\n        lower = toFinite(lower);\n\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1))), upper);\n      }\n\n      return baseRandom(lower, upper);\n    }\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n\n\n    var camelCase = createCompounder(function (result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n\n\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n\n\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n      var length = string.length;\n      position = position === undefined ? length : baseClamp(toInteger(position), 0, length);\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n\n\n    function escape(string) {\n      string = toString(string);\n      return string && reHasUnescapedHtml.test(string) ? string.replace(reUnescapedHtml, escapeHtmlChar) : string;\n    }\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n\n\n    function escapeRegExp(string) {\n      string = toString(string);\n      return string && reHasRegExpChar.test(string) ? string.replace(reRegExpChar, '\\\\$&') : string;\n    }\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n\n\n    var kebabCase = createCompounder(function (result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n\n    var lowerCase = createCompounder(function (result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n\n    var lowerFirst = createCaseFirst('toLowerCase');\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n      var strLength = length ? stringSize(string) : 0;\n\n      if (!length || strLength >= length) {\n        return string;\n      }\n\n      var mid = (length - strLength) / 2;\n      return createPadding(nativeFloor(mid), chars) + string + createPadding(nativeCeil(mid), chars);\n    }\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n\n\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n      var strLength = length ? stringSize(string) : 0;\n      return length && strLength < length ? string + createPadding(length - strLength, chars) : string;\n    }\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n\n\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n      var strLength = length ? stringSize(string) : 0;\n      return length && strLength < length ? createPadding(length - strLength, chars) + string : string;\n    }\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n\n\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n\n\n    function repeat(string, n, guard) {\n      if (guard ? isIterateeCall(string, n, guard) : n === undefined) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n\n      return baseRepeat(toString(string), n);\n    }\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n\n\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n\n\n    var snakeCase = createCompounder(function (result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n\n      if (!limit) {\n        return [];\n      }\n\n      string = toString(string);\n\n      if (string && (typeof separator == 'string' || separator != null && !isRegExp(separator))) {\n        separator = baseToString(separator);\n\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n\n      return string.split(separator, limit);\n    }\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n\n\n    var startCase = createCompounder(function (result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null ? 0 : baseClamp(toInteger(position), 0, string.length);\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n\n\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\"; // Compile the regexp to match each delimiter.\n\n      var reDelimiters = RegExp((options.escape || reNoMatch).source + '|' + interpolate.source + '|' + (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' + (options.evaluate || reNoMatch).source + '|$', 'g'); // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // with lookup (in case of e.g. prototype pollution), and strip newlines if any.\n      // A newline wouldn't be a valid sourceURL anyway, and it'd enable code injection.\n\n      var sourceURL = '//# sourceURL=' + (hasOwnProperty.call(options, 'sourceURL') ? (options.sourceURL + '').replace(/[\\r\\n]/g, ' ') : 'lodash.templateSources[' + ++templateCounter + ']') + '\\n';\n      string.replace(reDelimiters, function (match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue); // Escape characters that can't be included in string literals.\n\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar); // Replace delimiters with snippets.\n\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n\n        index = offset + match.length; // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n\n        return match;\n      });\n      source += \"';\\n\"; // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      // Like with sourceURL, we take care to not check the option's prototype,\n      // as this configuration is a code injection vector.\n\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      } // Cleanup code by stripping empty strings.\n\n\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source).replace(reEmptyStringMiddle, '$1').replace(reEmptyStringTrailing, '$1;'); // Frame code as the function body.\n\n      source = 'function(' + (variable || 'obj') + ') {\\n' + (variable ? '' : 'obj || (obj = {});\\n') + \"var __t, __p = ''\" + (isEscaping ? ', __e = _.escape' : '') + (isEvaluating ? ', __j = Array.prototype.join;\\n' + \"function print() { __p += __j.call(arguments, '') }\\n\" : ';\\n') + source + 'return __p\\n}';\n      var result = attempt(function () {\n        return Function(importsKeys, sourceURL + 'return ' + source).apply(undefined, importsValues);\n      }); // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n\n      result.source = source;\n\n      if (isError(result)) {\n        throw result;\n      }\n\n      return result;\n    }\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n\n\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n\n\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n\n\n    function trim(string, chars, guard) {\n      string = toString(string);\n\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrim, '');\n      }\n\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n      return castSlice(strSymbols, start, end).join('');\n    }\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n\n\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimEnd, '');\n      }\n\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n      return castSlice(strSymbols, 0, end).join('');\n    }\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n\n\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n      return castSlice(strSymbols, start).join('');\n    }\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n\n\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n\n      string = toString(string);\n      var strLength = string.length;\n\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n\n      if (length >= strLength) {\n        return string;\n      }\n\n      var end = length - stringSize(omission);\n\n      if (end < 1) {\n        return omission;\n      }\n\n      var result = strSymbols ? castSlice(strSymbols, 0, end).join('') : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n\n      if (strSymbols) {\n        end += result.length - end;\n      }\n\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n\n          separator.lastIndex = 0;\n\n          while (match = separator.exec(substring)) {\n            var newEnd = match.index;\n          }\n\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n\n      return result + omission;\n    }\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n\n\n    function unescape(string) {\n      string = toString(string);\n      return string && reHasEscapedHtml.test(string) ? string.replace(reEscapedHtml, unescapeHtmlChar) : string;\n    }\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n\n\n    var upperCase = createCompounder(function (result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n\n    var upperFirst = createCaseFirst('toUpperCase');\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n\n      return string.match(pattern) || [];\n    }\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n\n\n    var attempt = baseRest(function (func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n\n    var bindAll = flatRest(function (object, methodNames) {\n      arrayEach(methodNames, function (key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n      pairs = !length ? [] : arrayMap(pairs, function (pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n\n        return [toIteratee(pair[0]), pair[1]];\n      });\n      return baseRest(function (args) {\n        var index = -1;\n\n        while (++index < length) {\n          var pair = pairs[index];\n\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n\n\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n\n\n    function constant(value) {\n      return function () {\n        return value;\n      };\n    }\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n\n\n    function defaultTo(value, defaultValue) {\n      return value == null || value !== value ? defaultValue : value;\n    }\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n\n\n    var flow = createFlow();\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n\n    var flowRight = createFlow(true);\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n\n    function identity(value) {\n      return value;\n    }\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n\n\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     */\n\n\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     */\n\n\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n\n\n    var method = baseRest(function (path, args) {\n      return function (object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n\n    var methodOf = baseRest(function (object, args) {\n      return function (path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null && !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n      arrayEach(methodNames, function (methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n\n        if (isFunc) {\n          object.prototype[methodName] = function () {\n            var chainAll = this.__chain__;\n\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n              actions.push({\n                'func': func,\n                'args': arguments,\n                'thisArg': object\n              });\n              result.__chain__ = chainAll;\n              return result;\n            }\n\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n      return object;\n    }\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n\n\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n\n      return this;\n    }\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n\n\n    function noop() {} // No operation performed.\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n\n\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function (args) {\n        return baseNth(args, n);\n      });\n    }\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n\n\n    var over = createOver(arrayMap);\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n\n    var overEvery = createOver(arrayEvery);\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     */\n\n    var overSome = createOver(arraySome);\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n\n\n    function propertyOf(object) {\n      return function (path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n\n\n    var range = createRange();\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n\n    var rangeRight = createRange(true);\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n\n    function stubArray() {\n      return [];\n    }\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n\n\n    function stubFalse() {\n      return false;\n    }\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n\n\n    function stubObject() {\n      return {};\n    }\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n\n\n    function stubString() {\n      return '';\n    }\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n\n\n    function stubTrue() {\n      return true;\n    }\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n\n\n    function times(n, iteratee) {\n      n = toInteger(n);\n\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n      var result = baseTimes(length, iteratee);\n\n      while (++index < n) {\n        iteratee(index);\n      }\n\n      return result;\n    }\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n\n\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n\n\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n\n\n    var add = createMathOperation(function (augend, addend) {\n      return augend + addend;\n    }, 0);\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n\n    var ceil = createRound('ceil');\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n\n    var divide = createMathOperation(function (dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n\n    var floor = createRound('floor');\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n\n    function max(array) {\n      return array && array.length ? baseExtremum(array, identity, baseGt) : undefined;\n    }\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n\n\n    function maxBy(array, iteratee) {\n      return array && array.length ? baseExtremum(array, getIteratee(iteratee, 2), baseGt) : undefined;\n    }\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n\n\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n\n\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n\n\n    function min(array) {\n      return array && array.length ? baseExtremum(array, identity, baseLt) : undefined;\n    }\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n\n\n    function minBy(array, iteratee) {\n      return array && array.length ? baseExtremum(array, getIteratee(iteratee, 2), baseLt) : undefined;\n    }\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n\n\n    var multiply = createMathOperation(function (multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n\n    var round = createRound('round');\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n\n    var subtract = createMathOperation(function (minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n\n    function sum(array) {\n      return array && array.length ? baseSum(array, identity) : 0;\n    }\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n\n\n    function sumBy(array, iteratee) {\n      return array && array.length ? baseSum(array, getIteratee(iteratee, 2)) : 0;\n    }\n    /*------------------------------------------------------------------------*/\n    // Add methods that return wrapped values in chain sequences.\n\n\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith; // Add aliases.\n\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith; // Add methods to `lodash.prototype`.\n\n    mixin(lodash, lodash);\n    /*------------------------------------------------------------------------*/\n    // Add methods that return unwrapped values in chain sequences.\n\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst; // Add aliases.\n\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n    mixin(lodash, function () {\n      var source = {};\n      baseForOwn(lodash, function (func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }(), {\n      'chain': false\n    });\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n\n    lodash.VERSION = VERSION; // Assign default placeholders.\n\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function (methodName) {\n      lodash[methodName].placeholder = lodash;\n    }); // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n\n    arrayEach(['drop', 'take'], function (methodName, index) {\n      LazyWrapper.prototype[methodName] = function (n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n        var result = this.__filtered__ && !index ? new LazyWrapper(this) : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function (n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    }); // Add `LazyWrapper` methods that accept an `iteratee` value.\n\n    arrayEach(['filter', 'map', 'takeWhile'], function (methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function (iteratee) {\n        var result = this.clone();\n\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    }); // Add `LazyWrapper` methods for `_.head` and `_.last`.\n\n    arrayEach(['head', 'last'], function (methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function () {\n        return this[takeName](1).value()[0];\n      };\n    }); // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n\n    arrayEach(['initial', 'tail'], function (methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function () {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function () {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function (predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function (predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function (path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n\n      return this.map(function (value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function (predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function (start, end) {\n      start = toInteger(start);\n      var result = this;\n\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function (predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function () {\n      return this.take(MAX_ARRAY_LENGTH);\n    }; // Add `LazyWrapper` methods to `lodash.prototype`.\n\n\n    baseForOwn(LazyWrapper.prototype, function (func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? 'take' + (methodName == 'last' ? 'Right' : '') : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n\n      lodash.prototype[methodName] = function () {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function interceptor(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return isTaker && chainAll ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n\n          result.__actions__.push({\n            'func': thru,\n            'args': [interceptor],\n            'thisArg': undefined\n          });\n\n          return new LodashWrapper(result, chainAll);\n        }\n\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n\n        result = this.thru(interceptor);\n        return isUnwrapped ? isTaker ? result.value()[0] : result.value() : result;\n      };\n    }); // Add `Array` methods to `lodash.prototype`.\n\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function (methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function () {\n        var args = arguments;\n\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n\n        return this[chainName](function (value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    }); // Map minified method names to their real names.\n\n    baseForOwn(LazyWrapper.prototype, function (func, methodName) {\n      var lodashFunc = lodash[methodName];\n\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n\n        realNames[key].push({\n          'name': methodName,\n          'func': lodashFunc\n        });\n      }\n    });\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }]; // Add methods to `LazyWrapper`.\n\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue; // Add chain sequence methods to the `lodash` wrapper.\n\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue; // Add lazy aliases.\n\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n\n    return lodash;\n  };\n  /*--------------------------------------------------------------------------*/\n  // Export lodash.\n\n\n  var _ = runInContext(); // Some AMD build optimizers, like r.js, check for condition patterns like:\n\n\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _; // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n\n    define(function () {\n      return _;\n    });\n  } // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n      // Export for Node.js.\n      (freeModule.exports = _)._ = _; // Export for CommonJS support.\n\n      freeExports._ = _;\n    } else {\n      // Export to the global object.\n      root._ = _;\n    }\n}).call(this);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar domUtil = require(\"@antv/dom-util\");\n\nvar Util = require(\"@antv/util\");\n\nvar base_1 = require(\"./base\");\n\nvar crosshair_1 = require(\"./crosshair\");\n\nvar theme_1 = require(\"./theme\");\n\nvar position_1 = require(\"./util/position\");\n\nvar CONTAINER_CLASS = 'g2-tooltip';\nvar TITLE_CLASS = 'g2-tooltip-title';\nvar LIST_CLASS = 'g2-tooltip-list';\nvar MARKER_CLASS = 'g2-tooltip-marker';\nvar VALUE_CLASS = 'g2-tooltip-value';\nvar LIST_ITEM_CLASS = 'g2-tooltip-list-item';\n\nvar find = function find(dom, cls) {\n  return dom.getElementsByClassName(cls)[0];\n};\n\nvar mergeStyles = function mergeStyles(styles, cfg) {\n  // todo\n  Object.keys(styles).forEach(function (k) {\n    if (cfg[k]) {\n      styles[k] = Util.mix(styles[k], cfg[k]);\n    }\n  });\n  return styles;\n};\n\nvar HtmlTooltip =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(HtmlTooltip, _super);\n\n  function HtmlTooltip(cfg) {\n    var _this = _super.call(this, tslib_1.__assign({\n      /**\n       * tooltip 容器模板\n       * @type {String}\n       */\n      containerTpl: \"<div class=\\\"\" + CONTAINER_CLASS + \"\\\">\\n        <div class=\\\"\" + TITLE_CLASS + \"\\\"></div>\\n        <ul class=\\\"\" + LIST_CLASS + \"\\\"></ul>\\n        </div>\",\n\n      /**\n       * tooltip 列表项模板\n       * @type {String}\n       */\n      itemTpl: \"<li data-index={index}>\\n        <span style=\\\"background-color:{color};\\\" class=\\\"\" + MARKER_CLASS + \"\\\"></span>\\n        {name}<span class=\\\"\" + VALUE_CLASS + \"\\\">{value}</span></li>\",\n\n      /**\n       * tooltip html内容\n       * @type {String}\n       */\n      htmlContent: null,\n\n      /**\n       * tooltip 内容跟随鼠标移动\n       * @type {Boolean}\n       */\n      follow: true,\n\n      /**\n       * 是否允许鼠标停留在 tooltip 上，默认不允许\n       * @type {Boolean}\n       */\n      enterable: false\n    }, cfg)) || this;\n\n    var style = theme_1.default;\n    _this.style = mergeStyles(style, cfg);\n\n    _this._init_();\n\n    if (_this.get('items')) {\n      _this.render();\n    } // crosshair\n\n\n    var crosshair = _this.get('crosshairs');\n\n    if (crosshair) {\n      var plot = crosshair.type === 'rect' ? _this.get('backgroundGroup') : _this.get('frontgroundGroup');\n      var crosshairGroup = new crosshair_1.default(Util.mix({\n        plot: plot,\n        panelRange: _this.get('panelRange'),\n        canvas: _this.get('canvas')\n      }, _this.get('crosshairs')));\n      crosshairGroup.hide();\n\n      _this.set('crosshairGroup', crosshairGroup);\n    }\n\n    return _this;\n  }\n\n  HtmlTooltip.prototype._init_ = function () {\n    var containerTpl = this.get('containerTpl');\n    var outterNode = this.get('canvas').get('el').parentNode;\n    var container;\n\n    if (!this.get('htmlContent')) {\n      if (/^\\#/.test(containerTpl)) {\n        // 如果传入 dom 节点的 id\n        var id = containerTpl.replace('#', '');\n        container = document.getElementById(id);\n      } else {\n        container = domUtil.createDom(containerTpl);\n      }\n    } else {\n      container = this._getHtmlContent();\n    }\n\n    this.set('container', container);\n    domUtil.modifyCSS(container, this.style[CONTAINER_CLASS]);\n    outterNode.appendChild(container);\n    outterNode.style.position = 'relative';\n  };\n\n  HtmlTooltip.prototype.render = function () {\n    this.clear();\n\n    if (this.get('htmlContent')) {\n      var outterNode = this.get('canvas').get('el').parentNode;\n\n      var container = this._getHtmlContent();\n\n      outterNode.appendChild(container);\n      domUtil.modifyCSS(container, this.style[CONTAINER_CLASS]);\n      this.set('container', container);\n    } else {\n      this._renderTpl();\n    }\n  };\n\n  HtmlTooltip.prototype._renderTpl = function () {\n    var _this = this;\n\n    var showTitle = this.get('showTitle');\n    var titleContent = this.get('titleContent');\n    var container = this.get('container');\n    var titleDom = find(container, TITLE_CLASS);\n    var listDom = find(container, LIST_CLASS);\n    var items = this.get('items');\n\n    if (titleDom && showTitle) {\n      domUtil.modifyCSS(titleDom, this.style[TITLE_CLASS]);\n      titleDom.innerHTML = titleContent;\n    }\n\n    if (listDom) {\n      domUtil.modifyCSS(listDom, this.style[LIST_CLASS]);\n      Util.each(items, function (item, index) {\n        listDom.appendChild(_this._addItem(item, index));\n      });\n    }\n  };\n\n  HtmlTooltip.prototype.clear = function () {\n    var container = this.get('container');\n\n    if (container && this.get('htmlContent')) {\n      container.remove();\n    } else {\n      var titleDom = find(container, TITLE_CLASS);\n      var listDom = find(container, LIST_CLASS);\n\n      if (titleDom) {\n        titleDom.innerHTML = '';\n      }\n\n      if (listDom) {\n        listDom.innerHTML = '';\n      }\n    }\n  };\n\n  HtmlTooltip.prototype.show = function () {\n    var container = this.get('container');\n    container.style.visibility = 'visible';\n    container.style.display = 'block';\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.show();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.show();\n    }\n\n    _super.prototype.show.call(this);\n\n    this.get('canvas').draw();\n  };\n\n  HtmlTooltip.prototype.hide = function () {\n    var container = this.get('container');\n    container.style.visibility = 'hidden';\n    container.style.display = 'none';\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.hide();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.hide();\n    }\n\n    _super.prototype.hide.call(this);\n\n    this.get('canvas').draw();\n  };\n\n  HtmlTooltip.prototype.destroy = function () {\n    var container = this.get('container');\n    var containerTpl = this.get('containerTpl');\n\n    if (container && !/^\\#/.test(containerTpl)) {\n      container.parentNode.removeChild(container);\n    }\n\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.destroy();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.remove();\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  HtmlTooltip.prototype._addItem = function (item, index) {\n    var itemTpl = this.get('itemTpl'); // TODO: 有可能是个回调函数\n\n    var itemDiv = Util.substitute(itemTpl, Util.mix( // @ts-ignore\n    {\n      // @ts-ignore\n      index: index\n    }, item));\n    var itemDOM = domUtil.createDom(itemDiv);\n    domUtil.modifyCSS(itemDOM, this.style[LIST_ITEM_CLASS]);\n    var markerDom = find(itemDOM, MARKER_CLASS);\n\n    if (markerDom) {\n      domUtil.modifyCSS(markerDom, this.style[MARKER_CLASS]);\n    }\n\n    var valueDom = find(itemDOM, VALUE_CLASS);\n\n    if (valueDom) {\n      domUtil.modifyCSS(valueDom, this.style[VALUE_CLASS]);\n    }\n\n    return itemDOM;\n  };\n\n  HtmlTooltip.prototype._getHtmlContent = function () {\n    var htmlContent = this.get('htmlContent');\n    var title = this.get('titleContent');\n    var items = this.get('items');\n    var html = htmlContent(title, items);\n    var ele;\n\n    if (Util.isElement(html)) {\n      ele = html;\n    } else {\n      ele = domUtil.createDom(html);\n    }\n\n    return ele;\n  };\n\n  HtmlTooltip.prototype.setPosition = function (oldx, oldy, target) {\n    // todo any 是 Shape\n    var x = oldx;\n    var y = oldy;\n    var container = this.get('container');\n    var outterNode = this.get('canvas').get('el');\n    var viewWidth = domUtil.getWidth(outterNode);\n    var viewHeight = domUtil.getHeight(outterNode);\n    var containerWidth = container.clientWidth;\n    var containerHeight = container.clientHeight;\n    var endx = x;\n    var endy = y;\n    var position;\n    var prePosition = this.get('prePosition') || {\n      x: 0,\n      y: 0\n    }; // @2019-01-30 by blue.lb 由于display:none的元素获取clientWidth和clientHeight的值为0，这里强制显隐一下，其实直接在show和hide中去掉display设置最好，猜测为了更好的兼容浏览器\n\n    if (!containerWidth) {\n      container.style.display = 'block';\n      containerWidth = container.clientWidth;\n      containerHeight = container.clientHeight;\n      container.style.display = 'none';\n    }\n\n    if (this.get('enterable')) {\n      y = y - container.clientHeight / 2;\n      position = [x, y];\n\n      if (prePosition && x - prePosition.x > 0) {\n        // 留 1px 防止鼠标点击事件无法在画布上触发\n        x -= container.clientWidth + 1;\n      } else {\n        x += 1;\n      }\n    } else if (this.get('position')) {\n      position = position_1.defaultPosition(x, y, this.get('position'), containerWidth, containerHeight, target);\n      x = position[0];\n      y = position[1];\n    } else {\n      position = position_1.constraintPositionInBoundary(x, y, containerWidth, containerHeight, viewWidth, viewHeight);\n      x = position[0];\n      y = position[1];\n    }\n\n    if (this.get('inPanel')) {\n      // tooltip 必须限制在绘图区域内\n      var panelRange = this.get('panelRange');\n      var panelGroup = this.get('panelGroup');\n      var panelClip = panelGroup.attr('clip');\n      position = position_1.constraintPositionInPanel(x, y, containerWidth, containerHeight, panelClip ? panelClip.getBBox() : panelRange, this.get('enterable'));\n      x = position[0];\n      y = position[1];\n    }\n\n    var markerItems = this.get('markerItems');\n\n    if (!Util.isEmpty(markerItems)) {\n      endx = markerItems[0].x;\n      endy = markerItems[0].y;\n    }\n\n    this.set('prePosition', position); // 记录上次的位置\n\n    var follow = this.get('follow');\n\n    if (follow) {\n      container.style.left = x + \"px\";\n      container.style.top = y + \"px\";\n    }\n\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      var items = this.get('items');\n      crosshairGroup.setPosition(endx, endy, items);\n    }\n\n    _super.prototype.setPosition.call(this, x, y);\n  };\n\n  return HtmlTooltip;\n}(base_1.default);\n\nexports.default = HtmlTooltip;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar Util = require(\"@antv/util\");\n\nvar base_1 = require(\"../base\");\n\nvar Tooltip =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Tooltip, _super);\n\n  function Tooltip(cfg) {\n    return _super.call(this, tslib_1.__assign({\n      /**\n       * 右下角坐标\n       */\n      x: 0,\n\n      /**\n       * y 右下角坐标\n       */\n      y: 0,\n\n      /**\n       * tooltip 记录项\n       */\n      items: null,\n\n      /**\n       * tooltip 标题\n       * @type {Array}\n       */\n      titleContent: null,\n\n      /**\n       * 是否展示 title\n       * @type {Boolean}\n       */\n      showTitle: true,\n\n      /**\n       * 视图范围\n       * @type {Object}\n       */\n      panelRange: null,\n\n      /**\n       * 将 tooltip 展示在指定区域内\n       * @type {Boolean}\n       */\n      inPanel: true,\n\n      /**\n       * tooltip 辅助线配置\n       * @type {Object}\n       */\n      crosshairs: null\n    }, cfg)) || this;\n  }\n\n  Tooltip.prototype.isContentChange = function (title, items) {\n    var titleContent = this.get('titleContent');\n    var lastItems = this.get('items');\n    var isChanged = !(title === titleContent && lastItems.length === items.length);\n\n    if (!isChanged) {\n      Util.each(items, function (item, index) {\n        var preItem = lastItems[index];\n        var keys = Object.keys(item);\n        isChanged = keys.some(function (key) {\n          return !Util.isObject(item[key]) && item[key] !== preItem[key];\n        });\n\n        if (isChanged) {\n          return false;\n        }\n      });\n    }\n\n    return isChanged;\n  };\n\n  Tooltip.prototype.setContent = function (title, items) {\n    this.set('items', items);\n    this.set('titleContent', title);\n    this.render();\n    return this;\n  };\n\n  Tooltip.prototype.setPosition = function (x, y, target) {\n    this.set('x', x);\n    this.set('y', y);\n  };\n\n  Tooltip.prototype.setMarkers = function (markerItems, markerCfg) {\n    var markerGroup = this.get('markerGroup');\n    var frontgroundGroup = this.get('frontgroundGroup');\n\n    if (!markerGroup) {\n      markerGroup = frontgroundGroup.addGroup({\n        zIndex: 1,\n        capture: false\n      });\n      this.set('markerGroup', markerGroup);\n    } else {\n      markerGroup.clear();\n    }\n\n    Util.each(markerItems, function (item) {\n      markerGroup.addShape('marker', {\n        color: item.color,\n        attrs: Util.mix({\n          fill: item.color,\n          symbol: 'circle',\n          shadowColor: item.color\n        }, markerCfg, {\n          x: item.x,\n          y: item.y\n        })\n      });\n    });\n    this.set('markerItems', markerItems);\n  };\n\n  Tooltip.prototype.clearMarkers = function () {\n    var markerGroup = this.get('markerGroup');\n    markerGroup && markerGroup.clear();\n  };\n\n  Tooltip.prototype.render = function () {};\n\n  Tooltip.prototype.clear = function () {};\n\n  Tooltip.prototype.show = function () {\n    this.set('visible', true);\n  };\n\n  Tooltip.prototype.hide = function () {\n    this.set('visible', false);\n  };\n\n  return Tooltip;\n}(base_1.default);\n\nexports.default = Tooltip;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar Util = require(\"@antv/util\");\n\nvar base_1 = require(\"../base\");\n\nvar Crosshair =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Crosshair, _super);\n\n  function Crosshair(cfg) {\n    var _this = _super.call(this, tslib_1.__assign({\n      /**\n       * crosshair的类型\n       */\n      type: null,\n\n      /**\n       * 画在哪层视图\n       */\n      plot: null,\n\n      /**\n       * x轴上，移动到位置的偏移量\n       */\n      panelRange: null,\n\n      /**\n       * 默认rect crosshair样式\n       * @type {Object}\n       */\n      rectStyle: {\n        fill: '#CCD6EC',\n        opacity: 0.3\n      },\n\n      /**\n       * 默认line crosshair样式\n       */\n      lineStyle: {\n        stroke: 'rgba(0, 0, 0, 0.25)',\n        lineWidth: 1\n      },\n      isTransposed: false\n    }, cfg)) || this;\n\n    _this._init_();\n\n    _this.render();\n\n    return _this;\n  }\n\n  Crosshair.prototype._init_ = function () {\n    var plot = this.get('plot');\n    var group = plot.addGroup();\n    this.set('container', group);\n  };\n\n  Crosshair.prototype._addLineShape = function (attrs, type) {\n    var container = this.get('container');\n    var shape = container.addShape('line', {\n      attrs: attrs,\n      capture: false\n    }); // shape.hide();\n\n    this.set(\"crossLineShape\" + type, shape);\n    return shape;\n  };\n\n  Crosshair.prototype._renderHorizontalLine = function (canvas, panelRange) {\n    // todo\n    var style = Util.mix(this.get('lineStyle'), this.get('style'));\n    var attrs = Util.mix({\n      x1: panelRange ? panelRange.bl.x : canvas.get('width'),\n      y1: 0,\n      x2: panelRange ? panelRange.br.x : 0,\n      y2: 0\n    }, style);\n\n    this._addLineShape(attrs, 'X');\n  };\n\n  Crosshair.prototype._renderVerticalLine = function (canvas, panelRange) {\n    // todo\n    var style = Util.mix(this.get('lineStyle'), this.get('style'));\n    var attrs = Util.mix({\n      x1: 0,\n      y1: panelRange ? panelRange.bl.y : canvas.get('height'),\n      x2: 0,\n      y2: panelRange ? panelRange.tl.y : 0\n    }, style);\n\n    this._addLineShape(attrs, 'Y');\n  };\n\n  Crosshair.prototype._renderBackground = function (canvas, panelRange) {\n    var style = Util.mix(this.get('rectStyle'), this.get('style'));\n    var container = this.get('container');\n    var attrs = Util.mix({\n      x: panelRange ? panelRange.tl.x : 0,\n      y: panelRange ? panelRange.tl.y : canvas.get('height'),\n      width: panelRange ? panelRange.br.x - panelRange.bl.x : canvas.get('width'),\n      height: panelRange ? Math.abs(panelRange.tl.y - panelRange.bl.y) : canvas.get('height')\n    }, style);\n    var shape = container.addShape('rect', {\n      attrs: attrs,\n      capture: false\n    }); // shape.hide();\n\n    this.set('crosshairsRectShape', shape);\n    return shape;\n  };\n\n  Crosshair.prototype._updateRectShape = function (items) {\n    var offset;\n    var crosshairsRectShape = this.get('crosshairsRectShape');\n    var isTransposed = this.get('isTransposed');\n    var firstItem = items[0];\n    var lastItem = items[items.length - 1];\n    var dim = isTransposed ? 'y' : 'x';\n    var attr = isTransposed ? 'height' : 'width';\n    var startDim = firstItem[dim];\n\n    if (items.length > 1 && firstItem[dim] > lastItem[dim]) {\n      startDim = lastItem[dim];\n    }\n\n    if (this.get('width')) {\n      // 用户定义了 width\n      crosshairsRectShape.attr(dim, startDim - this.get('crosshairs').width / 2);\n      crosshairsRectShape.attr(attr, this.get('width'));\n    } else {\n      if (Util.isArray(firstItem.point[dim]) && !firstItem.size) {\n        // 直方图\n        var width = firstItem.point[dim][1] - firstItem.point[dim][0];\n        crosshairsRectShape.attr(dim, firstItem.point[dim][0]);\n        crosshairsRectShape.attr(attr, width);\n      } else {\n        offset = 3 * firstItem.size / 4;\n        crosshairsRectShape.attr(dim, startDim - offset);\n\n        if (items.length === 1) {\n          crosshairsRectShape.attr(attr, 3 * firstItem.size / 2);\n        } else {\n          crosshairsRectShape.attr(attr, Math.abs(lastItem[dim] - firstItem[dim]) + 2 * offset);\n        }\n      }\n    }\n  };\n\n  Crosshair.prototype.render = function () {\n    var canvas = this.get('canvas');\n    var panelRange = this.get('panelRange');\n    var isTransposed = this.get('isTransposed');\n    this.clear();\n\n    switch (this.get('type')) {\n      case 'x':\n        this._renderHorizontalLine(canvas, panelRange);\n\n        break;\n\n      case 'y':\n        this._renderVerticalLine(canvas, panelRange);\n\n        break;\n\n      case 'cross':\n        this._renderHorizontalLine(canvas, panelRange);\n\n        this._renderVerticalLine(canvas, panelRange);\n\n        break;\n\n      case 'rect':\n        this._renderBackground(canvas, panelRange);\n\n        break;\n\n      default:\n        isTransposed ? this._renderHorizontalLine(canvas, panelRange) : this._renderVerticalLine(canvas, panelRange);\n    }\n  };\n\n  Crosshair.prototype.show = function () {\n    var container = this.get('container'); // super.show();\n\n    container.show();\n  };\n\n  Crosshair.prototype.hide = function () {\n    var container = this.get('container'); // super.hide();\n\n    container.hide();\n  };\n\n  Crosshair.prototype.clear = function () {\n    var container = this.get('container');\n    this.set('crossLineShapeX', null);\n    this.set('crossLineShapeY', null);\n    this.set('crosshairsRectShape', null); // super.clear();\n\n    container.clear();\n  };\n\n  Crosshair.prototype.destroy = function () {\n    var container = this.get('container');\n\n    _super.prototype.destroy.call(this);\n\n    container.remove();\n  };\n\n  Crosshair.prototype.setPosition = function (x, y, items) {\n    var crossLineShapeX = this.get('crossLineShapeX');\n    var crossLineShapeY = this.get('crossLineShapeY');\n    var crosshairsRectShape = this.get('crosshairsRectShape');\n\n    if (crossLineShapeY && !crossLineShapeY.get('destroyed')) {\n      // 第一次进入时，画布需要单独绘制，所以需要先设定corss的位置\n      crossLineShapeY.move(x, 0);\n    }\n\n    if (crossLineShapeX && !crossLineShapeX.get('destroyed')) {\n      crossLineShapeX.move(0, y);\n    }\n\n    if (crosshairsRectShape && !crosshairsRectShape.get('destroyed')) {\n      this._updateRectShape(items);\n    }\n  };\n\n  return Crosshair;\n}(base_1.default);\n\nexports.default = Crosshair;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar GAP = 20;\n\nfunction defaultPosition(x, y, position, containerWidth, containerHeight, target) {\n  var newx = x;\n  var newy = y; // todo any 是 Shape\n\n  var rectWidth = 0;\n  var rectHeight = 0;\n  var gap = 20;\n\n  if (target) {\n    var rect = target.getBBox();\n    rectWidth = rect.width;\n    rectHeight = rect.height;\n    newx = rect.x;\n    newy = rect.y;\n    gap = 5;\n  }\n\n  switch (position) {\n    case 'inside':\n      newx = newx + rectWidth / 2 - containerWidth / 2;\n      newy = newy + rectHeight / 2 - containerHeight / 2;\n      break;\n\n    case 'top':\n      newx = newx + rectWidth / 2 - containerWidth / 2;\n      newy = newy - containerHeight - gap;\n      break;\n\n    case 'left':\n      newx = newx - containerWidth - gap;\n      newy = newy + rectHeight / 2 - containerHeight / 2;\n      break;\n\n    case 'right':\n      newx = newx + rectWidth + gap;\n      newy = newy + rectHeight / 2 - containerHeight / 2;\n      break;\n\n    case 'bottom':\n    default:\n      newx = newx + rectWidth / 2 - containerWidth / 2;\n      newy = newy + rectHeight + gap;\n      break;\n  }\n\n  return [newx, newy];\n}\n\nexports.defaultPosition = defaultPosition;\n\nfunction constraintPositionInBoundary(x, y, width, height, viewWidth, viewHeight) {\n  var newx = x;\n  var newy = y;\n\n  if (newx + width + GAP > viewWidth) {\n    newx -= width + GAP;\n    newx = newx < 0 ? 0 : newx;\n  } else if (newx + GAP < 0) {\n    newx = GAP;\n  } else {\n    newx += GAP;\n  }\n\n  if (newy + height + GAP > viewHeight) {\n    newy -= height + GAP;\n    newy = newy < 0 ? 0 : newy;\n  } else if (newy + GAP < 0) {\n    newy = GAP;\n  } else {\n    newy += GAP;\n  }\n\n  return [newx, newy];\n}\n\nexports.constraintPositionInBoundary = constraintPositionInBoundary;\n\nfunction constraintPositionInPanel(x, y, width, height, panelRange, onlyHorizontal) {\n  var newx = x;\n  var newy = y;\n\n  if (newx + width > panelRange.tr.x) {\n    newx -= width + 2 * GAP;\n  }\n\n  if (newx < panelRange.tl.x) {\n    newx = panelRange.tl.x;\n  }\n\n  if (!onlyHorizontal) {\n    if (newy + height > panelRange.bl.y) {\n      newy -= height + 2 * GAP;\n    }\n\n    if (newy < panelRange.tl.y) {\n      newy = panelRange.tl.y;\n    }\n  }\n\n  return [newx, newy];\n}\n\nexports.constraintPositionInPanel = constraintPositionInPanel;"],"sourceRoot":""}